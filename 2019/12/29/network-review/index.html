<!DOCTYPE html>
<html>
    <!-- title -->




<head>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" >
    <meta name="author" content="Mengzelev">
    <meta name="renderer" content="webkit">
    <meta name="copyright" content="Mengzelev">
    <meta name="keywords" content="Mengzelev's blog | Mengzelev">
    <meta name="description" content="nothing to write">
    <meta name="Cache-Control" content="no-cache">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <title>计算机网络-期末复习 · Mengzelev&#39;s Blog</title>
    <style type="text/css">
    @font-face {
        font-family: 'Oswald-Regular';
        src: url("/font/Oswald-Regular.ttf");
    }

    body {
        margin: 0;
    }

    header,
    footer,
    .back-top,
    .sidebar,
    .container,
    .site-intro-meta,
    .toc-wrapper {
        display: none;
    }

    .site-intro {
        position: relative;
        z-index: 3;
        width: 100%;
        /* height: 50vh; */
        overflow: hidden;
    }

    .site-intro-placeholder {
        position: absolute;
        z-index: -2;
        top: 0;
        left: 0;
        width: calc(100% + 300px);
        height: 100%;
        background: repeating-linear-gradient(-45deg, #444 0, #444 80px, #333 80px, #333 160px);
        background-position: center center;
        transform: translate3d(-226px, 0, 0);
        animation: gradient-move 2.5s ease-out 0s 1;
    }

    @keyframes gradient-move {
        0% {
            transform: translate3d(-226px, 0, 0);
        }
        100% {
            transform: translate3d(0, 0, 0);
        }
    }

</style>

    <link rel="preload" href= /css/style.css?v=20180721 as="style" onload="this.onload=null;this.rel='stylesheet'" />
    <link rel="stylesheet" href= /css/mobile.css?v=20180721 media="(max-width: 980px)">
    
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'" />
    
    <!-- /*! loadCSS. [c]2017 Filament Group, Inc. MIT License */
/* This file is meant as a standalone workflow for
- testing support for link[rel=preload]
- enabling async CSS loading in browsers that do not support rel=preload
- applying rel preload css once loaded, whether supported or not.
*/ -->
<script>
(function( w ){
	"use strict";
	// rel=preload support test
	if( !w.loadCSS ){
		w.loadCSS = function(){};
	}
	// define on the loadCSS obj
	var rp = loadCSS.relpreload = {};
	// rel=preload feature support test
	// runs once and returns a function for compat purposes
	rp.support = (function(){
		var ret;
		try {
			ret = w.document.createElement( "link" ).relList.supports( "preload" );
		} catch (e) {
			ret = false;
		}
		return function(){
			return ret;
		};
	})();

	// if preload isn't supported, get an asynchronous load by using a non-matching media attribute
	// then change that media back to its intended value on load
	rp.bindMediaToggle = function( link ){
		// remember existing media attr for ultimate state, or default to 'all'
		var finalMedia = link.media || "all";

		function enableStylesheet(){
			link.media = finalMedia;
		}

		// bind load handlers to enable media
		if( link.addEventListener ){
			link.addEventListener( "load", enableStylesheet );
		} else if( link.attachEvent ){
			link.attachEvent( "onload", enableStylesheet );
		}

		// Set rel and non-applicable media type to start an async request
		// note: timeout allows this to happen async to let rendering continue in IE
		setTimeout(function(){
			link.rel = "stylesheet";
			link.media = "only x";
		});
		// also enable media after 3 seconds,
		// which will catch very old browsers (android 2.x, old firefox) that don't support onload on link
		setTimeout( enableStylesheet, 3000 );
	};

	// loop through link elements in DOM
	rp.poly = function(){
		// double check this to prevent external calls from running
		if( rp.support() ){
			return;
		}
		var links = w.document.getElementsByTagName( "link" );
		for( var i = 0; i < links.length; i++ ){
			var link = links[ i ];
			// qualify links to those with rel=preload and as=style attrs
			if( link.rel === "preload" && link.getAttribute( "as" ) === "style" && !link.getAttribute( "data-loadcss" ) ){
				// prevent rerunning on link
				link.setAttribute( "data-loadcss", true );
				// bind listeners to toggle media back
				rp.bindMediaToggle( link );
			}
		}
	};

	// if unsupported, run the polyfill
	if( !rp.support() ){
		// run once at least
		rp.poly();

		// rerun poly on an interval until onload
		var run = w.setInterval( rp.poly, 500 );
		if( w.addEventListener ){
			w.addEventListener( "load", function(){
				rp.poly();
				w.clearInterval( run );
			} );
		} else if( w.attachEvent ){
			w.attachEvent( "onload", function(){
				rp.poly();
				w.clearInterval( run );
			} );
		}
	}


	// commonjs
	if( typeof exports !== "undefined" ){
		exports.loadCSS = loadCSS;
	}
	else {
		w.loadCSS = loadCSS;
	}
}( typeof global !== "undefined" ? global : this ) );
</script>

    <link rel="icon" href= "/assets/moe.ico" />
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/webfontloader@1.6.28/webfontloader.min.js" as="script" />
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js" as="script" />
    <link rel="preload" href="/scripts/main.js" as="script" />
    <link rel="preload" as="font" href="/font/Oswald-Regular.ttf" crossorigin>
    <link rel="preload" as="font" href="https://at.alicdn.com/t/font_327081_1dta1rlogw17zaor.woff" crossorigin>
    
    <!-- fancybox -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" defer></script>
    <!-- 百度统计  -->
    
    <!-- 谷歌统计  --><!-- hexo-inject:begin --><!-- hexo-inject:end -->
    
</head>

    
        <body class="post-body">
    
    
<!-- hexo-inject:begin --><!-- hexo-inject:end --><header class="header">

    <div class="read-progress"></div>
    <div class="header-sidebar-menu">&#xe775;</div>
    <!-- post页的toggle banner  -->
    
    <div class="banner">
            <div class="blog-title">
                <a href="/" >Mengzelev&#39;s Blog</a>
            </div>
            <div class="post-title">
                <a href="#" class="post-name">计算机网络-期末复习</a>
            </div>
    </div>
    
    <a class="home-link" href=/>Mengzelev's Blog</a>
</header>
    <div class="wrapper">
        <div class="site-intro" style=








height:50vh;

>
    
    <!-- 主页  -->
    
    
    <!-- 404页  -->
            
    <div class="site-intro-placeholder"></div>
    <div class="site-intro-img" style="background-image: url(/intro/hinata.jpg)"></div>
    <div class="site-intro-meta">
        <!-- 标题  -->
        <h1 class="intro-title">
            <!-- 主页  -->
            
            计算机网络-期末复习
            <!-- 404 -->
            
        </h1>
        <!-- 副标题 -->
        <p class="intro-subtitle">
            <!-- 主页副标题  -->
            
            
            <!-- 404 -->
            
        </p>
        <!-- 文章页meta -->
        
            <div class="post-intros">
                <!-- 文章页标签  -->
                
                    <div class= post-intro-tags >
    
        <a class="post-tag" href="javascript:void(0);" data-tags = "notes">notes</a>
    
</div>
                
                
                    <div class="post-intro-read">
                        <span>Word count: <span class="post-count">19,914</span> / Reading time: <span class="post-count">70 min</span></span>
                    </div>
                
                <div class="post-intro-meta">
                    <span class="post-intro-calander iconfont-archer">&#xe676;</span>
                    <span class="post-intro-time">2019/12/29</span>
                    
                    <span id="busuanzi_container_page_pv" class="busuanzi-pv">
                        <span class="iconfont-archer">&#xe602;</span>
                        <span id="busuanzi_value_page_pv"></span>
                    </span>
                    
                    <span class="shareWrapper">
                        <span class="iconfont-archer shareIcon">&#xe71d;</span>
                        <span class="shareText">Share</span>
                        <ul class="shareList">
                            <li class="iconfont-archer share-qr" data-type="qr">&#xe75b;
                                <div class="share-qrcode"></div>
                            </li>
                            <li class="iconfont-archer" data-type="weibo">&#xe619;</li>
                            <li class="iconfont-archer" data-type="qzone">&#xe62e;</li>
                            <li class="iconfont-archer" data-type="twitter">&#xe634;</li>
                            <li class="iconfont-archer" data-type="facebook">&#xe67a;</li>
                        </ul>
                    </span>
                </div>
            </div>
        
    </div>
</div>
        <script>
 
  // get user agent
  var browser = {
    versions: function () {
      var u = window.navigator.userAgent;
      return {
        userAgent: u,
        trident: u.indexOf('Trident') > -1, //IE内核
        presto: u.indexOf('Presto') > -1, //opera内核
        webKit: u.indexOf('AppleWebKit') > -1, //苹果、谷歌内核
        gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') == -1, //火狐内核
        mobile: !!u.match(/AppleWebKit.*Mobile.*/), //是否为移动终端
        ios: !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/), //ios终端
        android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1, //android终端或者uc浏览器
        iPhone: u.indexOf('iPhone') > -1 || u.indexOf('Mac') > -1, //是否为iPhone或者安卓QQ浏览器
        iPad: u.indexOf('iPad') > -1, //是否为iPad
        webApp: u.indexOf('Safari') == -1, //是否为web应用程序，没有头部与底部
        weixin: u.indexOf('MicroMessenger') == -1, //是否为微信浏览器
        uc: u.indexOf('UCBrowser') > -1 //是否为android下的UC浏览器
      };
    }()
  }
  console.log("userAgent:" + browser.versions.userAgent);

  // callback
  function fontLoaded() {
    console.log('font loaded');
    if (document.getElementsByClassName('site-intro-meta')) {
      document.getElementsByClassName('intro-title')[0].classList.add('intro-fade-in');
      document.getElementsByClassName('intro-subtitle')[0].classList.add('intro-fade-in');
      var postIntros = document.getElementsByClassName('post-intros')[0]
      if (postIntros) {
        postIntros.classList.add('post-fade-in');
      }
    }
  }

  // UC不支持跨域，所以直接显示
  function asyncCb(){
    if (browser.versions.uc) {
      console.log("UCBrowser");
      fontLoaded();
    } else {
      WebFont.load({
        custom: {
          families: ['Oswald-Regular']
        },
        loading: function () {  //所有字体开始加载
          // console.log('loading');
        },
        active: function () {  //所有字体已渲染
          fontLoaded();
        },
        inactive: function () { //字体预加载失败，无效字体或浏览器不支持加载
          console.log('inactive: timeout');
          fontLoaded();
        },
        timeout: 5000 // Set the timeout to two seconds
      });
    }
  }

  function asyncErr(){
    console.warn('script load from CDN failed, will load local script')
  }

  // load webfont-loader async, and add callback function
  function async(u, cb, err) {
    var d = document, t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
    o.src = u;
    if (cb) { o.addEventListener('load', function (e) { cb(null, e); }, false); }
    if (err) { o.addEventListener('error', function (e) { err(null, e); }, false); }
    s.parentNode.insertBefore(o, s);
  }

  var asyncLoadWithFallBack = function(arr, success, reject) {
      var currReject = function(){
        reject()
        arr.shift()
        if(arr.length)
          async(arr[0], success, currReject)
        }

      async(arr[0], success, currReject)
  }

  asyncLoadWithFallBack([
    "https://cdn.jsdelivr.net/npm/webfontloader@1.6.28/webfontloader.min.js", 
    "https://cdn.bootcss.com/webfont/1.6.28/webfontloader.js",
    "/lib/webfontloader.min.js"
  ], asyncCb, asyncErr)
</script>        
        <img class="loading" src="/assets/loading.svg" style="display: block; margin: 6rem auto 0 auto; width: 6rem; height: 6rem;" />
        <div class="container container-unloaded">
            <main class="main post-page">
    <article class="article-entry">
        <h1 id="Ch1-计算机网络和因特网"><a href="#Ch1-计算机网络和因特网" class="headerlink" title="Ch1 计算机网络和因特网"></a>Ch1 计算机网络和因特网</h1><h2 id="1-1-什么是因特网"><a href="#1-1-什么是因特网" class="headerlink" title="1.1 什么是因特网"></a>1.1 什么是因特网</h2><h3 id="1-1-1-具体构成描述"><a href="#1-1-1-具体构成描述" class="headerlink" title="1.1.1 具体构成描述"></a>1.1.1 具体构成描述</h3><ul>
<li>因特网：世界范围的计算机网络，一个互联了遍历全世界的数以亿计的计算设备的网络。</li>
<li>连接到因特网的设备一般称为<strong>主机（host）</strong>或<strong>端系统（end system）</strong>，端系统通过通信链路（communication link）和分组交换机（packet switch）连接到一起。</li>
<li>链路的<strong>传输速率</strong>以比特/秒度量（bit/s或bps）</li>
<li><strong>分组（packet）</strong>是发送端系统将数据分段，并为每段加上首部字节，由此形成的信息包。</li>
<li><strong>路由器（router）</strong>和<strong>链路层交换机（link-layer switch）</strong>是两种著名的分组交换机，它们朝着最终目的地转发分组。</li>
<li><strong>路径（route或path）</strong>：从发送端系统到接收端系统，一个分组所经历的一系列通信链路和分组交换机。</li>
<li>端系统通过<strong>因特网服务提供商（Internet service provider，ISP）</strong>接入因特网。</li>
<li><strong>TCP</strong>（传输控制协议）和<strong>IP</strong>（网际控制协议）协议是因特网中两个最为重要的协议，后者定义了在路由器和端系统之间发送和接收的分组格式。因特网的主要协议统称为<strong>TCP/IP</strong>。</li>
<li><strong>因特网标准</strong>由<strong>因特网工程任务组（IETF）</strong>研发，IETF的标准文档称为<strong>请求评论（RFC）</strong></li>
</ul>
<h3 id="1-1-2-服务描述"><a href="#1-1-2-服务描述" class="headerlink" title="1.1.2 服务描述"></a>1.1.2 服务描述</h3><ul>
<li><strong>分布式应用程序</strong>：涉及多台相互交换数据的端系统的应用程序。</li>
<li><strong>套接字接口</strong>：与因特网相连的端系统提供，规定了端系统上的程序 请求因特网基础设施 向另一个端系统上程序 交付数据的方式</li>
</ul>
<h3 id="1-1-3-协议"><a href="#1-1-3-协议" class="headerlink" title="1.1.3 协议"></a>1.1.3 协议</h3><ul>
<li><strong>协议（protocol）</strong>定义了在两个或多个通信实体之间交换的<strong>报文格式和次序</strong>，以及报文发送和/或接收一条报文或其它事件所采取的动作。</li>
</ul>
<h2 id="1-2-网络边缘"><a href="#1-2-网络边缘" class="headerlink" title="1.2 网络边缘"></a>1.2 网络边缘</h2><ul>
<li>因特网的边缘：端系统（=主机）</li>
<li>主机可以划分为客户和服务器两类</li>
<li>P2S模型<ul>
<li>客户端: 发送请求, 接受服务</li>
<li>服务器: 响应请求, 提供服务, 始终在线, 性能更强</li>
</ul>
</li>
<li>P2P模型<ul>
<li>无专用服务器, 每设备既是客户端也是服务器</li>
</ul>
</li>
</ul>
<h3 id="1-2-1-接入网"><a href="#1-2-1-接入网" class="headerlink" title="1.2.1 接入网"></a>1.2.1 接入网</h3><ul>
<li><strong>接入网</strong>：将端系统物理连接到其<strong>边缘路由器</strong>的网络<ul>
<li>边缘路由器：端系统到任何其他端系统的路径上的第一台路由器</li>
</ul>
</li>
<li>家庭接入：DSL、电缆、FTTH、拨号和卫星（Maxwell更详细）<ul>
<li>宽带住宅接入：数字用户线（DSL）和电缆</li>
<li>DSL：用户的本地电话公司也是它的ISP；调制解调器使用现有电话线；FDM；下行信道比上行信道快；</li>
<li>电缆因特网接入：利用有线电视公司现有基础设施；电缆调制解调器；下行信道比上行信道快；重要特征：共享广播媒体</li>
<li>光纤到户（FTTH）：从本地中心局直接到家庭提供一条光纤路径；主动光纤网络AONv.s.被动光纤网络PON</li>
<li>卫星链路：超过1Mbps</li>
<li>拨号：电话线接入ISP，慢的一比（56kbps）</li>
</ul>
</li>
<li>企业(家庭)接入<ul>
<li>LAN<ul>
<li>介质: 双绞线</li>
<li>拓扑: 设备接入以太网交换机, 通过路由器接入因特网</li>
<li>速率: 10Mbps 100Mbps, 1Gbps, 10Gbps</li>
</ul>
</li>
<li>WiFi(802.11b/g/ac)<ul>
<li>11Mbps, 54Mbps, 100Mbps+</li>
<li>用户需位于接入点的几十米范围内</li>
</ul>
</li>
</ul>
</li>
<li>广域无线接入: 通信运营商<ul>
<li>应用与蜂窝移动电话相同的无线基础设施，蜂窝网提供商运营的基站</li>
<li>与WiFi的不同：用户仅需要距离基站数万米内</li>
<li>3G: 1Mbps</li>
<li>4G LTE（长期演进） / WiMAX(淘汰): 10Mbps+</li>
<li>5G: 20Gbps?</li>
</ul>
</li>
</ul>
<h3 id="1-2-2-物理媒体"><a href="#1-2-2-物理媒体" class="headerlink" title="1.2.2 物理媒体"></a>1.2.2 物理媒体</h3><ul>
<li><strong>物理媒体（physical medium）</strong>传播电磁波或光脉冲来发送比特。</li>
<li>分为两类：导引型媒体和非导引型媒体</li>
<li>导引型媒体：电波沿固体媒体前行，如光缆、双绞铜线（最便宜且使用最为普遍）或同轴电缆（导引型共享媒体）</li>
<li>非导引型媒体：在空气或外层空间中传播，如无线局域网或数字卫星频道。陆地无线电信道、卫星无线电信道。</li>
</ul>
<h2 id="1-3-网络核心"><a href="#1-3-网络核心" class="headerlink" title="1.3 网络核心"></a>1.3 网络核心</h2><ul>
<li>网络核心：由互联因特网端系统的分组交换机和链路构成的网状网络。</li>
<li>分组以等于该链路最大传输速率的速度传输通过通信链路。若某源端系统或分组交换机经过一条链路发送一个L比特的分组，链路的传输速率为R比特/秒，则传输该分组的时间为L/R秒。<ul>
<li><strong>分组交换</strong>：多数分组交换机在链路的输入端使用<strong>存储转发传输（store-and-forward transmission）</strong>机制。在交换机能够开始向输出链路传输该分组的第一个比特之前，必须接收到整个分组。通过由$N$条速率均为$R$的链路组成的路径（即从源到目的地有$N-1$台路由器），从源到目的地发送一个分组，端到端时延为$$d_{端到端}=N\frac{L}{R}$$</li>
<li>排队时延和分组丢失：对于每条相连的链路，分组交换机具有一个输出缓存，用于存储路由器准备发往那条链路的分组。除了存储转发时延，分组还要承受输出缓存的<strong>排队时延</strong>。因为缓存空间大小有限，一个到达的分组可能发现该缓存已被其他等待传输的分组完全充满了。在此情况下，将出现<strong>分组丢失（丢包）（package lost）</strong>，到达的分组或已经排队的分组之一将被丢弃。</li>
<li>转发表和路由选择协议：每个端系统具有一个称为IP地址的地址。当源主机要向目的端系统发送一个分组时，源在该分组的首部中包含了目的地的IP地址。每台路由器具有一个<strong>转发表（forwarding table）</strong>，用于将目的地址映射成为输出链路。</li>
</ul>
</li>
<li>通过网络链路和交换机移动数据的两种基本方法：电路交换和分组交换。<ul>
<li>电路交换网络中，预留了端系统间通信沿路径所需要的资源（缓存、链路传输速率），而分组交换网络中不预留。当网络创建这种电路时，它也在连接期间在该网络链路上预留了恒定的传输速率，如此发送方能够以恒定速率向接收方传送数据。</li>
<li>链路中的电路通过频分复用FDM或时分复用TDM来实现。FDM中链路的频谱由跨越链路创建的所有连接所共享。在连接期间链路为每条连接专用一个频段，该频段的宽度称为带宽。对于一条TDM链路，时间被分为固定区间的帧，每帧被划分为固定数量的时隙。</li>
<li>分组交换不适合实时服务如电话和视频会议，因为它的端到端时延是可变而不可预测的。分组交换比电路交换有更好的带宽共享，比电路交换更简单，实现成本更低。</li>
<li><strong>对比</strong><ul>
<li>电路: 时延固定，恒定速率，没有拥塞；</li>
<li>分组: 时延不可预测, 共享带宽更高, 更简单有效成本低</li>
<li>电路预先分配, 分组按需分配</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="1-4-分组交换网中的时延、丢包和吞吐量"><a href="#1-4-分组交换网中的时延、丢包和吞吐量" class="headerlink" title="1.4 分组交换网中的时延、丢包和吞吐量"></a>1.4 分组交换网中的时延、丢包和吞吐量</h2><ul>
<li><strong>结点总时延 = 结点处理时延 + 排队时延 + 传输时延 + 传播时延</strong><ul>
<li>处理时延：检查分组首部和决定将该分组导向何处、检查比特级别的差错等所需要的时间。处理结束后，路由器将该分组引向通往路由器B链路之前的队列。</li>
<li>排队时延：分组在链路上等待传输，取决于先期到达的正在排队等待向链路传输的分组数量。</li>
<li><strong>传输时延</strong>：当该分组到达队首时，设L比特表示该分组的长度，用R bps表示从路由器A到路由器B的链路传输速率。传输时延是L/R。这是将所有分组的比特推向链路所需的时间。</li>
<li><strong>传播时延</strong>：一个比特从链路的起点到路由器B传播所需的时间。等于两台路由器之间的距离除以传播速率，即d/s。</li>
</ul>
</li>
<li>刻画排队时延可以用<strong>流量强度（traffic intensity）</strong>。设所有分组由L比特组成，a表示分组到达队列的平均速率，R表示传输速率即从队列中推出比特的速率。则流量强度为La/R。流量工程中有一条金科玉律：设计系统时流量强度不大于1，否则队列无穷增加。随着流量强度接近1，平均排队长度变得越来越长。见P28图1-18。</li>
<li>假定在源主机和目的主机之间有N-1台路由器，此时网络无阻塞，在每台路由器和源主机上的处理时延为$d_{proc}$，每台路由器和源主机的输出速率为$R$ bps，每条链路的传播时延为$d_{prop}$，则端到端时延为$$d_{end-end} = N(d_{proc} + d_{trans} + d_{prop})$$其中有$d_{trans} = L/R$。</li>
<li>从主机A到主机B跨越计算机网络传送一个大文件，在任何时间瞬间的瞬时吞吐量是主机B接收到该文件的速率。若该文件由F比特组成，主机B接收到所有F比特用了T秒，则文件传送的平均吞吐量为F/T。</li>
</ul>
<h2 id="1-5-协议层次及服务模型"><a href="#1-5-协议层次及服务模型" class="headerlink" title="1.5 协议层次及服务模型"></a>1.5 协议层次及服务模型</h2><ul>
<li><p>因特网协议栈层次：物理层、链路层、网络层、运输层、应用层。</p>
<ul>
<li><strong>应用层</strong>：网络应用程序及它们的应用层协议存留的地方。位于应用层的信息分组称为<strong>报文（message）</strong></li>
<li><strong>运输层</strong>：在应用程序端点之间传送应用层报文。运输层分组称为<strong>报文段（segment）</strong></li>
<li><strong>网络层</strong>：负责将称为<strong>数据报（datagram）</strong>的网络层分组从一台主机移动到另一台主机</li>
<li><strong>链路层</strong>：将分组从一个结点移动到下一个结点。在每个结点，网络层将数据报下传给链路层，链路层沿着路径将数据报传递给下一结点。下个结点，链路层将数据报上传给网络层。链路层分组称为<strong>帧（frame）</strong></li>
<li><strong>物理层</strong>：将帧中的一个个比特从一个结点移动到下一个结点。</li>
</ul>
</li>
<li><p><strong>OSI模型</strong>：应用层、表示层、会话层、运输层、网络层、数据链路层和物理层。表示层：使通信的应用程序能够解释交换数据的含义。会话层：提供数据交换定界和同步功能，包括建立检查点和恢复方案的方法。</p>
</li>
<li>主机实现所有五个层次，链路层交换机实现第一层和第二层，路由器实现了一到三层。</li>
</ul>
<h2 id="1-6-面对攻击的网络"><a href="#1-6-面对攻击的网络" class="headerlink" title="1.6 面对攻击的网络"></a>1.6 面对攻击的网络</h2><ul>
<li>攻击个人电脑<ul>
<li>恶意软件<ul>
<li>大多数都是自我复制的</li>
<li><strong>病毒</strong>: 需要某种形式的用户交互来感染用户设备</li>
<li><strong>蠕虫</strong>: 无需任何明显用户交互就能进入设备</li>
<li><strong>木马</strong>: 伪装成无害程序, 吸引用户点击</li>
<li>后门: 绕过授权验证</li>
<li>广告软件: 访问弹出广告</li>
<li>间谍软件: 收集用户的输入, 记录用户活动</li>
</ul>
</li>
</ul>
</li>
<li>攻击服务器和网络基础设施<ul>
<li><strong>拒绝服务攻击DoS</strong><ul>
<li>使得服务不能由合法用户使用</li>
<li>弱点攻击: 针对易受攻击的程序或操作系统, 引发停止运行或崩溃</li>
<li>带宽洪泛: 大量发送分组到目标, 使链路拥塞</li>
<li>连接洪泛: 创建大量半开或全开的TCP连接, 耗尽资源</li>
</ul>
</li>
<li><strong>分布式DoS(DDoS)</strong><ul>
<li>攻击者控制多个源</li>
<li>僵尸网路: 攻击者用恶意软件控制大量计算机, 作为DDoS的源头等</li>
</ul>
</li>
</ul>
</li>
<li>嗅探分组<ul>
<li>分组嗅探器: 记录每个流经的分组副本的被动接收机</li>
<li>防范: 加密</li>
</ul>
</li>
<li>伪装<ul>
<li>IP欺骗: 将具有虚假源地址的分组注入因特网</li>
<li>重放攻击</li>
<li>中间人攻击</li>
<li>连接劫持</li>
<li>解决方案: 加密, 数字签名, MAC</li>
</ul>
</li>
</ul>
<h1 id="第三章"><a href="#第三章" class="headerlink" title="第三章"></a>第三章</h1><h1 id="Ch3-运输层"><a href="#Ch3-运输层" class="headerlink" title="Ch3 运输层"></a>Ch3 运输层</h1><p>运输层为运行在不同主机上的应用程序之间提供了<strong>逻辑通信</strong>功能。通过逻辑通信，运行不同进程的主机好像直接相连一样。<br>应用进程使用运输层提供的逻辑通信功能彼此发送报文，而无须考虑承载这些报文的物理基础设施的细节。</p>
<p>运输层只工作在端系统中。在端系统中，运输层协议将来自应用进程的报文移动到网络边缘（即网络层）。<br>运输层能够提供的服务常常受制于底层网络协议的服务模型（带宽时延等），但底层网络协议不可靠、非机密性的情况下，运输层也能提供可靠性和机密性。</p>
<p>UDP和TCP最基本的责任是：将两个端系统间IP的交付服务扩展为运行在端系统上的两个进程之间的交付服务。<br>将主机间交付扩展到进程间交付被称为运输层的<strong>多路复用</strong>与<strong>多路分解</strong><br>网络层：主机$\Leftrightarrow$主机<br>运输层：进程$\Leftrightarrow$进程</p>
<h2 id="多路复用和多路分解"><a href="#多路复用和多路分解" class="headerlink" title="多路复用和多路分解"></a>多路复用和多路分解</h2><p>进程使用套接字作为与网络交互数据的门户，运输层将数据交付给套接字。<br>每个套接字有唯一标识符，标识符格式取决于它是UDP还是TCP套接字。</p>
<p>每个运输层报文段中具有几个字段。<br><strong>多路分解</strong>：（拆包）将运输层报文段中的数据交付到正确的套接字<br><strong>多路复用</strong>：（打包）从源主机的不同套接字中收集数据块，并为每个数据块封上首部信息从而生成报文段，然后将报文段传递到网络层</p>
<p>套接字要有唯一标识符、每个报文段有特殊字段来只是该报文段所要交付到的套接字，特殊字段即<strong>源端口号字段&amp;目的端口号字段</strong></p>
<p>端口号</p>
<ul>
<li>16比特数，大小在0~65535</li>
<li>0~1023称为<strong>周知端口号</strong>，保留给注入HTTP（80）和FTP（21）之类的周知应用层协议</li>
<li>开发新应用程序时必须为其分配一个端口号</li>
</ul>
<h3 id="UDP的多路复用与多路分解"><a href="#UDP的多路复用与多路分解" class="headerlink" title="UDP的多路复用与多路分解"></a>UDP的多路复用与多路分解</h3><p>创建套接字时，端口号有两种产生方式：</p>
<ul>
<li>运输层自动为套接字分配一个端口号，从1024~65535内选择一个当前未被该主机中任何其他UDP端口使用的号</li>
<li>通过套接字<code>bind()</code>(Python)方法为这个UDP套接字关联一个特定的端口号<br>通常应用程序自动，服务器手动</li>
</ul>
<p>一个UDP套接字是由一个二元组全面标识的，该二元组包含一个目的IP地址和一个目的端口号。<br>因此只要两个UDP报文段具有相同的目的IP地址和目的端口号，那么这两个报文段将通过相同的目的套接字被定向到相同的目的进程。</p>
<p>源端口号用于接收方发回给发送方</p>
<h3 id="TCP的多路复用与多路分解"><a href="#TCP的多路复用与多路分解" class="headerlink" title="TCP的多路复用与多路分解"></a>TCP的多路复用与多路分解</h3><p>TCP套接字由四元组（源IP地址、源端口号、目的IP地址、目的端口号）来标识<br>与UDP不同，两个不同源IP和或源端口号的TCP报文段将被定向到两个不同的套接字，除非TCP报文段携带了初始创建连接的请求</p>
<ul>
<li>TCP服务器应用程序有一个“欢迎套接字”，在某个特定端口上等待来自TCP客户的连接建立请求</li>
<li>TCP客户创建一个套接字并发送一个连接建立请求报文段</li>
<li>一条连接建立请求只不过是一个目的端口号为12000，TCP首部的特定“连接建立位”置位的TCP报文段，这个报文段也包含一个由客户选择的源端口号</li>
<li>当运行服务器进程的计算机的主机操作系统接收到具有目的端口号为12000的入连接请求报文段后，它就定位服务器进程，该进程正在端口号12000等待接收连接。该服务器进程会创建一个新的套接字。</li>
<li>新创建的报文设置好4个标识符，之后的报文段按照这4个标识符来定向。</li>
</ul>
<p>服务器主机支持很多并行的TCP套接字，每个套接字与一个进程相联系。</p>
<p>连接套接字与进程之间并非总是有着一一对应的关系（线程</p>
<h2 id="无连接运输：UDP"><a href="#无连接运输：UDP" class="headerlink" title="无连接运输：UDP"></a>无连接运输：UDP</h2><p>发送方和接收方的运输层实体之间没有握手——无连接的</p>
<p>e.g.DNS通常使用UDP应用层协议</p>
<h3 id="UDP的优点"><a href="#UDP的优点" class="headerlink" title="UDP的优点"></a>UDP的优点</h3><ul>
<li>关于发送什么数据以及何时发送的应用层控制更为精细。<ul>
<li>实时应用通常要求最小发送速率，不希望过分地延迟报文段的传送，且能容忍一些数据丢失</li>
</ul>
</li>
<li>无须连接建立，不会引入建立连接的时延</li>
<li>无连接状态，节约存储空间，可以支持更多活跃用户。</li>
<li>分组首部开销小，TCP20字节，UDP8自己</li>
</ul>
<h3 id="UDP报文段结构"><a href="#UDP报文段结构" class="headerlink" title="UDP报文段结构"></a>UDP报文段结构</h3><p><img src="/2019/12/29/network-review/home/mengzelev/Documents/blog/blog/source/_posts/network-notes/udp.png" alt=""></p>
<ul>
<li>源端口号/目的端口号（各16比特）</li>
<li>长度（16比特）：首部+数据的字节数</li>
<li>检验和</li>
<li>应用数据</li>
</ul>
<h3 id="UDP检验和"><a href="#UDP检验和" class="headerlink" title="UDP检验和"></a>UDP检验和</h3><p>实际包括一些IP首部字段，此处忽略</p>
<p>16比特字的反码运算，求和时遇到的任何溢出都被回卷（加到末尾去）<br>详见作业题CH6 P3</p>
<p>端到端原则：如果端到端传输服务要提供差错检测，UDP就必须在端到端基础上在运输层提供差错检测<br>“与在较高级别提供这些功能的代价相比，在较低级别上设置的功能可能是冗余的或几乎没有价值的”</p>
<p>不进行差错恢复，只能丢弃/交给应用程序并发出警告</p>
<h2 id="面向连接的运输：TCP"><a href="#面向连接的运输：TCP" class="headerlink" title="面向连接的运输：TCP"></a>面向连接的运输：TCP</h2><h3 id="TCP连接"><a href="#TCP连接" class="headerlink" title="TCP连接"></a>TCP连接</h3><p>两个进程在发送数据之前必须先相互“握手”，即它们必须互相发送某些预备报文段，以建立确保数据传输的参数</p>
<p>TCP连接是一条逻辑连接，其共同状态仅保留在两个通信端系统的TCP程序中，中间网络元素不会维持TCP连接状态。</p>
<ul>
<li>全双工服务（full-duplex service）：如果进程A与进程B存在一条TCP连接，则应用层数据可以在这两台主机间双向流动</li>
<li>点对点：单个发送方与单个接收方之间的连接</li>
</ul>
<p>发起连接的称为客户进程，另一个进程被称为服务器连接</p>
<ul>
<li>客户进程通过套接字（该进程之门）传递数据流，TCP将这些数据引导到该连接的<strong>发送缓存</strong>里</li>
<li>TCP会时不时从发送缓存里取出一块数据，并将数据传递到网络层<ul>
<li>TCP可放入报文段的最大数据数量受限于<strong>最大报文段长度</strong>(MSS)</li>
<li>MSS通常根据最初确定的由本地发送主机的最大链路层帧长度（最大传输单元MTU）来设置</li>
<li>MSS要保证一个TCP报文段+TCP/IP首部长度（通常40字节）小于等于单个链路层帧长度</li>
<li>MSS指报文段里<strong>应用层数据</strong>的最大长度，不包括首部</li>
</ul>
</li>
<li>TCP在另一端接收到报文段后，该报文段的数据就被放入该TCP连接的接收缓存中</li>
</ul>
<p>TCP连接组成包括：两台主机上的缓存、变量与进程连接的套接字</p>
<h3 id="TCP报文段结构"><a href="#TCP报文段结构" class="headerlink" title="TCP报文段结构"></a>TCP报文段结构</h3><p><img src="/2019/12/29/network-review/home/mengzelev/Documents/blog/blog/source/_posts/network-notes/tcp.png" alt=""></p>
<ul>
<li>源端口号和目的端口号（各16比特）</li>
<li>序号和确认号（各32比特）：用来实现可靠数据传输服务</li>
<li>接收窗口字段（16比特）：用于流量控制，表示接收方 愿意接收的字节数量</li>
<li>首部长度字段（4比特）：指示了以32比特为单位的TCP首部长度。TCP首部长度可变，但通常是20字节。</li>
<li>标志字段（6比特）：一些flag<ul>
<li>ACK：用于指示确认字段中的值是有效的</li>
<li>RST、SYN、FIN：用于连接的建立和拆除</li>
<li>CER、ECE：明确拥塞通告中使用</li>
<li>PSH：指示接收方应该立即将数据交给上层</li>
<li>URG：指示报文段里存在着被发送端的上层实体置为“紧急的数据”，紧急数据指针指出紧急数据的最后一个字节。当紧急数据存在并给出紧急数据指针时，TCP必须通知接收端的上层实体。</li>
</ul>
</li>
<li>因特网检验和（16比特）</li>
<li>可选与变长的选项字段：用于发送方与接收方协商MSS，或在高速网络环境下用作窗口调节因子</li>
</ul>
<h4 id="序号和确认号"><a href="#序号和确认号" class="headerlink" title="序号和确认号"></a>序号和确认号</h4><p>TCP把数据看成无结构的、有序的字节流。一个报文段的序号是该报文段首字节的字节流编号。</p>
<p>主机A填充进报文段的确认号是主机A期望从主机B收到的下一字节的序号。</p>
<p>TCP只确认流中至第一个丢失字节为止的字节，这个称为提供<strong>累计确认</strong>。    </p>
<p>主机在一条TCP连接中收到失序报文段视为UB。</p>
<p>一条TCP连接的双方均可随机地选择初始号。</p>
<p>和（16比特）</p>
<p>可选与变长的选项字段：用于发送方与接收方协商MSS，或在高速网络环境下用作窗口调节因子举例：Telnet的回显</p>
<p><img src="/2019/12/29/network-review/home/mengzelev/Documents/blog/blog/source/_posts/network-notes/telnet.png" alt=""></p>
<p>（解释见书p157)</p>
<p>对客户到服务器的数据的确认被装载在一个承载服务器到客户的数据的报文段，这种确认被称为是被<strong>捎带</strong>在服务器到客户的数据报文段中的。</p>
<h3 id="往返时间估计与超时"><a href="#往返时间估计与超时" class="headerlink" title="往返时间估计与超时"></a>往返时间估计与超时</h3><ul>
<li>报文段的样本RTT(SampleRTT)：从某报文段被发出大多数TCP仅在某个时刻做一次SampleRTT测量<ul>
<li>在任意时刻，仅为一个已发送但目前尚未被确认的报文段估计SampleRTT，从而产生一个接近每个RTT值的新SampleRTT</li>
<li>TCP绝不为已被重传的报文段计算SampleRTT，仅为传输一次的报文段测量</li>
</ul>
</li>
<li>EstimatedRTT：TCP维护的SampleRTT的均值，为了应对SampleRTT的波动<ul>
<li>一旦获得新的SampleRTT，更新公式为 $$\text{EstimatedRTT}=(1-\alpha)\cdot\text{EstimatedRTT}+\alpha\cdot\text{SampleRTT}$$，$\alpha$的推荐值为0.125(1/8)</li>
<li>EstimatedRTT是对SampleRTT的<strong>指数加权移动平均</strong>（EWMA，Exponential Weighted Moving Average），指一个给定的SampleRTT的权值在更新过程中呈指数型快速衰减</li>
</ul>
</li>
<li>DevRTT：RTT偏差，用于估算SampleRTT一般会偏离EstimatedRTT的程度<ul>
<li>计算公式为$$\text{DevRTT}=(1-\beta)\cdot\text{DevRTT}+\beta\cdot|\text{SampleRTT}-\text{EstimatedRTT}|$$，$\beta$的推荐取值为0.25</li>
</ul>
</li>
<li>超时间隔TimeoutInterval：EstimatedRTT加上一定余量，与SampleRTT的波动正相关<ul>
<li>计算公式为$$\text{TimeoutInterval}=\text{EstimatedRTT}+4\cdot\text{DevRTT}$$</li>
<li>推荐的TimeoutInterval的初始值为1s</li>
<li>当出现超时后，TimeoutIntetval将加倍，以免即将被确认的后继报文段过早出现超时。</li>
<li>只要收到报文段并更新EstimatedRTT，就更新TimeoutInterval</li>
</ul>
</li>
</ul>
<h3 id="可靠数据传输"><a href="#可靠数据传输" class="headerlink" title="可靠数据传输"></a>可靠数据传输</h3><p>TCP的差错恢复机制是GBN和SR的混合体</p>
<p>发送方：switch(事件)</p>
<ul>
<li><p>从上面应用程序接收到数据</p>
<ul>
<li>生成具有序号NextSeqNum的TCP报文段</li>
<li>如果定时器没有运行，启动定时器</li>
<li>向IP传递报文段</li>
<li>NextSeqNum=NextSeqNum+length(data)</li>
</ul>
</li>
<li><p>定时器超时</p>
<ul>
<li>重传具有最小序号但仍未应答的报文段</li>
<li>超时间隔<s>超级</s>加倍</li>
<li>启动定时器</li>
</ul>
</li>
<li><p>收到ACK，ACK字段值为y</p>
<ul>
<li><p>如果 y&gt;SendBase，则该ACK是在确认一个或多个先前未确认的报文段</p>
<ul>
<li>更新SendBase</li>
<li>如果当前有未被确认的报文段，  重新启动定时器</li>
</ul>
</li>
<li><p>如果 y&lt;=SendBase，则该ACK是对已经确认的报文段的一个冗余ACK</p>
<ul>
<li>如果累计收到相同ACK值的3个冗余ACK（累计4个相同ACK），则重新发送具有序号y的报文段（快速重传）</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>接收方：  <img src="/2019/12/29/network-review/home/mengzelev/Documents/blog/blog/source/_posts/network-notes/tcp_rcv.png" alt=""></p>
<p>超时间隔加倍提供了一个形式受限的拥塞控制，因为定时器过期很可能是网络拥塞引起的。</p>
<h4 id="快速重传"><a href="#快速重传" class="headerlink" title="快速重传"></a>快速重传</h4><p>冗余ACK：再次确认某个报文段的ACK</p>
<p>当TCP接收方接收到一个序号大于下一个所期望按序报文段的报文段时，就说明有报文段丢失，因此会产生一个冗余ACK对已经收到的最后一个按序字节数据进行重复确认。</p>
<p>如果发送方接收到对相同数据的3个冗余ACK，就将其视为一种指示，说明这个被确认了3次的报文段之后的报文段已经被丢失。发送方会进行<strong>快速重传</strong>，即在该报文段的定时器过期之前重传丢失的报文段。</p>
<h3 id="流量控制"><a href="#流量控制" class="headerlink" title="流量控制"></a>流量控制</h3><p>接收方如果读数据不够快，就会导致接收缓存溢出。TCP提供了<strong>流量控制服务</strong>以消除发送方使接收方缓存溢出的可能性。（区分流量控制与拥塞控制）</p>
<p>TCP发送方维护一个称为<strong>接收窗口</strong>的变量，指示接收方还有多少可用空间，需要满足</p>
<ul>
<li>$$\text{LastByteRcvd}-\text{LastByteRead}\le \text{RcvBuffer}$$</li>
<li>接收窗口长度用rwnd表示，$$\text{rwnd}=\text{RcvBuffer}-[\text{LastByteRcvd}-\text{LastByteRead}]$$</li>
<li>$$\text{LastByteSent}-\text{LastByteAcked}\le\text{rwnd}$$</li>
<li>人话：主机Ａ发送但未被确认的数据大小　不会超过　主机Ｂ接收缓存的剩余可用空间</li>
</ul>
<p>为了防止主机A被阻塞，当主机B的接收窗口为0时，主机A继续发送只有一个字节数据的报文段。这些报文段将会被接收方确认。最终缓存开始清空，并且确认报文里包含一个非0的rwnd值。</p>
<h3 id="TCP连接管理"><a href="#TCP连接管理" class="headerlink" title="TCP连接管理"></a>TCP连接管理</h3><h4 id="建立TCP连接：三次握手"><a href="#建立TCP连接：三次握手" class="headerlink" title="建立TCP连接：三次握手"></a>建立TCP连接：三次握手</h4><p><img src="/2019/12/29/network-review/home/mengzelev/Documents/blog/blog/source/_posts/network-notes/start_tcp.png" alt=""></p>
<ul>
<li>第一步：客户端的TCP向服务器的TCP发送一个<strong>SYN报文段</strong>。首部中SYN标志位被置为1。客户随机选择一个初始序号（client_isn），并将此序号放置于SYN报文段的序号字段。该报文段不包含应用层数据。</li>
<li>第二步：服务器主机收到该TCP SYN报文段，为该TCP连接分配TCP缓存和变量，并向该客户TCP发送允许连接的报文段（<strong>SYNACK报文段</strong>）。该报文段不包含应用层数据。SYN比特被置为1。首部确认号字段为client_isn+1。服务器选择自己的初始序号（server_isn），并将其放到序号字段中。</li>
<li>第三步：在收到SYNACK报文段后，客户也要给该连接分配缓存和变量。客户主机向服务器发送另一个报文段，将server_isn+1放到首部的确认字段，来对服务器的允许连接的报文段进行确认。连接已经建立了，所以SYN比特被置为0，且之后的每一个报文段的SYN比特都为0。该报文段可以携带应用层数据。</li>
</ul>
<h3 id="关闭TCP连接"><a href="#关闭TCP连接" class="headerlink" title="关闭TCP连接"></a>关闭TCP连接</h3><p><img src="/2019/12/29/network-review/home/mengzelev/Documents/blog/blog/source/_posts/network-notes/close_tcp.png" alt=""></p>
<ul>
<li>客户进程发出一个关闭连接命令，引起客户TCP向服务器进程发送一个特殊的TCP报文段。该报文段首部FIN比特被置为1。</li>
<li>服务器接收到该报文段后，向发送方回送一个ACK报文段。</li>
<li>然后，服务器发送自己的终止报文段，FIN置为1。</li>
<li>最后，客户对这个服务器的终止报文段进行确认。此时，两台主机上用于该连接的所有资源都被释放了。</li>
</ul>
<h4 id="TCP状态"><a href="#TCP状态" class="headerlink" title="TCP状态"></a>TCP状态</h4><p><img src="/2019/12/29/network-review/home/mengzelev/Documents/blog/blog/source/_posts/network-notes/tcp_client.png" style="zoom:70%;"></p>
<p><img src="/2019/12/29/network-review/home/mengzelev/Documents/blog/blog/source/_posts/network-notes/tcp_server.png" style="zoom:70%;"></p>
<p>如果一台主机接收到的一个TCP报文段端口号或源IP地址与该主机上进行中的套接字都不匹配，则该主机向源发送一个特殊重置报文段，RST标志被置为1。（“我没有那个报文段的套接字，请不要再发了。”）</p>
<h4 id="nmap端口扫描工具"><a href="#nmap端口扫描工具" class="headerlink" title="nmap端口扫描工具"></a>nmap端口扫描工具</h4><p>nmap对目标主机的某个端口发送一个特殊的TCP SYN数据报，有3种可能</p>
<ul>
<li>源主机从目标主机接收到一个TCP SYNACK报文段。这意味着目标主机上一个应用程序使用该TCP端口运行，nmap返回“打开”。</li>
<li>源主机从目标主机接收到一个TCP RST报文段。这意味着目标主机上没有一个应用程序使用该TCP端口运行，但至少发送向该端口的报文段没有被防火墙阻拦。</li>
<li>源什么也没有收到。防火墙GG。</li>
</ul>
<h2 id="TCP拥塞控制"><a href="#TCP拥塞控制" class="headerlink" title="TCP拥塞控制"></a>TCP拥塞控制</h2><p>让每一个发送方根据所感知到的网络拥塞成都来限制其发送流量的速率。</p>
<p>发送方TCP跟踪一个<strong>拥塞窗口</strong>变量cwnd，它对一个TCP发送方能向网络中发送流量的速率进行了限制。</p>
<p>$$\text{LastByteSent}-\text{LastByteAcked}\le\min{\text{cwnd},\text{rwnd}}$$</p>
<p>发送方的速率大概是cwnd/RTT字节/秒。</p>
<p>丢包事件：出现超时，或收到来自接收方的3个冗余ACK。此时发送方认为出现了拥塞指示。</p>
<p>自计时：TCP使用收到的ACK（或计时）增大它的拥塞窗口长度。</p>
<h3 id="TCP拥塞控制算法"><a href="#TCP拥塞控制算法" class="headerlink" title="TCP拥塞控制算法"></a>TCP拥塞控制算法</h3><p>具体看图</p>
<p><img src="/2019/12/29/network-review/home/mengzelev/Documents/blog/blog/source/_posts/network-notes/congestion_control.png" alt=""></p>
<h4 id="慢启动"><a href="#慢启动" class="headerlink" title="慢启动"></a>慢启动</h4><ul>
<li>当一条TCP连接开始时，cwnd通常设为一个MSS的较小值，初始发送速率大约为MSS/RTT。</li>
<li>每当传输的报文段首次被确认，cwnd增加一个MSS（指数增长</li>
<li>结束方式<ul>
<li>当cwnd==ssthresh时，结束慢启动并转移到拥塞避免模式。cwnd最多只能取到ssthresh，即使不是2的幂次</li>
<li>超时丢包（拥塞）：cwnd重置为1并重新开始慢启动过程，ssthresh(慢启动阈值)变为cwnd/2</li>
<li>检测到3个冗余ACK：执行一次快速重传并进入快速恢复状态</li>
</ul>
</li>
</ul>
<h4 id="拥塞避免"><a href="#拥塞避免" class="headerlink" title="拥塞避免"></a>拥塞避免</h4><ul>
<li>每个RTT只将cwnd的值增加MSS。一种通用实现方法：发送方无论何时收到一个新的确认，就将cwnd增加一个$\text{MSS}\frac{\text{MSS}}{\text{cwnd}}$字节。</li>
<li>结束方式<ul>
<li>超时：cwnd重置为1并重新开始慢启动过程，ssthresh(慢启动阈值)变为cwnd/2</li>
<li>3个冗余ACK：cwnd减半，对收到的3个冗余ACK再加上3个MSS；将ssthresh的值改为cwnd/2；进入快速恢复状态</li>
</ul>
</li>
</ul>
<h4 id="快速恢复"><a href="#快速恢复" class="headerlink" title="快速恢复"></a>快速恢复</h4><ul>
<li>对于引起TCP进入快速恢复状态的缺失报文段，对每个收到的冗余ACK，cwnd增加一个MSS</li>
<li>当最终对丢失报文段的一个ACK到达时，TCP在降低cwnd后进入拥塞避免状态</li>
<li>超时：cwnd重置为1并重新开始慢启动过程，ssthresh(慢启动阈值)变为cwnd/2，进入慢启动状态</li>
</ul>
<p>忽略慢启动，TCP的拥塞控制：每个RTT内线性增加1MSS，出现3个冗余ACK时cwnd减半——加性增，乘性减（AIMD）</p>
<h4 id="吞吐量"><a href="#吞吐量" class="headerlink" title="吞吐量"></a>吞吐量</h4><p>一条连接的平均吞吐量$$=\frac{0.75\times W}{\text{RTT}}$$</p>
<ul>
<li>$W$：丢包事件发生时的窗口长度</li>
<li>TCP的发送速率大约是$w/RTT$,$w$为窗口长度</li>
<li>TCP的传输速率在$W/(2\times\text{RTT})$和$W/\text{RTT}$之间线性变化</li>
</ul>
<p>考虑丢包率（$L$）和MSS，一条连接的平均吞吐量$$=\frac{1.22\times\text{MSS}}{\text{RTT}\sqrt{L}}$$</p>
<h3 id="公平性"><a href="#公平性" class="headerlink" title="公平性"></a>公平性</h3><p>如果每条连接都得到相同份额的带宽，则认为该拥塞控制机制是公平的。</p>
<p><img src="/2019/12/29/network-review/home/mengzelev/Documents/blog/blog/source/_posts/network-notes/fair.png" style="zoom:50%;"></p>
<p>实际情况下具有较小RTT的连接能够更快地抢到可用带宽。</p>
<p>UDP是无法无天的，并行TCP连接是“作弊”</p>
<h1 id="CH4-网络层：数据平面"><a href="#CH4-网络层：数据平面" class="headerlink" title="CH4 网络层：数据平面"></a>CH4 网络层：数据平面</h1><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>数据平面：从输入链路向输出链路转发数据报<br>控制平面：协调本地的每个路由器的转发动作，使得数据报沿着源和目的地主机之间的路由器路径最终进行端到端传送</p>
<table>
<thead>
<tr>
<th style="text-align:center">转发</th>
<th style="text-align:center">路由选择</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">将分组从一个输入链路接口转移到适当的输出链路接口的路由器本地动作</td>
<td style="text-align:center">分组从源到目的地所采取的端到端路径的网络范围</td>
</tr>
<tr>
<td style="text-align:center">时间尺度短(ns)</td>
<td style="text-align:center">时间尺度长(s)</td>
</tr>
<tr>
<td style="text-align:center">通常硬件实现</td>
<td style="text-align:center">通常软件实现</td>
</tr>
</tbody>
</table>
<p>路由选择算法决定插入该路由器转发表的内容</p>
<p>软件定义网络(SDN): 路由选择设备仅执行转发，远程控制器计算并分发转发表(软件实现)</p>
<p>网络服务模型：尽力而为服务</p>
<h2 id="路由工作原理"><a href="#路由工作原理" class="headerlink" title="路由工作原理"></a>路由工作原理</h2><p>假设：转发决定仅基于分组的目的地址，而非基于通用的分组首部字段</p>
<p>路由器组成部分：输入端口，交换结构、输出端口、路由选择处理器</p>
<h3 id="输入端口处理"><a href="#输入端口处理" class="headerlink" title="输入端口处理"></a>输入端口处理</h3><p>数据报-&gt;线路端接-&gt;数据链路处理(协议、拆封)-&gt;查找、转发、排队-&gt;交换结构</p>
<p>使用<strong>转发表</strong>查找输出端口，转发表由路由选择处理器计算和更新，从路由选择处理器经过独立总线复制到线路卡。使用每个输入端口的影子副本，转发决策能在每个输入端口本地做出，无须基于每个分组调用集中式路由选择处理器，避免集中式处理的瓶颈。</p>
<p>转发表：前缀匹配，最长前缀匹配规则</p>
<p>在某些设计中，一个分组可能会在进入交换结构时被暂时阻塞</p>
<p>查找外必须采取许多其他动作</p>
<ul>
<li>必须出现物理层和链路层处理</li>
<li>必须检查分组的版本号、检验以及寿命字段，并且重写后两个字段</li>
<li>必须更新用于网络管理的计数器</li>
</ul>
<p><strong>“匹配加动作”</strong></p>
<h3 id="交换"><a href="#交换" class="headerlink" title="交换"></a>交换</h3><ul>
<li>经内存交换<ul>
<li>类似传统计算机</li>
<li>在CPU(路由选择处理器)的直接控制下完成</li>
<li>输入与输出端口的功能像传统I/O设备</li>
<li>分组到达输入端口-&gt;中断-&gt;分组被复制到处理器内存-&gt;CPU提取目的地址，在转发表中找到适当的输出端口-&gt;CPU将分组复制到输出端口的缓存中</li>
<li>若内存带宽为$B$个分组/秒，则总的转发吞吐量必然小于$B/2$</li>
<li>不能同时转发两个分组</li>
</ul>
</li>
<li>经总线交换<ul>
<li>输入端口经共享总线将分组直接传送到输出端口，不需要路由选择处理器的干预</li>
<li>输入端口为分组预先计划一个交换机内部标签(首部)，指示本地输出端口-&gt;分组能被所有输出端口收到，但只有标签匹配的端口才能保存分组-&gt;标签在输出端口被去除</li>
<li>一次只有一个分组能跨越总线，因此多个分组同时到达路由器时，除了一个分组外其他都必须等待</li>
</ul>
</li>
<li>经互联网络交换<ul>
<li>纵横式交换机：$2N$条总线，连接$N$个输入端口和$N$个输出端口</li>
<li>交缠点通过交换结构控制器实现开启闭合</li>
<li>分组到达输入端口-&gt;交叉点-&gt;输出端口</li>
<li>非阻塞：能够并行转发多个分组</li>
</ul>
</li>
<li>多级交换元素</li>
</ul>
<h3 id="输出端口处理"><a href="#输出端口处理" class="headerlink" title="输出端口处理"></a>输出端口处理</h3><p>交换结构-&gt;排队(缓存管理)-&gt;数据链路处理(协议，封装)-&gt;线路端接-&gt;</p>
<p>###　排队</p>
<p>丢包：排队导致路由器的缓存空间耗尽</p>
<ul>
<li>输入排队<ul>
<li>线路前部(HOL)阻塞：在一个输入队列中排队的分组必须等待通过交换结构发送(即使输出端口是空闲的)，因为它被位于线路前部的另一个分组所阻塞 – 对纵横式交换结构而言</li>
</ul>
</li>
<li>输出排队<ul>
<li>主动队列管理：在缓存填满之前丢弃一个分组（或在首部加上标记），可以向发送方提供一个拥塞信号</li>
<li>缓存数量$B$与平均往返时延$RTT$、链路容量$C$、TCP流$N$的关系：$B=RTT\cdot C$, ($N$较大时)$B=RTT\cdot C/\sqrt{N}$</li>
</ul>
</li>
</ul>
<h3 id="分组调度"><a href="#分组调度" class="headerlink" title="分组调度"></a>分组调度</h3><ul>
<li>FIFO</li>
<li>优先权排队<ul>
<li>有多个优先权类，分开排队</li>
<li>每次选择非空的最高优先权类队列中的分组进行传输</li>
<li>非抢占式优先权排队：一旦分组开始传输就不能打断</li>
</ul>
</li>
<li>循环排队<ul>
<li>没有服务优先权，循环调度器在类之间轮流提供服务</li>
<li>保持工作排队规则：在有分组排队等待传输时不允许链路保持空闲–当寻找给定类的分组但没有找到时立即检查下一个类</li>
</ul>
</li>
<li>加权公平排队(WFQ)<ul>
<li>循环方式</li>
<li>每个类在任何时间间隔都可能收到不同数量的服务，每个类$i$被分配一个权$w_i$</li>
<li>第$i$类 将确保接收到的服务部分等于$w_i/(\sum w_i)$</li>
<li>最坏情况下第$i$类也能分得上述那么多带宽</li>
</ul>
</li>
</ul>
<h2 id="IPv4"><a href="#IPv4" class="headerlink" title="IPv4"></a>IPv4</h2><h3 id="数据报格式"><a href="#数据报格式" class="headerlink" title="数据报格式"></a>数据报格式</h3><p><img src="/2019/12/29/network-review/home/mengzelev/Documents/blog/blog/source/_posts/network-notes/ipv4.png" alt=""></p>
<ul>
<li>版本号：4比特，规定了数据报的IP协议版本，不同IP版本使用不同的数据报格式。</li>
<li>首部长度：4比特，IPv4数据报包含可变数量的选项，所以需要确定首部长度。大多数IP数据报不包含选项，所以一般具有20字节的首部。</li>
<li>服务类型(TOS)：8比特，使不同类型的IP数据报能相互区别开来。</li>
<li>数据报长度：16比特，IP数据报首部+数据的总长度，单位字节。理论最大长度为65535字节，但实际上很少有超过1500的。这个长度使得IP数据报能容纳最大长度以太网帧的载荷字段。</li>
<li>标识、标志、片偏移：与IP分片有关。</li>
<li>寿命(TTL)：确保数据报不会永远（如由于长时间的路由选择环路）在网络中循环。每当一台路由器处理时该字段的值-1，为0时自动丢弃。</li>
<li>协议：仅当到达最终目的地时才会有用，指示了IP数据报需要交给哪个特定的运输层协议。协议号是将网络层与运输层绑定到一起的黏合剂。（端口号是将运输层和应用层绑定到一起的黏合剂）</li>
<li>首部检验和：首部中的每两个字节当成一个数，用反码算术求和。每台路由器上必须重新计算检验和并再次存放到远处，因为TTL字段以及可能的选项字段会改变。【为什么TCP/IP都执行差错检测？–因为TCP和IP可以分别运行在不同的协议栈上</li>
<li>源和目的地IP地址：源主机通过DNS查找来决定目的地址。</li>
<li>选项：允许IP首部被扩展，很少使用。</li>
<li>数据(有效载荷)：大多数时候承载运输层报文，也可承载其他类型的数据,e.g.ICMP报文</li>
</ul>
<p>20字节IP首部+20字节TCP首部=40字节数据报首部</p>
<h3 id="数据报分片"><a href="#数据报分片" class="headerlink" title="数据报分片"></a>数据报分片</h3><p>原因：发送方与目的地路径上的每段链路可能使用不同的链路层协议<br>最大传送单元(MTU)：一个链路层帧能承载的最大数据量<br>每个较小的数据报称为片(fragment)</p>
<ul>
<li>发送主机将发送的每个数据报的标识号+1</li>
<li>路由器对数据报分片时，每个片具有初始数据报的源地址、目的地址和标识号</li>
<li>目的地主机能够检查数据报的标识号以确定哪些数据报实际上是同一较大数据报的片</li>
<li>IP是不可靠服务–初始数据报的最后一篇标志比特为0，其他片为1</li>
<li>为了让目的主机确定是否丢了一个片且按正确顺序组装片，使用偏移字段制定该片应该放在初始IP数据报的哪个位置</li>
</ul>
<h3 id="编址"><a href="#编址" class="headerlink" title="编址"></a>编址</h3><p>一台主机通常只有一条链路连接到网络，主机与物理链路之间的边界叫作<strong>接口</strong>。<br>路由必须拥有多条链路与之相连接，路由器与它任意一条链路之间的边界也叫作<strong>接口</strong>。<br>一个IP地址与一个接口相关联。</p>
<p>IP地址长32比特，采用点分十进制记法书写<br>格式：$a.b.c.d/x$</p>
<ul>
<li>子网掩码：32位中前$x$比特全取1</li>
<li>最高$x$比特构成了网络部分，也称<strong>前缀</strong></li>
<li>组织内部的设备的IP共享相同的前缀</li>
<li>减少了子网外路由器中转发表的长度</li>
</ul>
<p>子网：分开主机和路由器的每个接口，产生几个隔离的网络孤岛，使用接口端接这些隔离的网络的端点。这些隔离的网络中的每一个都叫作一个子网。<br>在给定子网上的所有设备都具有相同的子网地址。<br>因特网地址的分配策略称为<strong>无类别域间路由选择</strong>(CIDR, Classless Interdomain Routing)<br>寻址：<strong>最长前缀匹配</strong>，选择与目的地址相匹配的最长地址前缀<br>IP广播地址：255.255.255.255，当报文的目的地址是广播地址时会被交付给同一个网络中的所有主机，路由器也会有选择地向临近的子网转发该报文</p>
<h3 id="获取一块地址"><a href="#获取一块地址" class="headerlink" title="获取一块地址"></a>获取一块地址</h3><p>ISP从自己的大地址块中提供一些地址给组织<br>IP地址由因特网名字和编号分配机构(ICANN)管理，ICANN还管理DNS根服务器</p>
<h3 id="获取主机地址：DHCP"><a href="#获取主机地址：DHCP" class="headerlink" title="获取主机地址：DHCP"></a>获取主机地址：DHCP</h3><ul>
<li>动态主机配置协议(DHCP)允许主机获取一个IP地址，还允许主机得知子网掩码、第一跳路由器地址(默认网关)、本地DNS服务器的地址</li>
<li>即插即用协议/零配置协议</li>
<li>客户-服务器协议<ul>
<li>每个子网将具有一台DHCP服务器</li>
<li>如果某子网中没有DHCP服务器，则需要一个DHCP中继代理（通常是一台路由器），这个代理用于知道该网络的DHCP服务器的地址</li>
</ul>
</li>
</ul>
<h4 id="DHCP协议4步"><a href="#DHCP协议4步" class="headerlink" title="DHCP协议4步"></a>DHCP协议4步</h4><ul>
<li>DHCP服务器发现<ul>
<li>使用<strong>DHCP发现报文</strong></li>
<li>源地址：0.0.0.0(“本主机”)，目的地址：255.255.255.255(广播地址)</li>
<li>用于一个新到达的主机发现一个要与其交互的DHCP服务器</li>
</ul>
</li>
<li>DHCP服务提供<ul>
<li>DHCP服务器收到DHCP发现报文后对客户做出响应</li>
<li>使用<strong>DHCP提供报文</strong>，包含发现报文的事物ID、向客户推荐的IP地址、网络掩码、IP地址租用期(即IP地址的有效时间量，通常为几小时或几天)</li>
<li>源地址：自己的IP地址，目的地址：255.255.255.255(广播地址)</li>
<li>子网中可能存在多个DHCP服务器，客户需要选择一个</li>
</ul>
</li>
<li>DHCP请求<ul>
<li>客户向选中的服务器提供<strong>DHCP请求报文</strong>进行响应，回显配置的参数</li>
<li>源地址：0.0.0.0.，目的地址:255.255.255.255</li>
</ul>
</li>
<li>DHCP ACK<ul>
<li>服务器用<strong>DHCP ACK报文</strong>对DHCP请求报文进行响应，证实所要求的参数</li>
<li>源地址：DHCP服务器自己的地址，目的地址:255.255.255.255</li>
<li>客户收到DHCP ACK后交互完成</li>
</ul>
</li>
</ul>
<p>不能维持与远程应用之间的TCP连接</p>
<h2 id="网络地址转换-NAT"><a href="#网络地址转换-NAT" class="headerlink" title="网络地址转换(NAT)"></a>网络地址转换(NAT)</h2><ul>
<li>NAT使能路由器<ul>
<li>4个接口具有相同的网络地址10.0.0/24</li>
<li>地址空间10.0.0.0/8是在RFC 198中保留的三部分IP地址空间之一，用于家庭网络等专用网络或具有专用地址的地域，仅在给定的网络中才有意义</li>
</ul>
</li>
<li>NAT使能路由器对外界的行为如同一个具有单一IP地址的单一设备<ul>
<li>所有流向外界/进入家庭的报文都拥有同一个源/目的IP地址</li>
<li>NAT使能路由器对外界隐藏了家庭网络的细节</li>
</ul>
</li>
<li>NAT转化表<ul>
<li>NAT收到家庭主机发送向外界的数据报后，为其生成一个新的源端口号，将源IP替代为其广域网一侧接口的IP地址，且将源端口号替换为新生成的端口号</li>
<li>端口号字段16字节，NAT协议可支持超过60000个并行使用路由器广域网一侧单个IP地址的连接</li>
<li>路由器中的NAT在其NAT转换表中增加一个表项，记录WAN端和LAN段IP地址及端口的对应关系</li>
</ul>
</li>
</ul>
<h2 id="IPv6"><a href="#IPv6" class="headerlink" title="IPv6"></a>IPv6</h2><h3 id="数据报格式-1"><a href="#数据报格式-1" class="headerlink" title="数据报格式"></a>数据报格式</h3><p><img src="/2019/12/29/network-review/home/mengzelev/Documents/blog/blog/source/_posts/network-notes/ipv6.png" alt=""></p>
<p>定长<strong>40字节(320比特)</strong>首部</p>
<ul>
<li>版本(4比特)：标识IP版本号，IPv6将其设置为6<ul>
<li>设置为4不能得到合法的IPv4数据报</li>
</ul>
</li>
<li>流量类型(8比特)：与IPv4的TOS类似，使不同类型的IP数据报能相互区别开来</li>
<li>流标签(20比特)：标识一条数据报的流<ul>
<li>对一条流中的某些数据报给出优先权</li>
<li>也能够用来对来自某些应用的数据报给出更高的优先权</li>
</ul>
</li>
<li><p>有效载荷长度(16比特无符号整数)：定长40字节数据报首部后的字节数量</p>
</li>
<li><p>下一个首部(8比特)：表示数据报中的内容要交付给哪个协议(e.g.TCP or UDP)，取值同IPv4</p>
</li>
<li>跳限制(8比特)：相当于IPv4的TTL，转发的每台路由器对该字段的值-1，到0自动丢弃</li>
<li>源地址和目的地址(各128比特)</li>
<li>数据</li>
</ul>
<h3 id="相对IPv4的变化"><a href="#相对IPv4的变化" class="headerlink" title="相对IPv4的变化"></a>相对IPv4的变化</h3><p>新增了：</p>
<ul>
<li>扩大的地址容量<ul>
<li>地址长度：32 bits -&gt; 128 bits</li>
<li>引入任播地址：可以使数据报交付给一组主机中的任意一个</li>
</ul>
</li>
<li>流定义</li>
</ul>
<p>删去了：</p>
<ul>
<li>分片/重新组装：因为太耗时了<ul>
<li>如果路由器收到的IPv6数据报太大不能转发到出链路上的话，路由器只需丢弃该数据报，并向发送方发回一个“分组太大”的ICMP差错报文</li>
<li>大大加快了IP转发速度</li>
</ul>
</li>
<li>首部检验和：因为太耗时了，而且多余</li>
<li>选项：不属于首部的一部分，但没有消失，可能出现在“下一个首部”指出的位置上<ul>
<li>使得IPv6的首部是定长的</li>
</ul>
</li>
</ul>
<h3 id="IPv4到IPv6的迁移"><a href="#IPv4到IPv6的迁移" class="headerlink" title="IPv4到IPv6的迁移"></a>IPv4到IPv6的迁移</h3><p><strong>建隧道</strong></p>
<p><img src="/2019/12/29/network-review/home/mengzelev/Documents/blog/blog/source/_posts/network-notes/tunnel.png" alt=""></p>
<p>隧道：两台IPv6路由器之间的中间IPv4路由器集合</p>
<ul>
<li>隧道发送端的IPv6节点(B)将整个IPv6数据报放到一个IPv4数据报中,将源地址设为自己，目的地址设为隧道接收端的IPv6节点(E)</li>
<li>中间的IPv4路由器照常转发IPv4数据报</li>
<li>隧道接收端通过观察IPv4数据报中<strong>协议号字段</strong>是<strong>41</strong>确定该数据报含有一个IPv6数据报，并将其取出</li>
</ul>
<h1 id="CH5-网络层：控制平面"><a href="#CH5-网络层：控制平面" class="headerlink" title="CH5 网络层：控制平面"></a>CH5 网络层：控制平面</h1><h2 id="路由选择算法"><a href="#路由选择算法" class="headerlink" title="路由选择算法"></a>路由选择算法</h2><p>目的：从发送方到接收方的过程中确定一条通过路由器网络的好的路径(等价于路由)</p>
<ul>
<li><ul>
<li>集中式路由选择算法：具有全局状态信息的算法，必须知道每条链路的开销，常被称为链路状态(LS)算法</li>
<li>分布式路由选择算法：以迭代、分布式的方式计算最小开销路径，每个节点只有与其相邻节点的信息</li>
</ul>
</li>
<li><ul>
<li>静态路由选择算法：路由随时间变化缓慢</li>
<li>动态路由选择算法：随着网络流量负载或拓扑发生变化而改变路由选择路径</li>
</ul>
</li>
<li><ul>
<li>负载敏感算法：链路开销会动态地变化反映出底层链路的当前拥塞水平</li>
<li>负载迟钝算法</li>
</ul>
</li>
</ul>
<h3 id="链路状态路由选择算法"><a href="#链路状态路由选择算法" class="headerlink" title="链路状态路由选择算法"></a>链路状态路由选择算法</h3><p>输入：让每个节点向网络中所有其他节点广播链路状态分组——链路状态广播算法<br><strong>Dijksra算法</strong><br><img src="/2019/12/29/network-review/home/mengzelev/Documents/blog/blog/source/_posts/network-notes/ls.png" alt=""><br>最差情况下复杂性为$O(n^2)$</p>
<p>问题：链路开销非对称，即链路开销对应于承载的流量<br>会出现振荡：所有的流量都被导向同一个方向<br>路由器的自同步：即使它们在初始时以同一周期但在不同时刻执行算法，算法执行时机最终会在路由器上变为同步并保持<br>解决方案：让每台路由器发送链路通告的时间随机化</p>
<h3 id="距离向量-DV-路由选择算法"><a href="#距离向量-DV-路由选择算法" class="headerlink" title="距离向量(DV)路由选择算法"></a>距离向量(DV)路由选择算法</h3><p>分布式的、迭代的（能自我终止）、异步的<br>距离向量：$\bf{D}_x$$=\left[D_x(x), D_x(y), D_x(z) \right]$<br><strong>Bellman-Ford算法</strong><br>Bellman-Ford方程：$d_x(y)=\min_v{c(x,v)+d_v(y)}$<br><img src="/2019/12/29/network-review/home/mengzelev/Documents/blog/blog/source/_posts/network-notes/dv.png" alt=""></p>
<p>每个节点等待来自任何邻居的更新，当接收到一个更新时计算它的新距离向量并向它的邻居分布其新距离向量</p>
<p>当一个节点检测到从它自己到邻居的链路开销发生变化时，它就更新其距离向量——可能会出现路由选择环路：y通过z到x，同时z通过y到x<br>因为开销改变的链路在其他节点的距离表中的信息仍没有被抹去</p>
<p>链路开销的增加会导致坏消息传播得很慢——无穷计数问题</p>
<p>毒性逆转：撒谎设置$D_z(x)=\infty$，这样y就永远不会试图经由z路由选择到x<br>Wiki: In computer networking, split-horizon route advertisement is a method of preventing routing loops in distance-vector routing protocols by prohibiting a router from advertising a route back onto the interface from which it was learned.(从哪里学习来的，就拒绝发回到哪里去)<br>依然无法解决无穷计数问题</p>
<h3 id="比较"><a href="#比较" class="headerlink" title="比较"></a>比较</h3><table>
<thead>
<tr>
<th style="text-align:center">维度</th>
<th style="text-align:center">LS</th>
<th style="text-align:center">DV</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">报文复杂性</td>
<td style="text-align:center">发送$O(\</td>
<td style="text-align:center">NE\</td>
<td>)$个报文，每次改变向所有节点发送新开销</td>
<td>每次迭代邻居间交换报文</td>
</tr>
<tr>
<td style="text-align:center">收敛速度</td>
<td style="text-align:center">还行(?)，多项式时间</td>
<td style="text-align:center">收敛较慢，且会出现路由选择环路</td>
</tr>
<tr>
<td style="text-align:center">健壮性</td>
<td style="text-align:center">路由器某种程度上分离</td>
<td style="text-align:center">一个不正确节点的计算值会扩散到整个网络</td>
</tr>
</tbody>
</table>
<h2 id="因特网自治系统内部的路由选择：OSPF"><a href="#因特网自治系统内部的路由选择：OSPF" class="headerlink" title="因特网自治系统内部的路由选择：OSPF"></a>因特网自治系统内部的路由选择：OSPF</h2><p>规模(无穷计数)和管理自治(ISP按自己意愿运行路由器)问题——解决：自治系统(AS)<br>每个AS由一组通常处在相同管理控制下的路由器组成<br>一个自治系统由其全局唯一的AS号(ASN)所标识，ASN由ICANN区域注册机构发放</p>
<p>OSPF：开放最短路优先，Open Shortest Path First<br>开放：公众可用<br>LS协议，使用洪泛链路状态信息和Dijkstra最短路径算法<br>各条链路开销为网络管理员手动配置</p>
<ul>
<li>路由器向AS内所有其他路由器广播路由选择信息</li>
<li>每当一条链路状态发生变化时，路由器就会广播链路状态信息；即使未变化，也会至少每隔30min一次广播链路状态——增加鲁棒性</li>
<li>OSPF报文由IP承载，对上层协议的值为89，因此OSPF协议必须自己实现诸如可靠报文传输、链路状态广播等功能。</li>
<li>还要检查链路正在运行(通过向邻居发送HELLO报文)，并允许OSPF路由器获得相邻路由器的网络范围链路状态的数据库</li>
</ul>
<p>优点：</p>
<ul>
<li>安全：能鉴别和加密(简单的orMD5)</li>
<li>支持选择多条相同开销的路径</li>
<li>对单播与多播路由选择的综合支持</li>
<li>支持在单个AS中的层次结构<ul>
<li>区域边界路由器：为流向该区域以外的分组提供路由选择</li>
<li>主干区域：为该AS中其他区域之间的流量提供路由选择，所有区域边界路由器+一些非边界路由器</li>
</ul>
</li>
</ul>
<h2 id="AS间的路由选择协议：BGP"><a href="#AS间的路由选择协议：BGP" class="headerlink" title="AS间的路由选择协议：BGP"></a>AS间的路由选择协议：BGP</h2><p>BGP：边界网关协议, Broder Gateway Protocol<br>分布式、异步<br>分组不是路由到特定地址，而是路由到CIDR化的前缀，每个前缀表示一个子网或一个子网的集合</p>
<p>BGP为每台路由器提供了一种完成以下任务的手段：</p>
<ul>
<li>从邻居AS获得前缀的可达性信息</li>
<li>确定到该前缀的“最好的”路由</li>
</ul>
<h3 id="通告BGP路由信息"><a href="#通告BGP路由信息" class="headerlink" title="通告BGP路由信息"></a>通告BGP路由信息</h3><p>对于每个AS，每台路由器要么是一台网关路由器，要么是一台内部路由器。<br>网关路由器：位于AS边缘，直接连接到在其他AS中的路由器<br>内部路由器：仅连接在它自己AS中的主机和路由器</p>
<p>每对路由器通过使用179端口的半永久TCP连接交换路由选择信息。<br>每条直线连接以及所有通过该连接发送的BGP报文，称为<strong>BGP连接</strong><br>跨越两个AS的BGP连接称为<strong>外部BGP连接</strong>(eBGP)<br>在相同AS中的两台路由器之间的BGP称为<strong>内部BGP连接</strong>(iBGP)<br>直接连接在不同AS中的网关路由器的每条链路通常有一条eBGP连接，在每个AS中的路由器之间还有多条iBGP连接，iBGP连接不总是与物理链路对应</p>
<p>前缀中包含一些BGP属性<br>前缀+其属性称为路由</p>
<ul>
<li>AS-PATH属性：包含了通告已经通过的AS的列表<ul>
<li>当一个前缀通过某AS时，该AS将其ASN加入AS-PATH的现有列表</li>
<li>BGP路由器还使用AS-PATH属性来检测和防止通告环路，如果一台路由器在路径列表中看到了包含它自己的AS，则它将拒绝该通告</li>
</ul>
</li>
<li>NEXT-HOP属性：AS-PATH起始路由器接口的IP地址（到达前缀$x$路径上的第一台路由器的地址</li>
</ul>
<h3 id="热土豆路由选择"><a href="#热土豆路由选择" class="headerlink" title="热土豆路由选择"></a>热土豆路由选择</h3><p><s>实际上明明是烫手山芋</s></p>
<p>从所有可能的路由中选择到开始该路由的NEXT-HOP路由器具有最小开销的路由<br>路由器尽可能快地将分组送出其AS，而不担心AS外部到目的地的余下部分的开销<br>对于在相同AS中的两台路由器，可能对相同前缀选择两条不同的AS路径</p>
<h3 id="路由选择算法-1"><a href="#路由选择算法-1" class="headerlink" title="路由选择算法"></a>路由选择算法</h3><p>输入：到某前缀的所有路由的集合</p>
<p>当有多条路由时，顺序调用以下消除规则：</p>
<ul>
<li>路由被指派一个<strong>本地偏好</strong>值属性。该属性为策略决定，取决于网管，高的被优先选择（可能会有多条）。</li>
<li>从余下的路由中选择具有<strong>最短AS-PATH</strong>的路由。如果这是唯一路由选择规则，使用DV算法决定路径，其中距离测度为AS跳的跳数。</li>
<li>从余下的路由中使用热土豆路由选择，即最靠近NEXT-HOP路由器的路由</li>
<li>如果仍留下多条路由，使用BGP标识符来选择路由</li>
</ul>
<h3 id="IP任播"><a href="#IP任播" class="headerlink" title="IP任播"></a>IP任播</h3><p>通常用于DNS中<br>DNS服务器为多台服务器指派相同的IP地址，并且使用标准的BGP从这些服务器来通告该IP地址。<br>当某台BGP路由器收到对于该IP地址的多个路由通告，它将这些通告处理为对相同的物理位置提供不同的路径。<br>当配置其路由表时，每台路由器将本地化地使用BGP路由选择算法来挑选到该IP地址的“最好的”路由。<br>无论客户位于何处，当想向DNS服务器的某个IP地址发送一个请求时，因特网路由器则向那个“最近的”服务器转发该请求分组，最近的服务器是有BGP路由选择算法所定义的。</p>
<h3 id="路由选择策略"><a href="#路由选择策略" class="headerlink" title="路由选择策略"></a>路由选择策略</h3><p>多宿接入ISP：经由两个不同的ISP连接到网络的其余部分的<br>经验法则：任何穿越某ISP主干网的流量必须是其源或目的（或两者）位于该ISP的某个客户网络中</p>
<h2 id="5-6-ICMP因特网控制报文协议"><a href="#5-6-ICMP因特网控制报文协议" class="headerlink" title="5.6 ICMP因特网控制报文协议"></a>5.6 ICMP因特网控制报文协议</h2><ul>
<li>ICMP报文<ul>
<li>用于主机和路由器彼此沟通网络层信息</li>
<li>承载在IP分组中</li>
<li>类型字段+编码字段，并且包含引起该ICMP报文首次生成的IP数据报的首部和前8个字节</li>
</ul>
</li>
<li>ping<ul>
<li>发送一个ICMP类型8编码0（回显请求）到指定主机</li>
<li>目的主机发回一个类型0编码0的ICMP回显应答</li>
</ul>
</li>
<li>traceroute<ul>
<li>跟踪从一台主机到世界上任意一台主机之间的路由</li>
<li>源主机发送一些列数据报，每个都携带一个具有不可达UDP端口号的UDP报文段，且第$n$个数据报的TTL为$n$</li>
<li>第$n$台路由器丢弃该数据报并发送一个ICMP告警报文（类型11编码0）给源主机</li>
<li>目的主机会向源主机发送一个端口不可达的ICMP报文（类型3编码3），源主机收到时就知道不需要再发送另外的探测分组。</li>
</ul>
</li>
</ul>
<h1 id="Ch6-链路层和局域网"><a href="#Ch6-链路层和局域网" class="headerlink" title="Ch6 链路层和局域网"></a>Ch6 链路层和局域网</h1><h2 id="6-3-多路访问链路和协议"><a href="#6-3-多路访问链路和协议" class="headerlink" title="6.3 多路访问链路和协议"></a>6.3 多路访问链路和协议</h2><ul>
<li>点对点链路：单个发送方和单个接收方</li>
<li>广播链路：多个发送方和多个接收方，连接到相同、单一、共享的信道上</li>
<li>多路访问协议：节点通过这些协议来规范它们在共享的广播信道上的传输行为<ul>
<li>信道划分协议、随机接入协议、轮流协议</li>
</ul>
</li>
<li>碰撞：节点同时收到多个帧</li>
<li>多路访问协议特性：<ul>
<li>当仅有一个节点发送数据时，该节点具有$R$ bps的吞吐量</li>
<li>当有$M$个节点发送数据时，每个节点的平均传输速率为$R/M$ bps</li>
<li>协议是<strong>分散</strong>的：不会因为某主节点故障而使整个系统崩溃</li>
<li>协议是<strong>简单</strong>的，使实现不昂贵</li>
</ul>
</li>
</ul>
<h3 id="6-3-1-信道划分协议"><a href="#6-3-1-信道划分协议" class="headerlink" title="6.3.1 信道划分协议"></a>6.3.1 信道划分协议</h3><ul>
<li><strong>时分多路复用（TDM）</strong><ul>
<li>将时间划分为时间帧，每个时间帧划分为$N$个时隙</li>
<li><strong>优点</strong>：消除碰撞；非常公平</li>
<li><strong>缺点</strong>：节点被限制于$R/N$的平均速率；节点必须总是等待它在传输系列中的轮次</li>
</ul>
</li>
<li><strong>频分多路复用（FDM）</strong><ul>
<li>将$R$bps信道划分为$N$个不同的频段，每个频段的带宽为$R/N$</li>
<li><strong>优点</strong>：避免碰撞；带宽公平划分</li>
<li><strong>缺点</strong>：限制一个节点的带宽；</li>
</ul>
</li>
<li>码分多址（CDMA）<ul>
<li>对每一个节点分配一种不同的代码</li>
<li>优点（特性）：不同节点能够同时传输，接收方仍能正确接收</li>
</ul>
</li>
</ul>
<h3 id="6-3-2-随机接入协议"><a href="#6-3-2-随机接入协议" class="headerlink" title="6.3.2 随机接入协议"></a>6.3.2 随机接入协议</h3><ul>
<li><p>一个传输节点总是以信道全部速率发送，有碰撞时等待一个随机时延后反复重发。</p>
</li>
<li><p><strong>时隙ALOHA</strong></p>
<ul>
<li>有新帧要发送时等在下一个时隙开始传输，发生碰撞则之后每个时隙以概率$p$重传</li>
<li>有ACK</li>
<li>假设：一个时隙=一帧的传输时间，节点只在时隙起点开始传输，节点同步，节点在时隙结束之前能检测到碰撞</li>
<li>优点：唯一活跃节点独享带宽；高度分散，每个节点独立决定重传时机（但是需要同步时隙）</li>
<li>缺点：有多个节点时，效率为$Np(1-p)^{N-1}$（$N\to\infty$时为$1/e$)</li>
<li>效率定义：当有大量活跃节点且每个节点总有大量的帧要发送时，长期运行中成功时隙（刚好只有一个节点传输的时隙）的份额</li>
</ul>
</li>
<li><p><strong>ALOHA</strong></p>
<ul>
<li>帧首次到达节点立刻传输；若发生碰撞立刻以概率$p$重传，如未重传则在接下来每一个帧传输时间以概率$p$重传</li>
<li>有ACK，非时隙、完全分散</li>
<li>一个给定节点成功传输一次的概率$p(1-p)^{2(N-1)}$，$N\to\infty$时为$1/2e$（完全分散的代价）</li>
</ul>
</li>
<li><p><strong>载波侦听多路访问（CSMA）</strong></p>
<ul>
<li>（说话之前先听）节点等待直到检测到一小段时间没有传输才开始传输</li>
<li>（如果与他人同时开始说话，停止说话）检测到另一个节点在传输干扰帧就停止传输</li>
<li><strong>端到端信道传播时延</strong>（信号从一个节点到另一个节点所花费的时间）是决定性能的<strong>关键</strong>；时延越大检测不到另一个节点开始传输的机会越大。</li>
</ul>
</li>
<li><p><strong>具有碰撞检测的载波侦听多路访问（CSMA/CD）</strong></p>
<ul>
<li><p>碰撞检测：如果检测到其他适配器的信号能量，停止传输，<strong>等待一个随机时间量</strong>后重新开始侦听信道空闲。</p>
</li>
<li><p>无ACK，不同步</p>
</li>
<li><p>二进制指数后退：经历了一连串$n$次碰撞后，随机选择整数$K\in[0, 2^n-1]$，以太网中一个节点等待的实际时间量为$512K$比特时间（发送512比特进入以太网所需时间的$K$倍），$n\le 10$。</p>
</li>
<li><p>$K$的选择集合随着碰撞次数呈指数增长，满足碰撞节点越多，时间间隔越长的需求。</p>
</li>
<li><p>不考虑近期过去的时间内可能已经发生的任何碰撞。</p>
</li>
<li><p>效率：大量节点大量帧，帧在信道中无碰撞地传输那部分时间在长期运行时间中所占份额。</p>
</li>
<li><p>效率近似为<br>$$<br>\frac{1}{1+5d_{prop}/d_{trans}}<br>$$</p>
</li>
<li>$d_{prop}$：信号能量在任意两个适配器中所占份额；$d_{trans}$：传输一个最大长度的以太网帧的时间</li>
<li>具体过程（By Maxwell）<ul>
<li>监听: 监听信道是否空闲, 空闲时才开始传输；<strong>传输前要等96比特时间（最小帧间隔）</strong></li>
<li>传输: 传输时也不断监听是否有其他结点的信号能量<ul>
<li>成功: 未发现其他能量, 认为发送成功</li>
</ul>
</li>
<li>失败: 发现其他能量, 立刻停止; <strong>发送48bit干扰信号</strong></li>
<li>等待(非持续): 等待一个随机时间, 回到”监听”重传</li>
<li>回退(p持续): 之后的时间当中以概率p重传</li>
<li>回退(1持续, 以太网): 使用二进制指数后退：经历过了$n$次碰撞, 就从$[0,\ldots,2^n-1]$中选一个$K$值, 等待$512K$个比特时间；$n$最大为10；最多尝试16次发送</li>
</ul>
</li>
<li>最小帧长: 检测冲突的时长不超过端到端传播时延的2倍, 取这一值为最小帧长（不然还没检测到碰撞一帧就发完了</li>
<li>ALOHA和CSMA具备特性一（独占信道），不具备特性二（平均信道）</li>
</ul>
</li>
</ul>
<h3 id="6-3-3-轮流协议"><a href="#6-3-3-轮流协议" class="headerlink" title="6.3.3 轮流协议"></a>6.3.3 轮流协议</h3><ul>
<li><strong>轮询协议</strong><ul>
<li>主节点循环轮询每个节点，告诉每个节点最多能够传输帧的数量（主节点能观察信道上是否缺乏信号来决定一个节点何时完成了帧的发送）</li>
<li>优点：消除碰撞和空时隙，效率高</li>
<li>缺点：引入轮询时延（通知一个节点可以传输所需的时间），不满足特性一；不分散，主节点挂了全挂</li>
</ul>
</li>
<li><strong>令牌传递协议</strong><ul>
<li>没有主节点，一个称为令牌的小的特殊帧在节点间以某种固定次序交换</li>
<li>当一个节点收到令牌时，仅当它有一些帧要发送时，它持有令牌并发送最大数目的帧，发完后将令牌转发给下一个节点；没有帧要发送就立即将令牌转发给下一个节点。</li>
<li>优点：分散的，效率高</li>
<li>缺点：一个节点故障可能会使这个信道崩溃；一个节点忘了释放令牌就需要调用某些恢复步骤；令牌传播时延</li>
</ul>
</li>
</ul>
<h2 id="6-4-交换局域网"><a href="#6-4-交换局域网" class="headerlink" title="6.4 交换局域网"></a>6.4 交换局域网</h2><h3 id="6-4-1-链路层寻址和ARP"><a href="#6-4-1-链路层寻址和ARP" class="headerlink" title="6.4.1 链路层寻址和ARP"></a>6.4.1 链路层寻址和ARP</h3><ul>
<li><strong>MAC地址</strong><ul>
<li>每个适配器（网络接口）都具有链路层地址，即LAN地址、物理地址或MAC地址。（路由器有多个接口就有多个MAC地址）</li>
<li><strong>链路层交换机</strong>的任务：在主机与路由器之间承载数据报，因此<strong>不具有MAC地址</strong>，主机和路由器也不必明确地将帧寻址到其间的交换机</li>
<li>MAC地址通常为6字节，十六进制表示，e.g.MAC广播地址：FF-FF-FF-FF-FF-FF</li>
<li>扁平结构：每台适配器的MAC地址都不同，且不会因为在哪里而改变</li>
<li>发送适配器将MAC地址插入发送的帧；适配器接收到帧使检查是否与本机MAC地址匹配，不匹配则丢弃</li>
</ul>
</li>
<li><strong>地址解析协议</strong>：在网络层地址和链路层地址之间进行转换的协议<ul>
<li>主机中的ARP模块：取在<strong>相同子网</strong>上的任何IP地址作为输入，然后返回相应的MAC地址</li>
<li>每台主机和路由器都维护<strong>ARP表</strong>：包含IP地址到MAC地址的映射关系，每个表项都有寿命（TLL）</li>
<li>解析不在表中的地址：发送方广播<strong>ARP查询分组</strong>（广播帧）$\to$所有适配器检查自身IP地址，匹配者返回一个响应ARP分组（标准帧）$\to$查询方更新ARP表</li>
<li>ARP表即插即用，自动建立</li>
</ul>
</li>
<li><strong>发送数据报到子网外</strong><ul>
<li>主机获得的子网外IP的MAC地址是子网内路由器接口的MAC地址（直接发的数据报会到达数据报天国）</li>
<li>路由器在网络层查询转发表，将数据报转发到正确的接口，此时目的MAC地址是最终目的地的MAC地址</li>
</ul>
</li>
</ul>
<h3 id="6-4-2-以太网"><a href="#6-4-2-以太网" class="headerlink" title="6.4.2 以太网"></a>6.4.2 以太网</h3><ul>
<li><p><strong>集线器（hub）</strong>：物理层设备，当一个比特到达接口时重新生成该比特，并向其他所有接口传出去——采用星形拓扑的以太网也是广播局域网</p>
</li>
<li><p><strong>以太网帧结构</strong></p>
<ul>
<li><code>前同步码|目的地址|源地址|类型|数据|CRC</code></li>
<li><p>前同步码（8）：前7字节10101010用于唤醒接收适配器并同步接收方和发送方的时钟；最后一字节10101011，最后两比特警告接收适配器</p>
</li>
<li><p>目的地址（6）：目的地址是自己的MAC地址或广播地址就直接将数据字段内容传递给网络层；否则丢弃</p>
</li>
<li><p>源地址（6）</p>
</li>
<li><p>类型（2）：允许以太网复用多种网络层协议。</p>
</li>
<li><p>数据（46~1500）：承载IP数据报；最小长度46（不够就填充），最大1500（多了就分片）；网络层使用IP数据报首部中的长度字段除去填充部分。</p>
</li>
<li><p>CRC（4）：出错的帧直接丢弃</p>
</li>
<li><p>无连接服务：不需要握手</p>
</li>
<li><p>不可靠服务：无ACK和NACK——简单和便宜，数据报流可以有间隙</p>
</li>
</ul>
</li>
<li><p><strong>以太网技术</strong></p>
<ul>
<li>命名: [速率]BASE[距离 或 介质], T指铜双绞线, FX/SX/BX指光纤</li>
<li>10Mbps: 10BASE[%d], 距离, 使用同轴电缆</li>
<li>100Mbps: 100BASE-TX/T4/T2双绞线, -FX/SX/BX光纤</li>
<li>1000Mbps: 1000BASE-T等, 又名802.3z, 双绞线, 兼容旧标准, 点对点(交换机)信道全双工, 另有广播(集线器)</li>
<li>10Gbps: 10GBASE-T</li>
</ul>
</li>
</ul>
<h3 id="6-4-3-链路层交换机"><a href="#6-4-3-链路层交换机" class="headerlink" title="6.4.3 链路层交换机"></a><strong>6.4.3</strong> 链路层交换机</h3><ul>
<li>交换机对于子网中的主机和路由器是<strong>透明的</strong></li>
<li>交换机输出接口设有缓存</li>
<li><strong>交换机转发和过滤</strong><ul>
<li>过滤：决定帧转发到某个接口还是丢弃</li>
<li>转发：决定帧被导向哪个接口</li>
<li>交换机表（地址-接口-时间）</li>
<li>工作过程：（帧从接口$x$来）<ul>
<li>对于没有的表项，交换机向$x$之外所有接口广播</li>
<li>存在表项将目的地址与$x$对应，直接丢弃</li>
<li>存在正常的目的地址对应接口，放到对应输出缓存里</li>
</ul>
</li>
</ul>
</li>
<li><strong>自学习</strong><ul>
<li>交换机表初始为空</li>
<li>对于每个接口收到的每个入帧，存储（源地址-接口-当前时间）</li>
<li>在老化期后，交换机没有收到这个地址发来的帧就删除这个地址</li>
<li>即插即用、双工（同时发送和接收）</li>
</ul>
</li>
<li><strong>链路层交换机的性质（优点）</strong><ul>
<li>消除碰撞：绝不会在网段上同时传输多于一个帧，不浪费带宽；<strong>最大聚合带宽</strong>=所有接口速率之和</li>
<li>异质链路：不同链路能以不同速率运行在不同的媒体上</li>
<li>管理：能检查并断开异常适配器</li>
</ul>
</li>
<li><strong>交换机v.s.路由器</strong><ul>
<li>路由器网络层，交换机链路层</li>
<li>交换机<ul>
<li>优点：即插即用；相对高的分组过滤和转发速率；</li>
<li>缺点：交换网络活跃拓扑限制为一颗生成树（防止广播帧循环）；对广播风暴不提供保护措施</li>
</ul>
</li>
<li>路由器<ul>
<li>优点：网络寻址分层，分组不会循环（除非路由表配错了），不会限制于生成树；对链路层广播风暴提供防火墙保护</li>
<li>缺点：不即插即用；处理分组响应时间长；争论单词发音</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="网桥（From-ppt，-By-Maxwell）"><a href="#网桥（From-ppt，-By-Maxwell）" class="headerlink" title="网桥（From ppt， By Maxwell）"></a>网桥（From ppt， By Maxwell）</h3><ul>
<li>功能: 读取A网(总线)的所有帧, 在B(总线)上重发每个帧; B-&gt;A同理</li>
<li>特点: 不更改帧, 原样转发; 带缓存; 路由寻址能力(基于MAC, 只转发需要转发的帧)</li>
<li>协议体系<ul>
<li>层次: 数据链路层 - MAC层</li>
<li>链接模式<ol>
<li><code>局域网 - 网桥 - 局域网</code>, 原样转发</li>
<li><code>局域网 - 网桥 - [网络或链路] - 网桥 - 局域网</code>, 需要适当封装, 但原始MAC帧不修改</li>
</ol>
</li>
</ul>
</li>
<li>固定路由选择<ul>
<li>每对点均有一条选定的路由, 跳数最少, 仅在拓扑变化时改变(生成树算法)</li>
</ul>
</li>
<li>生成树方法<ul>
<li>帧转发<ul>
<li>x收到帧</li>
<li>检查目的地址: 若在某一端口的列表中, 且非阻塞, 发送; 不在任何列表, 则x除以外的端口全部转发</li>
</ul>
</li>
<li>地址探索: 同交换机<ul>
<li>收到帧, 则帧源地址MAC与此端口关联, 加入此端口数据库</li>
<li>数据库项带计时器, 超时删除</li>
</ul>
</li>
<li>最小生成树算法: Prim<ul>
<li>Prim算法流程<ul>
<li>选取起始点(根网桥), 加入集合S</li>
<li>对于S中所有点(网桥), 在他们所有邻居里面找离S中点最短的距离, 把这个邻居加入S, 这条边(网桥间的最短距离)加入生成树</li>
<li>直到所有点都加入S, 边集合构成生成树</li>
</ul>
</li>
<li>网桥阻塞规则<ul>
<li>选择根网桥: ID最小的网桥</li>
<li>为每个网桥选择root port: 到根网桥最低开销的端口</li>
<li>为每个LAN指定网桥: 拥有到根网桥最低开销路径的, 与这个LAN相连的网桥</li>
<li>Designated port: 这个指定网桥与这个LAN相连的端口</li>
<li>Designated port 和 root port 不阻塞, 别的都阻塞</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="6-4-4-虚拟局域网"><a href="#6-4-4-虚拟局域网" class="headerlink" title="6.4.4 虚拟局域网"></a>6.4.4 虚拟局域网</h3><ul>
<li>树形（等级结构）局域网的缺点<ul>
<li>缺乏流量隔离：广播无法隔离，拉低局域网性能，缺乏安全隐私保护</li>
<li>交换机无效使用：分组造成交换机端口浪费，单一交换机不能提供流量隔离</li>
<li>管理用户：用户在组间移动时需要改变物理布线</li>
</ul>
</li>
<li><strong>虚拟局域网（VLAN）</strong>：<ul>
<li>支持VLAN的交换机允许经一个单一的物理局域网定义多个虚拟局域网</li>
<li>交换机端口由网管划分为组，每个组构成一个VLAN，在每个VLAN中的端口形成一个广播域</li>
<li>交换机维护端口-VLAN映射表</li>
<li>跨VLAN通过路由器实现通讯</li>
<li>VLAN干线连接：属于所有VLAN，发送到任何VLAN都经干线链路转发到其他交换机</li>
<li>以太网帧格式802.1Q，在源地址与类型字段间加入标签协议标识符（2）、标签控制信息（2）</li>
</ul>
</li>
</ul>
<h1 id="Ch7-无线网络和移动网络"><a href="#Ch7-无线网络和移动网络" class="headerlink" title="Ch7 无线网络和移动网络"></a>Ch7 无线网络和移动网络</h1><h2 id="7-1-概述（非考点，By-hyc）"><a href="#7-1-概述（非考点，By-hyc）" class="headerlink" title="7.1 概述（非考点，By hyc）"></a>7.1 概述（非考点，By hyc）</h2><ul>
<li><strong>无线主机</strong>：运行应用程序的端系统设备，如便携机、掌上机、智能手机或桌面计算机</li>
<li><strong>无线链路</strong>：连接无线主机或基站或另一台无线主机的链路</li>
<li><strong>基站</strong>：无线网络基础设施的一个关键部分，负责向与之关联的无线主机发送数据和从主机那里接收数据，负责协调与之相关联的多个无线主机的传输。</li>
<li><strong>相关联</strong>：该主机位于该基站的无线通信覆盖范围内；该主机使用该基站中继它和更大网络之间的数据。</li>
<li><strong>无线网络的分类依据：是否跨越了一个无线跳或多个无线跳；网络中是否有诸如基站这样的基础设施。</strong><ul>
<li>单跳，基于基础设施：802.11网络、3G蜂窝网络</li>
<li>单跳，无基础设施：蓝牙网络、具有自组织模式的802.11网络</li>
<li>多跳，基于基础设施：无线传感网络、无线网状网络</li>
<li>多跳，无基础设施：移动自组织网络（如车载自组织网络）</li>
</ul>
</li>
</ul>
<h2 id="7-3-WiFi-802-11-无线LAN"><a href="#7-3-WiFi-802-11-无线LAN" class="headerlink" title="7.3 WiFi:802.11 无线LAN"></a>7.3 WiFi:802.11 无线LAN</h2><h3 id="7-3-1-802-11体系结构"><a href="#7-3-1-802-11体系结构" class="headerlink" title="7.3.1 802.11体系结构"></a>7.3.1 802.11体系结构</h3><ul>
<li><strong>基本服务集（Basic Service Set，BSS）</strong>：802.11体系结构的基本构件模块，一个BSS包含一个或多个无线站点和一个称为<strong>接入点（Access Point，AP）</strong>的中央基站，AP可以连接到互联设备（如交换机或路由器）并连接到因特网中。</li>
<li>信道与关联<ul>
<li>在802.11中每个无线站点在能够发送或者接收网络层数据之前，必须与一个AP相关联。<ul>
<li>当安装一个AP时，网管会给该AP分配一个单字或双字的<strong>服务集标识符（Service Set Identifier，SSID）</strong>，和一个<strong>信道号</strong>。</li>
<li>每个AP周期性地发送<strong>信标帧（beacon frame）</strong>，每个信标帧包括该AP的SSID和MAC地址，一个无线站点扫描11个信道找出可能来自该区域的信标帧。通过信标帧了解到可用AP，选择一个与之关联。这个过程被称为<strong>被动扫描</strong>。主动扫描是通过向位于无线主机范围内的所有AP广播探测帧。</li>
<li>在选定与之关联的AP后，无线主机向AP发送一个关联请求帧，并且该AP以一个关联响应帧进行回应。</li>
<li><strong>WiFi丛林</strong>：一个任意物理位置，在这里无线站点能从两个或多个AP中收到很强的信号</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="7-3-2-802-11MAC协议"><a href="#7-3-2-802-11MAC协议" class="headerlink" title="7.3.2 802.11MAC协议"></a>7.3.2 802.11MAC协议</h3><ul>
<li>站点：无线设备或AP</li>
<li>使用<strong>带碰撞避免的CSMA（CSMA/CA）</strong>。不使用碰撞检测，一旦站点开始发送就不会停下来了<s>（奥尔加狂喜）</s></li>
<li>不同于以太网，使用<strong>链路层确认/重传方案（ARQ）</strong><ul>
<li>目的站点收到一个通过CRC校验的帧后等待一个<strong>短帧间间隔（SIFS）</strong>，然后发回一个确认帧。</li>
<li>如果发送站点在给定时间内未收到ACK就重传，使用CSMA/CA协议访问该信道</li>
<li>若干固定次重传后仍无确认就丢弃该帧</li>
</ul>
</li>
<li>不实现碰撞检测的原因：<ul>
<li>检测碰撞的能力要求站点具有同时发送和接收的能力，制造这样的硬件代价较大；</li>
<li>隐藏终端问题和衰减问题导致适配器无法检测到所有的碰撞。</li>
</ul>
</li>
<li><strong>CSMA/CA协议</strong><ol>
<li>如果站点最初监听到信道空闲，在一个<strong>分布式帧间间隔（DIFS）</strong>后发送该帧<ol start="2">
<li>否则选取一个随机回退值，并在信道空闲时递减该值，信道忙时保持不变。</li>
<li>计数值减为0时发送整个数据帧并等待确认</li>
<li>如果收到确认，从第二步重新开始（等待一个随机回退值）；否则从一个更大的范围选取随机回退值并进入第二步中的回退阶段。</li>
</ol>
</li>
</ol>
</li>
<li>在倒计数时抑制传输的原因：无论如何尽可能避免高代价碰撞</li>
<li>处理隐藏终端RTS和CTS<ul>
<li>隐藏终端：两个无线站点在AP信号覆盖范围内，但彼此之间无法信号覆盖</li>
<li><strong>请求发送（RTS）控制帧</strong>和<strong>允许发送（CTS）控制帧</strong>来预约对信道的访问</li>
<li>发送方首先向AP发送RTS帧，指示传输数据帧和ACK帧需要的总时间；AP收到后广播一个CTS帧作为响应（给发送方明确的发送许可+只是其他站点在预约期内不要发送）；其他站点在CTS期内将抑制发送</li>
<li>优点：解决隐藏终端问题；RTS和CTS较短，涉及这两者的碰撞持续较短，只要正确传输，后续的数据和ACK都能无碰撞发送。</li>
<li>缺点：引入了时延，消耗了信道资源。</li>
<li>实际无线站点会设置RTS门限值，超过该值的帧才使用RTS/CTS序列。</li>
</ul>
</li>
<li>使用802.11作为一个点对点链路<ul>
<li>定向天线, 没其他站点, 相当于是AP与站点的点对点</li>
</ul>
</li>
</ul>
<h3 id="7-3-3-IEEE-802-11帧"><a href="#7-3-3-IEEE-802-11帧" class="headerlink" title="7.3.3 IEEE 802.11帧"></a>7.3.3 IEEE 802.11帧</h3><p>【p353图7-13】</p>
<ul>
<li>有四个地址字段。第四个地址在自组织模式中互相转发时使用。地址1：接收该帧的无线站点的MAC地址；地址2:传输该帧的站点的MAC地址；地址3:包含路由器接口的MAC地址。</li>
<li>序号用于区分新传输的帧和以前帧的重传</li>
<li>类型和子类型用于区分关联、RTA、CTS、ACK和数据帧</li>
<li>To, From字段用于定义不同地址字段的含义</li>
<li>WEP字段指示了是否使用加密</li>
</ul>
<h3 id="7-3-5-802-11中的高级特色"><a href="#7-3-5-802-11中的高级特色" class="headerlink" title="7.3.5 802.11中的高级特色"></a>7.3.5 802.11中的高级特色</h3><ul>
<li>速率自适应：原理类似于TCP拥塞控制</li>
<li><p>功率管理：一个结点能够明显地在睡眠和唤醒状态之间交替</p>
<h3 id="7-3-6蓝牙和ZigBee"><a href="#7-3-6蓝牙和ZigBee" class="headerlink" title="7.3.6蓝牙和ZigBee"></a>7.3.6蓝牙和ZigBee</h3></li>
<li><p>蓝牙（IEEE 802.15.1）：小范围、低功率、低成本，自组织网络，有一个主结点控制皮可网并确定时钟</p>
</li>
<li>ZigBee（IEEE 802.14.5）</li>
</ul>
<h1 id="Ch9-多媒体网络"><a href="#Ch9-多媒体网络" class="headerlink" title="Ch9 多媒体网络"></a>Ch9 多媒体网络</h1><h2 id="支持多媒体的网络"><a href="#支持多媒体的网络" class="headerlink" title="支持多媒体的网络"></a>支持多媒体的网络</h2><h3 id="提供多种类型的服务"><a href="#提供多种类型的服务" class="headerlink" title="提供多种类型的服务"></a>提供多种类型的服务</h3><p>链路调度规则：选择在链路上传输排队分组的方式</p>
<h4 id="监管：漏桶"><a href="#监管：漏桶" class="headerlink" title="监管：漏桶"></a>监管：漏桶</h4><p>3个准则：平均速率、峰值速率、突发长度</p>
<ul>
<li>漏桶由一个能容纳$b$个令牌的桶组成</li>
<li>新令牌总是以每秒$r$个速率产生</li>
<li>当产生一个令牌时，如果桶中少于$b$个令牌，则新产生的令牌加入到桶中，否则忽略</li>
<li>一个分组向网络传输之前，必须首先从令牌桶中去除一个令牌，如果令牌桶是空的，分组必须等待一个令牌。</li>
<li>漏桶监管的流的<strong>最大突发长度</strong>是$b$个分组，任何长度为$t$的时间间隔内能够进入网络中的最大分组数目为$rt+b$（<strong>平均速率</strong>）</li>
<li>在原漏桶下方再加一个令牌产生速率为$p$漏桶可以实现限制<strong>峰值速率</strong>到$p$</li>
</ul>
<h4 id="漏桶-加权公平排队-队列中可证明的最大时延"><a href="#漏桶-加权公平排队-队列中可证明的最大时延" class="headerlink" title="漏桶+加权公平排队=队列中可证明的最大时延"></a>漏桶+加权公平排队=队列中可证明的最大时延</h4><p>$$d_{max}=\frac{b_i}{R\cdot \frac{w_i}{\sum w_j}}$$</p>

    </article>
    <!-- license  -->
    
        <div class="license-wrapper">
            <p>原文作者: <a href="https://mengzelev.github.io">Mengzelev</a>
            <p>原文链接: <a href="https://mengzelev.github.io/2019/12/29/network-review/">https://mengzelev.github.io/2019/12/29/network-review/</a>
            <p>发表日期: <a href="https://mengzelev.github.io/2019/12/29/network-review/">December 29th 2019, 10:37:19 am</a>
            <p>版权声明: 本文采用<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">知识共享署名-非商业性使用 4.0 国际许可协议</a>进行许可</p>
        </div>
    
    <!-- paginator  -->
    <ul class="post-paginator">
        <li class="next">
            
                <div class="nextSlogan">Next Post</div>
                <a href= "/2020/01/19/gre-words/" title= gre-words >
                    <div class="nextTitle">gre-words</div>
                </a>
            
        </li>
        <li class="previous">
            
                <div class="prevSlogan">Previous Post</div>
                <a href= "/2019/11/13/project-python-notes/" title= 做项目时用到的Python功能 >
                    <div class="prevTitle">做项目时用到的Python功能</div>
                </a>
            
        </li>
    </ul>
    <!-- 评论插件 -->
    <!-- 来必力City版安装代码 -->

<!-- City版安装代码已完成 -->
    
    
    <!--PC和WAP自适应版-->

    <!--PC版-->


    
    
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src='//unpkg.com/valine/dist/Valine.min.js'></script>
    <div id="comment"></div>
    <script>
    new Valine({
        el: '#comment' ,
        notify:false, 
        verify:false, 
        appId: "yj3PGIKmV8xpEnFYOgSseo5x-gzGzoHsz",
        appKey: "vGSIx5E7w6LLK0M0jUlIUG05",
        placeholder: "看完了都不说一句再走么(。•ω•)σ)´Д`)",
        path:window.location.pathname, 
        avatar:'mm' 
    });
    </script>


    <!-- 评论 -->
</main>
            <!-- profile -->
            
        </div>
        <footer class="footer footer-unloaded">
    <!-- social  -->
    
    <div class="social">
        
    
        
            
                <a href="mailto:Mengzelev@gmail.com" class="iconfont-archer email" title=email ></a>
            
        
    
        
            
                <a href="//github.com/mengzelev" class="iconfont-archer github" target="_blank" title=github></a>
            
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
            
                <a href="/atom.xml" class="iconfont-archer rss" target="_blank" title=rss></a>
            
        
    

    </div>
    
    <!-- powered by Hexo  -->
    <div class="copyright">
        <span id="hexo-power">Powered by <a href="https://hexo.io/" target="_blank">Hexo</a></span><span class="iconfont-archer power">&#xe635;</span><span id="theme-info">theme <a href="https://github.com/fi3ework/hexo-theme-archer" target="_blank">Archer</a></span>
    </div>
    <!-- 不蒜子  -->
    
    <div class="busuanzi-container">
    
     
    <span id="busuanzi_container_site_pv">PV: <span id="busuanzi_value_site_pv"></span> :)</span>
    
    </div>
    
</footer>
    </div>
    <!-- toc -->
    
    <div class="toc-wrapper" style=
    







top:50vh;

    >
        <div class="toc-catalog">
            <span class="iconfont-archer catalog-icon">&#xe613;</span><span>CATALOG</span>
        </div>
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Ch1-计算机网络和因特网"><span class="toc-number">1.</span> <span class="toc-text">Ch1 计算机网络和因特网</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-什么是因特网"><span class="toc-number">1.1.</span> <span class="toc-text">1.1 什么是因特网</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-1-具体构成描述"><span class="toc-number">1.1.1.</span> <span class="toc-text">1.1.1 具体构成描述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-2-服务描述"><span class="toc-number">1.1.2.</span> <span class="toc-text">1.1.2 服务描述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-3-协议"><span class="toc-number">1.1.3.</span> <span class="toc-text">1.1.3 协议</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-网络边缘"><span class="toc-number">1.2.</span> <span class="toc-text">1.2 网络边缘</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-1-接入网"><span class="toc-number">1.2.1.</span> <span class="toc-text">1.2.1 接入网</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-2-物理媒体"><span class="toc-number">1.2.2.</span> <span class="toc-text">1.2.2 物理媒体</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3-网络核心"><span class="toc-number">1.3.</span> <span class="toc-text">1.3 网络核心</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-4-分组交换网中的时延、丢包和吞吐量"><span class="toc-number">1.4.</span> <span class="toc-text">1.4 分组交换网中的时延、丢包和吞吐量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-5-协议层次及服务模型"><span class="toc-number">1.5.</span> <span class="toc-text">1.5 协议层次及服务模型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-6-面对攻击的网络"><span class="toc-number">1.6.</span> <span class="toc-text">1.6 面对攻击的网络</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#第三章"><span class="toc-number">2.</span> <span class="toc-text">第三章</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Ch3-运输层"><span class="toc-number">3.</span> <span class="toc-text">Ch3 运输层</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#多路复用和多路分解"><span class="toc-number">3.1.</span> <span class="toc-text">多路复用和多路分解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#UDP的多路复用与多路分解"><span class="toc-number">3.1.1.</span> <span class="toc-text">UDP的多路复用与多路分解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TCP的多路复用与多路分解"><span class="toc-number">3.1.2.</span> <span class="toc-text">TCP的多路复用与多路分解</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#无连接运输：UDP"><span class="toc-number">3.2.</span> <span class="toc-text">无连接运输：UDP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#UDP的优点"><span class="toc-number">3.2.1.</span> <span class="toc-text">UDP的优点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#UDP报文段结构"><span class="toc-number">3.2.2.</span> <span class="toc-text">UDP报文段结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#UDP检验和"><span class="toc-number">3.2.3.</span> <span class="toc-text">UDP检验和</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#面向连接的运输：TCP"><span class="toc-number">3.3.</span> <span class="toc-text">面向连接的运输：TCP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#TCP连接"><span class="toc-number">3.3.1.</span> <span class="toc-text">TCP连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TCP报文段结构"><span class="toc-number">3.3.2.</span> <span class="toc-text">TCP报文段结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#序号和确认号"><span class="toc-number">3.3.2.1.</span> <span class="toc-text">序号和确认号</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#往返时间估计与超时"><span class="toc-number">3.3.3.</span> <span class="toc-text">往返时间估计与超时</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#可靠数据传输"><span class="toc-number">3.3.4.</span> <span class="toc-text">可靠数据传输</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#快速重传"><span class="toc-number">3.3.4.1.</span> <span class="toc-text">快速重传</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#流量控制"><span class="toc-number">3.3.5.</span> <span class="toc-text">流量控制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TCP连接管理"><span class="toc-number">3.3.6.</span> <span class="toc-text">TCP连接管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#建立TCP连接：三次握手"><span class="toc-number">3.3.6.1.</span> <span class="toc-text">建立TCP连接：三次握手</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#关闭TCP连接"><span class="toc-number">3.3.7.</span> <span class="toc-text">关闭TCP连接</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#TCP状态"><span class="toc-number">3.3.7.1.</span> <span class="toc-text">TCP状态</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#nmap端口扫描工具"><span class="toc-number">3.3.7.2.</span> <span class="toc-text">nmap端口扫描工具</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TCP拥塞控制"><span class="toc-number">3.4.</span> <span class="toc-text">TCP拥塞控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#TCP拥塞控制算法"><span class="toc-number">3.4.1.</span> <span class="toc-text">TCP拥塞控制算法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#慢启动"><span class="toc-number">3.4.1.1.</span> <span class="toc-text">慢启动</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#拥塞避免"><span class="toc-number">3.4.1.2.</span> <span class="toc-text">拥塞避免</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#快速恢复"><span class="toc-number">3.4.1.3.</span> <span class="toc-text">快速恢复</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#吞吐量"><span class="toc-number">3.4.1.4.</span> <span class="toc-text">吞吐量</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#公平性"><span class="toc-number">3.4.2.</span> <span class="toc-text">公平性</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#CH4-网络层：数据平面"><span class="toc-number">4.</span> <span class="toc-text">CH4 网络层：数据平面</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#概述"><span class="toc-number">4.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#路由工作原理"><span class="toc-number">4.2.</span> <span class="toc-text">路由工作原理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#输入端口处理"><span class="toc-number">4.2.1.</span> <span class="toc-text">输入端口处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#交换"><span class="toc-number">4.2.2.</span> <span class="toc-text">交换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#输出端口处理"><span class="toc-number">4.2.3.</span> <span class="toc-text">输出端口处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#分组调度"><span class="toc-number">4.2.4.</span> <span class="toc-text">分组调度</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IPv4"><span class="toc-number">4.3.</span> <span class="toc-text">IPv4</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#数据报格式"><span class="toc-number">4.3.1.</span> <span class="toc-text">数据报格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#数据报分片"><span class="toc-number">4.3.2.</span> <span class="toc-text">数据报分片</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#编址"><span class="toc-number">4.3.3.</span> <span class="toc-text">编址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#获取一块地址"><span class="toc-number">4.3.4.</span> <span class="toc-text">获取一块地址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#获取主机地址：DHCP"><span class="toc-number">4.3.5.</span> <span class="toc-text">获取主机地址：DHCP</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#DHCP协议4步"><span class="toc-number">4.3.5.1.</span> <span class="toc-text">DHCP协议4步</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#网络地址转换-NAT"><span class="toc-number">4.4.</span> <span class="toc-text">网络地址转换(NAT)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IPv6"><span class="toc-number">4.5.</span> <span class="toc-text">IPv6</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#数据报格式-1"><span class="toc-number">4.5.1.</span> <span class="toc-text">数据报格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#相对IPv4的变化"><span class="toc-number">4.5.2.</span> <span class="toc-text">相对IPv4的变化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IPv4到IPv6的迁移"><span class="toc-number">4.5.3.</span> <span class="toc-text">IPv4到IPv6的迁移</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#CH5-网络层：控制平面"><span class="toc-number">5.</span> <span class="toc-text">CH5 网络层：控制平面</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#路由选择算法"><span class="toc-number">5.1.</span> <span class="toc-text">路由选择算法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#链路状态路由选择算法"><span class="toc-number">5.1.1.</span> <span class="toc-text">链路状态路由选择算法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#距离向量-DV-路由选择算法"><span class="toc-number">5.1.2.</span> <span class="toc-text">距离向量(DV)路由选择算法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#比较"><span class="toc-number">5.1.3.</span> <span class="toc-text">比较</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#因特网自治系统内部的路由选择：OSPF"><span class="toc-number">5.2.</span> <span class="toc-text">因特网自治系统内部的路由选择：OSPF</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AS间的路由选择协议：BGP"><span class="toc-number">5.3.</span> <span class="toc-text">AS间的路由选择协议：BGP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#通告BGP路由信息"><span class="toc-number">5.3.1.</span> <span class="toc-text">通告BGP路由信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#热土豆路由选择"><span class="toc-number">5.3.2.</span> <span class="toc-text">热土豆路由选择</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#路由选择算法-1"><span class="toc-number">5.3.3.</span> <span class="toc-text">路由选择算法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IP任播"><span class="toc-number">5.3.4.</span> <span class="toc-text">IP任播</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#路由选择策略"><span class="toc-number">5.3.5.</span> <span class="toc-text">路由选择策略</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-6-ICMP因特网控制报文协议"><span class="toc-number">5.4.</span> <span class="toc-text">5.6 ICMP因特网控制报文协议</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Ch6-链路层和局域网"><span class="toc-number">6.</span> <span class="toc-text">Ch6 链路层和局域网</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#6-3-多路访问链路和协议"><span class="toc-number">6.1.</span> <span class="toc-text">6.3 多路访问链路和协议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-1-信道划分协议"><span class="toc-number">6.1.1.</span> <span class="toc-text">6.3.1 信道划分协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-2-随机接入协议"><span class="toc-number">6.1.2.</span> <span class="toc-text">6.3.2 随机接入协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-3-轮流协议"><span class="toc-number">6.1.3.</span> <span class="toc-text">6.3.3 轮流协议</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-4-交换局域网"><span class="toc-number">6.2.</span> <span class="toc-text">6.4 交换局域网</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-1-链路层寻址和ARP"><span class="toc-number">6.2.1.</span> <span class="toc-text">6.4.1 链路层寻址和ARP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-2-以太网"><span class="toc-number">6.2.2.</span> <span class="toc-text">6.4.2 以太网</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-3-链路层交换机"><span class="toc-number">6.2.3.</span> <span class="toc-text">6.4.3 链路层交换机</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#网桥（From-ppt，-By-Maxwell）"><span class="toc-number">6.2.4.</span> <span class="toc-text">网桥（From ppt， By Maxwell）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-4-虚拟局域网"><span class="toc-number">6.2.5.</span> <span class="toc-text">6.4.4 虚拟局域网</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Ch7-无线网络和移动网络"><span class="toc-number">7.</span> <span class="toc-text">Ch7 无线网络和移动网络</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#7-1-概述（非考点，By-hyc）"><span class="toc-number">7.1.</span> <span class="toc-text">7.1 概述（非考点，By hyc）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-3-WiFi-802-11-无线LAN"><span class="toc-number">7.2.</span> <span class="toc-text">7.3 WiFi:802.11 无线LAN</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-1-802-11体系结构"><span class="toc-number">7.2.1.</span> <span class="toc-text">7.3.1 802.11体系结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-2-802-11MAC协议"><span class="toc-number">7.2.2.</span> <span class="toc-text">7.3.2 802.11MAC协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-3-IEEE-802-11帧"><span class="toc-number">7.2.3.</span> <span class="toc-text">7.3.3 IEEE 802.11帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-5-802-11中的高级特色"><span class="toc-number">7.2.4.</span> <span class="toc-text">7.3.5 802.11中的高级特色</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-6蓝牙和ZigBee"><span class="toc-number">7.2.5.</span> <span class="toc-text">7.3.6蓝牙和ZigBee</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Ch9-多媒体网络"><span class="toc-number">8.</span> <span class="toc-text">Ch9 多媒体网络</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#支持多媒体的网络"><span class="toc-number">8.1.</span> <span class="toc-text">支持多媒体的网络</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#提供多种类型的服务"><span class="toc-number">8.1.1.</span> <span class="toc-text">提供多种类型的服务</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#监管：漏桶"><span class="toc-number">8.1.1.1.</span> <span class="toc-text">监管：漏桶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#漏桶-加权公平排队-队列中可证明的最大时延"><span class="toc-number">8.1.1.2.</span> <span class="toc-text">漏桶+加权公平排队=队列中可证明的最大时延</span></a></li></ol></li></ol></li></ol></li></ol>
    </div>
    
    <div class="back-top iconfont-archer">&#xe639;</div>
    <div class="sidebar sidebar-hide">
    <ul class="sidebar-tabs sidebar-tabs-active-0">
        <li class="sidebar-tab-archives"><span class="iconfont-archer">&#xe67d;</span><span class="tab-name">Archive</span></li>
        <li class="sidebar-tab-tags"><span class="iconfont-archer">&#xe61b;</span><span class="tab-name">Tag</span></li>
        <li class="sidebar-tab-categories"><span class="iconfont-archer">&#xe666;</span><span class="tab-name">Cate</span></li>
    </ul>
    <div class="sidebar-content sidebar-content-show-archive">
          <div class="sidebar-panel-archives">
    <!-- 在ejs中将archive按照时间排序 -->
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <div class="total-and-search">
        <div class="total-archive">
        Total : 66
        </div>
        <!-- search  -->
        
    </div>
    
    <div class="post-archive">
    
    
    
    
    <div class="archive-year"> 2020 </div>
    <ul class="year-list">
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/15</span><a class="archive-post-title" href= "/2020/05/15/leetcode-notes/" >leetcode-notes</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/30</span><a class="archive-post-title" href= "/2020/03/30/BlinkFill/" >BlinkFill</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/19</span><a class="archive-post-title" href= "/2020/01/19/gre-words/" >gre-words</a>
        </li>
    
    
    
    
    
        </ul>
    
    <div class="archive-year"> 2019 </div>
    <ul class="year-list">
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/29</span><a class="archive-post-title" href= "/2019/12/29/network-review/" >计算机网络-期末复习</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">11/13</span><a class="archive-post-title" href= "/2019/11/13/project-python-notes/" >做项目时用到的Python功能</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">11/03</span><a class="archive-post-title" href= "/2019/11/03/tofel-1st-exp/" >托福首考日记</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/12</span><a class="archive-post-title" href= "/2019/10/12/network-notes/" >计算机网络-课程笔记</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/11</span><a class="archive-post-title" href= "/2019/10/11/dip-notes/" >数字图像处理课程笔记</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/09</span><a class="archive-post-title" href= "/2019/10/09/database/" >数据库学习笔记</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">07/20</span><a class="archive-post-title" href= "/2019/07/20/paper-reading/" >论文阅读笔记</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">07/08</span><a class="archive-post-title" href= "/2019/07/08/system-rebuild-notes/" >Windows-Ubuntu双系统重装笔记</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">06/21</span><a class="archive-post-title" href= "/2019/06/21/os-review/" >操作系统期末复习笔记</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">06/21</span><a class="archive-post-title" href= "/2019/06/21/OSTEP-persistence/" >OSTEP阅读笔记-持久化部分</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/25</span><a class="archive-post-title" href= "/2019/05/25/ps-4-13-Randomized-Algorithms/" >难问题求解学习笔记-随机算法</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/18</span><a class="archive-post-title" href= "/2019/05/18/ps-4-12-Approximation-Algorithms/" >难问题求解学习笔记-近似算法</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/19</span><a class="archive-post-title" href= "/2019/04/19/oj-templates/" >自己看得惯的板子整理</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/15</span><a class="archive-post-title" href= "/2019/04/15/os-midterm/" >os期中复习</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/13</span><a class="archive-post-title" href= "/2019/04/13/ps-4-7-cryptographic-algorithm/" >问题求解学习笔记-密码算法</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/06</span><a class="archive-post-title" href= "/2019/04/06/clrs-31Number-Theoretic-Algorithms/" >算法导论学习笔记-数论算法</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/30</span><a class="archive-post-title" href= "/2019/03/30/ps-4-6-basic-number-theory/" >问题求解学习笔记-数论基础</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/23</span><a class="archive-post-title" href= "/2019/03/23/clrs-32String-Mathcing/" >算法导论学习笔记-字符串匹配</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/14</span><a class="archive-post-title" href= "/2019/03/14/ps-4-4-isomorphism/" >问求学习笔记-群同构基本定理与正规子群</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/09</span><a class="archive-post-title" href= "/2019/03/09/ps-4-3-permutation-lagrange/" >问求学习笔记-置换群与拉格朗日定理</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/02</span><a class="archive-post-title" href= "/2019/03/02/ps-4-2-group/" >问求学习笔记-群论初步</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">02/18</span><a class="archive-post-title" href= "/2019/02/18/2019-winter-flags/" >2019年寒假计划(flags)</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">02/13</span><a class="archive-post-title" href= "/2019/02/13/clrs-29Linear-Programming/" >算法导论学习笔记-线性规划</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">02/12</span><a class="archive-post-title" href= "/2019/02/12/SVM-getstart/" >SVM的临时抱佛脚for HK</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">02/11</span><a class="archive-post-title" href= "/2019/02/11/HKUST-discussion/" >HKUST项目讨论内容</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/30</span><a class="archive-post-title" href= "/2019/01/30/ICM-feelings/" >2019美赛经历</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/23</span><a class="archive-post-title" href= "/2019/01/23/python-getstart/" >python学习笔记</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/19</span><a class="archive-post-title" href= "/2019/01/19/matlab-usage/" >数学建模几种常用算法</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/16</span><a class="archive-post-title" href= "/2019/01/16/matlab-getstart/" >MATLAB临时抱佛脚</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/07</span><a class="archive-post-title" href= "/2019/01/07/Problem-Solving-3/" >问题求解3-总复习</a>
        </li>
    
    
    
    
    
        </ul>
    
    <div class="archive-year"> 2018 </div>
    <ul class="year-list">
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/29</span><a class="archive-post-title" href= "/2018/12/29/lab4-report/" >Lab4 实验报告</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/28</span><a class="archive-post-title" href= "/2018/12/28/PA4-report/" >PA4实验报告</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/18</span><a class="archive-post-title" href= "/2018/12/18/clrs28Matrix-Operation/" >算法导论学习笔记-矩阵运算</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/13</span><a class="archive-post-title" href= "/2018/12/13/planar-graph-and-coloring/" >图论学习笔记-平面图与着色</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/10</span><a class="archive-post-title" href= "/2018/12/10/Dinner/" >卫宫家今天的饭</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/08</span><a class="archive-post-title" href= "/2018/12/08/PA3-report/" >PA3实验报告</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/05</span><a class="archive-post-title" href= "/2018/12/05/clrs-26Maximum-Flow/" >算法导论学习笔记-最大流</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">11/28</span><a class="archive-post-title" href= "/2018/11/28/matchings/" >图论学习笔记-图中的匹配与覆盖</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">11/24</span><a class="archive-post-title" href= "/2018/11/24/lab3-report/" >Lab3：链接与加载（2）实验报告</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">11/21</span><a class="archive-post-title" href= "/2018/11/21/traversability/" >图论学习笔记-旅行问题</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">11/14</span><a class="archive-post-title" href= "/2018/11/14/connectivity/" >图论学习笔记-图中的连通性与距离</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">11/07</span><a class="archive-post-title" href= "/2018/11/07/clrs-25All-Pairs-Shortest-Paths/" >算法导论学习笔记-所有结点对的最短路径问题</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">11/06</span><a class="archive-post-title" href= "/2018/11/06/lab2-report/" >Lab2:链接与加载 实验报告</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">11/06</span><a class="archive-post-title" href= "/2018/11/06/PA2-report/" >PA2实验报告</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/30</span><a class="archive-post-title" href= "/2018/10/30/clrs-24Single-Source-Shortest-Path/" >算法导论学习笔记-单源最短路径</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/24</span><a class="archive-post-title" href= "/2018/10/24/clrs-22graphic-algs/" >算法导论学习笔记-基本图论算法</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/14</span><a class="archive-post-title" href= "/2018/10/14/tree/" >图论学习笔记-树</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/12</span><a class="archive-post-title" href= "/2018/10/12/lab1-report/" >Lab1-乘法 实验报告</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/06</span><a class="archive-post-title" href= "/2018/10/06/clrs-21DisjointSets/" >算法导论学习笔记-用于不相交集合的数据结构</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/04</span><a class="archive-post-title" href= "/2018/10/04/pa-inspirations/" >做pa的时候可能会用到的操作</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/04</span><a class="archive-post-title" href= "/2018/10/04/PA1-report/" >PA1实验报告</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">09/27</span><a class="archive-post-title" href= "/2018/09/27/ics-process-calling/" >关于“过程调用”的讨论</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">09/21</span><a class="archive-post-title" href= "/2018/09/21/regex/" >正则表达式学习笔记</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">09/17</span><a class="archive-post-title" href= "/2018/09/17/clrs-17amortized/" >算法导论学习笔记-摊还分析</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">09/17</span><a class="archive-post-title" href= "/2018/09/17/clrs-16greedy/" >算法导论学习笔记-贪心算法</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">09/16</span><a class="archive-post-title" href= "/2018/09/16/startjava/" >面向OJ的Java学习</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">09/12</span><a class="archive-post-title" href= "/2018/09/12/tmux/" >使用tmux变身炫酷程序猿(x</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">09/06</span><a class="archive-post-title" href= "/2018/09/06/vim/" >vim初探</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">08/31</span><a class="archive-post-title" href= "/2018/08/31/clrs-15dp/" >算法导论学习笔记-动态规划</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">08/30</span><a class="archive-post-title" href= "/2018/08/30/asm2/" >汇编语言复习笔记（二）</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">08/29</span><a class="archive-post-title" href= "/2018/08/29/asm-notes/" >汇编语言复习笔记（一）</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">08/18</span><a class="archive-post-title" href= "/2018/08/18/freshman/" >胡言乱语的大一总结</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">08/12</span><a class="archive-post-title" href= "/2018/08/12/test-md/" >Markdown test</a>
        </li>
    
    </div>
  </div>
        <div class="sidebar-panel-tags">
    <div class="sidebar-tags-name">
    
        <span class="sidebar-tag-name" data-tags="Flags"><span class="iconfont-archer">&#xe606;</span>Flags</span>
    
        <span class="sidebar-tag-name" data-tags="paper"><span class="iconfont-archer">&#xe606;</span>paper</span>
    
        <span class="sidebar-tag-name" data-tags="Notes"><span class="iconfont-archer">&#xe606;</span>Notes</span>
    
        <span class="sidebar-tag-name" data-tags="pa"><span class="iconfont-archer">&#xe606;</span>pa</span>
    
        <span class="sidebar-tag-name" data-tags="Math Modeling"><span class="iconfont-archer">&#xe606;</span>Math Modeling</span>
    
        <span class="sidebar-tag-name" data-tags="Machine Learning"><span class="iconfont-archer">&#xe606;</span>Machine Learning</span>
    
        <span class="sidebar-tag-name" data-tags="ICS"><span class="iconfont-archer">&#xe606;</span>ICS</span>
    
        <span class="sidebar-tag-name" data-tags="Problem Solving"><span class="iconfont-archer">&#xe606;</span>Problem Solving</span>
    
        <span class="sidebar-tag-name" data-tags="Assembly Language"><span class="iconfont-archer">&#xe606;</span>Assembly Language</span>
    
        <span class="sidebar-tag-name" data-tags="CLRS"><span class="iconfont-archer">&#xe606;</span>CLRS</span>
    
        <span class="sidebar-tag-name" data-tags="dynamic programming"><span class="iconfont-archer">&#xe606;</span>dynamic programming</span>
    
        <span class="sidebar-tag-name" data-tags="greedy algorithm"><span class="iconfont-archer">&#xe606;</span>greedy algorithm</span>
    
        <span class="sidebar-tag-name" data-tags="Single Source Shortest Path"><span class="iconfont-archer">&#xe606;</span>Single Source Shortest Path</span>
    
        <span class="sidebar-tag-name" data-tags="Bellman-Ford"><span class="iconfont-archer">&#xe606;</span>Bellman-Ford</span>
    
        <span class="sidebar-tag-name" data-tags="Dijkstra"><span class="iconfont-archer">&#xe606;</span>Dijkstra</span>
    
        <span class="sidebar-tag-name" data-tags="Graph Algorithms"><span class="iconfont-archer">&#xe606;</span>Graph Algorithms</span>
    
        <span class="sidebar-tag-name" data-tags="amortized analysis"><span class="iconfont-archer">&#xe606;</span>amortized analysis</span>
    
        <span class="sidebar-tag-name" data-tags="Disjoint Sets"><span class="iconfont-archer">&#xe606;</span>Disjoint Sets</span>
    
        <span class="sidebar-tag-name" data-tags="Data Structure"><span class="iconfont-archer">&#xe606;</span>Data Structure</span>
    
        <span class="sidebar-tag-name" data-tags="Graph Theory"><span class="iconfont-archer">&#xe606;</span>Graph Theory</span>
    
        <span class="sidebar-tag-name" data-tags="Connectivity"><span class="iconfont-archer">&#xe606;</span>Connectivity</span>
    
        <span class="sidebar-tag-name" data-tags="freshman"><span class="iconfont-archer">&#xe606;</span>freshman</span>
    
        <span class="sidebar-tag-name" data-tags="college life"><span class="iconfont-archer">&#xe606;</span>college life</span>
    
        <span class="sidebar-tag-name" data-tags="ics"><span class="iconfont-archer">&#xe606;</span>ics</span>
    
        <span class="sidebar-tag-name" data-tags="process calling"><span class="iconfont-archer">&#xe606;</span>process calling</span>
    
        <span class="sidebar-tag-name" data-tags="Lab"><span class="iconfont-archer">&#xe606;</span>Lab</span>
    
        <span class="sidebar-tag-name" data-tags="Ics"><span class="iconfont-archer">&#xe606;</span>Ics</span>
    
        <span class="sidebar-tag-name" data-tags="MATLAB"><span class="iconfont-archer">&#xe606;</span>MATLAB</span>
    
        <span class="sidebar-tag-name" data-tags="Matchings"><span class="iconfont-archer">&#xe606;</span>Matchings</span>
    
        <span class="sidebar-tag-name" data-tags="Factorization"><span class="iconfont-archer">&#xe606;</span>Factorization</span>
    
        <span class="sidebar-tag-name" data-tags="Linux"><span class="iconfont-archer">&#xe606;</span>Linux</span>
    
        <span class="sidebar-tag-name" data-tags="vim"><span class="iconfont-archer">&#xe606;</span>vim</span>
    
        <span class="sidebar-tag-name" data-tags="notes"><span class="iconfont-archer">&#xe606;</span>notes</span>
    
        <span class="sidebar-tag-name" data-tags="Group Theory"><span class="iconfont-archer">&#xe606;</span>Group Theory</span>
    
        <span class="sidebar-tag-name" data-tags="regular expressions"><span class="iconfont-archer">&#xe606;</span>regular expressions</span>
    
        <span class="sidebar-tag-name" data-tags="linux"><span class="iconfont-archer">&#xe606;</span>linux</span>
    
        <span class="sidebar-tag-name" data-tags="markdown"><span class="iconfont-archer">&#xe606;</span>markdown</span>
    
        <span class="sidebar-tag-name" data-tags="tmux"><span class="iconfont-archer">&#xe606;</span>tmux</span>
    
        <span class="sidebar-tag-name" data-tags="Java"><span class="iconfont-archer">&#xe606;</span>Java</span>
    
        <span class="sidebar-tag-name" data-tags="programming"><span class="iconfont-archer">&#xe606;</span>programming</span>
    
        <span class="sidebar-tag-name" data-tags="Traversibility"><span class="iconfont-archer">&#xe606;</span>Traversibility</span>
    
        <span class="sidebar-tag-name" data-tags="Graph"><span class="iconfont-archer">&#xe606;</span>Graph</span>
    
        <span class="sidebar-tag-name" data-tags="Tree"><span class="iconfont-archer">&#xe606;</span>Tree</span>
    
        <span class="sidebar-tag-name" data-tags="Python"><span class="iconfont-archer">&#xe606;</span>Python</span>
    
    </div>
    <div class="iconfont-archer sidebar-tags-empty">&#xe678;</div>
    <div class="tag-load-fail" style="display: none; color: #ccc; font-size: 0.6rem;">
    缺失模块。<br/>
    1、请确保node版本大于6.2<br/>
    2、在博客根目录（注意不是archer根目录）执行以下命令：<br/>
    <span style="color: #f75357; font-size: 1rem; line-height: 2rem;">npm i hexo-generator-json-content --save</span><br/>
    3、在根目录_config.yml里添加配置：
    <pre style="color: #787878; font-size: 0.6rem;">
jsonContent:
  meta: false
  pages: false
  posts:
    title: true
    date: true
    path: true
    text: false
    raw: false
    content: false
    slug: false
    updated: false
    comments: false
    link: false
    permalink: false
    excerpt: false
    categories: true
    tags: true</pre>
    </div> 
    <div class="sidebar-tags-list"></div>
</div>
        <div class="sidebar-panel-categories">
    <div class="sidebar-categories-name">
    
        <span class="sidebar-category-name" data-categories="Flags"><span class="iconfont-archer">&#xe60a;</span>Flags</span>
    
        <span class="sidebar-category-name" data-categories="Diary"><span class="iconfont-archer">&#xe60a;</span>Diary</span>
    
        <span class="sidebar-category-name" data-categories="Notes"><span class="iconfont-archer">&#xe60a;</span>Notes</span>
    
        <span class="sidebar-category-name" data-categories="Self-learning"><span class="iconfont-archer">&#xe60a;</span>Self-learning</span>
    
    </div>
    <div class="iconfont-archer sidebar-categories-empty">&#xe678;</div>
    <div class="sidebar-categories-list"></div>
</div>
    </div>
</div> 
    <script>
    var siteMeta = {
        root: "/",
        author: "Mengzelev"
    }
</script>
    <!-- CDN failover -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
    <script type="text/javascript">
        if (typeof window.$ === 'undefined')
        {
            console.warn('jquery load from jsdelivr failed, will load local script')
            document.write('<script src="/lib/jquery.min.js">\x3C/script>')
        }
    </script>
    <script src="/scripts/main.js"></script>
    <!-- algolia -->
    
    <!-- busuanzi  -->
    
    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    
    <!-- CNZZ  -->
    
    </div>
    <!-- async load share.js -->
    
        <script src="/scripts/share.js" async></script>    
     
	<!--浏览器搞笑标题-->
	<script type="text/javascript" src="\js\FunnyTitle.js"></script>
	<!--动态线条背景-->
	<script type="text/javascript"
	color="220,220,220" opacity='0.7' zIndex="-2" count="200" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js">
	</script>
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"position":"right","width":150,"height":150},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config("");
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="custom_mathjax_source">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end --></body>
</html>


