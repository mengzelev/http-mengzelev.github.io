{"meta":{"title":"Mengzelev's blog","subtitle":null,"description":"nothing to write","author":"Mengzelev","url":"https://mengzelev.github.io"},"pages":[{"title":"Welcome to Enmeng Liu's Personal Page","date":"2020-12-19T16:00:00.000Z","updated":"2020-12-21T14:29:58.324Z","comments":true,"path":"about/index.html","permalink":"https://mengzelev.github.io/about/index.html","excerpt":"","text":"Enmeng Liu (åˆ˜æ©èŒ) My Selfie :) Basic Information Senior Undergraduate National Elite Program of Computer Science Dept. of Computer Science and Technology Nanjing University, ChinaGPA: 4.60/5.00 (ranking top 3%) TOEFL: 107GRE:327 Email: enmeng-liu@outlook.com About MeI am an undergraduate student of Dept. of Computer Science and Technology in Nanjing University, China. I am a member of the National Elite Program of Computer Science. I am expected to receive my Bachelor of Science degree in June, 2021. Here is my CV. I am now seeking for a thesis-based master/Ph.D. position in Fall 2021. If you are interested in hiring me, please feel free to contact me anytime. Research InterestI am currently interested in the field of Software Engineering. I am eager to explore the â€œmagicsâ€ of software development infrastructures. My goal is to help as many developers as I can with my own knowledge. More specific research interests are to be discovered during my graduate study. Research ExperienceUnderstanding Compilation Errors Among Novice Software Developers (Working in Progress) Supervisor: Dr. Yanyan Jiang My supervisor has collected a large-scale dataset of auto-traced git-logs in studentsâ€™ programming assignments. My job is to analyze the causes and fixing patterns of the compile errors (CE) made by the students, typical representatives of novice programmers. I built a tool to visualize each CE case. I have manually checked about 100 CEs using this tool and found some really interesting cases. Now I am trying to figure out a way to classify these CEs automatically. I am also looking for a formal way to represent different kinds of CEs. I hope the findings of this work will provide more insights into the enhancement of the readability of todayâ€™s programming tutorials and compilersâ€™ error messages. Working ExperienceMicrosoft STCA Software Engineer Intern July.2020 - Oct.2020 M365 Insights Group Suzhou, Jiangsu, China Selected ProjectsTime-away Add-on for Microsoft Teams (Intern Project) Implemented front-end components for booking a time away based on Microsoft Teams Client (TypeScript/LESS/React) More details can be obtained from the review slides. x86 Full System Emulator (Course Project) Implemented Ring 0/3 x86 instructions with interrupt/exception, paged virtual memory, and emulated devices Mini Operating System Kernel (Course Project) Completed a multi-core operating system kernel with threads, a virtual file system, and a process scheduler Câ€“ Compiler (Course Project) Included lexical, syntactic and semantic analysis, intermediate representation and MIPS instruction generation Selected Awards 2020, First Prize, National Elite Program Scholarship 2019, Second Prize, National Elite Program Scholarship 2019, Honorable Mention, Interdisciplinary Contest In Modeling (ICM) 2019, 3rd place, HKUST-NJU Academic Competition (Computer Science) 2018, Second Prize, National Elite Program Scholarship HobbiesI love Japanese anime and manga. I sometimes draw pictures for my favorite characters.Currently I am obsessed with Jujutsu Kaisen (å‘ªè¡“å»»æˆ¦).Visit me in bangumi."},{"title":"å‹æƒ…é“¾æ¥","date":"2019-01-16T09:40:48.000Z","updated":"2019-01-16T11:29:37.225Z","comments":true,"path":"friends/index.html","permalink":"https://mengzelev.github.io/friends/index.html","excerpt":"","text":"My Friends Link Marukohe Ricky-Ting Doowzs Fancy Michael Yan kuangsl congee"}],"posts":[{"title":"Notes on paper review","slug":"how-to-review-paper-notes","date":"2021-01-25T07:02:05.000Z","updated":"2021-01-25T11:22:53.959Z","comments":true,"path":"2021/01/25/how-to-review-paper-notes/","link":"","permalink":"https://mengzelev.github.io/2021/01/25/how-to-review-paper-notes/","excerpt":"","text":"è®ºæ–‡é˜…è¯»ä¸è¯„ä»·æŠ€å·§ç¬”è®°How to Read a Paper - S. Keshav3-passé˜…è¯»æ³• 1st pass: è®¤çœŸé˜…è¯»title, abstract, introduction, conclusionï¼›æµè§ˆsection &amp; subsectionçš„æ ‡é¢˜ã€æ•°å­¦å†…å®¹ï¼›referenceï¼›å…¶ä»–éƒ¨åˆ†ä¸€æ¦‚å¿½ç•¥ éœ€è¦èƒ½å¤Ÿå›ç­” 5Cs Category Context Correctness Contributions Clarity çœ‹å®Œç¬¬ä¸€éåå¯ä»¥å†³å®šéœ€ä¸éœ€è¦ç»§ç»­çœ‹ä¸‹å» 2nd pass æ¯”ç¬¬ä¸€éçœ‹å¾—æ›´è®¤çœŸï¼Œä½†ä¾ç„¶å¿½ç•¥è¯¸å¦‚è¯æ˜è¿‡ç¨‹ä¹‹ç±»çš„ç»†èŠ‚ã€‚å¯ä»¥è®°ä¸€äº›ç¬”è®°ï¼Œä¾‹å¦‚é’ˆå¯¹key pointså’Œæ²¡æœ‰ç†è§£çš„åœ°æ–¹ è®¤çœŸçœ‹æ‰€æœ‰çš„å›¾è¡¨ä¿¡æ¯ å¦‚æœæƒ³å¯¹backgroundæœ‰æ›´å¤šäº†è§£ï¼Œè¿™ä¸€æ­¥å¯ä»¥æ ‡è®°ä¸‹æ‰€æœ‰æ²¡è¯»è¿‡çš„ç›¸å…³çš„reference è¿™ä¸€æ­¥å¯èƒ½ä¼šéå¸¸æ‡µé€¼ï¼Œæœ‰3ç§é€‰æ‹©ï¼š a) è€å­ä¸çœ‹äº† b) å†·é™ä¸€ä¼šå„¿å†æ¥çœ‹ c) å¤´é“ç»§ç»­çœ‹ 3rd pass virtually re-implement æ€è€ƒpaperä¸­æ¯ä¸€ä¸ªassumptionï¼Œæƒ³ä¸€ä¸‹è‡ªå·±ä¼šæ€ä¹ˆæƒ³ï¼ŒåŠªåŠ›å»è¯å®æˆ–æ¨ç¿» jyyæ‰€è°“æœ€é«˜å¢ƒç•Œ çœ‹å®Œä¹‹åè¦èƒ½å¤Ÿä»è®°å¿†ä¸­é‡æ„å‡ºæ•´ç¯‡paper How to write a paper reviewå‚è€ƒèµ„æ–™ï¼š Stephen Mann- Reviewing a CS conference paper Neurips-Review Guidelines ç†è§£ä½œè€…ä¸ºä»€ä¹ˆè¦åšã€ä¸ºä»€ä¹ˆæœ‰è¶£ã€ä¸ºä»€ä¹ˆé‡è¦ å¯¹äºauthoræ¥è¯´ï¼Œä¸€å®šè¦åå¤é‡ç”³è‡ªå·±çš„contributionï¼Œabstract, introductionå’Œconclusioné‡Œéƒ½è¦æï¼Œç”šè‡³å¸¦ç€linkå¯ä»¥ç›´æ¥è·³åˆ°bodyé‡Œå» paper reviewä¸­éœ€è¦includeçš„å†…å®¹ Outline the paper å¼ºè°ƒpaperçš„contributionï¼Œæ— è®ºæ˜¯ä½œè€…æå‡ºçš„è¿˜æ˜¯ä½ è‡ªå·±è®¤ä¸ºçš„ ï¼ˆå­¦å§æ¨èçš„ï¼‰NeurIPSçš„paper reviewå»ºè®® summary &amp; contributions strengthsï¼šå¯ä»¥å†™çš„åŒ…æ‹¬ï¼šç»“è®ºçš„soundnessï¼Œcontributionçš„é‡è¦æ€§å’Œåˆ›æ–°æ€§ï¼Œå’Œcommunityçš„ç›¸å…³æ€§ã€‚è¡¡é‡é‡è¦æ€§çš„ä¸€ä¸ªé‡è¦æŒ‡æ ‡æ˜¯ï¼šè¿™ä»½å·¥ä½œè¢«ä»–äººå¼•ç”¨çš„å¯èƒ½æ€§æœ‰å¤šå¤§ã€‚ weaknesses: detailed, specific, polite correctness clarity: Is the paper well-written? Relation to prior work: æœ‰æ²¡æœ‰æ¸…æ¥šåœ°è§£é‡Šå’Œä¹‹å‰å·¥ä½œçš„ä¸åŒ å¯é‡ç°æ€§","categories":[],"tags":[]},{"title":"äººå·¥æ™ºèƒ½-æœŸæœ«å¤ä¹ ","slug":"artificial-intelligence","date":"2021-01-08T03:13:05.000Z","updated":"2021-01-13T01:31:03.498Z","comments":true,"path":"2021/01/08/artificial-intelligence/","link":"","permalink":"https://mengzelev.github.io/2021/01/08/artificial-intelligence/","excerpt":"","text":"äººå·¥æ™ºèƒ½è¯¾ç¨‹æœŸæœ«å¤ä¹ ç¬”è®°æˆ‘å®£å¸ƒè¯¾ç¨‹pptå†™çš„éƒ½æ˜¯$hit 2. æœç´¢ ä¸ä¼šè€ƒæ¦‚å¿µå’Œè¯æ˜ ä¼šç»™ä¸€ä¸ªæ¸¸æˆï¼ˆæ‹¼å›¾æ¸¸æˆã€ä¹å®«æ ¼ç­‰ï¼‰ çŠ¶æ€ç©ºé—´æœç´¢ çŠ¶æ€ç©ºé—´å›¾ ç»“ç‚¹$N$å’Œè¿æ¥ï¼ˆå¼§ï¼‰$A$ åˆå§‹çŠ¶æ€$S$: $N$çš„éç©ºå­é›† ç›®æ ‡çŠ¶æ€$G$: $N$çš„éç©ºå­é›† çŠ¶æ€ç©ºé—´æœç´¢ï¼šä»åˆå§‹çŠ¶æ€åˆ°ç›®æ ‡çŠ¶æ€çš„è§£è·¯å¾„ å›¾æœç´¢ï¼šéœ€è¦æ£€æµ‹å’Œæ¶ˆè§£å¾ªç¯ï¼›æ ‘æœç´¢å¯ä»¥å…é™¤æ£€æµ‹å¼€é”€ï¼› æœç´¢æ ‘ æ ¹èŠ‚ç‚¹ï¼šåˆå§‹çŠ¶æ€ è¿æ¥ï¼šçˆ¶èŠ‚ç‚¹ä¸Šçš„åˆæ³•åŠ¨ä½œ åç»§ï¼šåœ¨çˆ¶èŠ‚ç‚¹ä¸Šé‡‡ç”¨åˆæ³•åŠ¨ä½œåˆ°è¾¾çš„ç»“ç‚¹ æœç´¢æ ‘ï¼šåˆ é™¤åç»§ç»“ç‚¹ä¸­å·²ç»å‡ºç°çš„ç­‰ä»·çŠ¶æ€ï¼Œæ‰€å½¢æˆçš„æ ‘ æ•°æ®é©±åŠ¨ä¸ç›®æ ‡é©±åŠ¨ æ•°æ®é©±åŠ¨ï¼šä»è¾“å…¥æ•°æ®å‡ºå‘ï¼Œå‰å‘æœç´¢ ç›®æ ‡é©±åŠ¨ï¼šä»é¢„æœŸç»“æœå‡ºå‘ï¼Œåå‘æœç´¢| ç›®æ ‡è¡¨ç¤ºå½¢å¼ | æ½œåœ¨ç›®æ ‡æ•°ç›® | é—®é¢˜åˆå§‹äº‹å® | åŒ¹é…è§„åˆ™æ•°ç›®â€”â€”â€“ | â€”â€”â€”â€” | â€”â€”â€”â€” | â€”â€”â€”â€” | â€”â€”â€”â€”æ•°æ®é©±åŠ¨ | éš¾ | å¤š | å¤š |ç›®æ ‡é©±åŠ¨ | æ˜“ | | å°‘ | å¤š BFS/DFS è¿­ä»£åŠ æ·±æ·±åº¦ä¼˜å…ˆï¼šåœ¨æ‰¾åˆ°ä¹‹å‰ä¸æ–­å¢åŠ æœ€å¤§å…è®¸è¿­ä»£æ·±åº¦ æœ€ä½³ä¼˜å…ˆæœç´¢ï¼š å¦‚æœèƒ½é¢„å…ˆè®¡ç®—å‡ºæ¯ä¸ªç‚¹åˆ°ç»ˆç‚¹çš„è·ç¦»ï¼Œæ¯æ¬¡ç§»åŠ¨å°±å¯ä»¥é€‰å–ç¦»ç»ˆç‚¹æœ€è¿‘çš„ç»“ç‚¹ï¼Œè¿™æ ·èƒ½æ¯”BFSæ›´å¿«åœ°åˆ°è¾¾ç»ˆç‚¹ ä¸ºæ¯ä¸ªç‚¹åˆ°ç»ˆç‚¹çš„è·ç¦»å®šä¹‰ä¸€ä¸ªå¯å‘å¼å‡½æ•°ï¼Œæ¯æ¬¡ç§»åŠ¨é€‰æ‹©å¯å‘è·ç¦»å€¼æœ€å°çš„ç»“ç‚¹ ä½†å¦‚æœå­˜åœ¨éšœç¢ç‰©ï¼Œæ‰¾åˆ°çš„ä¸ä¸€å®šæ˜¯æœ€çŸ­è·¯å¾„ å¯å‘å¼æœç´¢å‚è€ƒæ–‡ç«  çˆ¬å±±æœç´¢ æ‰©å±•å½“å‰èŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹ï¼Œé€‰æ‹©â€œæœ€ä¼˜â€å­èŠ‚ç‚¹ä½œä¸ºä¸‹ä¸€æ­¥ï¼Œå¦‚æœæ‰€æœ‰å­èŠ‚ç‚¹éƒ½ä¸å¦‚å½“å‰ç»“ç‚¹ä¼˜ï¼Œåˆ™åœæ­¢æœç´¢ æ²¡æœ‰å›æº¯ï¼Œå®¹æ˜“é™·å…¥å±€éƒ¨æœ€ä¼˜è§£ A*ç®—æ³• ç”¨$f(n)=h(n)+g(n)$ä½œä¸ºæ’åºä¾æ®ï¼Œ$g(n)$è¡¨ç¤ºèµ·ç‚¹åˆ°å½“å‰ç»“ç‚¹çš„å·²ç§»åŠ¨å¼€é”€, $h(n)$ä¸ºå½“å‰ç»“ç‚¹åˆ°ç»ˆç‚¹çš„ä¼°è®¡å¼€é”€ï¼ˆå¯å‘å‡½æ•°ï¼‰,$h$éœ€è¦æ ¹æ®ç»éªŒã€ç›´è§‰ã€ç ”ç©¶æ‰èƒ½ç¡®å®šï¼Œå¯ä»¥é‡‡ç”¨å¦‚æ›¼å“ˆé¡¿è·ç¦» æ¯æ¬¡ä»open_listï¼ˆå¾…æ£€æµ‹ç»“ç‚¹é˜Ÿåˆ—ï¼‰é€‰å–$f(n)$å€¼æœ€å°çš„ç»“ç‚¹ï¼› å¦‚æœè¯¥èŠ‚ç‚¹ä¸ºç»ˆç‚¹ï¼Œåˆ™æœç´¢ç»ˆæ­¢ï¼Œæ²¿ç€çˆ¶èŠ‚ç‚¹ä¸€è·¯æ‘¸å›èµ·ç‚¹ä½œä¸ºç»“æœè·¯å¾„ å¦‚æœéç»ˆç‚¹ï¼Œåˆ™éå†è¯¥ç»“ç‚¹çš„æ‰€æœ‰ä¸´è¿‘ç»“ç‚¹ï¼›ä¸åœ¨open_listä¸­çš„é‚»è¿‘ç»“ç‚¹åŠ å…¥open_listï¼Œå¹¶ä¿®æ”¹ä»–ä»¬çš„çˆ¶èŠ‚ç‚¹ä¸ºå½“å‰ç»“ç‚¹ï¼›å·²ç»åœ¨open_listä¸­çš„æ£€æŸ¥å½“å‰è·¯å¾„æ˜¯å¦æ›´è¿‘ï¼Œæ›´è¿‘çš„è¯è¿›è¡Œæ›´æ–°ï¼› å¦‚æœopen_listç©ºäº†ä½†æ˜¯æ²¡æœ‰æ‰¾åˆ°ç»ˆç‚¹ï¼Œåˆ™æœç´¢å¤±è´¥ ç”¨$f(n)$æ›¿ä»£äº†Dijkstraé‡Œçš„è·¯å¾„å‡½æ•° æ€§è´¨ï¼šå¯é‡‡çº³æ€§ã€æœ€ä¼˜æ€§ã€å•è°ƒæ€§ ç®€æ˜“ç†è§£ï¼šçˆ¬å±±æœç´¢+å›æº¯=æœ€ä½³ä¼˜å…ˆï¼›æœ€ä½³ä¼˜å…ˆ+å¯å‘å¼æ’åºä¾æ®=A* ä¸€äº›ä¾‹å­ äº•å­—æ£‹ï¼šå–èƒœçº¿è·¯æ•°ç›® 8-puzzleï¼šé”™ä½ç‰Œè·ç¦»å’Œ/é”™ä½ç‰Œæ•°/è·ç¦»+2*é¢ å€’ç‰Œæ•° åšå¼ˆæ ‘æœç´¢ æå°æå¤§è¿‡ç¨‹MIN-MAX MAXï¼šæˆ‘æ–¹ï¼Œæœ€å¤§åŒ–æ”¶ç›Šï¼›MINï¼šå¯¹æ‰‹ï¼Œæœ€å°åŒ–æ”¶ç›Šï¼› å°†å¯å‘å€¼ï¼ˆåˆ©ç›Šå€¼ï¼‰è‡ªåº•å‘ä¸Šä¼ æ’­ï¼šçˆ¶ç»“ç‚¹ä¸ºMAXå°±å°†å­ç»“ç‚¹ä¸­çš„æœ€å¤§å€¼ä¼ ç»™å®ƒï¼›MINç»“ç‚¹å°±å°†æœ€å°å€¼ä¼ ç»™å®ƒ æå¤§æå°æœç´¢ å¯¹æ¯ä¸€æ­¥éƒ½DFSè®¡ç®—æ‰€æœ‰å¯èƒ½çš„ç»“æœä¸åˆ©ç›Šå€¼ï¼Œé€‰æ‹©èƒ½ä½¿åˆ©ç›Šæœ€å¤§åŒ–çš„é‚£ä¸ªç»“ç‚¹ï¼›ä¸ºäº†é˜²æ­¢å¼€é”€è¿‡å¤§ä¸€èˆ¬ä¼šé™åˆ¶æœç´¢æ·±åº¦ï¼› $\\alpha-\\beta$å‰ªæ $\\alpha$ï¼šæˆ‘æ–¹çš„æœ€ä¼˜è§£ $\\beta$ï¼šå¯¹æ‰‹çš„æœ€ä¼˜è§£ ä¸»æ—¨ï¼šå½“æˆ‘çŸ¥é“æƒ…å†µè‚¯å®šä¼šå˜åæ—¶ï¼Œæˆ‘å°±ä¸éœ€è¦çŸ¥é“å…·ä½“ä¼šå˜å¾—æœ‰å¤šå å½“å¤„ç†æˆ‘æ–¹ç»“ç‚¹æ—¶ï¼Œå¦‚æœä»è¯¥æˆ‘æ–¹ç»“ç‚¹å¼€å§‹çš„æŸä¸€æ¡è·¯å¾„æœ€ç»ˆåˆ°è¾¾çš„å¶å­ç»“ç‚¹çš„åˆ©ç›Šå€¼ï¼ˆè¯¥ç»“ç‚¹çš„å­ç»“ç‚¹çš„$\\beta$å€¼ï¼‰å°äºå½“å‰çš„$\\alpha$å€¼ï¼Œé‚£ä¹ˆä»è¯¥ç»“ç‚¹å¼€å§‹çš„å…¶ä»–è·¯å¾„éƒ½æ— éœ€å†è€ƒè™‘ï¼ˆå‰ªæï¼‰ï¼› å½“å¤„ç†æ•Œæ–¹ç»“ç‚¹æ—¶ï¼Œå¦‚æœä»è¯¥æ•Œæ–¹ç»“ç‚¹å¼€å§‹çš„æŸä¸€æ¡è·¯å¾„æœ€ç»ˆåˆ°è¾¾çš„å¶å­ç»“ç‚¹çš„åˆ©ç›Šå€¼ï¼ˆè¯¥ç»“ç‚¹çš„å­èŠ‚ç‚¹çš„$\\alpha$å€¼ï¼‰å¤§äºå½“å‰çš„$\\beta$å€¼ï¼Œé‚£ä¹ˆä»è¯¥ç»“ç‚¹å¼€å§‹çš„å…¶ä»–è·¯å¾„éƒ½æ— éœ€å†è€ƒè™‘ï¼ˆå‰ªæï¼‰ å¯¹ç»“ç‚¹æ’åºéå¸¸æ•æ„Ÿ 3. æ¨ç†å‚è€ƒæ–‡ç«  å½’ç»“ ä»æ–‡å­—æè¿°ä¸­æŠ½è±¡å‡ºå½¢å¼åŒ–çš„å‘½é¢˜è¡¨ç¤ºï¼ˆç›®æ ‡å‘½é¢˜é‡‡ç”¨å¦å®šå½¢å¼åŠ å…¥é›†åˆï¼‰ æ‰€æœ‰å‘½é¢˜ä¹‹é—´æ˜¯åˆå–å…³ç³»ï¼Œå› æ­¤å‘½é¢˜å†…éƒ¨è¦è½¬åŒ–æˆæå–å½¢å¼ï¼ˆå­å¥ï¼‰ å°†æ‰€æœ‰å‘½é¢˜æ‹†æˆå¤šä¸ªå­å¥ æ¶ˆå»æ‰€æœ‰$P\\to Q$ï¼Œå†™æˆ$\\neg P\\vee Q$ å°†å¦å®š$\\neg$ç§»åˆ°æœ€å†…æœ€å³ æ”¹åï¼Œä½¿å¾—æ²¡æœ‰åŒåçš„çº¦æŸå˜é‡ æ¶ˆå»$\\exists$ï¼Œç”¨çº¦æŸå˜å…ƒçš„å‡½æ•°æ›¿ä»£ æ¶ˆå»$\\forall$ï¼Œç›´æ¥å»æ‰ ç”¨å…¬å¼åŒ–ä¸ºåˆå–èŒƒå¼å½¢å¼ æ”¹åï¼Œä½¿ä¸åŒå­å¥å˜é‡ä¸åŒå å¦‚æœä¸¤ä¸ªå­å¥åˆ†åˆ«ä¸º$\\neg P\\vee Q$å’Œ$P\\vee R$çš„å½¢å¼ï¼Œåˆ™è¯¥ä¸¤ä¸ªå­å¥å¯ä»¥è¿›è¡Œæ¶ˆè§£ï¼Œå˜æˆ$R\\vee Q$ ï¼ˆå˜å…ƒä¸åŒæ—¶è¦è¿›è¡Œæ›¿ä»£ï¼‰ æ¶ˆè§£æœ€åå¾—åˆ°ç©ºå‘½é¢˜ï¼Œåˆ™è¯´æ˜è¯¥å‘½é¢˜ç»„æ˜¯ä¸å¯è¯æ˜çš„ è‡ªåŠ¨æ±‚è§£ç­–ç•¥ å®½åº¦ä¼˜å…ˆç­–ç•¥ å…ˆç©·ä¸¾æ‰€æœ‰ç»„åˆå½’ç»“å‡ºæ‰€æœ‰èƒ½ç”Ÿæˆçš„å½’ç»“å¼ï¼Œç§°ä¸ºç¬¬ä¸€ç»™å½’ç»“å¼ï¼›æŠŠç¬¬ä¸€å½’ç»“å¼åŠ å…¥é›†åˆå†ç©·ä¸¾ä¸€éå¾—åˆ°ç¬¬äºŒå½’ç»“å¼ï¼›ä»¥æ­¤ç±»æ¨ã€‚ å®Œå¤‡ï¼Œä½†æ•ˆç‡ä½ æ”¯æŒé›†ç­–ç•¥ æ¯ä¸€æ¬¡å½’ç»“æ—¶ï¼Œå…¶æ¯å­å¥ä¸­ï¼Œè‡³å°‘æœ‰ä¸€ä¸ªæ˜¯ä¸ç›®æ ‡å…¬å¼å¦å®šå¼æœ‰å…³çš„å­å¥ å®Œå¤‡ å•å…ƒå­å¥ä¼˜å…ˆç­–ç•¥ æ¯æ¬¡å½’ç»“æ—¶ä¼˜å…ˆé€‰å–å•æ–‡å­—çš„å­å¥ï¼ˆç§°å•å…ƒå­å¥ï¼‰ä¸ºæ¯å­å¥è¿›è¡Œå½’ç»“åˆä¸€ åœ¨è°“è¯é€»è¾‘ä¸­åº”ç”¨æ¶ˆè§£åŸç†ï¼Œä¸€èˆ¬éœ€è¦å¯¹ä¸ªä½“å˜å…ƒä½œé€‚å½“æ›¿æ¢ å¯¹äºä¸€ä¸ªåŸå­è°“è¯å…¬å¼é›†ï¼Œå¦‚æœå­˜åœ¨ä¸€ç§æ›¿æ¢ï¼Œä½¿å¾—é›†åˆä¸­æ‰€æœ‰å…¬å¼ç›¸ç­‰ï¼Œé‚£ä¹ˆè¯¥æ›¿æ¢ç§°ä¸ºè¯¥é›†åˆçš„ä¸€ä¸ªåˆä¸€ åˆä¸€ä¸å”¯ä¸€ï¼Œä½†å­˜åœ¨å”¯ä¸€çš„æœ€ä¸€èˆ¬åˆä¸€ï¼ˆMGUï¼‰ã€‚ä»»æ„ä¸€ä¸ªåˆä¸€éƒ½èƒ½ç”±å¯¹æœ€ä¸€èˆ¬åˆä¸€è¿›è¡Œæ›¿æ¢å¾—åˆ°ã€‚ å·®å¼‚é›†ï¼šä»åŸå­è°“è¯å…¬å¼é›†$S$çš„ç¬¬ä¸€é¡¹å¼€å§‹ï¼ŒåŒæ—¶å‘å³æ¯”è¾ƒï¼Œç›´åˆ°å‘ç°ç¬¬ä¸€ä¸ªä¸åŒçš„é¡¹ä¸ºæ­¢ã€‚è¿™äº›é¡¹çš„å·®å¼‚éƒ¨åˆ†ç»„æˆä¸€ä¸ªå·®å¼‚é›†ã€‚e.g. $P(x, y, g(z))$å’Œ$P(x, f(a), b)$æœ‰ä¸¤ä¸ªå·®å¼‚é›†$D_1={y,f(a)}$å’Œ$D_2={g(z), b}$ åˆä¸€ç®—æ³•ï¼šæ±‚æœ€ä¸€èˆ¬åˆä¸€ ä»å·¦ä¾§å¼€å§‹è¿­ä»£æ¯ä¸€ä¸ªå·®å¼‚é›†ï¼Œè¿›è¡Œæ›¿æ¢ã€‚å¦‚æœå·®å¼‚é›†æ˜¯ä¸€ä¸ªé¡¹å’Œä¸€ä¸ªå˜å…ƒï¼Œä¸”å˜å…ƒä¸åœ¨é¡¹ä¸­å‡ºç°ï¼Œåˆ™ç”¨é¡¹æ›¿ä»£å˜å…ƒã€‚å¦‚æœä¸æ»¡è¶³è¦æ±‚åˆ™æ— æ³•åˆä¸€ï¼Œç®—æ³•ç»ˆæ­¢ã€‚è¿­ä»£åˆ°ä»…å‰©é›†åˆ$S$åªå‰©ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œç®—æ³•ç»ˆæ­¢ã€‚ æ³¨æ„ï¼šæ¯è¿›è¡Œä¸€æ¬¡æ›¿æ¢æ—¶ï¼Œè°“è¯å…¬å¼çš„æ‰€æœ‰é¡¹éƒ½è¦è¿›è¡ŒåŒæ­¥æ›¿æ¢ã€‚ 4. çŸ¥è¯†è¡¨ç¤ºè¯­ä¹‰ç½‘ç»œã€æ¡†æ¶è¡¨ç¤ºã€äº§ç”Ÿç³»ç»Ÿ ä¸€é˜¶è°“è¯è¡¨ç¤º çŠ¶æ€è°“è¯+æ“ä½œè°“è¯ ç”¨çŠ¶æ€è°“è¯è¡¨ç¤ºåˆå§‹çŠ¶æ€å’Œç›®æ ‡çŠ¶æ€ ä¸ºæ“ä½œè°“è¯å®šä¹‰è¯­ä¹‰ï¼šæ‰§è¡Œæ¡ä»¶+æ‰§è¡Œæ•ˆæœ åˆä¸€+æœç´ å®Œæˆè§„åˆ’æ±‚è§£ äº§ç”Ÿå¼è¡¨ç¤ºæ³• é•¿å¾—åƒé€»è¾‘è•´æ¶µå¼ï¼Œä½†ä¸ä¸€æ ·ï¼šäº§ç”Ÿå¼è¡¨ç¤ºçš„æ¨ç†å…³ç³»å¯ä»¥æ˜¯ä¸ç²¾ç¡®çš„ï¼ˆå¯ä¿¡åº¦ï¼‰ æŠŠäº§ç”Ÿå¼çœ‹æˆè¾¹ï¼Œæ¨ç†è¿‡ç¨‹ç±»ä¼¼DFS äº§ç”Ÿå¼ç³»ç»Ÿ ä¸€å †äº§ç”Ÿå¼ï¼ŒæŸä¸€ä¸ªäº§ç”Ÿå¼çš„ç»“æœå¯ä»¥ä½œä¸ºå¦ä¸€ä¸ªäº§ç”Ÿå¼çš„å‰æä½¿ç”¨ æ•°æ®åº“ï¼šå·¥ä½œå†…å­˜ï¼Œå†…å®¹åœ¨æ¨ç†è¿‡ç¨‹ä¸­åŠ¨æ€å˜åŒ–ï¼ŒåŒ…æ‹¬ï¼šåˆå§‹çŠ¶æ€ã€åŸå§‹è¯æ®ã€ä¸­é—´ç»“è®ºã€æœ€ç»ˆç»“è®º è§„åˆ™åº“ï¼šé¡¾åæ€ä¹‰ æ§åˆ¶ç³»ç»Ÿï¼šè·‘ç®—æ³•çš„ æ­£å‘æ¨ç†ï¼šæ•°æ®é©±åŠ¨ åå‘æ¨ç†ï¼šç›®æ ‡é©±åŠ¨ å†²çªæ¶ˆè§£ï¼ˆå½“æœ‰å¤šä¸ªå¯ä»¥é‡‡ç”¨çš„äº§ç”Ÿå¼æ—¶ï¼‰ è¯­ä¹‰ç½‘ç»œè¡¨ç¤ºæ³• æœ‰å‘å›¾ï¼Œç»“ç‚¹è¡¨ç¤ºæ¦‚å¿µï¼Œè¾¹è¡¨ç¤ºæ¦‚å¿µé—´çš„è¯­ä¹‰å…³ç³» åŸºæœ¬è¯­ä¹‰å…³ç³» ç±»å±å…³ç³»ã€åŒ…å«æˆ–èšç±»å…³ç³»ã€å±æ€§å…³ç³»ã€æ—¶é—´å…³ç³»ã€ä½ç½®å…³ç³»ã€ç›¸ä¼¼å…³ç³»ã€æ¨è®ºå…³ç³»ã€äºŒå…ƒå…³ç³»/å¤šå…ƒå…³ç³» ç»§æ‰¿ï¼šæŠŠäº‹ç‰©çš„æè¿°ä»æŠ½è±¡ç»“ç‚¹ä¼ é€’åˆ°å…·ä½“ç»“ç‚¹ï¼Œé€šå¸¸æ²¿ç€ç±»å±å…³ç³»ISAç­‰å…·æœ‰ç»§æ‰¿å…³ç³»çš„è¾¹è¿›è¡Œ åŒ¹é…ï¼šæŠŠå¾…æ±‚è§£é—®é¢˜æ„é€ ä¸ºç½‘ç»œç‰‡æ®µï¼Œå…¶ä¸­æŸäº›ç»“ç‚¹æˆ–è¾¹çš„æ ‡è¯†æ˜¯ç©ºçš„ï¼Œç§°ä¸ºè¯¢é—®ç‚¹ï¼›å°†ç½‘ç»œç‰‡æ®µä¸çŸ¥è¯†åº“ä¸­çš„æŸä¸ªè¯­ä¹‰ç½‘ç»œç‰‡æ®µè¿›è¡ŒåŒ¹é…ï¼Œåˆ™ä¸è¯¢é—®ç‚¹ç›¸åŒ¹é…çš„äº‹å®å°±æ˜¯è¯¥é—®é¢˜çš„è§£ æ¡†æ¶è¡¨ç¤º æ¡†æ¶ï¼šæè¿°å¯¹è±¡å±æ€§çš„ä¸€ç§æ•°æ®ç»“æ„ã€‚æ¡†æ¶è¡¨ç¤ºæ³•ä¸­çŸ¥è¯†è¡¨ç¤ºçš„æœ€åŸºæœ¬å•å…ƒã€‚ æ§½ï¼šæè¿°æŸä¸€æ–¹é¢çš„å±æ€§ ä¾§é¢ï¼šå±æ€§çš„æŸä¸€æ–¹é¢ e.g. å’’æœ¯å¸ˆæ¡†æ¶ï¼Œå’’åŠ›æ§½ï¼Œä¾§é¢ï¼šå’’åŠ›é‡ï¼Œå’’åŠ›æ“ä½œç²¾åº¦ æ¡†æ¶ç½‘è·¯ç³»ç»Ÿï¼šå°†å¤šä¸ªç›¸äº’å…³è”çš„æ¡†æ¶è¿æ¥èµ·æ¥ç»„ç»‡çš„çŸ¥è¯†è¡¨ç¤ºå’Œæ¨ç†ç³»ç»Ÿ çºµå‘è”ç³»ï¼šæ¡†æ¶ä¸­å¢åŠ ç»§æ‰¿æ§½ï¼Œe.g. ç‰¹çº§å’’æœ¯å¸ˆæ¡†æ¶ç»§æ‰¿å’’æœ¯å¸ˆæ¡†æ¶ æ¨ªå‘è”ç³»ï¼šæ§½å€¼æˆ–ä¾§é¢å€¼ä¸ºå¦ä¸€ä¸ªæ¡†æ¶åï¼Œe.g. å’’æœ¯å¸ˆæ¡†æ¶ä¸­åŒ…å«æœ¯å¼æ§½ 5. ä¸ç¡®å®šæ€§æ¨ç†ç¡®ä¿¡åº¦ç†è®ºï¼ˆå¬è¯´æ²¡ä»€ä¹ˆäººç”¨äº†æ‰€ä»¥ä¸ä¼šè€ƒï¼‰ IF E THEN H (CF(H|E)) Eä¸ºå‰æï¼ŒHä¸ºç»“è®ºï¼ŒCF(H|E)æ˜¯ç¡®ä¿¡åº¦ï¼Œè¡¨ç¤ºEæˆç«‹æ—¶Hæˆç«‹çš„æ¦‚ç‡ DSè¯æ®ç†è®ºå‚è€ƒæ–‡ç«  è¾¨è¯†æ¡†æ¶$\\Omega$ï¼šä¸€ä¸ªé›†åˆï¼ŒåŒ…å«$n$ä¸ªä¸¤ä¸¤äº’æ–¥äº‹ä»¶ æ¦‚ç‡å¯†åº¦å‡½æ•°ï¼š$m: 2^\\Omega\\to [0,1]$ï¼Œ$m(A), A\\subseteq\\Omega$è¡¨ç¤º$A$ä¸­äº‹ä»¶å‘ç”Ÿçš„æ¦‚ç‡ ä¿¡ä»»å‡½æ•°ï¼š$Bel: 2^\\Omega\\to [0,1]$ï¼Œ$Bel(A)=\\sum\\limits_{B\\subseteq A}m(B)$ï¼Œå³è¯¥äº‹ä»¶ï¼ˆäº‹å®é›†åˆï¼‰æ‰€æœ‰å­é›†çš„æ¦‚ç‡å¯†åº¦ä¹‹å’Œï¼›ä¸‹é™å‡½æ•°ï¼Œè¡¨ç¤ºå¯¹$A$çš„æ€»ä¿¡ä»»åº¦ ä¼¼ç„¶å‡½æ•°ï¼š$Pl: 2^\\Omega\\to [0,1]$, $Pl(A)=1-Bel(\\neg A)$ï¼›å³ä¸è¯¥äº‹ä»¶äº¤é›†ä¸ä¸ºç©ºçš„æ¦‚ç‡ä¹‹å’Œï¼›ä¸Šé™å‡½æ•°ï¼Œè¡¨ç¤ºå¯¹$A$éå‡çš„ä¿¡ä»»åº¦ $A$éå‡$\\neq$çœŸï¼Œå­˜åœ¨ä¸çŸ¥é“çš„æƒ…å†µï¼Œå› æ­¤æœ‰$Pl(A)\\ge Bel(A)$ $[Bel(A), Pl(A)]$æ„æˆå¯¹$A$çš„ä¿¡ä»»åº¦åŒºé—´ Dempsterè¯æ®åˆå¹¶è§„åˆ™$$m_1\\oplus m_2(A)=\\frac{1}{K}\\sum\\limits_{B\\cap C=A}m_1(B)\\cdot m_2(C)\\K=\\sum\\limits_{B\\cap C\\neq\\emptyset}m_1(B)\\cdot m_2(C)=1-\\sum\\limits_{B\\cap C=\\emptyset}m_1(B)\\cdot m_2(C)$$ è®¡ç®—$K$ç¬¬äºŒä¸ªå…¬å¼æ›´å¥½ç”¨ï¼Œä¸å®¹æ˜“æ¼æ‰ è®¡ç®—æ—¶ç”¨ç©·ä¸¾ï¼Œä¸€å®šè¦æ³¨æ„ä¸é‡ä¸æ¼ï¼ï¼ï¼ 6. è´å¶æ–¯ç½‘ç»œè´å¶æ–¯ç½‘ç»œçš„æ¨ç†ï¼ˆçŸ¥å› é—®æœã€çŸ¥æœé—®å› ï¼‰ å‚è€ƒæ–‡ç«  è´å¶æ–¯å®šç†ï¼šå·²çŸ¥Bå‘ç”Ÿï¼ŒAçš„åéªŒæ¦‚ç‡$P(A\\mid B)=\\frac{P(B\\mid A)\\cdot P(A)}{P(B)}$ è´å¶æ–¯ç½‘ç»œï¼š DAGï¼Œç»“ç‚¹ä¸ºéšæœºå˜é‡ï¼Œè¾¹$X\\to Y$è¡¨ç¤º$X, Y$å…·æœ‰å› æœå…³ç³»ï¼ˆéæ¡ä»¶ç‹¬ç«‹ï¼‰ï¼Œ$X$ä¸ºå› ï¼Œ$Y$ä¸ºæœ è”åˆæ¦‚ç‡$P(X_1X_2\\ldots X_n)=\\prod\\limits_{i=1}^{n}P(X_i\\mid \\pi(X_i))$, $\\pi(X_i)$è¡¨ç¤º$X_i$åœ¨å›¾ä¸­æ‰€æœ‰çš„å‰é©± d-å¯åˆ†ï¼ˆD-separationï¼‰ | è¿æ¥ç±»å‹ | ä¸­é—´ç»“ç‚¹æœªçŸ¥ | ä¸­é—´ç»“ç‚¹å·²çŸ¥ || â€”â€”â€”â€”â€”â€”â€”- | â€”â€”â€”â€”â€“ | â€”â€”â€”â€”â€“ || head-to-head(æ±‡åˆè¿æ¥) | ä¸¤å¤´ç»“ç‚¹ç‹¬ç«‹ | ä¸¤å¤´ç»“ç‚¹ä¸ç‹¬ç«‹ || tail-to-tail(åˆ†æ”¯è¿æ¥) | ä¸¤å¤´ç»“ç‚¹ä¸ç‹¬ç«‹ | ä¸¤å¤´ç»“ç‚¹ç‹¬ç«‹ || head-to-tail(é¡ºåºè¿æ¥) | ä¸¤å¤´ç»“ç‚¹ä¸ç‹¬ç«‹ | ä¸¤å¤´ç»“ç‚¹ç‹¬ç«‹ | åˆ¤æ–­è´å¶æ–¯ç½‘ç»œä¸­ä¸¤ä¸ªç»“ç‚¹æ˜¯å¦ç‹¬ç«‹ï¼šçœ‹ä¸¤ä¸ªç»“ç‚¹ä¹‹é—´çš„æ‰€æœ‰è·¯å¾„æ˜¯å¦éƒ½è¢«é˜»å¡ï¼ˆåªè¦æœ‰ä¸€ä¸ªé˜»å¡ç»“ç‚¹å°±å¯ä»¥ï¼‰ï¼š head-to-headè¿æ¥ï¼šè·¯å¾„ä¸ŠæœªçŸ¥ç»“ç‚¹é˜»å¡è·¯å¾„ head-to-tail/tail-to-tailè¿æ¥ï¼šè·¯å¾„ä¸Šå·²çŸ¥ç»“ç‚¹é˜»å¡è·¯å¾„ åç»§ç»“ç‚¹çš„å·²çŸ¥/æœªçŸ¥çŠ¶æ€å¯ä»¥ä¼ å¯¼ï¼Œe.g.å¦‚æœè·¯å¾„ä¸Šå­˜åœ¨head-to-headè¿æ¥å¤„ç»“ç‚¹çš„åç»§ç»“ç‚¹å·²çŸ¥ï¼Œé‚£ä¹ˆè¯¥æ±‡åˆè¿æ¥ä¹Ÿä¼šè¢«é˜»å¡ åˆ©ç”¨ç‹¬ç«‹æ€§å¯ä»¥åŒ–ç®€æ¡ä»¶æ¦‚ç‡ï¼šè‹¥$A, B$ç‹¬ç«‹ï¼Œåˆ™$P(A\\mid B)=P(A)$ è´å¶æ–¯ç½‘ç»œçš„æ„å»º å˜é‡çš„åºä¼šå½±å“æœ€ç»ˆçš„æ„å»ºç»“æœ è´å¶æ–¯ç½‘ç»œæ¨ç† å› æœæ¨ç†ï¼šçŸ¥é“åŸå› ï¼Œæ¨å‡ºç»“æœçš„æ¦‚ç‡ æ‹¿å‡ºç»“æœç»“ç‚¹çš„æ‰€æœ‰åŸå› ç»“ç‚¹è¿›è¡Œé‡æ–°è¡¨è¿°ï¼ŒåŒ–ç®€ä½¿å¾—è®¡ç®—æ‰€ç”¨çš„æ¦‚ç‡éƒ½æ˜¯å·²çŸ¥çš„ è¯Šæ–­æ¨ç†ï¼šçŸ¥é“ç»“æœï¼Œæ¨å‡ºåŸå› çš„æ¦‚ç‡ å…ˆç”¨è´å¶æ–¯å…¬å¼è½¬åŒ–ä¸ºå› æœæ¨ç† æ”¯æŒæ¨ç†ï¼šåˆ†æåŸå› é—´çš„ç›¸äº’å½±å“â€”â€”è¿™ä¸ªæ²¡è®² 7. é©¬å°”å¯å¤«é€»è¾‘ç½‘ç»œé©¬å°”å¯å¤«ç½‘å‚è€ƒæ–‡ç«  åœ¨è´å¶æ–¯ç½‘çš„åŸºç¡€ä¸Šï¼Œéšæœºå˜é‡é—´ä¸ä¸€å®šæ˜¯å› æœå…³ç³»ï¼Œå¯èƒ½åªæ˜¯å•çº¯çš„æœ‰å…³è”ï¼Œå› æ­¤å°†æœ‰å‘å›¾æ”¹ä¸ºæ— å‘å›¾å°±å¾—åˆ°äº†é©¬å°”å¯å¤«ç½‘ é©¬å°”å¯å¤«ç½‘ä¸­ï¼Œäº²å¯†å…³ç³»ç”¨å› å­$\\phi(D)$æ¥è¡¨ç¤º è”åˆåˆ†å¸ƒå‡½æ•°ï¼ˆå‰å¸ƒæ–¯æµ‹åº¦ï¼‰$P(x)=\\frac{1}{Z}\\prod\\limits_{Q\\in cliques(H)}\\phi(Q)x_Q$. å…¶ä¸­ï¼Œ$cliques(H)$è¡¨ç¤ºæ— å‘å›¾$H$ä¸­æ‰€æœ‰cliqueçš„é›†åˆï¼›$x_Q$ä¸ºå›¢ç°‡$Q$ä¸­æ‰€æœ‰çš„éšæœºå˜é‡ï¼Œ$\\phi(Q)$ä¸ºå›¢ç°‡$Q$çš„å› å­ $Z$ä¸ºå½’ä¸€åŒ–å¸¸æ•°ï¼Œä¸ºäº†ç¡®ä¿ç»“æœæ˜¯æ¦‚ç‡ï¼Œå®šä¹‰ä¸º$Z=\\sum\\limits_{x\\in H}\\prod\\limits_{Q\\in cliques(H)}\\phi(Q)x_Q$ å¯¹æ•°çº¿æ€§æ¨¡å‹ ä¸ºäº†è®©ä¹˜ç§¯å˜æˆæ±‚å’Œï¼Œå› æ­¤ä¸€èˆ¬é‡‡ç”¨å¯¹æ•°å½¢å¼ ç‹¬ç«‹æ€§ é©¬å°”å¯å¤«ç½‘ä¸­çš„ç‹¬ç«‹æ€§æœ‰3ç§è¡¨ç¤ºæ–¹å¼ï¼Œäº’ç›¸ç­‰ä»· æˆå¯¹é©¬å°”å¯å¤«ç‹¬ç«‹æ€§ï¼šå¯¹äºä»»æ„ä¸¤ä¸ªä¸ç›¸é‚»å˜é‡ï¼Œç»™å®šå…¶ä»–æ‰€æœ‰å˜é‡ï¼Œè¿™ä¸¤ä¸ªå˜é‡æ¡ä»¶ç‹¬ç«‹ å±€éƒ¨é©¬å°”å¯å¤«ç‹¬ç«‹æ€§ï¼šå¯¹äºä»»æ„ä¸€ä¸ªå˜é‡ï¼Œç»™å®šä¸å®ƒç›¸é‚»çš„æ‰€æœ‰å˜é‡ï¼Œè¿™ä¸ªå˜é‡å’Œä¸ä»–ä¸ç›¸é‚»çš„æ‰€æœ‰å˜é‡ç‹¬ç«‹ å…¨å±€é©¬å°”å¯å¤«ç‹¬ç«‹æ€§ï¼šå¯¹äºAï¼ŒBä¸¤ä¸ªå˜é‡å­é›†ï¼Œç»™å®šèƒ½æŠŠAï¼ŒBåˆ†å¼€çš„ç»“ç‚¹é›†åˆCä¸­çš„æ‰€æœ‰å˜é‡ï¼ŒAã€Bä¸¤ä¸ªé›†åˆçš„å˜é‡ç‹¬ç«‹ æ„å»ºé©¬å°”å¯å¤«ç½‘ç»œï¼šæ ¹æ®ç‹¬ç«‹æ€§ 8. ç¬¦å·å­¦ä¹ æ®è¯´ï¼šæœ¬ç« å®Œæ•´ç‰ˆ ID3ç®—æ³•ç›´æ¥çœ‹ğŸ‰ä¹¦ ä¸€èˆ¬è·¯è¿‡å†³ç­–æ ‘ç®—æ³• è¾“å…¥ï¼šè®­ç»ƒé›†$D={(x_1, y_1), (x_2,y_2), \\ldots, (x_m, y_m)}$ï¼› å±æ€§é›†$A={a_1,a_2,\\ldots a_d}$ 1234567891011121314151617TreeGenerate(D, A): ç”Ÿæˆç»“ç‚¹ node if Dä¸­æ ·æœ¬å…¨å±äºç»Ÿä¸€ç±»åˆ«C å°†nodeæ ‡è®°ä¸ºCç±»å¶ç»“ç‚¹ return if A &#x3D; \\emptyset or Dä¸­æ ·æœ¬åœ¨Aä¸Šå–å€¼ç›¸åŒ å°†nodeæ ‡è®°ä¸ºå¶ç»“ç‚¹ï¼Œç±»åˆ«æ ‡è®°ä¸ºDä¸­æ ·æœ¬æ•°æœ€å¤šçš„ç±» return ä»Aä¸­é€‰æ‹©æœ€ä¼˜åˆ’åˆ†å±æ€§a_* for a_*çš„æ¯ä¸€ä¸ªå€¼a_*^v ä¸ºnodeç”Ÿæˆä¸€ä¸ªåˆ†æ”¯ï¼› ä»¤D_vè¡¨ç¤ºDä¸­åœ¨a_*ä¸Šå–å€¼ä¸ºa_*^vçš„æ ·æœ¬å­é›† if D_vä¸ºç©º å°†åˆ†æ”¯ç»“ç‚¹æ ‡è®°ä¸ºå¶ç»“ç‚¹ï¼Œå…¶ç±»åˆ«æ ‡è®°ä¸ºDä¸­æ ·æœ¬æœ€å¤šçš„ç±» return else ä»¥TreeGenerate(D_v, A\\&#123;a_*&#125;)ä¸ºåˆ†æ”¯ç»“ç‚¹ ID3ç®—æ³•é€‰æ‹©æœ€ä¼˜åˆ’åˆ†å±æ€§â€”â€”ä¿¡æ¯å¢ç›Š ä¿¡æ¯ç†µ$Ent(D)=-\\sum\\limits_{k=1}^{n}p_k\\log_2~p_k$. $p_k$: å½“å‰æ ·æœ¬é›†åˆ$D$ä¸­ç¬¬$k$ç±»æ ·æœ¬æ‰€å çš„æ¯”ä¾‹ ä¿¡æ¯å¢ç›Š$Gain(D,a) = Ent(D)-\\sum\\limits_{v=1}^{V}\\frac{|D_v|}{|D|}Ent(D_v)$ ç”¨å±æ€§$a$ä½œä¸ºåˆ’åˆ†åçš„ä¿¡æ¯å¢ç›Šï¼Œå°±æ˜¯åˆ’åˆ†ä¹‹åæ··ä¹±åº¦çš„é™ä½ç¨‹åº¦ åˆ’åˆ†åæ ·æœ¬çš„ç†µå€¼ä¸ºåˆ’åˆ†å®Œå„ç±»çš„ç†µå€¼æŒ‰æ¯”ä¾‹åŠ æƒå¹³å‡ï¼Œå†ä¸åŸæ¥çš„ç†µå€¼ä½œå·® 9. ç¥ç»ç½‘ç»œ BPå­¦ä¹ ï¼ˆå¦‚ä½•é€šè¿‡æ¢¯åº¦ä¸‹é™è°ƒæ•´æƒé‡ï¼‰ Deltaå­¦ä¹  å•ä¸ªç¥ç»å…ƒã€æ„ŸçŸ¥æœºåˆ°ç¥ç»ç½‘ç»œ ç¥ç»å…ƒ-æ„ŸçŸ¥æœº-ç¥ç»ç½‘ç»œå‚è€ƒæ–‡ç«  ç¥ç»å…ƒ è¾“å…¥+æƒå€¼+åç½®å•å…ƒ+æ¿€åŠ±å‡½æ•°ï¼ˆå•ä¸ªç¥ç»å…ƒä¸€èˆ¬ä½¿ç”¨sgnï¼‰+è¾“å‡º æ„ŸçŸ¥æœº å¤šä¸ªç¥ç»å…ƒ å­¦ä¹ è§„åˆ™($d$ä¸ºæœŸæœ›è¾“å‡ºï¼Œ $c$ä¸ºå­¦ä¹ ç‡)$$\\Delta W_i = c(d-sgn(\\sum\\limits_{i} w_i*x_i))X_i$$ å®é™…è¾“å‡º=æœŸæœ›è¾“å‡ºï¼Œæƒå€¼ä¸å˜ æœŸæœ›è¾“å‡º=1ï¼Œå®é™…è¾“å‡º=-1ï¼Œæƒå€¼å¢åŠ ï¼Œ$w_i +=2c X_i$ æœŸæœ›è¾“å‡º=1ï¼Œå®é™…è¾“å‡º=1ï¼Œæƒå€¼å‡å°‘ï¼Œ$w_i-=2cX_i$ å­¦ä¹ ç®—æ³•ï¼šå¯¹è¾“å…¥çš„æ¯ä¸€å¯¹æ ·æœ¬å¯¹è°ƒæ•´æƒå€¼ï¼Œç›´åˆ°å®é™…è¾“å‡º=æœŸæœ›è¾“å‡º ä¸èƒ½è§£å†³éçº¿æ€§å¯åˆ†é—®é¢˜ï¼ˆe.g.å¼‚æˆ– å¤šå±‚ç¥ç»ç½‘ç»œ å¤šå±‚æ„ŸçŸ¥æœºï¼Œå‰ä¸€å±‚çš„è¾“å‡ºä½œä¸ºåä¸€å±‚çš„è¾“å…¥ è¾“å…¥å±‚-è‹¥å¹²éšè—å±‚-è¾“å‡ºå±‚ Deltaè§„åˆ™ å®šä¹‰è¯¯å·®$E=\\frac{1}{2}\\sum\\limits_{i}(d_i-o_i)^2$ æ¢¯åº¦ä¸‹é™ï¼š$$\\Delta W =-c\\nabla E\\\\Delta w_k = -c\\frac{\\partial E}{\\partial w_k}=-c\\frac{\\partial E}{\\partial o_i}\\frac{\\partial o_i}{\\partial w_k}=c((d_i-o_i)-fâ€™(\\sum\\limits_{i}w_ix_i))X_k$$ BPç®—æ³• å¤šå±‚ç¥ç»ç½‘ç»œ+æ¢¯åº¦ä¸‹é™ å¯ä»¥é¢„å…ˆç®—å‡ºæ¯ä¸€ä¸ªæƒå€¼çš„æ¢¯åº¦é¡¹è®¡ç®—å…¬å¼ å¯¹äºæ¯ä¸€ç»„è¾“å…¥æ ·æœ¬æ•°æ®ï¼Œç”¨æ¢¯åº¦ä¸‹é™æ³•ä¿®æ”¹æƒå€¼ æ€»ä¹‹å°±æ˜¯æ±‚å¯¼ï¼Œé™¤äº†æ±‚å¯¼è¿˜æ˜¯æ±‚å¯¼ ï¼ˆæœ‰æ—¶é—´çš„è¯å†è‡ªå·±å…¨éƒ¨æ±‚å¯¼ä¸€éï¼‰ 10. é—ä¼ ç®—æ³• ç®—æ³•ä¸»ä½“ é¦–å…ˆéšæœºé€‰å‡ºä¸€äº›åˆä»£ä¸ªä½“ï¼Œè®¡ç®—æ¯ä¸ªä¸ªä½“çš„é€‚åº”åº¦ é€šè¿‡æŸç§é€‰æ‹©æ–¹å¼ç­›é€‰å‡ºè‹¥å¹²å­˜æ´»ä¸ªä½“ï¼›å¯¹å­˜æ´»ä¸ªä½“è¿›è¡Œäº¤å‰ã€å˜å¼‚äº§ç”Ÿåä»£ï¼Œä½¿ç§ç¾¤æ•°ç›®æ‰©å¼ åˆ°ä¸åŸæ¥ç›¸åŒï¼› é‡å¤ä¸Šä¸€æ­¥ç›´åˆ°æ»¡è¶³ç»ˆæ­¢æ¡ä»¶ ç¼–ç  æŠŠè§£ç©ºé—´ä¸­çš„ç‚¹è¡¨ç¤ºæˆæŸ“è‰²ä½“ï¼Œå¸¸ç”¨ä¸ºäºŒè¿›åˆ¶ç¼–ç  ä¸€ä¸ªæœ‰$n$ç§å–å€¼çš„å±æ€§å¯ä»¥ç”¨$n$ä¸ªäºŒè¿›åˆ¶ä½æ¥è¡¨ç¤ºï¼Œè¿™æ ·å¯ä»¥è¡¨è¾¾åˆå–ï¼›å†³ç­–å±æ€§åªéœ€è¦ä¸€ä½ï¼Œå› ä¸ºä¸ä¼šå‘ç”Ÿåˆå–ã€‚ ç¼–ç è¦ä¿è¯äº¤å‰å’Œå˜å¼‚ä¹‹åå¾—åˆ°çš„ä¾ç„¶æ˜¯åˆæ³•ä¸ªä½“ TSPé—®é¢˜çš„ç¼–ç æ–¹æ³•ï¼šé¡ºåºè¡¨ç¤ºã€è¿‘é‚»è¡¨ç¤ºã€çŸ©é˜µè¡¨ç¤ºã€è·¯å¾„è¡¨ç¤º é€‰æ‹© è½®ç›˜èµŒï¼šæŒ‰é¢ç§¯æ¯”åˆ’åˆ†çš„æŠ½å¥–è½¬ç›˜ï¼Œä¸ªä½“é€‰æ‹©çš„æ¦‚ç‡ä¸é€‚åº”åº¦æˆæ­£æ¯”ã€‚ é”¦æ ‡èµ›é€‰æ‹©ï¼šæŒ‰é¢„å®šæ¦‚ç‡$p$é€‰æ‹©é€‚åº”åº¦è¾ƒå¤§çš„å‡è®¾ï¼ŒæŒ‰æ¦‚ç‡$1-p$é€‰æ‹©å…¶ä»–å‡è®¾ æ’åºé€‰æ‹©ï¼šé€‰æ‹©é€‚åº”åº¦æœ€å¤§çš„è‹¥å¹²ä¸ªä½“ äº¤å‰ å•ç‚¹äº¤å‰ï¼šäº¤æ¢ä¸¤æ¡æŸ“è‰²ä½“ä»æŸä¸€ç‚¹å¼€å§‹çš„éƒ¨åˆ† ä¸¤ç‚¹äº¤å‰ å‡åŒ€äº¤å‰ å˜å¼‚ éšæœºé€‰æ‹©æŸæ¡æŸ“è‰²ä½“çš„æŸä¸€ä½å–å å˜å¼‚æ¦‚ç‡ä¸€èˆ¬éå¸¸å° 11. å¼ºåŒ–å­¦ä¹ æ¨¡å‹æ„é€ ã€å€¼å‡½æ•°è¡¨è¾¾ã€æ›´æ–°è¿­ä»£ å‚è€ƒï¼šè¥¿ç“œä¹¦ æ¨¡å‹æ„é€  é©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹ï¼ˆMDPï¼‰ å…·æœ‰é©¬å°”å¯å¤«æ€§è´¨ï¼šä¸‹ä¸€ä¸ªçŠ¶æ€ä»…å–å†³äºå½“å‰çŠ¶æ€ å¼ºåŒ–å­¦ä¹ ä»»åŠ¡å¯¹åº”å››å…ƒç»„$E=\\langle X,A,P,R\\rangle$ $E$: ç¯å¢ƒ $X$: çŠ¶æ€ç©ºé—´ï¼ŒçŠ¶æ€$x\\in X$æ˜¯æœºå™¨æ„ŸçŸ¥åˆ°çš„ç¯å¢ƒçš„æè¿° $A$: åŠ¨ä½œç©ºé—´ï¼ŒåŠ¨ä½œ$a\\in A$å¯ä»¥ä½œç”¨åœ¨å½“å‰çŠ¶æ€ä¸Š $P$: è½¬ç§»å‡½æ•°$X\\times A\\times X\\mapsto\\mathbb{R}$ï¼Œä½¿ç¯å¢ƒä»å½“å‰çŠ¶æ€æŒ‰æŸç§æ¦‚ç‡è½¬ç§»åˆ°å¦ä¸€ä¸ªçŠ¶æ€ $R$: å¥–èµå‡½æ•°$X\\times A\\times A\\mapsto\\mathbb{R}$ï¼ŒæŒ‡å®šäº†ä»æŸä¸ªçŠ¶æ€é‡‡å–æŸä¸ªåŠ¨ä½œåˆ°è¾¾å¦ä¸€ä¸ªçŠ¶æ€çš„å¥–èµï¼Œä¹Ÿå¯èƒ½å’ŒåŠ¨ä½œæ— å…³ æ³¨æ„ç¯å¢ƒä¸æœºå™¨çš„ç•Œé™ï¼šç¯å¢ƒä¸­çš„çŠ¶æ€è½¬ç§»å’Œå¥–èµè¿”å›éƒ½æ˜¯ä¸å—æœºå™¨æ§åˆ¶çš„ æœºå™¨éœ€è¦é€šè¿‡åœ¨ç¯å¢ƒä¸­ä¸æ–­å°è¯•å­¦å¾—ä¸€ä¸ªç­–ç•¥$\\pi$ ç¡®å®šæ€§ç­–ç•¥$\\pi: X\\to A$ éšæœºæ€§ç­–ç•¥$\\pi: X\\times A\\to \\mathbb{R}$ï¼Œè¡¨ç¤ºåœ¨æŸç§çŠ¶æ€ä¸‹é‡‡å–æŸä¸ªåŠ¨ä½œçš„æ¦‚ç‡ ç­–ç•¥ä¼˜åŠ£çš„è¯„ä¼°ï¼šç´¯è®¡å¥–èµ $T$æ­¥ç´¯ç§¯å¥–èµ $\\gamma$ç´¯ç§¯å¥–èµ K-æ‘‡è‡‚è€è™æœºï¼ˆpptä¸Šæœªè¯¦ç»†æåˆ°ï¼Œæš‚ç•¥ï¼‰ åŠ¨æ€è§„åˆ’ æœ‰æ¨¡å‹å­¦ä¹ ï¼Œæ¨¡å‹çš„$P,R$å·²çŸ¥ çŠ¶æ€å€¼å‡½æ•°$V^{\\pi}(x)$: ä»çŠ¶æ€$x$å‡ºå‘ï¼Œä½¿ç”¨ç­–ç•¥$\\pi$æ‰€å¸¦æ¥çš„ç´¯ç§¯å¥–èµ $T$æ­¥ç´¯ç§¯å¥–èµï¼š$V^{\\pi}T(x)=\\mathbb{E}[\\frac{1}{T}\\sum\\limits{t=1}^{T}r_t\\mid x_0=x]$ $\\gamma$æŠ˜æ‰£ç´¯ç§¯å¥–èµ: $V^{\\pi}{\\gamma}(x)=\\mathbb{E}[\\sum\\limits{t=0}^{+\\infty}\\gamma^tr_{t+1}\\mid x_0=x]$ é€šè¿‡è®¡ç®—å¯ä»¥å†™å‡ºé€’å½’å½¢å¼â€”â€”æœ€ä¼˜å­ç»“æ„ï¼ŒåŠ¨æ€è§„åˆ’$$V^{\\pi}T(x)=\\sum\\limits{a\\in A}\\pi(x,a)\\sum\\limits_{xâ€™\\in X}P^a_{x\\to xâ€™}(\\frac{1}{T}R^a_{x\\to xâ€™}+\\frac{T-1}{T}V^{\\pi}{T-1}(xâ€™))\\V^{\\pi}\\gamma(x)=\\sum\\limits_{a\\in A}\\pi(x,a)\\sum\\limits_{xâ€™\\in X}P^a_{x\\to xâ€™}(R^{a}{x\\to xâ€™}+\\gamma V^{\\pi}\\gamma (xâ€™))\\$$ çŠ¶æ€-åŠ¨ä½œå€¼å‡½æ•°$Q_{T}^{\\pi}(x,a)$: åœ¨çŠ¶æ€$x$é‡‡å–åŠ¨ä½œ$a$å¸¦æ¥çš„ç´¯ç§¯å¥–åŠ±$$Q_{T}^{\\pi}(x,a)=\\mathbb{E}[\\frac{1}{T}\\sum\\limits_{t=1}^{T}r_t\\mid x_0=x, a_0=a]=\\sum\\limits_{xâ€™\\in X}P^a_{x\\to xâ€™}(\\frac{1}{T}R^a_{x\\to xâ€™}+\\frac{T-1}{T}V^{\\pi}{T-1}(xâ€™))\\Q{\\gamma}^{\\pi}(x,a)=\\mathbb{E}[\\sum\\limits_{t=0}^{+\\infty}\\gamma^tr_{t+1}\\mid x_0=x, a_0=a]=\\sum\\limits_{xâ€™\\in X}P^a_{x\\to xâ€™}(R^{a}{x\\to xâ€™}+\\gamma V^{\\pi}\\gamma (xâ€™))$$ ç­–ç•¥æ”¹è¿› æœ€ä¼˜ç­–ç•¥ï¼š è¥¿ç“œä¹¦ç‰ˆï¼š$\\pi^*=\\text{arg}\\max\\limits_{\\pi}\\sum\\limits_{x\\in X} V^{\\pi}(x)$ï¼Œ é€‰æ‹©è®©æ‰€æœ‰çŠ¶æ€çš„å€¼å‡½æ•°ä¹‹å’Œï¼ˆç´¯ç§¯å¥–èµï¼‰æœ€å¤§çš„ç­–ç•¥ pptç‰ˆï¼š$\\pi(x)=\\text{arg}\\max\\limits_{a\\in A}Q^\\pi(x,a)$ æœ€ä¼˜å€¼å‡½æ•°ï¼šæœ€ä¼˜ç­–ç•¥æ‰€å¯¹åº”çš„å€¼å‡½æ•°ï¼Œ$\\forall x\\in X: V^(x)=V^{\\pi^}(x)$ çº¿æ€§è§„åˆ’ï¼šåˆ—å‡ºä¸€å †$V^{\\pi}(x)$ç›¸å…³çš„å¼å­è¿›è¡Œæ±‚è§£ ç­–ç•¥è¿­ä»£ï¼šå…ˆç”¨é€’æ¨å…¬å¼è®¡ç®—å‡º$V^{\\pi}(x)$ï¼Œç„¶åå¯¹ä»»æ„$x\\in X$, æ±‚èƒ½ä½¿$Q^{\\pi}(x,a)$æœ€å¤§åŒ–çš„$a$ä½œä¸º$\\piâ€™(x)$ï¼Œç”¨$\\piâ€™$å»æ›´æ–°$\\pi$ï¼Œå‡†å¤‡å¼€å§‹ä¸‹ä¸€è½®è®¡ç®—è¿­ä»£ï¼›ä¸åœé‡å¤è¿™ä¸¤ä¸ªæ­¥éª¤ç›´åˆ°$\\pi$ä¸$\\piâ€™$é‡åˆï¼Œ$\\pi$ä¸å†æ›´æ–°ï¼ˆç®—$V$å’Œæ”¹$\\pi$äº¤æ›¿è¿›è¡Œï¼‰ å€¼è¿­ä»£ï¼šå…ˆæ±‚å‡ºæœ€ä¼˜å€¼å‡½æ•°$V^(x)$ï¼Œç„¶åå¾—åˆ°æœ€ä¼˜ç­–ç•¥$\\pi^(x)=\\text{arg}\\max\\limits_{a\\in A}Q(x,a)$ï¼ˆç–¯ç‹‚ç®—$V$æœ€åç®—$\\pi$ï¼‰ 12. åšå¼ˆ å‡ ç§å‡è¡¡ ç¤¾ä¼šç¦åˆ©ï¼šæœ€å¤§åŒ–æ‰€æœ‰å‚ä¸è€…çš„æ”¶ç›Šå’Œ çº³ä»€å‡è¡¡ï¼šå…¶ä»–å‚ä¸è€…éƒ½ä¿æŒä¸åŠ¨çš„æƒ…å†µä¸‹ï¼Œä½ æ²¡åŠæ³•é æ”¹å˜è‡ªå·±çš„ç­–ç•¥è·å¾—æ›´å¤§çš„æ”¶ç›Š å¸•é‡Œæ‰˜æœ€ä¼˜ï¼šåœ¨æ‰€æœ‰å‚ä¸è€…éƒ½ä¸å˜åçš„å‰æä¸‹ï¼Œä½ æ²¡åŠæ³•é æ”¹å˜è‡ªå·±çš„ç­–ç•¥å˜å¥½ ç¤¾ä¼šç¦åˆ©æ˜¯å¸•é‡Œæ‰˜æœ€ä¼˜çš„å­é›† å¸•é‡Œæ‰˜ä¼˜ï¼šè¡¨ç¤ºä¸€ç§åºå…³ç³»ï¼›è€Œå¸•é‡Œæ‰˜æœ€ä¼˜æ˜¯ä¸€ç§å‡è¡¡çŠ¶æ€ ä¼˜è¶…ï¼šåˆ«äººç®¡æˆ‘Päº‹ï¼Œæˆ‘è‡ªå·±å–æœ€å¤§æ”¶ç›Š æ··åˆç­–ç•¥çº³ä»€å‡è¡¡ åˆ—æ–¹ç¨‹ï¼šå…¶ä»–å‚ä¸è€…æ··åˆç­–ç•¥ï¼ˆæ¦‚ç‡åˆ†å¸ƒï¼‰ä¸å˜çš„æƒ…å†µä¸‹ï¼Œæˆ‘è·å¾—çš„æœŸæœ›åˆ©ç›Šæ˜¯ç›¸åŒçš„","categories":[],"tags":[{"name":"Notes;","slug":"Notes","permalink":"https://mengzelev.github.io/tags/Notes/"}]},{"title":"è½¯ä»¶åˆ†æè¯¾ç¨‹æœŸæœ«å¤ä¹ ç¬”è®°","slug":"static-program-analysis","date":"2021-01-07T07:50:36.000Z","updated":"2021-01-07T07:54:10.546Z","comments":true,"path":"2021/01/07/static-program-analysis/","link":"","permalink":"https://mengzelev.github.io/2021/01/07/static-program-analysis/","excerpt":"","text":"è½¯ä»¶åˆ†æ-æœŸæœ«å¤ä¹ è¯¾ç¨‹ä¸»é¡µ æ„Ÿè°¢ä¸¤ä½è€å¸ˆçš„ç²¾å½©æ•™å­¦ï¼ å‚è€ƒæ ‡å‡†ï¼šæ¯èŠ‚è¯¾æœ€åçš„The X You Need To Understand in This Lecture ä¸­æ–‡ä¸ºä¸»ï¼Œä¸­è‹±æ–‡ä½¿ç”¨çº¯çœ‹å¿ƒæƒ… Introduction é™æ€åˆ†æä¸åŠ¨æ€åˆ†æçš„åŒºåˆ« åœ¨è¿è¡Œç¨‹åº$P$ä¹‹å‰å°±çŸ¥é“å®ƒæ˜¯å¦æ»¡è¶³æŸäº›æ€§è´¨ ç†è§£soundness, completeness, false positive/negative æƒ³è±¡3ä¸ªåœ†ï¼šsound &gt; truth &gt; complete false positive = sound-truth false negative = truth-complete ä¸ºä»€ä¹ˆé™æ€åˆ†æä¸€èˆ¬é€‰æ‹©soundness å¯¹äºé‡è¦çš„åº”ç”¨æ–¹é¢æ¥è¯´æ›´åŠ å…³é”®ï¼ˆe.g. ç¼–è¯‘ä¼˜åŒ–ã€ç¨‹åºéªŒè¯ åœ¨bug detectionä¸­ï¼Œsoundnessæ„å‘³ç€èƒ½æ‰¾åˆ°æ›´å¤šbug static analysisï¼šä¿è¯soundnessï¼Œåœ¨precisionå’Œspeedä¹‹é—´åštrade-off æ¯ä¸€ç§é™æ€åˆ†æç®—æ³•éƒ½æ˜¯åœ¨ä¿è¯safeçš„åŸºç¡€ä¸Šï¼Œåœ¨precisionå’Œefficiencyä¹‹é—´åštrade-off å¦‚ä½•ç†è§£abstraction &amp; over-approximation abstraction: æŠŠå…·ä½“é—®é¢˜çš„domainæ˜ å°„åˆ°æŠ½è±¡çš„domainä¸Š over-approximation: transfer functionå®šä¹‰äº†å¦‚ä½•ç”¨abstract valuesè®¡ç®—ä¸åŒçš„ç¨‹åºè¯­å¥ï¼Œä¸å¯èƒ½ç©·å°½æ‰€æœ‰çš„å¯èƒ½æ€§å› æ­¤ä¼šæŸå¤±ç²¾åº¦ï¼Œå¦‚flow merging ä¸­é—´ä»£ç è¡¨ç¤º ç¼–è¯‘å™¨ä¸é™æ€åˆ†æå™¨ä¹‹é—´çš„å…³ç³» å‘ç”Ÿåœ¨IRç”Ÿæˆåã€æœºå™¨ä»£ç ç”Ÿæˆå‰ï¼Œä¸€èˆ¬ç”¨äºè¿›è¡Œä»£ç ä¼˜åŒ– ç†è§£ä¸‰åœ°å€ç ï¼ˆ3ACï¼‰å’Œå®ƒçš„common form (in IR Jimple) å¦‚ä½•åœ¨IRçš„åŸºç¡€ä¸Šæ„å»ºåŸºæœ¬å— å¦‚ä½•åœ¨åŸºæœ¬å—çš„åŸºç¡€ä¸Šæ„å»ºæ§åˆ¶æµå›¾(CFG) ä¸‰åœ°å€ç ï¼ˆ3ACï¼‰ å³ä¾§è‡³å¤šåªèƒ½æœ‰ä¸€ä¸ªæ“ä½œç¬¦ æ¯æ¡æŒ‡ä»¤è‡³å¤šåªèƒ½æœ‰3ä¸ªåœ°å€ï¼›åœ°å€å¯ä»¥æ˜¯ï¼šå˜é‡å/å¸¸æ•°/ä¸´æ—¶å˜é‡ æ„å»ºåŸºæœ¬å— è¾“å…¥ï¼šç¨‹åº$P$çš„ä¸‰åœ°å€ç åºåˆ— è¾“å‡ºï¼šä¸€ç³»åˆ—åŸºæœ¬å— ç®—æ³•ï¼š å†³å®šåŸºæœ¬å—çš„leaderï¼šç¨‹åºçš„ç¬¬ä¸€æ¡æŒ‡ä»¤ã€è·³è½¬è¯­å¥çš„ç›®æ ‡è¯­å¥ã€è·³è½¬è¯­å¥çš„ä¸‹ä¸€æ¡è¯­å¥ æ ¹æ®leaderåˆ’åˆ†åŸºæœ¬å— æ„å»ºCFG åŸºæœ¬å—ä¹‹é—´è¿è¾¹æ¡ä»¶ å­˜åœ¨ä»Açš„ç»“å°¾åˆ°Bçš„å¼€å¤´çš„è·³è½¬è¯­å¥ åœ¨åŸæ¥çš„æ‰§è¡Œé¡ºåºä¸­Bç´§è·Ÿåœ¨Açš„åé¢ï¼Œå¹¶ä¸”Aä¸èƒ½ä»¥æ— æ¡ä»¶è·³è½¬ç»“æŸ å†åŠ ä¸ŠENTRYå’ŒEXIT æ•°æ®æµåˆ†æ-åº”ç”¨ ç†è§£ä¸‰ç§æ•°æ®æµåˆ†æï¼šåˆ°è¾¾å®šå€¼ã€æ´»è·ƒå˜é‡ã€å¯ç”¨è¡¨è¾¾å¼ èƒ½å¤Ÿè¯´å‡ºä¸‰ç§æ•°æ®æµåˆ†æçš„å¼‚åŒ ç†è§£è¿­ä»£ç®—æ³•å¹¶ä¸”èƒ½è¯´å‡ºå®ƒä¸ºä»€ä¹ˆèƒ½ç»ˆæ­¢ ä¸€å›¾æµ åˆ°è¾¾å®šå€¼ æ´»è·ƒå˜é‡ å¯ç”¨è¡¨è¾¾å¼ Domain Set of definitions Set of variables Set of expressions Direction Forward Backward Forward May/Must May May Must Boundary OUT[ENTRY]=$\\emptyset$ IN[EXIT]=$\\emptyset$ OUT[ENTRY]=$\\emptyset$ Initialization OUT[B]=$\\emptyset$ IN[B]=$\\emptyset$ OUT[B]=$U$ Transfer Function OUT=gen$\\cup$IN-kill OUT=gen$\\cup$IN-kill OUT=gen$\\cup$IN-kill Meet $\\cup$ $\\cup$ $\\cap$ åˆ°è¾¾å®šå€¼ ä¸€ä¸ªdefinitionèƒ½ä¸è¢«killæ‰åœ°åˆ°è¾¾æŸä¸€ç‚¹ Data Flow Values/ Data Facts: the definitions of all the variables in a program (Abstraction) transfer function: genï¼šè¢«å®šå€¼ killï¼šå®šå€¼è¢«è¦†ç›– æ´»è·ƒå˜é‡ æ´»è·ƒå˜é‡ï¼šæŸä¸€ä¸ªå˜é‡åœ¨ä¹‹åå¯èƒ½ä¼šè¢«ç”¨åˆ° transfer functionï¼ˆå¯ä»¥ç”»å›¾ç†è§£ï¼‰åœ¨åŸºæœ¬å—å†… å…ˆuseå†defï¼šgen å…ˆdefå†useï¼škill å¯ç”¨è¡¨è¾¾å¼ å¯ç”¨è¡¨è¾¾å¼ï¼šä»ç¨‹åºå¼€å§‹åˆ°å½“å‰ç¨‹åºç‚¹çš„æ¯ä¸€æ¡è·¯å¾„éƒ½è®¡ç®—äº†è¿™ä¸ªè¡¨è¾¾å¼ï¼Œå¹¶ä¸”è®¡ç®—ä¹‹åè¡¨è¾¾å¼æ¯ä¸ªåˆ†é‡çš„å€¼éƒ½æ²¡æœ‰è¢«è¦†ç›–ï¼ˆæ„å‘³ç€åœ¨è¯¥ç¨‹åºç‚¹ï¼Œå¯ä»¥æŠŠæ±‚å€¼æ¢æˆè¯¥è¡¨è¾¾å¼ä¸Šä¸€æ¬¡æ±‚å€¼çš„ç»“æœï¼‰ transfer function gen: è®¡ç®—äº†è¿™ä¸ªè¡¨è¾¾å¼ killï¼šè¡¨è¾¾å¼çš„åˆ†é‡çš„å€¼è¢«è¦†ç›– æ•°æ®æµåˆ†æ-åŸºç¡€ ç†è§£è¿­ä»£ç®—æ³•çš„å‡½æ•°è§†è§’ latticeå’Œcomplete latticeçš„å®šä¹‰ ç†è§£ä¸åŠ¨ç‚¹å®šç† å¦‚ä½•åœ¨latticeä¸Šæ€»ç»“may/muståˆ†æ MOPä¸è¿­ä»£ç®—æ³•è§£çš„å…³ç³» å¸¸é‡ä¼ æ’­ Worklistç®—æ³• å‡½æ•°è§‚ç‚¹çœ‹è¿­ä»£ç®—æ³• CFGä¸­$k$ä¸ªç»“ç‚¹çš„data flow valueså¯ä»¥çœ‹æˆä¸€ä¸ªk-tuple å˜é‡ æ¯ä¸€æ¬¡è¿­ä»£å°±ç›¸å½“äºå°†å‡½æ•°$F: V^k\\to V^k$ä½œç”¨åœ¨è¿™ä¸ªk-tupleä¸Š è¿­ä»£ç»ˆæ­¢æ¡ä»¶ï¼š$X=F(X)$ï¼Œæ²¡æœ‰æ•°æ®æµå€¼å‘ç”Ÿå˜åŒ–ï¼Œå³åˆ°è¾¾å‡½æ•°çš„ä¸åŠ¨ç‚¹ æ ¼ ååºï¼šè‡ªå+åå¯¹ç§°+ä¼ é€’ æœ€å°ä¸Šç•Œï¼ˆlubï¼‰ï¼š$\\sqcup S$ï¼› æœ€å°ä¸‹ç•Œï¼ˆglbï¼‰ï¼š$\\sqcap S$ å½“åªæœ‰ä¸¤ä¸ªå…ƒç´ æ—¶ï¼Œ$a\\sqcup b$è¡¨ç¤º$a$å’Œ$b$çš„æœ€å°ä¸Šç•Œ (join)ï¼›$a\\sqcap b$è¡¨ç¤º$a$å’Œ$b$çš„æœ€å¤§ä¸‹ç•Œ (meet) æ ¼ï¼šååºé›†ä¸­ä»»æ„ä¸¤ä¸ªå…ƒç´ éƒ½å­˜åœ¨lubå’Œglbï¼Œé‚£ä¹ˆè¿™ä¸ªååºé›†å°±æ˜¯ä¸€ä¸ªæ ¼ Complete Latticeï¼šååºé›†ä¸­ä»»æ„ä¸€ä¸ªå­é›†$S$å†…çš„å…ƒç´ éƒ½å­˜åœ¨lubå’Œglbï¼Œé‚£ä¹ˆè¿™ä¸ªååºé›†å°±æ˜¯ä¸€ä¸ªcomplete lattice Complete lattice éƒ½æœ‰æœ€å¤§å…ƒç´ $\\top$ (top) å’Œæœ€å°å…ƒç´ $\\bot$ (bottom) æœ‰é™æ ¼ä¸€å®šæ˜¯complete lattice Product Latticeï¼šä¸€ç³»åˆ—æ ¼çš„ç¬›å¡å°”ç§¯ å¦‚æœæ¯ä¸ªæ ¼éƒ½æ˜¯complete latticeï¼Œé‚£ä¹ˆå®ƒä»¬çš„product latticeä¹Ÿæ˜¯complete lattice æ•°æ®æµåˆ†æ&amp;æ ¼ æ•°æ®æµåˆ†ææ¡†æ¶$(D,L,F)$ $D$ï¼šåˆ†ææ–¹å‘ï¼ˆForward/Backwardï¼‰ $L$ï¼šæ ¼ï¼Œæ‰€æœ‰data flow valuesçš„é›†åˆ$V$+ meet/join operator $F$ï¼štransfer function $V\\to V$ æ•°æ®æµåˆ†æå¯ä»¥çœ‹æˆï¼šåœ¨æ ¼çš„valuesä¸Šè¿­ä»£åœ°åº”ç”¨transfer functionå’Œmeet/join operation å•è°ƒæ€§+æœ€ä¼˜æ€§ï¼šä¸ä¸€å®šåªæœ‰ä¸€ä¸ªä¸åŠ¨ç‚¹ï¼Œä½†è¿­ä»£ç®—æ³•èƒ½å¾—åˆ°è§£ä¸”å¾—åˆ°çš„æ˜¯æœ€ä¼˜è§£ ä¸åŠ¨ç‚¹å®šç†ï¼šç»™å®šä¸€ä¸ªcomplete lattice $(L, \\sqsubseteq)$ï¼Œå¦‚æœæ»¡è¶³ï¼šå‡½æ•°$f:L\\to L$å•è°ƒä¸”$L$æœ‰é™ï¼Œé‚£ä¹ˆ $L$çš„æœ€å°ä¸åŠ¨ç‚¹å¯ä»¥é€šè¿‡è¿­ä»£$f(\\bot), f(f(\\bot))\\ldots ,f^k(\\bot)$è‡³è¾¾åˆ°ä¸åŠ¨ç‚¹å¾—åˆ° $L$çš„æœ€å¤§ä¸åŠ¨ç‚¹å¯ä»¥é€šè¿‡è¿­ä»£$f(\\top),f(f(\\top)),\\ldots,f^k(\\top)$è‡³è¾¾åˆ°ä¸åŠ¨ç‚¹å¾—åˆ° å…³è”æ•°æ®æµåˆ†ææ¡†æ¶ä¸ä¸åŠ¨ç‚¹å®šç† æ¯æ¬¡è¿­ä»£å¾—åˆ°çš„ç»“æœéƒ½åœ¨ä¸€ä¸ªproduct latticeä¸­ å‡½æ•°=transfer function + join/meet : å•è°ƒ transfer functionæœ¬èº«å•è°ƒï¼Œå› ä¸ºgenå’Œkillæ˜¯å›ºå®šçš„ join/meetå•è°ƒï¼š$\\forall x,y,z\\in L, x\\sqsubseteq y\\Rightarrow x\\sqcup z\\sqsubseteq y\\sqcup z$ ç»ˆæ­¢æ€§ï¼šè¿­ä»£ç®—æ³•ä¸€å®šèƒ½ç»ˆæ­¢å—ï¼Ÿ æ ¼çš„heightä¸º$h$ï¼ˆä»$\\top$åˆ°$\\bot$çš„æœ€é•¿è·¯å¾„é•¿åº¦ï¼‰ï¼ŒCFGç»“ç‚¹æ•°ä¸º$k$ï¼Œåˆ™ä»$\\bot$å‡ºå‘è‡³å¤šèµ°$h*k$æ­¥å¯ä»¥åˆ°è¾¾$\\top$ï¼ˆ$k$ä¸ªæ ¼ï¼Œæ¯ä¸ªæ ¼èµ°$h$æ­¥ï¼‰ ä¸€å›¾æµ ä¸€ç‚¹è¯´æ˜ï¼ˆä»¥MAY-analysisä¸ºä¾‹ï¼‰ Unsafeä¸ºbottomï¼Œtrivially safeä¸ºtop Truthåœ¨è¿™ä¹‹é—´ï¼Œtruthä¹‹ä¸‹ä¸ºunsafe resultsï¼Œä¹‹ä¸Šä¸ºsafe results Dataflow analysisä»bottomå¼€å§‹å¾€ä¸Šèµ°ï¼Œè¶Šè¿‡truthï¼ˆåˆ†æç®—æ³•çš„è®¾è®¡æœ¬èº«ä¿è¯èµ°çš„æ–¹å‘ä¸€å®šæ˜¯å‘ä¸Š+èƒ½èµ°è¿‡truthï¼‰ï¼Œåˆ°è¾¾æŸä¸€ä¸ªfixed point Fixed pointséƒ½ä½äºtruthä¸Šæ–¹ï¼Œdataflow analysisåˆ°è¾¾çš„ä¸€å®šæ˜¯ä½äºæœ€ä¸‹æ–¹çš„æœ€å°fixed point è¶Šå¾€ä¸Šèµ°preciseè¶Šå·®ï¼Œå› ä¸ºæœ€ä¸Šé¢çš„topæ˜¯æœ€ä¸preciseçš„ç»“æœ Meet-Over-All-Paths Solution (MOP) MOPï¼šç”¨æ‰€æœ‰è·¯å¾„meet/joinçš„ç»“æœä½œä¸ºæœ€ç»ˆç»“æœ v.s. Oursï¼šå•çº¯å¯¹ç»“ç‚¹è¿›è¡Œmeet/joinå¤„ç† MAY-analysisè€Œè¨€ï¼ŒMOP: $F(x)\\sqcup F(y)$; Ours: $F(x\\sqcup y)$ æ ¹æ®å•è°ƒæ€§ï¼Œæœ‰$F(x)\\sqcup F(y)\\sqsubseteq F(x\\sqcup y)$, è¿™è¯´æ˜MOPæ›´preciseä¸€äº› å½“$F$ distributiveæ—¶ï¼Œä¸Šå¼å–ç­‰å·ï¼Œä¸¤è€…ç»“æœç›¸åŒï¼› ä¹‹å‰çš„ä¸‰ä¸ªdataflow analysiséƒ½æ˜¯distributiveçš„ï¼ˆBit-vector, gen-killéƒ½æ˜¯distributiveçš„ï¼‰ ä½†ä¹Ÿå­˜åœ¨ä¸distributiveçš„dataflow analysisï¼Œå¦‚å¸¸é‡ä¼ æ’­ å¸¸é‡ä¼ æ’­ $x$åœ¨æŸä¸ªç¨‹åºç‚¹æ˜¯å¦ä¸€å®šå…·æœ‰æŸä¸ªå¸¸é‡å€¼ Forward Must-analysis Top: UNDEF, Bottom: NAC meet functionï¼š NAC $\\sqcap$ $v$ = NAC UNDEF $\\sqcap$ $v$ = UNDEF $c$ $\\sqcap$ $c$ = $c$ $c_1$ $\\sqcap$ $c_2$ = NAC transfer function: for assignment, kill=${x, _}$ x = c: gen=${(x,c)}$ x = y: gen=${(x, val(y))}$ x = y op z: if $val(y),val(z)$ are constants, gen=${(x, val(y)\\; op\\; val(z)}$ if $val(y)=$NAC or $val(z)=$NAC, gen=${(x, \\text{NAC})}$ otherwise, gen=${(x, \\text{UNDEF})}$ â€”â€” è¿™ä¹ˆè®¾è®¡æ˜¯ä¸ºäº†æ»¡è¶³å•è°ƒæ€§ For non-assignment statements, transfer function is the identity function Worklistç®—æ³•ï¼ˆä»¥Forward analysisä¸ºä¾‹ï¼‰ 1234567891011OUT[ENTRY] &#x3D; \\emptysetfor each Basic Block B\\ENTRY: OUT[B] &#x3D; \\emptysetWL &#x3D; [all basic blocks]while WL is not empty: B &#x3D; pick a Basic Block from WL old_OUT &#x3D; OUT[B] IN[B] &#x3D; meet all predecessors of B OUT[B] &#x3D; gen + (IN[B] - kill) if OUT[B] !&#x3D; old_OUT: add all successors of B to WL ç»´æŠ¤ä¸€ä¸ªWorklist åˆå§‹åŒ–å°†æ‰€æœ‰Basic Blockéƒ½æ”¾è¿›å» æ¯æ¬¡ä»é‡Œé¢å–ä¸€ä¸ªBasic Blockè¿›è¡Œè¿­ä»£ å¦‚æœè¯¥Basic Blockçš„ç»“æœå‘ç”Ÿæ”¹å˜ï¼Œåˆ™æŠŠåç»§éƒ½åŠ å…¥Worklistä¸­ è¿‡ç¨‹é—´åˆ†æ å¦‚ä½•é€šè¿‡CHAå»ºç«‹call graph è¿‡ç¨‹é—´CFGçš„æ¦‚å¿µ è¿‡ç¨‹é—´æ•°æ®æµåˆ†æçš„æ¦‚å¿µ è¿‡ç¨‹é—´å¸¸é‡ä¼ æ’­ Call Graph ç¨‹åºä¸­è°ƒç”¨å…³ç³»çš„ä¸€ç§è¡¨ç¤º ä»call-siteåˆ°target methods (callee)çš„call edgesçš„é›†åˆ Class Hierachy Analysis (CHA) Javaä¸­çš„å‡½æ•°è°ƒç”¨ç±»å‹ | | Static call | Special call | Virtual call || â€”â€”â€”â€”â€”- | â€”â€”â€”â€”â€“ | â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” | â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“ || æŒ‡ä»¤ | invokestatic | invokespecial | invokeinterface/invokevirtual || Receiver Object | Ã— | âˆš | âˆš || Target Methods | Static methods | Constructor; Private instance methods; Superclass instance methods; | Other instance methods || # Target Methods | 1 | 1 | &gt;=1 (å¤šæ€) || Determinacy | Compile-time | Compile-time | Run-time | å¯¹Virtual Callçš„å¤„ç†æ˜¯OOPè¯­è¨€å»ºç«‹call graphçš„å…³é”® å‡½æ•°ç­¾å å‡½æ•°ç­¾å=class type + å‡½æ•°å + descriptor descriptor = return type + parameter type e.g. &lt;C: T foo(P, Q, R)&gt; è¿è¡Œæ—¶æ–¹æ³•åˆ†é…Dispatch($c,m$) $c$: receiver objectçš„class type $m$: å¾…åˆ†é…çš„method call å¦‚æœ$c$ç±»ä¸­å«æœ‰ä¸$m$å‡½æ•°ådescriptoréƒ½ä¸€è‡´çš„éæŠ½è±¡æ–¹æ³•ï¼Œåˆ™è¿”å›è¯¥æ–¹æ³•ï¼›å¦åˆ™åœ¨$c$çš„superclassä¸­ç»§ç»­Dispatch CHA éœ€è¦ç±»é—´çš„ç­‰çº§ä¿¡æ¯ï¼ˆç»§æ‰¿ç»“æ„ï¼‰ åŸºäºcallsiteä¸Šçš„receiver variableçš„declared typeæ¥åˆ†ævirtual call å‡è®¾å±äºæŸä¸€ä¸ªç±»çš„receiver variableå¯èƒ½æŒ‡å‘å®ƒè‡ªå·±ä»¥åŠå®ƒçš„æ‰€æœ‰å­ç±» CHA - Call Resolution 12345678910111213Resolve(cs): T &#x3D; &#123;&#125; &#x2F;&#x2F; æ‰€æœ‰å¯èƒ½è¢«è°ƒç”¨çš„æ–¹æ³•é›†åˆ m &#x3D; method signature at cs if cs is a static call: T &#x3D; &#123;m&#125; if cs is a special call: c^m &#x3D; class type of m T &#x3D; &#123;Dispatch(c^m, m)&#125; if cs is a virtual call: c &#x3D; declared type of receiver variable at cs for each c&#39; is c itself or a subclass (direct&#x2F;indirect) if c: add Dispatch(c&#39;, m) to T return T é™æ€æ–¹æ³•ï¼šå®ƒè‡ªå·± special callï¼šç›´æ¥å»æ–¹æ³•æ‰€åœ¨çš„ç±»Dispatch virtual callï¼šå»receiver variableå¯¹åº”çš„ç±»æœ¬èº«ã€æ‰€æœ‰ç›´æ¥æˆ–é—´æ¥å­ç±»éƒ½æ‰¾ä¸€é å¿«è€Œä¸å‡† å¿«ï¼šåªè€ƒè™‘receiver variableçš„ç±»å‹å’Œç»§æ‰¿ç»“æ„ï¼›å¿½ç•¥äº†æ•°æ®æµå’Œæ§åˆ¶æµä¿¡æ¯ ä¸å‡†ï¼šå®¹æ˜“å¼•å…¥ä¼ªç›®æ ‡ ç”¨CHAå»ºç«‹Call Graph12345678910111213BuildCallGraph(m^entry): WL&#x3D;[m^entry], RM&#x3D;&#123;&#125;, CG&#x3D;&#123;&#125; while WL is not empty: remove m from WL if m not in RM: add m to RM foreach call site cs in m: T &#x3D; resolve(cs) foreach target method m&#39; in T: add cs -&gt; m&#39; in CG add m&#39; to WL return CG å¯¹Worklistä¸­æ¯ä¸€ä¸ªæ–°åŠ å…¥çš„æ–¹æ³•è¿›è¡ŒResolveã€å°†å¾—åˆ°çš„æ‰€æœ‰å¯èƒ½çš„ç›®æ ‡æ–¹æ³•åŠ è¾¹å¹¶åŠ å…¥Worklistä¸­ è¿‡ç¨‹é—´CFG (ICFG) ICFG = CFG + call edge + return edge call edge: call site - entry node of callees return edge: return statement - return site (call siteçš„ä¸‹ä¸€æ¡è¯­å¥) åŸCFGä¸­call site - return siteä¹‹é—´çš„è¾¹ä¿ç•™ï¼šä¸ºäº†ä¸è®©æ•°æ®æµä¿¡æ¯å»å›½å¤–å…œä¸€åœˆ transfer function = node transfer + edge transfer call edge transfer: ä¼ é€’å‚æ•°å€¼ return edge transfer: ä¼ é€’è¿”å›å€¼ node transfer: ä¸è¿‡ç¨‹å†…åŸºæœ¬ç›¸åŒ + éœ€è¦killæ‰LHSå˜é‡ï¼Œå¦‚$b=f(a)$è¦killæ‰$b$ æŒ‡é’ˆåˆ†æ ä»€ä¹ˆæ˜¯æŒ‡é’ˆåˆ†æ ç†è§£æŒ‡é’ˆåˆ†æçš„key factors ç†è§£æŒ‡é’ˆåˆ†æçš„åˆ†æå¯¹è±¡ ä»€ä¹ˆæ˜¯æŒ‡é’ˆåˆ†æ åˆ†ææ¯ä¸ªæŒ‡é’ˆå¯èƒ½æŒ‡å‘å“ªå—å†…å­˜åœ°å€ å¯¹äºOOPè¯­è¨€è€Œè¨€ï¼šåˆ†ææ¯ä¸ªå˜é‡/fieldå¯èƒ½æŒ‡å‘å“ªä¸ªå¯¹è±¡ May-analysis (over-approximation) åˆ«ååˆ†æï¼ˆalias analysisï¼‰ï¼šä¸¤ä¸ªæŒ‡é’ˆèƒ½å¦æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ å’ŒPTAä¸æ˜¯åŒä¸€ä¸ªé—®é¢˜ï¼Œä½†PTAçš„ç»“æœå¯ä»¥å›ç­”è¿™ä¸ªé—®é¢˜ Key Factors å †æŠ½è±¡ Heap Abstraction å¦‚ä½•å¯¹å †è¿›è¡Œå»ºæ¨¡ï¼ˆå¦‚ä½•è¡¨ç¤ºä¸åŒçš„å¯¹è±¡ï¼‰ æŠŠæ— ç©·çš„å®é™…å¯¹è±¡æŠ½è±¡ä¸ºæœ‰é™çš„æŠ½è±¡å¯¹è±¡ æœ€å¸¸ç”¨çš„ï¼šAllocation-site Abstraction. ç”¨åˆ›å»ºç‚¹ç»™å¯¹è±¡å‘½åï¼Œåœ¨åŒä¸€ä¸ªåˆ›å»ºç‚¹åˆ›å»ºçš„å¯¹è±¡å°±æ˜¯åŒä¸€ä¸ªå¯¹è±¡ ä¸Šä¸‹æ–‡æ•æ„Ÿæ€§ Context Sensitivity å¦‚ä½•å¯¹ä¸Šä¸‹æ–‡è¿›è¡Œå»ºæ¨¡ ä¸Šä¸‹æ–‡ä¸æ•æ„Ÿï¼šåˆå¹¶ä¸€ä¸ªæ–¹æ³•çš„æ‰€æœ‰ä¸Šä¸‹æ–‡ï¼Œä¸€ä¸ªæ–¹æ³•åªéœ€è¦åˆ†æä¸€æ¬¡â€”â€”å¯èƒ½ä¼šæŸå¤±ç²¾åº¦ ä¸Šä¸‹æ–‡æ•æ„Ÿï¼šåŒºåˆ«åŒä¸€ä¸ªæ–¹æ³•ä¸åŒçš„ä¸Šä¸‹æ–‡ï¼Œæ¯ä¸ªä¸Šä¸‹æ–‡åˆ†æä¸€æ¬¡ æµæ•æ„Ÿæ€§ Flow Sensitivity å¦‚ä½•å¯¹æ§åˆ¶æµè¿›è¡Œå»ºæ¨¡ æµæ•æ„Ÿï¼šä¿ç•™è¯­å¥æ‰§è¡Œé¡ºåºï¼Œåœ¨æ¯ä¸ªç‚¹ç»´æŠ¤ä¸€ä¸ªpoints-to relationçš„map æµä¸æ•æ„Ÿï¼šæŠŠæ•´ä¸ªç¨‹åºçœ‹æˆè¯­å¥çš„é›†åˆï¼Œæ•´ä¸ªç¨‹åºåªç»´æŠ¤ä¸€ä¸ªpoints-to relation map åˆ†æèŒƒå›´ Analysis Scope åˆ†æç¨‹åºçš„å“ªäº›éƒ¨åˆ† Whole program v.s. Demand-driven åˆ†æå¯¹è±¡ åªå…³å¿ƒä¼šå½±å“æŒ‡å‘å…³ç³»çš„è¯­å¥ï¼ˆpointer-affecting statementsï¼‰ Javaä¸­çš„æŒ‡é’ˆï¼šå±€éƒ¨å˜é‡ã€é™æ€åŸŸã€å®ä¾‹åŸŸï¼ˆinstance fieldï¼‰ã€æ•°ç»„ï¼ˆè¯¾ç¨‹åªå…³å¿ƒlocal variable &amp; instance fieldï¼‰ å½±å“æŒ‡é’ˆçš„è¯­å¥ï¼ˆ5ç§ï¼‰ï¼šNew, Assign, Store, Load, Call ä¸Šä¸‹æ–‡ä¸æ•æ„Ÿçš„æŒ‡é’ˆåˆ†æ ç†è§£æŒ‡é’ˆåˆ†æçš„rulesï¼ŒåŒ…æ‹¬method call ç†è§£pointer flow graph ç†è§£è¿‡ç¨‹é—´æŒ‡é’ˆåˆ†æçš„ç®—æ³• ç†è§£on-the-flyçš„call graph construction è¿‡ç¨‹å†…æŒ‡é’ˆåˆ†æRules å®šä¹‰åŸŸä¸ç¬¦å·æ ‡è®° Variables: $x,y\\in V$ Fields: $f,g\\in F$ Objects: $o_i, o_j\\in O$ Instance fields: $o_i.f, o_j.g\\in O\\times F$ Pointers: Pointer$=V\\cup (O\\times F)$ Points-to relation: $pt: \\text{Pointer}\\to\\mathcal{P}(O)$ Kind Statement Rule New i: x = new T() $$\\frac{}{o_i\\in pt(x)}$$ Assign x = y $$\\frac{o_i\\in pt(y)}{o_i\\in pt(x)}$$ Store x.f = y $\\frac{o_i\\in pt(x)\\quad o_j\\in pt(y)}{o_j\\in pt(o_i.f)}$ Load y = x.f $\\frac{o_i\\in pt(x)\\quad o_j\\in pt(o_i.f)}{o_j\\in pt(y)}$ å®ç° å®ç°å…³é”®ï¼šå½“$pt(x)$å‘ç”Ÿæ”¹å˜æ—¶ï¼Œéœ€è¦å°†æ”¹å˜çš„éƒ¨åˆ†ä¼ æ’­åˆ°å’Œ$x$æœ‰å…³çš„æŒ‡é’ˆä¸Š PFGï¼šè¡¨ç¤ºæŒ‡é’ˆé—´çš„å…³è”å…³ç³»ï¼Œå°†æ”¹å˜éƒ¨åˆ†ä¼ æ’­åˆ°ä¸€ä¸ªæŒ‡é’ˆçš„æ‰€æœ‰åç»§ è¡¨è¾¾äº†å¯¹è±¡å¦‚ä½•åœ¨æŒ‡é’ˆé—´æµåŠ¨çš„æœ‰å‘å›¾ Nodes: Pointer Edge: Pointer $\\to$ Pointer $x\\to y$: $x$æŒ‡å‘å¯¹è±¡ä¼šæµå‘$y$ï¼Œ$y$ä¹Ÿä¼šæŒ‡å‘$x$æŒ‡å‘çš„å¯¹è±¡ å»ºç«‹PFGå’Œåœ¨PFGä¸Šä¼ é€’æŒ‡å‘å…³ç³»æ˜¯äº’ç›¸ä¾èµ–çš„â€”â€”PFGæ˜¯åŠ¨æ€æ›´æ–°çš„ è¿‡ç¨‹å†…æŒ‡é’ˆåˆ†æ-ç®—æ³•ä¼ªä»£ç ç•¥ï¼Œè§è¿‡ç¨‹é—´æŒ‡é’ˆåˆ†æçš„ç®—æ³• å‡†å¤‡å·¥ä½œ ä¸ºæ‰€æœ‰çš„Newè¯­å¥åˆ›å»ºå¯¹è±¡å¹¶åŠ å…¥WL ä¸ºæ‰€æœ‰çš„Assignè¯­å¥åŠ è¾¹ ä¸»å¾ªç¯ï¼š è¿­ä»£WLä¸­çš„&lt;ç›®æ ‡æŒ‡é’ˆï¼Œå¾…ä¼ æ’­å¯¹è±¡&gt;äºŒå…ƒç»„ å…ˆå¯¹è¯¥äºŒå…ƒç»„è¿›è¡Œå·®é‡ä¼ æ’­ å¦‚æœç›®æ ‡æŒ‡é’ˆæ˜¯å˜é‡è€Œéinstance fieldï¼Œå°±è¿­ä»£æ‰€æœ‰å¾…ä¼ æ’­å¯¹è±¡å’Œè¯¥å˜é‡çš„æ‰€æœ‰Load/Storeè¯­å¥ï¼Œè¿›è¡ŒåŠ è¾¹æ“ä½œ AddEdge($s,t$) åŠ è¾¹æ“ä½œ åˆ¤æ–­è¦åŠ çš„è¾¹æ˜¯å¦å·²ç»å­˜åœ¨ï¼Œå¦‚æœæ˜¯æ–°çš„è¾¹å†è¿›è¡Œåç»­æ“ä½œ åœ¨PFGä¸­åŠ ä¸Šè¿™æ¡è¾¹ï¼ˆå”¯ä¸€ä¼šä¿®æ”¹PFGçš„æ“ä½œï¼‰ å¦‚æœè¾¹çš„èµ·ç‚¹å·²ç»æœ‰ä¸€äº›æŒ‡å‘å¯¹è±¡ï¼Œå°±æ”¾å…¥WLä¸­ï¼Œæ–¹ä¾¿åç»­æŠŠè¿™äº›å¯¹è±¡ä¼ æ’­åˆ°ç»ˆç‚¹ä¸Š Propagate($n, pts$) ä¼ æ’­æ“ä½œ å¦‚æœå¾…ä¼ æ’­çš„å¯¹è±¡é›†åˆæ˜¯ç©ºé›†ï¼Œå°±ä»€ä¹ˆéƒ½ä¸åš æŠŠå¾…ä¼ æ’­çš„å¯¹è±¡é›†åˆåŠ åˆ°ç›®æ ‡æŒ‡é’ˆ$n$çš„$pt$é›†ä¸­ï¼ˆå”¯ä¸€ä¼šä¿®æ”¹$pt$é›†åˆçš„æ“ä½œï¼‰ æŠŠç›®æ ‡æŒ‡é’ˆçš„åç»§å’Œå¾…ä¼ æ’­å¯¹è±¡éƒ½åŠ å…¥WLï¼Œä»¥ä¾¿åç»­ä¼ é€’ å·®é‡ä¼ æ’­ï¼šå‡å°‘å†—ä½™ä¿¡æ¯çš„ä¼ é€’ã€‚ä¸€ä¸ªæŒ‡é’ˆå¦‚æœå·²ç»åœ¨æŸä¸ªç»“ç‚¹çš„$pt$é›†ä¸­ï¼Œå°±ä¸ç”¨è¿›è¡ŒäºŒæ¬¡ä¼ æ’­äº† è¿‡ç¨‹é—´æŒ‡é’ˆåˆ†æRuleså¯¹äºè¯­å¥l: r = x.k(a1, ..., an)$$\\frac{o_i\\in pt(x),\\quad m=\\text{Dispatch}(o_i, k)\\o_u\\in pt(a_j),\\; 1\\le j\\le n\\o_v\\in pt(m_{ret})}{o_i\\in pt(m_{this})\\o_u\\in pt(m_{p_j}),\\; 1\\le j\\le n\\o_v\\in pt(r)}$$ è§„åˆ™åšäº†ä¸‰ä»¶äº‹ï¼š ä¼ é€’thiså˜é‡çš„å¯¹è±¡ ä¼ é€’å‚æ•°çš„å¯¹è±¡ ä¼ é€’è¿”å›å€¼çš„å¯¹è±¡ PFGåŠ è¾¹ å¯¹åº”å‚æ•°é—´ï¼šå®å‚$\\to$å½¢å‚ è¿”å›å€¼é—´ï¼šæ–¹æ³•è¿”å›å€¼$\\to$LHS variable receiver objectåˆ°$m_{this}$é—´ä¸åŠ è¾¹ï¼Œå¦åˆ™ä¼šæŸå¤±ç²¾åº¦ Call Graphçš„å»ºç«‹ï¼šä»å…¥å£æ–¹æ³•å¼€å§‹é€æ¸æ¢ç´¢å¯è¾¾ä¸–ç•Œâ€”â€”åˆ°ä¸äº†çš„éƒ½æ˜¯æ­»ä»£ç ï¼Œæå‡ç²¾åº¦å’Œé€Ÿåº¦ è¿‡ç¨‹é—´æŒ‡é’ˆåˆ†æ-ç®—æ³•1234567891011121314151617181920212223242526272829303132333435363738394041424344454647Solve(m_entry): WL&#x3D;[], RM&#x3D;&#123;&#125;, PFG&#x3D;&#123;&#125;, CFG&#x3D;&#123;&#125;, S&#x3D;&#123;&#125; AddReachable(m_entry) while WL is not empty: remove &lt;n, pts&gt; from WL delta &#x3D; pts - pt(n) Propogate(n, delta) if n represents a variable x: foreach o_i in delta: foreach x.f &#x3D; y in S: AddEdge(y, o_i.f) foreach y &#x3D; x.f in S: AddEdge(o_i.f, y) ProcessCall(x, o_i)AddEdge(s, t): if s-&gt;t not in PFG: add s-&gt;t to PFG if pt(s) not empty: add &lt;t, pt(s)&gt; to WLPropogate(n, pts): if pts not empty: pt(n) +&#x3D; pts foreach n-&gt;s in PFG: add &lt;s, pts&gt; to WL AddReachable(m): if m not in RM: add m to RM S +&#x3D; S_m foreach i: x &#x3D; new T() in S_m: add &lt;x, &#123;o_i&#125;&gt; to WL foreach x &#x3D; y in S_m: AddEdge(y, x) ProcessCall(x, o_i) foreach l: r &#x3D; x.k(a1, ..., an) in S: m &#x3D; Dispatch(o_i, k) add &lt;m_this, o_i&gt; to WL if l-&gt; m not CG: add l-&gt;m in CG AddReachable(m) foreach parameter p_j of m: AddEdge(a_j, p_j) AddEdge(m_ret, r) å‡†å¤‡å·¥ä½œ åˆå§‹åŒ–Worklist($WL$), å¯è¾¾æ–¹æ³•é›†åˆ$RM$, PFG, CFG, æ‰€æœ‰è¯­å¥çš„é›†åˆ$S$ å°†å…¥å£æ–¹æ³•æ ‡è®°å¯è¾¾ ä¸»å¾ªç¯ï¼ˆåŸºæœ¬åŒè¿‡ç¨‹å†…ï¼Œå¤šäº†ä¸€æ­¥ProcessCallï¼‰ è¿­ä»£WLé‡Œæ‰€æœ‰çš„&lt;ç›®æ ‡æŒ‡é’ˆï¼Œå¾…ä¼ æ’­å¯¹è±¡&gt;äºŒå…ƒç»„ å¯¹ç›®æ ‡æŒ‡é’ˆåšå·®é‡ä¼ æ’­ å¦‚æœç›®æ ‡æŒ‡é’ˆæ˜¯ä¸ªå˜é‡ï¼Œå°±è¿­ä»£æ‰€æœ‰å¾…ä¼ æ’­å¯¹è±¡ï¼šå¯¹æ‰€æœ‰Load/Storeè¯­å¥ï¼Œè¿›è¡ŒåŠ è¾¹æ“ä½œï¼›å¤„ç†è¯¥å˜é‡çš„æ‰€æœ‰æ–¹æ³•è°ƒç”¨ AddReachable($m$) æ ‡è®°å¯è¾¾ å¦‚æœè¯¥æ–¹æ³•å·²ç»åœ¨å¯è¾¾é›†åˆå†…ï¼Œå°±ä»€ä¹ˆéƒ½ä¸åš å°†è¯¥æ–¹æ³•åŠ å…¥å¯è¾¾é›†åˆ å°†è¯¥æ–¹æ³•çš„æ‰€æœ‰è¯­å¥åŠ å…¥è¯­å¥é›†åˆ å¤„ç†è¯¥æ–¹æ³•å†…çš„æ‰€æœ‰Newè¯­å¥å’ŒAssignè¯­å¥ï¼ŒåŒè¿‡ç¨‹é—´åˆ†æçš„å‡†å¤‡å·¥ä½œï¼ŒNewåŠ WLï¼ŒAssignåŠ è¾¹ ProcessCall($x, o_i$) å¤„ç†æŸä¸ªå˜é‡çš„æ‰€æœ‰æ–¹æ³•è°ƒç”¨ è¿­ä»£è¯¥å˜é‡çš„æ‰€æœ‰æ–¹æ³•è°ƒç”¨ï¼Œè¿­ä»£Dispatchå‡ºçš„æ‰€æœ‰ç›®æ ‡æ–¹æ³• å°†å½“å‰å¯¹è±¡ä¸ç›®æ ‡æ–¹æ³•çš„thiså˜é‡åŠ å…¥WLï¼Œä»¥ä¾¿åç»­ä¼ æ’­ å¦‚æœè°ƒç”¨ç‚¹è‡³ç›®æ ‡æ–¹æ³•çš„è¾¹($l\\to m$)å·²ç»åœ¨CGä¸­ï¼Œå°±ä»€ä¹ˆä¹Ÿä¸åš æ›´æ–°è°ƒç”¨å…³ç³»ï¼šå°†è°ƒç”¨è¾¹åŠ å…¥CGï¼›å°†$m$æ ‡è®°å¯è¾¾ï¼›å‚æ•°å’Œè¿”å›å€¼é—´PFGåŠ è¾¹ï¼ˆæ³¨æ„æ–¹å‘ï¼‰ ä¸Šä¸‹æ–‡æ•æ„Ÿçš„æŒ‡é’ˆåˆ†æ ä¸Šä¸‹æ–‡æ•æ„Ÿçš„æ¦‚å¿µï¼ˆC.S.ï¼‰ ä¸Šä¸‹æ–‡æ•æ„Ÿå †çš„æ¦‚å¿µï¼ˆC.S.heapï¼‰ ä¸ºä»€ä¹ˆC.S.å’ŒC.S.heapèƒ½æå‡ç²¾åº¦ ä¸Šä¸‹æ–‡æ•æ„ŸæŒ‡é’ˆåˆ†æçš„rules ä¸Šä¸‹æ–‡æ•æ„ŸæŒ‡é’ˆåˆ†æçš„ç®—æ³• å¸¸è§çš„context sensitivity variants ä¸åŒvariantsçš„åŒºåˆ«å’Œå…³ç³» ä¸Šä¸‹æ–‡æ•æ„Ÿ ä¸Šä¸‹æ–‡ä¸æ•æ„Ÿï¼šä¸åŒçš„æ•°æ®æµé€šè¿‡å‚æ•°å’Œè¿”å›å€¼è¢«mergeåˆ°äº†ä¸€èµ·ï¼Œé€ æˆä¸å‡† ä¸Šä¸‹æ–‡æ•æ„Ÿï¼šé€šè¿‡åŒºåˆ†ä¸åŒä¸Šä¸‹æ–‡çš„ä¸åŒæ•°æ®æµæ¥å»ºæ¨¡calling context clone-basedä¸Šä¸‹æ–‡æ•æ„Ÿ æ–¹æ³•è¢«ä¸åŒçš„contextå¤åˆ¶æˆå¤šä»½ å˜é‡ä¹Ÿè¢«ä¸åŒçš„contextå¤åˆ¶æˆå¤šä»½ ä¸Šä¸‹æ–‡æ•æ„Ÿçš„å †æŠ½è±¡ï¼š æŠ½è±¡å¯¹è±¡ä¹ŸåŒºåˆ†ä¸åŒçš„ä¸Šä¸‹æ–‡ï¼ˆæˆä¸ºå †ä¸Šä¸‹æ–‡ï¼‰ å †ä¸Šä¸‹æ–‡ä¸€èˆ¬ç›´æ¥ä½¿ç”¨åˆ†é…æ—¶æ‰€åœ¨æ–¹æ³•çš„ä¸Šä¸‹æ–‡ Rules å®šä¹‰åŸŸä¸ç¬¦å· æ‰€æœ‰å…ƒç´ éƒ½ä¼šè¢«ä¸Šä¸‹æ–‡ä¿®é¥°ï¼ˆfieldæŒ‚é åœ¨å¯¹è±¡ä¸Šï¼Œå¯¹è±¡å·²ç»è¢«ä¸Šä¸‹æ–‡ä¿®é¥°ï¼Œæ‰€ä»¥fieldä¸éœ€è¦é¢å¤–çš„ä¿®é¥°ï¼‰ Context: $c, câ€™, câ€™â€™\\in C$ Context-sensitive methods: $c:m\\in C\\times M$ Context-sensitive variables: $c:x, câ€™:y\\in C\\times V$ Context-sensitive objects: $c:o_i, câ€™:o_j\\in C\\times O$ Fields: $f,g\\in F$ Context-sensitive instance fields: $c:o_i.f, câ€™:o_j.g\\in C\\times O\\times F$ Context-sensitive pointers: CSPointer=$(C\\times V)\\cup (C\\times O\\times F)$ Points-to relations: $pt: \\text{CSPointer}\\to \\mathcal(C\\times O)$ Kind Statement Rule New i: x = new T() $$\\frac{}{c:o_i\\in pt(c:x)}$$ Assign x = y $$\\frac{câ€™:o_i\\in pt(c:y)}{câ€™:o_i\\in pt(c:x)}$$ Store x.f = y $\\frac{câ€™:o_i\\in pt(c:x)\\quad câ€™â€™:o_j\\in pt(c:y)}{câ€™â€™:o_j\\in pt(câ€™:o_i.f)}$ Load y = x.f $\\frac{câ€™:o_i\\in pt(c:x)\\quad câ€™â€™:o_j\\in pt(câ€™:o_i.f)}{câ€™â€™:o_j\\in pt(c:y)}$ Call: l: r = x.k(a1, ..., an)$$\\frac{câ€™:o_i\\in pt(c:x),\\m=Dispatch(o_i,k),\\quad c^t=Select(c,l, câ€™:o_i)\\câ€™â€™:o_u\\in pt(c:a_j),\\; 1\\le j\\le n\\câ€™â€™â€™:o_v\\in pt(c^t:m_{ret})}{câ€™:o_i\\in pt(c^t:m_{this})\\câ€™â€™:o_u\\in pt(c^t: m_{pj}),\\; 1\\le j\\le n\\câ€™â€™â€™:o_v\\in pt(c: r)}$$ ä¸Šä¸‹æ–‡æ•æ„ŸæŒ‡é’ˆåˆ†æ-ç®—æ³•åªåœ¨ä¸æ•æ„Ÿç®—æ³•çš„åŸºç¡€ä¸ŠåŠ ä¸Šäº†ä¸Šä¸‹æ–‡ï¼Œä»¥åŠProcessCallçš„æ—¶å€™å¤šäº†ä¸€æ­¥åˆ›å»ºä¸Šä¸‹æ–‡çš„Select åˆå§‹ä¸Šä¸‹æ–‡ä¸ºç©ºï¼ˆ[]ï¼‰ æ³¨æ„Call Graphä¹Ÿæ˜¯å¸¦æœ‰ä¸Šä¸‹æ–‡çš„ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748Solve(m_entry): WL&#x3D;[], RM&#x3D;&#123;&#125;, PFG&#x3D;&#123;&#125;, CFG&#x3D;&#123;&#125;, S&#x3D;&#123;&#125; AddReachable([]:m_entry) while WL is not empty: remove &lt;n, pts&gt; from WL delta &#x3D; pts - pt(n) Propogate(c:n, delta) if n represents a variable c:x: foreach c&#39;:o_i in delta: foreach x.f &#x3D; y in S: AddEdge(c:y, c&#39;:o_i.f) foreach y &#x3D; x.f in S: AddEdge(c&#39;:o_i.f, c:y) ProcessCall(c:x, c&#39;o_i)AddEdge(s, t): if s-&gt;t not in PFG: add s-&gt;t to PFG if pt(s) not empty: add &lt;t, pt(s)&gt; to WLPropogate(n, pts): if pts not empty: pt(n) +&#x3D; pts foreach n-&gt;s in PFG: add &lt;s, pts&gt; to WL AddReachable(c:m): if c:m not in RM: add c:m to RM S +&#x3D; S_m foreach i: x &#x3D; new T() in S_m: add &lt;c:x, &#123;c:o_i&#125;&gt; to WL foreach x &#x3D; y in S_m: AddEdge(c:y, c:x) ProcessCall(c:x, c&#39;:o_i) foreach l: r &#x3D; x.k(a1, ..., an) in S: m &#x3D; Dispatch(o_i, k) c^t &#x3D; Select(c, l, c&#39;:o_i) add &lt;c^t: m_this, &#123;c&#39;:o_i&#125;&gt; to WL if c:l-&gt; c^t:m not CG: add c:l-&gt; c^t:m in CG AddReachable(c^t:m) foreach parameter c^t:p_j of m: AddEdge(c:a_j, c^t:p_j) AddEdge(c^t:m_ret, c:r) Context Sensitivity VariantsC.I.å¯ä»¥çœ‹æˆä¸€ç§ç‰¹æ®Šçš„ä¸Šä¸‹æ–‡ k-limiting ä¿è¯contextæœ‰é™ï¼Œç¨‹åºå¯ä»¥ç»ˆæ­¢ï¼ˆé€’å½’è­¦å‘Šï¼‰ é˜²æ­¢contextè¿‡å¤§åŸåœ°çˆ†ç‚¸ è®¾ç½®contexté•¿åº¦ä¸Šé™ä¸ºkï¼Œåªä¿ç•™æœ€åkä¸ªcontext kä¸€èˆ¬å–å°æ•°å­—ï¼ˆ$\\le 3$ æ–¹æ³•ä¸Šä¸‹æ–‡å’Œå †ä¸Šä¸‹æ–‡çš„$k$å¯ä»¥ä¸åŒ Call-site sensitivity context: a list of call sites (call chain) callee context: æŠŠcall siteåŠ åˆ°caller contextçš„æœ«å°¾ åˆç§°k-CFA Object sensitivity context: a list of abstract objects callee context: æŠŠreceiver objectåŠ åˆ°caller contextçš„æœ«å°¾ Type sensitivity context: a list of types callee context: åœ¨caller contextçš„æœ«å°¾åŠ ä¸ŠåŒ…å«receiver objectçš„allocation siteçš„æ–¹æ³•çš„ç±»å‹ï¼ˆæ³¨æ„ä¸æ˜¯receiver objectæœ¬èº«çš„ç±»å‹ï¼‰ ä¸‰è€…æ¯”è¾ƒ ç»Ÿä¸€æ¥è¯´æ²¡æœ‰å“ªç§æœ€å¥½ åœ¨Javaè¿™æ ·çš„OOPè¯­è¨€ä¸­ï¼Œ$k$ç›¸åŒæ—¶ ç²¾åº¦ï¼šObject&gt; Type &gt; Call-site æ•ˆç‡ï¼šType &gt; Object &gt; Call-site é™æ€åˆ†æfor Security ä¿¡æ¯æµå®‰å…¨æ€§çš„æ¦‚å¿µ Confidentialityï¼ˆä¿å¯†æ€§ï¼‰and integrity ï¼ˆå®Œæ•´æ€§ï¼‰ Explicit flowï¼ˆæ˜æµï¼‰ and covert channelsï¼ˆéšè—ä¿¡é“ï¼‰ ä½¿ç”¨æ±¡ç‚¹åˆ†ææ¥æ£€æµ‹ä¸æƒ³è¦çš„ä¿¡æ¯æµ Information Flow Security Securityï¼šè€ƒè™‘å¯¹æ‰‹å­˜åœ¨çš„æƒ…å†µä¸‹è¾¾åˆ°æŸäº›ç›®çš„ ä¿¡æ¯æµ ä¿¡æ¯æµ$x\\to y$: å˜é‡$x$ä¸­çš„ä¿¡æ¯ä¼šä¼ æ’­åˆ°å˜é‡$y$ æŠŠç¨‹åºä¸­çš„å˜é‡åˆ†æˆä¸åŒsecurity levelï¼Œæœ€åŸºæœ¬çš„æ¨¡å‹æ˜¯2-level policy (high/low security) å®‰å…¨ç­‰çº§å¯ä»¥å»ºæ¨¡æˆæ ¼ Information Flow policy é™åˆ¶äº†ä¿¡æ¯æµå¦‚ä½•åœ¨ä¸åŒçš„security levelä¹‹é—´æµåŠ¨ Noninterference policy: high-securityå˜é‡ä¸­çš„ä¿¡æ¯ä¸èƒ½æµåŠ¨åˆ°low-securityå˜é‡ä¸­ï¼Œå¦åˆ™å°±å¯èƒ½é€šè¿‡è§‚æµ‹lowå˜é‡åæ¨å‡ºhighå˜é‡ ä¿è¯äº†ä¿¡æ¯æµåœ¨æ ¼ä¸­åªèƒ½å‘ä¸Šï¼ˆé«˜æœºå¯†æ€§æ–¹å‘ï¼‰æµåŠ¨ ä¿å¯†æ€§ä¸å®Œæ•´æ€§ ä¿å¯†æ€§ é˜»æ­¢é‡è¦ä¿¡æ¯çš„æ³„éœ² ä¸èƒ½è®©é«˜çš„å†™å…¥ä½çš„ è¯»ä¿æŠ¤ å®Œæ•´æ€§ï¼š é˜»æ­¢å±é™©ä¿¡æ¯è¿›æ¥ ä¸èƒ½è®©ä½çš„å†™å…¥é«˜çš„ å†™ä¿æŠ¤ äºŒè€…æ˜¯å¯¹å¶å…³ç³» å®Œæ•´æ€§â€”â€”å¹¿ä¹‰å®šä¹‰ Correctness æ­£ç¡®æ€§ï¼šå¯¹äºä¿¡æ¯æµå®Œæ•´æ€§è€Œè¨€ï¼Œå°±æ˜¯ä¸Šé¢çš„ä¾ ä¹‰å®šä¹‰ï¼Œå…³é”®æ•°æ®ä¸èƒ½è¢«å±é™©æ•°æ®æ±¡æŸ“ Completeness: e.g. æ•°æ®åº“ç³»ç»Ÿåº”è¯¥å®Œæ•´åœ°å­˜å‚¨æ‰€æœ‰æ•°æ® Consistency: e.g. æ–‡ä»¶äº¤æ¢ç³»ç»Ÿéœ€è¦ç¡®ä¿æ”¶å‘ç«¯çš„æ–‡ä»¶ä¿æŒä¸€è‡´ Explicit flow &amp; covert channels Expilict flow: é€šè¿‡ç›´æ¥æ‹·è´ï¼ˆèµ‹å€¼ï¼‰ä¼ é€’ä¿¡æ¯æµ Covert channels éšè—ä¿¡é“ ä¿¡é“ï¼šmechanisms for signaling information through a computing system éšè—ä¿¡é“ï¼šä¸»è¦ç›®çš„å¹¶éä¼ æ’­ä¿¡æ¯çš„ä¿¡é“ e.g. implicit flows (é€šè¿‡æ§åˆ¶æµæ³„éœ²æœºå¯†ä¿¡æ¯), termination channels (è§‚å¯Ÿå¾ªç¯æ˜¯å¦ä¼šç»ˆæ­¢), Timing channels (è§‚å¯Ÿç¨‹åºæ‰§è¡Œæ—¶é—´), Exceptions (è§‚å¯Ÿç¨‹åºæ˜¯å¦ä¼šæŠ›å‡ºå¼‚å¸¸), ç”¨ç”µé‡ï¼Œcacheå‘½ä¸­ç‡ï¼Œâ€¦â€¦. èƒ½æ³„éœ²çš„ä¿¡æ¯æœ‰é™+æ”»å‡»éš¾åº¦å¤§ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¸å»ä¸“é—¨é¢„é˜² æ±¡ç‚¹åˆ†æ æŠŠç¨‹åºä¸­çš„æ•°æ®åˆ†ä¸ºä¸¤ç±» Tainted data æ±¡ç‚¹æ•°æ®ï¼šç»™å…³å¿ƒçš„æ•°æ®æ‰“ä¸Šæ ‡ç­¾ï¼Œå°±åƒåŒä½ç´ æ ‡è®°ä¸€æ · å…¶ä»–æ•°æ®ï¼šä¸å…³å¿ƒçš„æ•°æ® Sources æºï¼šæ±¡ç‚¹æ•°æ®æ¥çš„åœ°æ–¹ï¼Œä¸€èˆ¬æ˜¯æŸäº›æ–¹æ³•çš„è¿”å›å€¼ æ±¡ç‚¹åˆ†æå…³æ³¨æ±¡ç‚¹æ•°æ®åœ¨ç¨‹åºå†…æµåŠ¨çš„æ–¹å¼ï¼Œä¼šä¸ä¼šç•™åˆ°æŸäº›å…³å¿ƒçš„åœ°æ–¹ï¼ˆsinkï¼‰ï¼Œsinkä¸€èˆ¬æ˜¯ä¸€äº›æ•æ„Ÿçš„æ–¹æ³• åº”ç”¨ï¼š ä¿å¯†æ€§ï¼šSource: ç§˜å¯†æ•°æ®çš„æ¥æºï¼› Sinkï¼šæ³„éœ²éƒ¨ä½ å®Œæ•´æ€§ï¼šSource: ä¸ä¿¡ä»»çš„æ•°æ®æ¥æºï¼›Sinkï¼šå…³é”®çš„è®¡ç®—æ­¥éª¤ ä¸æŒ‡é’ˆåˆ†æï¼š æŠŠtainted dataçœ‹æˆä¸€ä¸ªæŠ½è±¡å¯¹è±¡ Source: çœ‹æˆAllocation site ä½¿ç”¨æŒ‡é’ˆåˆ†ææ¥ä¼ æ’­æ•°æ® å®šä¹‰åŸŸä¸ç¬¦å· æ¯”æŒ‡é’ˆåˆ†æå¤šäº†ä¸€ä¸ªTainted data: $t_i, t_j\\in T\\subset O$ $t_i$æŒ‡æ¥è‡ª$i$è¿™ä¸ªcall siteçš„æ±¡ç‚¹æ•°æ® è¾“å…¥è¾“å‡º è¾“å…¥ï¼š Source: ä¸€ç³»åˆ—ä¼šè¿”å›æ±¡ç‚¹æ•°æ®çš„æ–¹æ³• Sink: ä¸€ç³»åˆ—sink methodsï¼Œæ±¡ç‚¹æ•°æ®ä¸€æ—¦æµè¿›è¿™äº›æ–¹æ³•å°±æ„å‘³ç€è¿åäº†security policy è¾“å‡ºï¼š Taintflows: ä¸€ç³»åˆ—&lt;æ±¡ç‚¹æ•°æ®ï¼Œsink method&gt;äºŒå…ƒç»„ï¼Œè¡¨ç¤ºæ±¡ç‚¹æ•°æ®å¯èƒ½ä¼šæµåŠ¨åˆ°è¿™ä¸ªsink method Rules æŒ‡é’ˆåˆ†ærules + å¯¹Sourceå’ŒSinkçš„å¤„ç† Source rule: l: r = x.k(a1, ..., an)$$\\frac{l\\to m\\in CG\\m\\in Sources}{t_l\\in pt(r)}$$ Sink rule: l: r = x.k(a1, ..., an)$$\\frac{l\\to m\\in CG\\m\\in Sinks\\\\exists i, 1\\le i\\le n, t_j\\in pt(a_i)}{\\langle t_j, m\\rangle\\in TaintFlows}$$ ä¸€äº›ç‰¹æ®Šçš„APIï¼ˆå¦‚Stringçš„æ‹·è´èµ‹å€¼ï¼‰éœ€è¦ç‰¹æ®Šå¤„ç† æ³¨æ„ï¼šç»™æŒ‡é’ˆæ·»åŠ æ±¡ç‚¹æ•°æ®çš„æ—¶å€™åˆ«å¿˜äº†æŠŠæ­£å¸¸çš„æŒ‡å‘å¯¹è±¡ä¹ŸåŠ è¿›å» åŸºäºDatalogçš„ç¨‹åºåˆ†æ Datalog language å¦‚ä½•ç”¨Datalogå®ç°æŒ‡é’ˆåˆ†æ å¦‚ä½•ç”¨Datalogå®ç°æ±¡ç‚¹åˆ†æ Datalog Datalogæ˜¯ä¸€ç§å‘½ä»¤å¼çš„é€»è¾‘ç¼–ç¨‹è¯­è¨€ï¼Œæ˜¯Prologçš„å­é›† Datalog = data + logic: æ— å‰¯ä½œç”¨ã€æ— å‡½æ•°ã€æ— æ§åˆ¶æµï¼›å› æ­¤ä¸æ˜¯å›¾çµå®Œå¤‡çš„ Predicate (Data) relation, a set of statements a table of data Atoms Datalogçš„åŸºæœ¬å…ƒç´ æ˜¯relational atomï¼Œæ˜¯ä¸€ç±»å…·æœ‰å¦‚ä¸‹å½¢æ€çš„Predicateï¼šP(X1, X2, ... Xn)ï¼Œå…¶ä¸­Pä¸ºPredicateçš„åç§°ï¼ŒX1,... Xnæ˜¯Argument(Term) Termå¯ä»¥æ˜¯å˜é‡æˆ–è€…å¸¸æ•° e.g. Age(person, age), Age(&quot;Xiaoming&quot;, 18) P(X1, X2, ..., Xn)æ±‚å€¼ä¸ºtrueå½“ä¸”ä»…å½“è¡¨PåŒ…å«å…ƒç»„(X1, X2,..., Xn) Datalogä¹Ÿæœ‰arithmetic atom, e.g. age &gt;=18 Datalog Rules Ruleç”¨æ¥è¡¨è¾¾é€»è¾‘çš„æ¨é‡Œå…³ç³» Ruleçš„å½¢å¼ä¸ºH &lt;- B1, B2, ..., Bn. H: Head, ç»“æœï¼Œæ˜¯ä¸€ä¸ªAtom B1, B2, ..., Bnï¼šBody, å‰ä»¶ï¼Œæ¯ä¸ªBiéƒ½æ˜¯ä¸€ä¸ªAtomï¼Œæ˜¯subgoal å«ä¹‰ï¼šhead is true if body is true é€—å·è¡¨ç¤ºé€»è¾‘ä¸ï¼ŒBodyé‡Œæ¯ä¸€ä¸ªsubgoaléƒ½ä¸ºtrueæ—¶æ‰èƒ½æ¨å‡ºHeadä¸ºtrue e.g. Adult(person) &lt;- Age(person, age), age &gt;= 18. Ruleçš„è§£è¯»ï¼šH(X1, X2) &lt;- B1(X1, X3), B2(X2, X4), ..., Bn(Xm). æšä¸¾æ‰€æœ‰å˜é‡å¯èƒ½çš„å–å€¼çš„ç»„åˆ å¦‚æœæŸç§å˜é‡å–å€¼çš„ç»„åˆèƒ½ä½¿subgoalså…¨éƒ¨ä¸ºtrueï¼Œåˆ™åœ¨è¿™ä¸ªå–å€¼ç»„åˆä¸‹Headä¹Ÿä¸ºtrue Head PredicateåŒ…å«äº†æ‰€æœ‰true atomsï¼Œä¹Ÿæ˜¯ä¸€å¼ è¡¨ EDB &amp; IDB Prdicates Datalog Program = Facts + Rules = EDB + IDB + Rules EDB (extensional database): æå‰å‡†å¤‡å¥½çš„è°“è¯ï¼›ä¸å¯å˜ï¼ˆè™½ç„¶æœ‰äº›Datalogçš„å®ç°ä¸­ä¹Ÿè®¸å¯å˜ï¼‰ï¼›å¯ä»¥çœ‹æˆç¨‹åºè¾“å…¥ï¼›ç›¸å½“äºç»™å®šçš„Facts IDB (internal database): é€šè¿‡Rulesæ¨æ–­å‡ºæ¥çš„è°“è¯ï¼Œå¯ä»¥çœ‹æˆç¨‹åºè¾“å‡ºï¼› å¯¹äºä¸€æ¡Ruleæ¥è¯´ï¼ŒHeadå¿…é¡»æ˜¯IDBï¼ŒBodyé‡Œçš„subgoalså¯ä»¥æ—¶EDBä¹Ÿå¯ä»¥æ˜¯IDB é€»è¾‘æˆ– Headç›¸åŒçš„ä¸åŒè§„åˆ™å¯ä»¥è¡¨ç¤ºé€»è¾‘æˆ– åˆ†å·ä¹Ÿå¯ä»¥ç”¨æ¥è¡¨ç¤ºé€»è¾‘æˆ–ï¼Œe.g. Otaku(person) &lt;- Suki(person, anime); Suki(person, manga); Suki(person, galgame) é€»è¾‘ä¸çš„ä¼˜å…ˆçº§æ›´é«˜ï¼ˆä»¿ä½›æ˜¯ä»€ä¹ˆä¸šç•Œå…±è¯†ï¼‰ å¦å®š Bodyé‡Œçš„Subgoalå¯ä»¥æ˜¯å¦å®šå½¢å¼ï¼Œè¡¨ç¤ºä¸º!B(...) e.g. MakeupExamStd(student) &lt;- Student(student), !PassedStd(student) é€’å½’rules IDB predicateå¯ä»¥æˆ‘æ¨æˆ‘è‡ªå·±ï¼ˆç›´æ¥æˆ–é—´æ¥ï¼‰ e.g. 12Reach(from, to) &lt;- Edge(from, to).Reach(from, to) &lt;- Reach(from, node), Edge(node, to). é€’å½’è®©datalogå¯ä»¥è¡¨ç¤ºå¤æ‚çš„ç¨‹åºåˆ†æé—®é¢˜ Rule Safety å½“æ¯ä¸€ä¸ªå˜é‡éƒ½è‡³å°‘å‡ºç°åœ¨ä¸€ä¸ªéå¦å®šå½¢å¼çš„relational atomä¸­ï¼Œä¸€æ¡è§„åˆ™æ‰æ˜¯å®‰å…¨çš„ æœ‰æ— é™è¡¨é¡¹çš„Predicateæ˜¯unsafeçš„ Datalogåªä¼šå…è®¸safe rules é€’å½’å’Œå¦å®šå¿…é¡»åˆ†å¼€ï¼Œä¸ç„¶ä¼šå‡ºç°è‡ªç›¸çŸ›ç›¾çš„rulesï¼Œe.g. A(x) &lt;- B(x), !A(x) Datalog Programçš„æ‰§è¡Œ Datalog Engineä»EDBå¼€å§‹æ¨æ–­æ‰€æœ‰èƒ½æ¨æ–­çš„factsï¼Œç›´åˆ°æ²¡æœ‰æ–°factsä¸ºæ­¢ Datalog Rulesçš„å•è°ƒæ€§å’Œfactsçš„æœ‰é™æ€§ç¡®ä¿äº†ç¨‹åºä¸€å®šèƒ½ç»ˆæ­¢ Datalogå®ç°æŒ‡é’ˆåˆ†æ EDBï¼šç¨‹åºè¯­å¥ New(x: V, o: O) Assign(x: V, y: V) Store(x: V, f: F, y: V) Load(y: V, x: V, f: F) IDBï¼šæŒ‡é’ˆçš„æŒ‡å‘å…³ç³» VarPointsTo(v: V, o: O) FieldPointsTo(oi: O, f: F, o: O) Rulesï¼šç›´æ¥ç¿»è¯‘å°±å®Œäº‹äº† | Kind | Statement | Rule | DataLog Rule || â€”â€” | â€”â€”â€”â€”â€”- | â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” | â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” || New | i: x = new T() | $$\\frac{}{o_i\\in pt(x)}$$ | VarPointsTo(x, oi) &lt;- New(x, oi) || Assign | x = y | $$\\frac{o_i\\in pt(y)}{o_i\\in pt(x)}$$ | VarPointsTo(oi, x) &lt;- Assign(x, y), VarPointsTo(oi, y) || Store | x.f = y | $\\frac{o_i\\in pt(x)\\quad o_j\\in pt(y)}{o_j\\in pt(o_i.f)}$ | FieldPointsTo(oi, f, oj) &lt;- Store(x, f, y), VarPointsTo(x, oi), VarPointsTo(y, oj) || Load | y = x.f | $\\frac{o_i\\in pt(x)\\quad o_j\\in pt(o_i.f)}{o_j\\in pt(y)}$ | VarPointsTo(y, oj) &lt;- Load(y, x, f), VarPointsTo(x, oi), FieldPointsTo(oi, f, oj) | Method Call Domains: Statements - S, Methods - M EDB è°ƒç”¨è¯­å¥ VCall(l: S, x: V, k: M) Dispatch(x: V, k: M, m: M) ThisVar(m: M, this: V) Argument(l: S, i: N, ai: V) Parameter(m: M, i: N, pi: V) MethodReturn(m: M, ret: V) CallReturn(l: S, r: V) IDB Reachable(m: M) CallGraph(l: S, m: M) Rules: åˆ†ä¸‰æ¡è¡¨è¿° 1234567891011121314151617181920212223242526272829&#x2F;&#x2F; å¤„ç†è°ƒç”¨å…³ç³»å’Œthiså˜é‡VarPointsTo(this, o),Reachable(m),CallGraph(l, m) &lt;- VCall(l, x, k), Dispatch(x, k, m), ThisVar(m, this), VarPointsTo(x, o).&#x2F;&#x2F; å¤„ç†å‚æ•°VarPointsTo(pi, o) &lt;- CallGraph(l, m), Argument(l, i, ai), Parameter(m, i, pi), VarPointsTo(ai, o). &#x2F;&#x2F; å¤„ç†è¿”å›å€¼VarPointsTo(r, o) &lt;- CallGraph(l, m), MethodReturn(m, ret), CallReturn(l, r), VarPointsTo(ret, o).&#x2F;&#x2F; é¢å¤–å¢åŠ ï¼ˆä¿®æ”¹ï¼‰&#x2F;&#x2F; å…¥å£è§„åˆ™Reachable(m) &lt;- EntryMethod(m).&#x2F;&#x2F; é˜»æ­¢åˆ†æä¸å¯è¾¾æ–¹æ³•VarPointsTo(x, o) &lt;- Reachable(m), New(x, o, m). åˆ©å¼Š åˆ© ç®€æ´æ˜“è¯» å®¹æ˜“å®ç° å—ç›Šäºç°æˆçš„Datalog Engine å¼Š è¡¨è¾¾èƒ½åŠ›æœ‰é™ ä¸ç†è§£å†…éƒ¨å®ç°ï¼Œæ— æ³•æ§åˆ¶performance Datalogå®ç°æ±¡ç‚¹åˆ†æåœ¨æŒ‡é’ˆåˆ†æçš„åŸºç¡€ä¸ŠåŠ ä¸€ç‚¹ä¸œè¥¿å°±å¯ä»¥äº† EDB Source(m: M) Sink(m: M) Taint(l: S, t: T)ï¼šæŠŠtaint dataå’Œcall siteè”ç³»èµ·æ¥ IDB TaintFlow(t: T, m: M) Rules 123456789101112VarPointsTo(r, t) &lt;- CallGraph(l, m), CallReturn(l, r), Source(m), Taint(l, t).TaintFlow(t, m) &lt;- CallGraph(l, m), Sink(m), Argument(l, _, ai), VarPointsTo(ai, t), Taint(_, t). Soundiness ç†è§£soundinessçš„åŠ¨æœºå’Œæ¦‚å¿µ ç†è§£ä¸ºä»€ä¹ˆJavaçš„åå°„æœºåˆ¶å’Œnative codeéš¾ä»¥åˆ†æ Soundiness-åŠ¨æœº ç°å®ä¸­å¾ˆéš¾å®ç°Soundnessï¼Œå› ä¸ºå­˜åœ¨å¾ˆå¤šhard language features(é™æ€åˆ†æéš¾ä»¥å¤„ç†çš„feature) å®é™…åˆ†ææ—¶ï¼Œä¸€èˆ¬æŒ‡å…³å¿ƒsound coreï¼Œå¯¹hard language featuresé‡‡å–ä¸å¤„ç†æˆ–ç®€ç•¥å¤„ç†çš„æ€åº¦â€”â€”å¯èƒ½ä¼šè¯¯å¯¼è¯»è€…â€”â€”æ‰€ä»¥æå‡ºäº†Soundiness Soundiness-æ¦‚å¿µ Soundy analysisï¼šmostly true + well-defined unsound treatments to hard/specific language features Soundness, soundiness, unsound sound: æ•æ‰æ‰€æœ‰çš„åŠ¨æ€è¡Œä¸º soundy: å°½é‡æ•æ‰æ‰€æœ‰åŠ¨æ€è¡Œä¸ºï¼Œä¸€äº›hard language featureåœ¨åˆç†é™åº¦å†…unsound unsoundï¼šå‡ºäºæŸäº›ç›®çš„å¿½ç•¥æ‰ä¸€äº›è¡Œä¸º Java åå°„æœºåˆ¶ ä¸ºä»€ä¹ˆéš¾åˆ†æï¼šå“ªä¸ªç±»ã€å“ªä¸ªæ–¹æ³•å®Œå…¨æ˜¯Run-timeå†³å®šçš„ å½“å‰è§£å†³æ–¹æ³• String Constant Analysis + PTA Type Inference + String Analysis + PTA åŠ¨æ€åˆ†æï¼ˆä¸soundï¼Œç»“æœå–å†³äºå®é™…æ‰§è¡Œè·¯å¾„ï¼‰ Java Native Code Java Native Interface (JNI): JVMçš„ä¸€ä¸ªæ¨¡å—ï¼Œå…è®¸Javaä¸Native C/C++ codeè¿›è¡Œäº¤äº’ ä¸ºä»€ä¹ˆéš¾åˆ†æï¼šå¯¹äºJavaçš„åˆ†æå™¨æ¥è¯´ï¼Œä½ ä¸çŸ¥é“native codeé‡Œé¢å‘ç”Ÿäº†ä»€ä¹ˆï¼ˆè‡ªå·±å†™çš„ï¼‰ å½“å‰è§£å†³æ–¹æ³•ï¼šæ›¿æ¢æˆåŠŸèƒ½ç›¸åŒçš„java code CFL-Reachability ç†è§£CFL-Reachability ç†è§£IFDSçš„åŸºæœ¬æ€æƒ³ ç†è§£IFDSèƒ½è§£å†³ä»€ä¹ˆæ ·çš„é—®é¢˜ CFL-Reachability Realizable path: returnå’Œcallç›¸åŒ¹é…çš„è·¯å¾„ ä¸ä¸€å®šä¼šæ‰§è¡Œåˆ°ï¼Œä½†unrealizable pathä¸€å®šä¸ä¼šæ‰§è¡Œåˆ°ï¼ˆæ‰€æœ‰è·¯å¾„ &gt; å¯æ‰§è¡Œè·¯å¾„ &gt; å®é™…æ‰§è¡Œè·¯å¾„ï¼‰ è¯†åˆ«å‡ºRealizable pathï¼Œé˜²æ­¢Unrealizable pathæ±¡æŸ“ç»“æœ â€”â€” æ‹¬å·åŒ¹é…é—®é¢˜ CFL-Reachability Aåˆ°Bå¯è¾¾ï¼Œä»…å½“Aåˆ°Bå­˜åœ¨ä¸€æ¡è·¯å¾„ï¼Œè¯¥è·¯å¾„ä¸Šæ‰€æœ‰è¾¹çš„labelæ‹¼èµ·æ¥æ„æˆç»™å®šçš„CFGä¸­ä¸€ä¸ªåˆæ³•çš„å•è¯ åœ¨call/returnåŒ¹é…è¿™é‡Œï¼Œåˆæ³•çš„å•è¯å°±æ˜¯æ­£å¸¸åŒ¹é…çš„å·¦å³æ‹¬å·$$\\begin{align}realizable &amp;\\to matched\\quad realizable\\&amp;\\to (_i\\quad realizable\\&amp;\\to \\varepsilon\\matched &amp;\\to (_i\\quad matched \\quad)_i\\&amp;\\to e\\&amp;\\to \\varepsilon\\&amp;\\to matched\\quad matched\\end{align}$$ IFDS åŸºäºå›¾å¯è¾¾æ€§çš„ä¸€ä¸ªç¨‹åºåˆ†ææ¡†æ¶ Interprocedural, finite, distributive, subset MRP (Meet-over-all-realizable-path) solution Path functionå¯ä»¥çœ‹æˆè·¯å¾„ä¸Šçš„flow functionå¤åˆåçš„ç»“æœ MRPå°±æ˜¯æŠŠæ‰€æœ‰å¯è¡Œè·¯å¾„çš„path function meet/joinèµ·æ¥ Overview: ç»™å®šç¨‹åº$P$å’Œåˆ†æé—®é¢˜$Q$ ä¸ºç¨‹åº$P$å»ºç«‹supergraph $G^$, åŸºäº$Q$å®šä¹‰$G^$ä¸­è¾¹ä¸Šçš„flow function é€šè¿‡æŠŠflow functionè½¬æ¢æˆrepresentation relations(graph), å»ºç«‹exploded supergraph $G^#$ $Q$å¯ä»¥é€šè¿‡åº”ç”¨Tabulation algorithmè§£å†³å›¾å¯è¾¾æ€§é—®é¢˜æ¥è§£å†³ Supergraph æ¯ä¸ªæ–¹æ³•é¦–ä½åŠ ä¸Šå…¥å£èŠ‚ç‚¹å’Œå‡ºå£èŠ‚ç‚¹ï¼Œæ‰€æœ‰æ–¹æ³•è°ƒç”¨æ‹†æˆè°ƒç”¨ç‚¹å’Œè¿”å›ç‚¹ï¼Œæ ¹æ®è°ƒç”¨å…³ç³»è¿æ¥èµ·æ¥ Flow function: possibly-unintialized variables, åœ¨æŸä¸ªç¨‹åºç‚¹ä¸Šå¯èƒ½æœªè¢«åˆå§‹åŒ–çš„å˜é‡ï¼Œç”¨lambdaå‡½æ•°çš„å½¢å¼è¡¨ç¤º Exploded Supergraph æ¯ä¸ªflow functionéƒ½å¯ä»¥ç”¨2(D+1)ä¸ªç»“ç‚¹çš„å›¾æ¥è¡¨ç¤ºï¼ŒDæ˜¯dataflow factsçš„æœ‰é™é›†åˆ Representation relation of flow function $f$: $R_f\\in (D\\cup 0)\\times (D\\cup 0)$$$\\begin{align}R_f=&amp;{(0,0)}\\cup {(0,y)\\mid y\\in f(\\emptyset)}\\cup{(x,y)\\mid y\\in f(x)\\wedge y\\notin f(\\emptyset)}\\end{align}$$ 0-&gt;0è¾¹ï¼šä¸ºäº†è®©data factsèƒ½ä¼ é€’ä¸‹å» Tabulation Algorithm æ±‚è§£ä»&lt;$s_{main}, 0$&gt; åˆ°&lt;$n,d$&gt;æ˜¯å¦å­˜åœ¨å¯è¡Œè·¯å¾„ï¼Œè‹¥å­˜åœ¨åˆ™$d\\in MRP_n$ $O(ED^3)$ å½“å¤„ç†å‡ºå£ç»“ç‚¹æ—¶å¼€å§‹è¿›è¡Œcall-to-return matching Distributivity: flow functionå¿…é¡»è¦æ»¡è¶³Distributivityï¼Œè¯¸å¦‚$x\\wedge y$è¿™æ ·çš„éœ€è¦ä¾èµ–å¤šä¸ªå˜é‡çš„å…³ç³»è¡¨è¾¾ä¸å‡ºæ¥ï¼Œå› æ­¤IFDSä¸èƒ½ç”¨æ¥å®ç°CPæˆ–è€…PTAï¼ˆåˆ«åå…³ç³»æ— æ³•è¡¨è¾¾ï¼‰","categories":[],"tags":[{"name":"Notes; Programming Languages;","slug":"Notes-Programming-Languages","permalink":"https://mengzelev.github.io/tags/Notes-Programming-Languages/"}]},{"title":"MITå…¬å¼€è¯¾â€”â€”å¦‚ä½•æ¼”è®²","slug":"MIT-how-to-speak","date":"2020-12-27T15:57:40.000Z","updated":"2020-12-27T16:14:03.423Z","comments":true,"path":"2020/12/27/MIT-how-to-speak/","link":"","permalink":"https://mengzelev.github.io/2020/12/27/MIT-how-to-speak/","excerpt":"","text":"MITå…¬å¼€è¯¾â€”â€”å¦‚ä½•æ¼”è®²æœ€è¿‘åˆæ˜¯æ¯•ä¸šè®ºæ–‡æŠ¥å‘Šå¼€é¢˜ï¼Œåˆæ˜¯ç”³è¯·å­£é¢è¯•ï¼Œéœ€è¦å‘äººä»‹ç»è‡ªå·±çš„ç ”ç©¶ç»å†ã€‚è¢«å¯¼å¸ˆæ¨èäº†è¿™ä¸ªè§†é¢‘ï¼Œä¸æ„§æ˜¯å¤§ç‰›ï¼Œä¸å¤±å¹½é»˜çš„åŒæ—¶å¥å¥åœ¨ç†ï¼Œå—ç›ŠåŒªæµ…ã€‚å†³å®šæ•´ç†æˆåŠŸç¬”è®°ä¾›ä»Šååå¤å­¦ä¹ ã€‚å› ä¸ºæ˜¯å†™ç»™è‡ªå·±çœ‹çš„takeaway notesï¼Œæ‰€ä»¥ä¼šæ¯”è¾ƒéšæ„ã€‚ å¼€åœºé¸¡æ±¤æˆåŠŸçš„ç¨‹åº¦å–å†³äºï¼šè¯´è¯çš„èƒ½åŠ›ï¼Œå†™ä½œçš„èƒ½åŠ›å’Œæ€æƒ³çš„è´¨é‡ ä¸Šè¿°ä¸‰ç‚¹çš„è´¨é‡å–å†³äºï¼šçŸ¥è¯†&gt;å®è·µ&gt;å¤©èµ‹ åŸºç¡€æŠ€å·§How to start ä¸æ¨èjokeï¼Œå› ä¸ºè§‚ä¼—è¿˜æ²¡æœ‰ä¹ æƒ¯ä½ çš„å£°éŸ³å’Œè¯´è¯æ–¹å¼ ç»™è§‚ä¼—ä¸€ä¸ªpromiseï¼Œå‘Šè¯‰ä»–ä»¬åœ¨æ¥ä¸‹æ¥çš„ä¸€æ®µæ—¶é—´å†…ä»–ä»¬èƒ½å­¦åˆ°ä»€ä¹ˆ å¯å‘æ€§å»ºè®® Cycle on the subject: åå¤é‡å¤ä½ çš„ä¸»é¢˜ï¼Œç¡®ä¿è§‚ä¼—å¯ä»¥è®°ä½ Build a fence around your idea: ä¸¾å‡ ä¸ªâ€œåä¾‹â€ï¼Œè¯´å‡ºä½ çš„è§‚ç‚¹å’Œä»–äººè§‚ç‚¹æ˜¯å¦‚ä½•çš„ä¸åŒï¼Œä»¥å…è§‚ä¼—æ··æ·†ä½ çš„è§‚ç‚¹ä¸ä»–äººçš„è§‚ç‚¹ Verbal punctuation: è§‚ä¼—æœ‰æ—¶å€™å¯èƒ½ä¼šlostï¼Œä½ éœ€è¦æä¾›ä¸€äº›landmarkï¼Œè®©ä»–ä»¬éšæ—¶éƒ½èƒ½ä¸­é€”å†ä¸Šè½¦ï¼›åŒæ—¶ä¹Ÿèƒ½ä½“ç°ä½ çš„æ¼”è®²çš„å±‚æ¬¡æ„Ÿ Ask a question: ç­‰å¾…å›ç­”çš„æ ‡å‡†æ—¶é—´æ˜¯7s æ¼”è®²çš„æ—¶é—´å’Œåœ°ç‚¹ Perfect time: 11 a.m. åœ°ç‚¹ï¼šå…‰çº¿è‰¯å¥½ï¼ˆä¸è¦è€ƒè™‘pptçš„é—®é¢˜ï¼‰ å»åœºåœ°è¸©ç‚¹ï¼Œæå‰ä¸ºä¸€äº›å¯èƒ½çš„æ„å¤–æƒ…å†µåšå‡†å¤‡ï¼ˆæƒ³è±¡åº§ä½ä¸Šåšçš„éƒ½æ˜¯disinterested farm animals) åˆç†å®‰æ’çš„åå¸­ï¼šåˆ°åº§ç‡ä¸€åŠä»¥ä¸Š æ¿ä¹¦ï¼Œé“å…·å’Œslides","categories":[],"tags":[]},{"title":"è¥¿è’™Â·æ³¢ä¼å¨ƒã€Šç¬¬äºŒæ€§ã€‹è¯»ä¹¦ç¬”è®°","slug":"Le-Deuxieme-Sexe","date":"2020-06-27T08:31:07.000Z","updated":"2020-06-27T12:42:13.632Z","comments":true,"path":"2020/06/27/Le-Deuxieme-Sexe/","link":"","permalink":"https://mengzelev.github.io/2020/06/27/Le-Deuxieme-Sexe/","excerpt":"","text":"ã€Šç¬¬äºŒæ€§ã€‹è¯»ä¹¦ç¬”è®°ä¹¦ç±ç®€ä»‹ï¼ˆæ‘˜è‡ªä¸­æ–‡ç»´åŸºç™¾ç§‘è¯æ¡)ï¼‰ ã€Šç¬¬äºŒæ€§ã€‹ï¼ˆæ³•è¯­ï¼šLe DeuxiÃ¨me Sexeï¼‰æ˜¯ä¸€éƒ¨å…³äºå­˜åœ¨ä¸»ä¹‰å’Œå¥³æ€§ä¸»ä¹‰çš„æ•£æ–‡ï¼Œåœ¨ä½œè€…è¥¿è’™Â·æ³¢å¨ƒ41å²æ—¶ï¼Œ1949å¹´åˆ›ä½œå¹¶å‡ºç‰ˆã€‚æ•´éƒ¨ä½œå“åˆ†ä¸ºä¸Šä¸‹ä¸¤å·ï¼Œè¢«å…¬è®¤ä¸ºæ˜¯ä¸€éƒ¨å“²å­¦è‘—ä½œã€‚æ³¢ä¼å¨ƒé€‰æ‹©ä»å­˜åœ¨ä¸»ä¹‰è§’åº¦å‡ºå‘å±•å¼€è®ºè¿°ã€‚ä¹Ÿæ­£å› å¦‚æ­¤ï¼Œå¥¹çš„è¿™éƒ¨ä½œå“ä¸ä»…ä»…æ˜¯ç®€å•åœ°è®ºè¿°äº†å¦‡å¥³åœ¨äºŒæˆ˜ä¹‹åçš„çŠ¶å†µï¼Œæ€»çš„æ¥è¯´ï¼Œè¿™æ˜¯ä¸€éƒ¨å“²å­¦ä½œå“ï¼Œä»æ–‡å­¦ã€å†å²ã€ç¤¾ä¼šå­¦ã€ç”Ÿç‰©å­¦å’ŒåŒ»å­¦å¤šæ–¹é¢è¿›è¡Œä¸°å¯Œåœ°ä¸¾ä¾‹å’Œåˆ†æã€‚æ•´éƒ¨ä½œå“é€šç¯‡æ‰€æƒ³ä¼ è¾¾çš„ç†å¿µæ˜¯æ²¡æœ‰ä¸€ä¸ªå¥³äººçš„å‘½è¿æ˜¯è®¡åˆ’å¥½çš„ã€‚æ’é™¤äººç±»çš„å†³å®šè®ºï¼Œå¯¹äºå¥³æ€§å¼±åŠ¿è¿™ä¸€äº‹å®ä»¥åŠå¯¼è‡´è¿™ä¸€äº‹å®çš„ä¸ç”Ÿä¿±æ¥çš„åŸå› è¿™ä¸¤ç‚¹ï¼Œæ³¢ä¼å¨ƒåœ¨ä½œå“ä¸­éƒ½åŠ ä»¥å…³æ³¨å’Œè®ºè¿°ã€‚å¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œå­˜åœ¨ä¸»ä¹‰æš—ç¤ºäº†æ•´ä¸ªäººç±»çš„è´£ä»»ï¼šæ³¢ä¼å¨ƒä¸ä»…æ§è¯‰ç”·äººå¯¹äºå¥³äººçš„æ­§è§†ã€å‘é„™ç”šè‡³æœ‰æ—¶æ®‹å¿çš„æ‰€ä½œæ‰€ä¸ºï¼ŒåŒæ—¶ä¹ŸæŒ‡å‡ºäº†å¥³äººå¯¹äºè‡ªå·±å¼±åŠ¿åœ°ä½çš„é€ æˆä¹Ÿæœ‰ä¸å¯æ¨å¸çš„è´£ä»»ï¼Œæ³¢ä¼å¨ƒè®¤ä¸ºå¥¹ä»¬è¢«åŠ¨ã€å±ˆæœã€ç¼ºä¹é›„å¿ƒã€‚ä½œè€…å› æ­¤è®¤ä¸ºå¥³æ€§è§£æ”¾çš„æˆåŠŸå”¯æœ‰ä¾é ç”·æ€§ä¸å¥³æ€§çš„å…±åŒçš„åšå®šæ„å¿—æ‰èƒ½å®ç°ã€‚åœ¨æ³¢ä¼å¨ƒçœ‹æ¥ï¼Œå¥³æ€§è·å¾—è§£æ”¾å¿…é¡»ä¾é ä»¥ä¸‹ä¸¤ä¸ªé€”å¾„ï¼šå¯¹äºç”Ÿè‚²ä¸å¦çš„è‡ªæˆ‘å†³å®šæƒä»¥åŠå·¥ä½œã€‚ã€Šç¬¬äºŒæ€§ã€‹è¢«è¯‘æˆå„ç§è¯­è¨€ï¼Œå…¨çƒé”€é‡è¶…è¿‡å‡ ç™¾ä¸‡å†Œï¼Œæ—¶è‡³ä»Šæ—¥ï¼Œä»æ˜¯å¥³æƒå“²å­¦çš„â€œåœ£ç»â€ã€‚ å„ç« èŠ‚æ‘˜æŠ„ä¸æ‰¹æ³¨ç¬¬ä¸€éƒ¨ å‘½è¿ç¬¬ä¸€ç«  ç”Ÿç‰©å­¦è®ºæ® ç”Ÿå‘½åªæœ‰è¶…è¶Šè‡ªèº«æ‰èƒ½å¾—åˆ°ç»´æŒï¼Œåªæœ‰åœ¨å¾—åˆ°ç»´æŒçš„æ¡ä»¶ä¸‹æ‰èƒ½è¶…è¶Šè‡ªèº«ï¼›è¿™ä¸¤ä¸ªæ—¶åˆ»æ€»æ˜¯ä¸€èµ·å®Œæˆçš„ï¼Œä¼å›¾åˆ†å¼€å®ƒä»¬æ˜¯ç©ºæƒ³ã€‚ æ— è®ºåœ¨èš‚èšã€èœœèœ‚ã€ç™½èšä¸­ï¼Œè¿˜æ˜¯åœ¨èœ˜è››æˆ–è³è‚ä¸­ï¼Œéƒ½ä¸èƒ½è¯´ç£æ€§å¥´å½¹å’Œåå™¬é›„æ€§ï¼šæ˜¯ç‰©ç§é€šè¿‡ä¸åŒçš„é€”å¾„åå™¬ä¸¤è€…ã€‚â€¦â€¦å°†é›Œæ€§å½“åšå¥´éš¶çš„ç‰©ç§è¦å¤„ç½šé›„æ€§ï¼Œé›„æ€§æƒ³é€ƒé¿ç‰©ç§ï¼Œä¾¿è¢«ç‰©ç§æ®‹æš´åœ°æ¶ˆç­ã€‚ ä¸è¿‡ï¼Œåœ¨å“ºä¹³åŠ¨ç‰©çš„é›„æ€§å’Œé›Œæ€§ä¹‹é—´çš„æ ¹æœ¬åŒºåˆ«æ˜¯ï¼Œåœ¨è¿…é€Ÿæ è¿‡çš„åŒä¸€æ—¶åˆ»ï¼Œé›„æ€§çš„ç”Ÿå‘½é€šè¿‡ç²¾å­åœ¨ä»–è€…èº«ä¸Šè¶…è¶Šè‡ªå·±ï¼Œç²¾å­å˜æˆä¸ä¹‹ä¸ç›¸å¹²ï¼Œè„±ç¦»å…¶èº«ä½“ï¼›å› æ­¤ï¼Œæ­£å½“é›„æ€§è¶…è¶Šè‡ªèº«ä¸ªä½“æ€§æ—¶ï¼Œå´é‡æ–°å°é—­åœ¨å…¶ä¸­ã€‚ç›¸åï¼Œåµå­æˆç†Ÿæ—¶è„±ç¦»äº†æ»¤æ³¡ï¼Œè½å…¥è¾“åµç®¡å†…ï¼Œå¼€å§‹ä¸é›Œæ€§åˆ†ç¦»ï¼›è€Œè¢«ä¸€ä¸ªå¤–æ¥é…å­ä¾µå…¥çš„åµå­å®‰é¡¿åœ¨å­å®«é‡Œï¼šé›Œæ€§æ˜¾ç¤ºè¢«ä¾µçŠ¯ï¼Œéšåè¢«å¼‚åŒ–ã€‚â€¦â€¦é›Œæ€§è¶Šæ˜¯åƒä¸€ä¸ªåˆ†ç¦»çš„ä¸ªä½“ï¼Œç”Ÿå‘½çš„å»¶ç»­å°±è¶Šæ˜¯åœ¨åˆ†ç¦»ä¹‹å¤–å¨ä¸¥åœ°ç¡®ç«‹ä¸‹æ¥ã€‚ åœ¨é›Œæ€§æ‘†è„±æ¯æ€§åˆ¶çº¦çš„æ—¶å€™ï¼Œæœ‰æ—¶èƒ½åŒé›„æ€§å¹¶é©¾é½é©±ï¼šæ¯é©¬åŒç§å…¬é©¬è·‘å¾—ä¸€æ ·å¿«ï¼Œæ¯çŒç‹—åŒå…¬ç‹—å—…è§‰ä¸€æ ·çµæ•ï¼Œé›ŒçŒ´åœ¨æ¥æ”¶è¯•éªŒæ—¶ï¼Œè¡¨ç°å‡ºåŒé›„çŒ´ä¸€æ ·èªæ˜ã€‚åªä¸è¿‡è¿™ç§ä¸ªä½“æ€§æ²¡æœ‰å¾—åˆ°è¡¨ç°æœºä¼šï¼šé›Œæ€§ç”±äºç‰©ç§è¦æ±‚è®©ä½è€Œè®©ä½ã€‚ å½“æœºä½“çš„ä¸ªä½“æ€§è¿›ä¸€æ­¥ç¡®ç«‹æ—¶ï¼Œæ€§åˆ«çš„å¯¹æŠ—å¹¶ä¸å‡å¼±ï¼šæ°æ°ç›¸åã€‚é›„æ€§æ‰¾åˆ°è¶Šæ¥è¶Šå¤šç§å¤šæ ·çš„é“è·¯ï¼Œä»¥ä¾¿æ¶ˆè€—å®ƒæŒæ¡çš„åŠ›é‡ï¼›é›Œæ€§åˆ™è¶Šæ¥è¶Šæ„Ÿåˆ°æ”¶åˆ°å¥´å½¹ï¼›åœ¨å®ƒè‡ªèº«çš„åˆ©ç›Šå’Œæ¤æ ¹äºå®ƒèº«ä¸Šçš„ç”Ÿæ®–åŠ›çš„åˆ©ç›Šä¹‹é—´çš„å†²çªåŠ å‰§äº†ã€‚ åœ¨æ‰€æœ‰é›Œæ€§å“ºä¹³åŠ¨ç‰©ä¸­ï¼Œå¥³äººæ˜¯å—åˆ°å¼‚åŒ–ç¨‹åº¦æœ€é«˜çš„ï¼Œå¹¶ä¸”æœ€æ¿€çƒˆåœ°æ‹’ç»è¿™ç§å¼‚åŒ–ï¼›ä»»ä½•é›Œæ€§å“ºä¹³åŠ¨ç‰©ï¼Œæœºä½“å¯¹ç”Ÿæ®–èŒèƒ½çš„ä»å±éƒ½æ²¡æœ‰å¦‚æ­¤è¿«åˆ‡ï¼Œæ¥å—èµ·æ¥ä¹Ÿæ²¡æœ‰å¦‚æ­¤å›°éš¾ï¼šé’æ˜¥æœŸå’Œæ›´å¹´æœŸçš„å±æœºï¼Œæ¯æœˆçš„â€œè¯…å’’â€ï¼Œé•¿æ—¶é—´è€Œå›°éš¾çš„å¦Šå¨ ï¼Œç—›è‹¦çš„ã€æœ‰æ—¶å±é™©çš„åˆ†å¨©ï¼Œç–¾ç—…ã€äº‹æ•…ï¼Œæ˜¯å¥³äººçš„ç‰¹ç‚¹ï¼šå¯ä»¥è¯´ï¼Œå› ä¸ºå¥¹è¦ç¡®å®šè‡ªèº«ä¸ºä¸ªä½“ï¼Œè¦èµ·æ¥åæŠ—å‘½è¿ï¼Œæ‰€ä»¥å¥¹çš„å‘½è¿æ˜¾å¾—æ›´ä¸ºæ‚²è‹¦ã€‚å¦‚æœå°†å¥³äººä¸ç”·äººç›¸æ¯”è¾ƒï¼Œç”·äººä¾¿æ˜¾å¾—æ— æ¯”åœ°å…·æœ‰ç‰¹æƒï¼šç”·äººçš„ç”Ÿæ®–åŠ›ä¸ä¸ä»–çš„ä¸ªäººç”Ÿå­˜ç›¸å†²çªï¼›è¿™æ˜¯ä»¥æŒç»­çš„æ–¹å¼è¿›è¡Œçš„ï¼Œæ²¡æœ‰å±æœºï¼Œä¸€èˆ¬æ¥è¯´æ²¡æœ‰äº‹æ•…ã€‚ è¿™äº›ç”Ÿç‰©å­¦è®ºæ®æä¸ºé‡è¦ï¼Œå®ƒä»¬åœ¨å¥³äººçš„å†å²ä¸­èµ·ç€å¤´ç­‰é‡è¦çš„ä½œç”¨ï¼Œæ˜¯å¥³äººå¤„å¢ƒçš„ä¸€ä¸ªæœ¬è´¨å› ç´ ï¼Œâ€¦â€¦ä½†æˆ‘ä»¬æ‹’ç»è¿™ç§è§‚ç‚¹ï¼šå®ƒä»¬å¯¹å¥³äººè€Œè¨€æ„æˆå›ºå®šä¸å˜çš„å‘½è¿ã€‚å®ƒä»¬ä¸è¶³ä»¥ç¡®å®šæ€§åˆ«çš„ç­‰çº§ï¼›å®ƒä»¬ä¸èƒ½è§£é‡Šå¥³äººä¸ºä»€ä¹ˆæ˜¯ä»–è€…ï¼›å®ƒä»¬ä¸èƒ½å°†å¥³äººåˆ¤å®šä¸ºæ°¸è¿œæ‰®æ¼”ä»å±çš„è§’è‰²ã€‚ åªæœ‰æ ¹æ®äººç»™è‡ªèº«æå‡ºçš„ç›®çš„ã€äººæ‰€æŒæ¡çš„å·¥å…·å’Œäººåˆ¶å®šçš„æ³•åˆ™ï¼Œâ€œå¼±ç‚¹â€æ‰æ˜¾ç°ä¸ºå¼±ç‚¹ã€‚ ç”Ÿç†å­¦å¹¶ä¸èƒ½å»ºç«‹ä»·å€¼ï¼šæ›´ç¡®åˆ‡åœ°è¯´ï¼Œç”Ÿç‰©å­¦è®ºæ®å…·æœ‰ç”Ÿå­˜è€…èµ‹äºˆå®ƒçš„ä»·å€¼ã€‚ å¥³äººå¯¹ç‰©ç§çš„å±ˆä»ã€å¥¹ä¸ªäººèƒ½åŠ›çš„å±€é™ï¼Œæ˜¯æå…¶é‡è¦çš„äº‹å®ï¼›å¥³äººçš„èº«ä½“æ˜¯å¥¹åœ¨ä¸–ç•Œä¸Šæ‰€å å¤„å¢ƒçš„åŸºæœ¬å› ç´ ä¹‹ä¸€ï¼Œä½†å¹¶éè¿™ä¸€ç‚¹å°±è¶³ä»¥ç•Œå®šå¥³äººï¼›è¿™ä¸ªå› ç´ åªæœ‰é€šè¿‡è¡ŒåŠ¨å’Œåœ¨ä¸€ä¸ªç¤¾ä¼šå†…éƒ¨è¢«æ„è¯†æ‰¿æ‹…èµ·æ¥ï¼Œæ‰å…·æœ‰ä½“éªŒè¿‡çš„å®åœ¨ï¼›ç”Ÿç‰©å­¦ä¸è¶³ä»¥å¯¹æˆ‘ä»¬å…³æ³¨çš„é—®é¢˜æä¾›ç­”æ¡ˆï¼šä¸ºä»€ä¹ˆå¥³äººæ˜¯ä»–è€…ï¼Ÿè¦çŸ¥é“çš„æ˜¯ï¼Œåœ¨å¥³äººèº«ä¸Šï¼Œåœ¨å†å²è¿‡ç¨‹ä¸­ï¼Œè‡ªè®¤æ€æ ·è¢«æ”«å–äº†ï¼›è¦çŸ¥é“çš„æ˜¯ï¼Œäººç±»æŠŠå¥³æ€§å˜æˆäº†ä»€ä¹ˆã€‚ è¿™ä¸€ç« ä¸­ä½œè€…é€šè¿‡è€ƒæŸ¥å„ç§å„æ ·çš„ç”Ÿç‰©æ¢ç©¶äº†æ€§åˆ«çš„ç”Ÿç‰©å­¦æœ¬æºï¼Œä»ç”Ÿç‰©å­¦è§‚ç‚¹ä¸Šå¦è®¤äº†ä»»ä½•ä¸€ç§æ€§åˆ«çš„è¢«åŠ¨æ€§ä»¥åŠè¿‡å¾€çš„ä¸€äº›å“²å­¦ä¸­æ€§åˆ«çš„æ—¢å®šæ€§è§‚ç‚¹å’Œå¯¹æ€§åˆ«çš„åè§ã€‚é€šè¿‡åˆ†æä¸åŒç‰©ç§çš„äº¤é…ä¸ç¹æ®–æ–¹å¼ï¼Œå¾—å‡ºç»“è®ºï¼šä¸¤æ€§éƒ½æˆ–å¤šæˆ–å°‘æ”¶åˆ°ç‰©ç§çš„åˆ¶çº¦ï¼Œåœ¨é«˜çº§çš„ç”Ÿå‘½å½¢å¼ä¸­ï¼Œé›Œæ€§æ”¶åˆ°çš„æ¥è‡ªç‰©ç§çš„åˆ¶çº¦æ¯”é›„æ€§æ›´å¤§ã€‚ä½†ä½œè€…åå¯¹ä»»ä½•ä»…ä»ç”Ÿç‰©å­¦è§’åº¦å°±å¯¹äººç±»ç¤¾ä¼šä¸­ä¸¤æ€§æˆåŠŸæœºä¼šæ˜¯å¦ç›¸åŒä¸ä½•è€…å¯¹ç‰©ç§èµ·ç€æ›´é‡è¦ä½œç”¨è¿›è¡Œå›ç­”ã€‚è¦å›ç­”åºè¨€ä¸­æ‰€æå‡ºçš„â€œå¥³äººä¸ºä»€ä¹ˆæ˜¯ä»–è€…â€çš„é—®é¢˜ï¼Œè¿˜éœ€è¦è¿›è¡Œæ›´å¤šç¤¾ä¼šå­¦æ–¹é¢çš„è€ƒé‡ã€‚ ç¬¬äºŒç«  ç²¾ç¥åˆ†æè§‚ç‚¹æ„Ÿè§‰è‡ªå·±ç¼ºä¹å¾ˆå¤šåŸºç¡€çŸ¥è¯†ï¼Œè¿™ä¸€ç« æ²¡æœ‰æ€ä¹ˆçœ‹æ‡‚ï¼Œæ•…å…ˆä¸åšæ‘˜æŠ„è¯„è®º ä»¥ä¸‹æ‘˜è‡ªç»´åŸºç™¾ç§‘ æ³¢ä¼å¨ƒä»å¿ƒç†åˆ†æå­¦è§’åº¦å‡ºå‘æå‡ºä¸¤ä¸ªè®ºç‚¹ï¼šé¦–å…ˆï¼Œå¯¹äºé‚£äº›ä¸€å‘³æ•ˆä»¿ç”·äººçš„å¥³äººï¼Œå¹¶ä¸æ˜¯å¥¹è¦è®¨è®ºçš„ï¼›ç¬¬äºŒä¸ªè®ºç‚¹å»ºç«‹åœ¨æŸäº›å…ˆå†³æ¡ä»¶ä¸Šï¼Œä¾‹å¦‚çˆ¶æƒç»Ÿæ²»ï¼Œè¿™ä½¿åœ¨ç”·äººå’Œå¥³äººèº«ä¸Šäº§ç”ŸæŸç§å†³å®šè®ºã€‚è¿™ä¸€ç†è®ºä¸å­˜åœ¨ä¸»ä¹‰æ˜¯ç›¸å¯¹çš„ï¼Œåè€…è®¤ä¸ºäººå¯ä»¥è‡ªå‘é€‰æ‹©è‡ªå·±çš„å‘½è¿å’Œä»·å€¼ã€‚å®¿å‘½è®ºæ— æ³•è§£é‡Šå­˜åœ¨åœ¨ç”·æ€§ä¸å¥³æ€§ä¹‹é—´çš„ä¸å¹³ç­‰ã€‚ ç¬¬ä¸‰ç«  å†å²å”¯ç‰©ä¸»ä¹‰è§‚ç‚¹ æ©æ ¼æ–¯åœ¨ã€Šå®¶åº­ã€ç§æœ‰åˆ¶å’Œå›½å®¶çš„èµ·æºã€‹ä¸­æè¿°äº†å¥³äººçš„å†å²ï¼šè¿™å†å²æœ¬è´¨ä¸Šå–å†³äºæŠ€æœ¯å²ã€‚â€¦â€¦â€œä»å‰ä¿è¯å¦‡å¥³åœ¨å®¶ä¸­å ç»Ÿæ²»åœ°ä½çš„åŒä¸€åŸå› â€”â€”å¦‡å¥³åªé™äºä»äº‹å®¶åŠ¡åŠ³åŠ¨â€”â€”ç°åœ¨å´ä¿è¯ç”·å­åœ¨å®¶ä¸­å ç»Ÿæ²»åœ°ä½ï¼›å¦‡å¥³çš„å®¶åº­åŠ³åŠ¨åŒç”·å­è°‹å–ç”Ÿæ´»èµ„æ–™çš„åŠ³åŠ¨æ¯”è¾ƒèµ·æ¥å¤±å»äº†æ„ä¹‰â€”â€”ç”·å­çš„åŠ³åŠ¨å°±æ˜¯ä¸€åˆ‡ï¼Œå¦‡å¥³çš„åŠ³åŠ¨æ˜¯æ— è¶³è½»é‡çš„é™„å±å“ã€‚â€â€¦â€¦â€œå¦‡å¥³çš„è§£æ”¾ï¼Œåªæœ‰åœ¨å¦‡å¥³å¯ä»¥å¤§é‡åœ°ã€ç¤¾ä¼šè§„æ¨¡åœ°å‚åŠ ç”Ÿäº§ï¼Œè€Œå®¶åŠ¡åŠ³åŠ¨åªå å¥¹ä»¬æå°‘çš„å·¥å¤«çš„æ—¶å€™ï¼Œæ‰æœ‰å¯èƒ½ã€‚è€Œè¿™åªæœ‰ä¾é ç°ä»£å¤§å·¥ä¸šæ‰èƒ½åŠåˆ°ï¼Œç°ä»£å¤§å·¥ä¸šä¸ä»…å®¹è®¸å¤§é‡çš„å¦‡å¥³åŠ³åŠ¨ï¼Œè€Œä¸”æ˜¯çœŸæ­£è¦æ±‚è¿™æ ·çš„åŠ³åŠ¨â€¦â€¦â€ â€¦â€¦æ€§åˆ«çš„åŠ³åŠ¨åˆ†å·¥æœ¬æ¥å¯ä»¥ç§°ä¸ºå‹å¥½çš„è”åˆã€‚å¦‚æœç”·äººä¸ä»–çš„åŒç±»çš„åŸå§‹å…³ç³»ä»…ä»…æ˜¯å‹è°Šå…³ç³»ï¼Œå°±ä¸èƒ½è§£é‡Šä»»ä½•ç±»å‹çš„å¥´å½¹ï¼šè¿™ä¸ªç°è±¡æ˜¯äººç«­åŠ›åœ¨å®¢è§‚ä¸Šè·å¾—ä¸»å®°åœ°ä½çš„æ„è¯†æ‰©å¼ çš„ç»“æœã€‚ åœ¨é˜¶çº§åˆ†åŒ–ä¸­æ²¡æœ‰ä»»ä½•ç”Ÿç‰©å­¦çš„åŸºç¡€ï¼›åœ¨åŠ³åŠ¨ä¸­ï¼ŒåŠªåŠ›æ„è¯†åˆ°è‡ªèº«ä¸ä¸»äººçš„å·®åˆ«ï¼›æ— äº§è€…æ€»æ˜¯åœ¨åæŠ—è‡ªèº«çŠ¶å†µï¼Œé‡æ–°ç§°ä¸ºæœ¬è´¨ï¼Œå¯¹å‰¥å‰Šè€…æ„æˆä¸€ç§å¨èƒï¼›å…¶è¿½æ±‚çš„æ˜¯ä½œä¸ºé˜¶çº§æ¶ˆå¤±ã€‚â€¦â€¦å¥³äººèº«ä¸Šæ²¡æœ‰ä»»ä½•é©å‘½çš„æ„¿æœ›ï¼Œå¥¹ä¸ä¼šä½œä¸ºæ€§åˆ«è‡ªæˆ‘æ¶ˆå¤±ï¼šå¥¹ä»…ä»…è¦æ±‚å–æ¶ˆæŸäº›æ€§åˆ«ç‰¹æ®ŠåŒ–çš„åæœã€‚æ›´ä¸ºä¸¥é‡çš„æ˜¯ï¼Œäººä»¬ä¸ä¼šä¸å¸¦è‡ªæ¬ºåœ°æŠŠå¥³äººåªçœ‹åšåŠ³åŠ¨è€…ï¼›æ— è®ºåœ¨ç¤¾ä¼šç»æµè¿˜æ˜¯åœ¨ä¸ªäººç”Ÿæ´»ä¸­ï¼Œå¥¹çš„ç”Ÿè‚²ä½œç”¨å’Œå¥¹çš„ç”Ÿäº§èƒ½åŠ›æ˜¯åŒæ ·é‡è¦çš„ã€‚åœ¨æŸäº›æ—¶ä»£ï¼Œç”Ÿå­©å­æ¯”æ‰¶çŠæ›´æœ‰ç”¨ã€‚â€¦â€¦æ¶ˆç­å®¶åº­ä¸ä¸€å®šèƒ½è§£æ”¾å¦‡å¥³ï¼šæ–¯å·´è¾¾å’Œçº³ç²¹æ”¿æƒçš„ä¾‹å­è¯æ˜ï¼Œç›´æ¥ä¾é™„äºå›½å®¶ï¼Œå¥³äººå¹¶ä¸ä¼šå°‘å—ç”·æ€§çš„å‹è¿«ã€‚ äººä»¬ä¸ä¼šå¼ºè¿«å¥³äººç”Ÿå­©å­ï¼šæ‰€èƒ½åšçš„æ˜¯ï¼ŒæŠŠå¥¹ç´§é—­åœ¨æŸç§å¤„å¢ƒä¸­ï¼Œæ€€å­•å¯¹å¥¹æ¥è¯´æ˜¯å”¯ä¸€çš„å‡ºè·¯ï¼šæ³•å¾‹å’Œé£ä¿—æŠŠå©šå§»å¼ºåŠ ç»™å¥¹ï¼Œç¦æ­¢é¿å­•æªæ–½å’Œäººå·¥æµäº§ï¼Œç¦æ­¢ç¦»å©šã€‚ â€¦â€¦ä¸å¯èƒ½æŠŠå¥³äººä»…ä»…çœ‹åšä¸€ç§ç”Ÿäº§åŠ›ï¼šå¥¹å¯¹äºç”·äººæ¥è¯´æ˜¯ä¸€ä¸ªæ€§ä¼™ä¼´ï¼Œä¸€ä¸ªç”Ÿå„¿è‚²å¥³è€…ï¼Œä¸€ä¸ªæ€§æ¬²å¯¹è±¡ï¼Œä¸€ä¸ªä»–è€…ï¼Œé€šè¿‡å¥¹ï¼Œç”·äººå¯»æ‰¾è‡ªå·±ã€‚ ä½œè€…åœ¨ä¸€å®šç¨‹åº¦ä¸Šè‚¯å®šäº†å†å²å”¯ç‰©ä¸»ä¹‰å¯¹å¥³æ€§å—åˆ°å‹è¿«åŸå› çš„è§£é‡Šï¼Œå³ç§æœ‰åˆ¶çš„äº§ç”Ÿï¼Œä½†å¹¶éå®Œå…¨è®¤åŒã€‚å¥¹è®¤ä¸ºå†å²å”¯ç‰©ä¸»ä¹‰è¿‡åˆ†åœ°å°†åŸå› å½’ç»“äºç»æµï¼Œè€Œå¿½è§†äº†äººæ¸´æœ›è·å¾—ä¸»å®°åœ°ä½çš„æ„è¯†æ‰©å¼ ã€‚å¦‡å¥³åŒæ— äº§è€…æ˜¯ä¸åŒçš„ï¼Œå¦‡å¥³é™¤äº†ç”Ÿäº§èƒ½åŠ›è¿˜æ‹¥æœ‰ç€ç”Ÿè‚²èƒ½åŠ›ï¼Œæœ‰äº›æ—¶å€™å›½å®¶å’Œç¤¾ä¼šè§Šè§ç€å¦‡å¥³çš„ç”Ÿè‚²èƒ½åŠ›ï¼Œå› æ­¤æ¶ˆç­é˜¶çº§å’Œå®¶åº­åªèƒ½å°†å¦‡å¥³ä»å®¶åº­åŠ³åŠ¨ä¸­è§£æ”¾å‡ºæ¥ï¼Œä½†ç”Ÿè‚²é—®é¢˜çš„å­˜åœ¨ä½¿è¿™å¹¶ä¸èƒ½å¤ŸçœŸæ­£è§£æ”¾å¦‡å¥³ã€‚ä½œè€…æ‹’ç»äº†æ©æ ¼æ–¯çš„ç»æµä¸€å…ƒè®ºï¼Œâ€œæ¨é”€â€è‡ªå·±çš„å­˜åœ¨ä¸»ä¹‰è§‚ç‚¹ï¼Œâ€œåªæœ‰å­˜åœ¨ä¸»ä¹‰çš„åŸºç¡€èƒ½å¤Ÿè®©äººä»æ•´ä½“ç†è§£ç”Ÿå‘½è¿™ç§ç‰¹æ®Šå½¢å¼â€ã€‚ï¼ˆå­˜åœ¨ä¸»ä¹‰æ˜¯ä»€ä¹ˆè¿˜æ²¡æœ‰çœ‹æ‡‚","categories":[],"tags":[]},{"title":"é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™-è¯¾ç¨‹ç¬”è®°","slug":"OOP-design-patterns","date":"2020-06-24T06:48:28.000Z","updated":"2020-06-24T06:49:17.332Z","comments":true,"path":"2020/06/24/OOP-design-patterns/","link":"","permalink":"https://mengzelev.github.io/2020/06/24/OOP-design-patterns/","excerpt":"","text":"OOPè®¾è®¡åŸåˆ™å•ä¸€èŒè´£åŸåˆ™ï¼ˆSRPï¼‰ ä¸€ä¸ªå¯¹è±¡åº”è¯¥åªåŒ…å«å•ä¸€çš„èŒè´£ï¼Œå¹¶ä¸”è¯¥èŒè´£è¢«å®Œæ•´åœ°å°è£…åœ¨ä¸€ä¸ªç±»ä¸­ e.g.çŸ©å½¢çš„ç»˜åˆ¶æ–¹æ³•ï¼ˆå›¾å½¢æ„ä¹‰ä¸Šçš„çŸ©å½¢ï¼‰å’ŒçŸ©å½¢çš„æ±‚é¢ç§¯æ–¹æ³•ï¼ˆæ•°å­¦æ„ä¹‰ä¸Šçš„çŸ©å½¢ï¼‰åˆ†å¼€ï¼Œåˆ†åˆ«å®ç°åœ¨Rectangleç±»å’ŒGeometricRectangleç±»ä¸­ å¼€æ”¾-å°é—­åŸåˆ™ï¼ˆOCPï¼‰ â€œå‘æ‰©å±•å¼€æ”¾ï¼Œå‘ä¿®æ”¹å…³é—­â€ ä¸ä¿®æ”¹æºä»£ç å®ç°å¯¹å®ä½“åŠŸèƒ½çš„æ‰©å±•ï¼ˆç»§æ‰¿ï¼‰ e.g.å›¾å½¢ç±»å£°æ˜Draw()æ–¹æ³•ï¼Œæ–¹å½¢åœ†å½¢ç­‰ä½œä¸ºå­ç±»æ‰©å±•çˆ¶ç±»çš„Draw()æ–¹æ³• é‡Œæ°æ›¿æ¢åŸåˆ™ï¼ˆLSPï¼‰ æ‰€æœ‰å¼•ç”¨åŸºç±»çš„åœ°æ–¹å¿…é¡»èƒ½é€æ˜åœ°ä½¿ç”¨å…¶å­ç±»å¯¹è±¡ è§„å®šäº†ç»§æ‰¿å…³ç³»çš„å½¢å¼ ç›¸å½“äºæ›´å¼±çš„preconditionå’Œæ›´å¼ºçš„postcondition e.g.æ­£æ–¹å½¢ä¸èƒ½æˆä¸ºé•¿æ–¹å½¢çš„ä¸€ä¸ªå­ç±»ï¼Œå› ä¸ºè°ƒç”¨é•¿æ–¹å½¢è®¾ç½®é•¿å®½çš„æ–¹æ³•çš„åœ°æ–¹ï¼Œæ›¿æ¢æˆæ­£æ–¹å½¢çš„è®¾ç½®é•¿å®½çš„æ–¹æ³•ä¼šå¯¼è‡´ç¨‹åºçŠ¶æ€äºåŸæ¥ä¸ä¸€è‡´ ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDIPï¼‰ é«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–åº•å±‚æ¨¡å—ï¼ˆä¼ ç»Ÿè®¾è®¡æ¨¡å¼ï¼‰ï¼Œåº”è¯¥éƒ½ä¾èµ–æŠ½è±¡ã€‚ åœ¨é«˜å±‚ä¸ä½å±‚ä¹‹é—´è®¾ç½®Adapterï¼ˆæŠ½è±¡å±‚ï¼‰ï¼ŒAdapterè§„å®šäº†æ¨¡å—é—´é€šä¿¡çš„æŠ½è±¡ã€‚è¿™æ ·é«˜å±‚å¯ä»¥æ›´æ¢ä¸åŒçš„ä½å±‚å®ç°ï¼Œæé«˜å¤ç”¨æ€§ã€‚ æ¥å£éš”ç¦»åŸåˆ™ï¼ˆISPï¼‰ å®¢æˆ·ç«¯ä¸åº”è¯¥ä¾èµ–é‚£äº›å®ƒä¸éœ€è¦çš„æ¥å£ã€‚ æŠŠå¤ªå¤§çš„æ¥å£ï¼ˆèƒ–æ¥å£ï¼‰åˆ†å‰²æˆä¸€äº›æ›´ç»†å°çš„æ¥å£ã€‚ åˆæˆ/èšåˆå¤ç”¨åŸåˆ™ï¼ˆCARPï¼‰ ä¼˜å…ˆä½¿ç”¨å¯¹è±¡ç»„åˆï¼Œè€Œä¸æ˜¯ç»§æ‰¿æ¥è¾¾åˆ°å¤ç”¨ç›®çš„ èšåˆï¼šæ‹¥æœ‰å…³ç³»ï¼Œæ•´ä½“ä¸éƒ¨åˆ†çš„å…³ç³»ï¼ˆæ±½è½¦å’Œå¼•æ“ï¼‰ åˆæˆï¼šæ›´å¼ºçš„æ‹¥æœ‰å…³ç³»ï¼Œéƒ¨åˆ†ç¦»ä¸å¼€æ•´ä½“ï¼Œéƒ¨åˆ†å’Œæ•´ä½“çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ä¸€æ ·çš„ï¼ˆè„¸å’Œå˜´ï¼‰ Coadæ³•åˆ™ï¼šä»€ä¹ˆæ—¶å€™ä½¿ç”¨ç»§æ‰¿ Is-Aå…³ç³»ï¼šç»§æ‰¿ï¼›Has-Aå…³ç³»ï¼šèšåˆ æ°¸è¿œä¸è¦å‡ºç°éœ€è¦å°†å­ç±»æ›¿æ¢æˆå¦å¤–ä¸€ä¸ªç±»çš„å­ç±»çš„æƒ…å†µ å­ç±»ä¸èƒ½å¤§é‡ç½®æ¢è¶…ç±»è¡Œä¸º åˆ†ç±»å­¦è§’åº¦ä¸Šæœ‰æ„ä¹‰ï¼ˆè¿™å•¥ ä¸è¦ä»å·¥å…·ç±»ç»§æ‰¿ è¿ªç±³ç‰¹æ³•åˆ™ï¼ˆLoDï¼‰ æœ€å°‘çŸ¥è¯†åŸåˆ™ï¼ˆLKPï¼‰ æ¯ä¸€ä¸ªè½¯ä»¶å•ä½å¯¹å…¶ä»–å•ä½éƒ½åªæœ‰æœ€å°‘çš„çŸ¥è¯†ï¼Œè€Œä¸”å±€é™äºé‚£äº›ä¸æœ¬å•ä½å¯†åˆ‡ç›¸å…³çš„è½¯ä»¶å•ä½ e.g.å°†ç•Œé¢ä¸­å„ç§æ§ä»¶éƒ½åªä¸ä¸€ä¸ªmediator(ä¸­é—´è€…)ä¾èµ–ï¼Œè€Œä¸äº’ç›¸ä¾èµ– è®¾è®¡æ¨¡å¼åˆ›å»ºå‹æ¨¡å¼ç®€å•å·¥å‚æ¨¡å¼ Simple Factory å®šä¹‰ï¼šå®šä¹‰ä¸€ä¸ªå·¥å‚ç±»ï¼Œå®ƒå¯ä»¥æ ¹æ®ä¸åŒçš„å‚æ•°è¿”å›ä¸åŒçš„å®ä¾‹ï¼Œè¢«åˆ›å»ºçš„å®ä¾‹é€šå¸¸éƒ½å…·æœ‰å…±åŒçš„çˆ¶ç±» ç”¨äºåˆ›å»ºå®ä¾‹çš„æ–¹æ³•é€šå¸¸ä¸ºé™æ€å·¥å‚æ–¹æ³• ç›®çš„ï¼šç”±ä¸€ä¸ªå·¥å‚å¯¹è±¡å†³å®šåˆ›å»ºå‡ºå“ªä¸€ç§äº§å“ç±»çš„å®ä¾‹ åŠ¨æœºï¼šè´Ÿè´£å°†å¤§é‡æœ‰å…±åŒæ¥å£çš„ç±»å®ä¾‹åŒ– è¦ç‚¹ï¼šåªéœ€ä¼ å…¥ä¸€ä¸ªæ­£ç¡®çš„å‚æ•°å°±å¯ä»¥è·å–æ‰€éœ€å¯¹è±¡ï¼Œè€Œæ— éœ€çŸ¥æ™“å®ç°ç»†èŠ‚ å®ç°ï¼šä¸€å †if-elseè¯­å¥ 1234567if(arg.equalsIgnoreCase(&quot;Apple&quot;)) &#123; return new Apple();&#125;else if(arg.equalsIgnoreCase(&quot;Banan&quot;)) &#123; return new Banana();&#125;else if ... å‚ä¸è€… Productï¼šå®šä¹‰äº§å“å…±åŒæ‹¥æœ‰çš„æ¥å£ Concrete Productï¼šå…·ä½“äº§å“ï¼Œå®ç°Productæ¥å£ Creator(å·¥å‚ç±»)ï¼šåˆ›å»ºäº§å“å¯¹è±¡ ç®€åŒ–ï¼šå°†æŠ½è±¡äº§å“ç±»å’Œå·¥å‚ç±»åˆå¹¶ï¼Œé™æ€å·¥å‚æ–¹æ³•è½¬ç§»åˆ°æŠ½è±¡äº§å“ç±»ä¸­ Javaåˆ›å»ºå¯¹è±¡çš„æ–¹å¼ new åå°„æœºåˆ¶ ç¨‹åºè¿è¡Œæ—¶è·å–å·²çŸ¥åç§°çš„ç±»æˆ–å·²æœ‰å¯¹è±¡çš„ç›¸å…³ä¿¡æ¯çš„ä¸€ç§æœºåˆ¶,åŒ…æ‹¬ç±»çš„æ–¹æ³•ã€å±æ€§ã€çˆ¶ç±»ç­‰ä¿¡æ¯,è¿˜åŒ…æ‹¬å®ä¾‹çš„åˆ›å»ºå’Œå®ä¾‹ç±»å‹çš„åˆ¤æ–­ç­‰ ```JavaClass c=Class.forName(â€œjava.lang.Stringâ€);Object obj=c.newInstance();return obj; 123456789+ é…ç½®æ–‡ä»¶ï¼šå¯ä»¥å°†ç±»åå­˜å‚¨åœ¨é…ç½®æ–‡ä»¶ä¸­,ä¾‹å¦‚å…·ä½“å·¥å‚ç±»çš„ç±»å &#96;&#96;&#96;xml &lt;!â€” config.xml --&gt; &lt;?xml version&#x3D;&quot;1.0&quot;?&gt; &lt;config&gt; &lt;className&gt;designpatterns.factorymethod.FileLoggerFactory&lt;&#x2F;className&gt; &lt;&#x2F;config&gt; å…‹éš†æ–¹æ³• å·¥å‚ç±» SRPï¼šå°†å¯¹è±¡çš„åˆ›å»ºå’Œä½¿ç”¨åˆ†ç¦»ã€‚ä¸¤ä¸ªç±»çš„å…³ç³»åªèƒ½æ˜¯Aåˆ›å»ºBæˆ–Aä½¿ç”¨ï¼¢ã€‚ ä¸ç¬¦åˆOCPåŸåˆ™ ä¼˜ç¼ºç‚¹ä¸é€‚ç”¨ç¯å¢ƒï¼š ä¼˜ç‚¹ å®ç°äº†å¯¹è±¡åˆ›å»ºå’Œä½¿ç”¨çš„åˆ†ç¦» å®¢æˆ·ç«¯æ— é¡»çŸ¥é“æ‰€åˆ›å»ºçš„å…·ä½“äº§å“ç±»çš„ç±»å,åªéœ€è¦çŸ¥é“å…·ä½“äº§å“ç±»æ‰€å¯¹åº”çš„å‚æ•°å³å¯ é€šè¿‡å¼•å…¥é…ç½®æ–‡ä»¶,å¯ä»¥åœ¨ä¸ä¿®æ”¹ä»»ä½•å®¢æˆ·ç«¯ä»£ç çš„æƒ…å†µä¸‹æ›´æ¢å’Œå¢åŠ æ–°çš„å…·ä½“äº§å“ç±»,åœ¨ä¸€å®šç¨‹åº¦ä¸Šæé«˜äº†ç³»ç»Ÿçš„çµæ´»æ€§ ç¼ºç‚¹ å·¥å‚ç±»é›†ä¸­äº†æ‰€æœ‰äº§å“çš„åˆ›å»ºé€»è¾‘,èŒè´£è¿‡é‡,ä¸€æ—¦ä¸èƒ½æ­£å¸¸å·¥ä½œ,æ•´ä¸ªç³»ç»Ÿéƒ½è¦å—åˆ°å½±å“ å¢åŠ ç³»ç»Ÿä¸­ç±»çš„ä¸ªæ•°(å¼•å…¥äº†æ–°çš„å·¥å‚ç±»),å¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚åº¦å’Œç†è§£éš¾åº¦ ç³»ç»Ÿæ‰©å±•å›°éš¾,ä¸€æ—¦æ·»åŠ æ–°äº§å“ä¸å¾—ä¸ä¿®æ”¹å·¥å‚é€»è¾‘ ç”±äºä½¿ç”¨äº†é™æ€å·¥å‚æ–¹æ³•,é€ æˆå·¥å‚è§’è‰²æ— æ³•å½¢æˆåŸºäºç»§æ‰¿çš„ç­‰çº§ç»“æ„,å·¥å‚ç±»ä¸èƒ½å¾—åˆ°å¾ˆå¥½åœ°æ‰©å±• é€‚ç”¨ç¯å¢ƒ å·¥å‚ç±»è´Ÿè´£åˆ›å»ºçš„å¯¹è±¡æ¯”è¾ƒå°‘,ç”±äºåˆ›å»ºçš„å¯¹è±¡è¾ƒå°‘,ä¸ä¼šé€ æˆå·¥å‚æ–¹æ³•ä¸­çš„ä¸šåŠ¡é€»è¾‘å¤ªè¿‡å¤æ‚ å®¢æˆ·ç«¯åªçŸ¥é“ä¼ å…¥å·¥å‚ç±»çš„å‚æ•°,å¯¹äºå¦‚ä½•åˆ›å»ºå¯¹è±¡å¹¶ä¸å…³å¿ƒ ä¸éœ€è¦å·¥å‚çš„æƒ…å†µï¼šå¾ˆç®€å•ä¸”ä¸å­˜åœ¨å¤ªå¤šå˜åŒ–çš„ç±» å·¥å‚æ–¹æ³•æ¨¡å¼ å®šä¹‰ï¼šå®šä¹‰ä¸€ä¸ªç”¨äºåˆ›å»ºå¯¹è±¡çš„æ¥å£,è®©å­ç±»å†³å®šå®ä¾‹åŒ–å“ªä¸€ä¸ªç±»ã€‚ä½¿ä¸€ä¸ªç±»çš„å®ä¾‹åŒ–å»¶è¿Ÿåˆ°å…¶å­ç±»ã€‚ å·¥å‚çˆ¶ç±»è´Ÿè´£å®šä¹‰åˆ›å»ºäº§å“å¯¹è±¡çš„å…¬å…±æ¥å£,è€Œå·¥å‚å­ç±»åˆ™è´Ÿè´£ç”Ÿæˆå…·ä½“çš„äº§å“å¯¹è±¡ å‚ä¸è€…ï¼š Productï¼šæŠ½è±¡äº§å“ ConcreteProductï¼šå…·ä½“äº§å“ Factoryï¼šæŠ½è±¡å·¥å‚ ConcreteFactoryï¼šå…·ä½“å·¥å‚ å·¥å‚æ–¹æ³•çš„éšè— ç›®çš„ï¼šè¿›ä¸€æ­¥ç®€åŒ–å®¢æˆ·ç«¯çš„ä½¿ç”¨ å®ç°:åœ¨å·¥å‚ç±»ä¸­ç›´æ¥è°ƒç”¨äº§å“ç±»çš„ä¸šåŠ¡æ–¹æ³•,å®¢æˆ·ç«¯ æ— é¡»è°ƒç”¨å·¥å‚æ–¹æ³•åˆ›å»ºäº§å“å¯¹è±¡ï¼Œç›´æ¥ä½¿ç”¨å·¥å‚å¯¹è±¡å¯è°ƒç”¨æ‰€åˆ›å»ºçš„äº§å“å¯¹è±¡ä¸­çš„ä¸šåŠ¡æ–¹æ³• ä¼˜ç¼ºç‚¹ä¸é€‚ç”¨ç¯å¢ƒ ä¼˜ç‚¹ å·¥å‚æ–¹æ³•ç”¨æ¥åˆ›å»ºå®¢æˆ·æ‰€éœ€è¦çš„äº§å“,åŒæ—¶è¿˜å‘å®¢æˆ·éšè—äº†å“ªç§å…·ä½“äº§å“ç±»å°†è¢«å®ä¾‹åŒ–è¿™ä¸€ç»†èŠ‚ èƒ½å¤Ÿè®©å·¥å‚è‡ªä¸»ç¡®å®šåˆ›å»ºä½•ç§äº§å“å¯¹è±¡,è€Œå¦‚ä½•åˆ›å»ºè¿™ä¸ªå¯¹è±¡çš„ç»†èŠ‚åˆ™å®Œå…¨å°è£…åœ¨å…·ä½“å·¥å‚å†…éƒ¨ åœ¨ç³»ç»Ÿä¸­åŠ å…¥æ–°äº§å“æ—¶,å®Œå…¨ç¬¦åˆå¼€é—­åŸåˆ™ ç¼ºç‚¹ ç³»ç»Ÿä¸­ç±»çš„ä¸ªæ•°å°†æˆå¯¹å¢åŠ ,åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚åº¦,ä¼šç»™ç³»ç»Ÿå¸¦æ¥ä¸€äº›é¢å¤–çš„å¼€é”€ å¢åŠ äº†ç³»ç»Ÿçš„æŠ½è±¡æ€§å’Œç†è§£éš¾åº¦ é€‚ç”¨ç¯å¢ƒ å®¢æˆ·ç«¯ä¸çŸ¥é“å®ƒæ‰€éœ€è¦çš„å¯¹è±¡çš„ç±»(å®¢æˆ·ç«¯ä¸éœ€è¦çŸ¥é“å…·ä½“äº§å“ç±»çš„ç±»å,åªéœ€è¦çŸ¥é“æ‰€å¯¹åº”çš„å·¥å‚å³å¯,å…·ä½“äº§å“å¯¹è±¡ç”±å…·ä½“å·¥å‚ç±»åˆ›å»º) æŠ½è±¡å·¥å‚ç±»é€šè¿‡å…¶å­ç±»æ¥æŒ‡å®šåˆ›å»ºå“ªä¸ªå¯¹è±¡ æŠ½è±¡å·¥å‚æ¨¡å¼ å®šä¹‰ï¼šæä¾›ä¸€ä¸ªåˆ›å»ºä¸€ç³»åˆ—ç›¸å…³æˆ–ç›¸äº’ä¾èµ–å¯¹è±¡çš„æ¥å£,è€Œæ— é¡»æŒ‡å®šå®ƒä»¬å…·ä½“çš„ç±»ã€‚ ç›®çš„ï¼šæä¾›ä¸€ä¸ªåˆ›å»ºä¸€ç³»åˆ—ç›¸å…³æˆ–ç›¸äº’ä¾èµ–å¯¹è±¡çš„æ¥å£,è€Œæ— éœ€æŒ‡å®šå®ƒä»¬å…·ä½“çš„ç±» â€“ å®¢æˆ·ç«¯ä¸å¿…æŒ‡å®šäº§å“çš„å…·ä½“ç±»å‹,åˆ›å»ºå¤šä¸ªäº§å“æ—ä¸­çš„äº§å“å¯¹è±¡ ï¼ˆç›¸è¾ƒäºå·¥å‚æ¨¡å¼ï¼‰ä¸€ä¸ªå·¥å‚å¯ä»¥ç”Ÿäº§ä¸€ç³»åˆ—äº§å“(ä¸€æ—äº§å“),æå¤§å‡å°‘äº†å·¥å‚ç±»çš„æ•°é‡ å½“ä¸€ä¸ªå·¥å‚ç­‰çº§ç»“æ„å¯ä»¥åˆ›å»ºå‡ºåˆ†å±äºä¸åŒäº§å“ç­‰çº§ç»“æ„çš„ä¸€ä¸ªäº§å“æ—ä¸­çš„æ‰€æœ‰å¯¹è±¡æ—¶,æŠ½è±¡å·¥å‚æ¨¡å¼æ¯”å·¥å‚æ–¹æ³•æ¨¡å¼æ›´ä¸ºç®€å•ã€æ›´æœ‰æ•ˆç‡ äº§å“ç­‰çº§ç»“æ„ä¸äº§å“æ— äº§å“ç­‰çº§ç»“æ„ï¼šäº§å“ç­‰çº§ç»“æ„å³äº§å“çš„ç»§æ‰¿ç»“æ„ï¼Œe.g.ç©ºè°ƒâ€”â€”æµ·ä¿¡ç©ºè°ƒã€æµ·å°”ç©ºè°ƒ äº§å“æ—:äº§å“æ—æ˜¯æŒ‡ç”±åŒä¸€ä¸ªå·¥å‚ç”Ÿäº§çš„,ä½äºä¸åŒäº§å“ç­‰çº§ç»“æ„ä¸­çš„ä¸€ç»„äº§å“ï¼Œe.gæµ·å°”ç©ºè°ƒï¼Œæµ·å°”å†°ç®± åŠ¨æœº å½“ç³»ç»Ÿæ‰€æä¾›çš„å·¥å‚ç”Ÿäº§çš„å…·ä½“äº§å“å¹¶ä¸æ˜¯ä¸€ä¸ªç®€å•çš„å¯¹è±¡,è€Œæ˜¯å¤šä¸ªä½äºä¸åŒäº§å“ç­‰çº§ç»“æ„ã€å±äºä¸åŒç±»å‹çš„å…·ä½“äº§å“æ—¶ æŠ½è±¡å·¥å‚æ¨¡å¼æ˜¯æ‰€æœ‰å½¢å¼çš„å·¥å‚æ¨¡å¼ä¸­æœ€ä¸ºæŠ½è±¡å’Œæœ€å…·ä¸€èˆ¬æ€§çš„ä¸€ç§å½¢å¼ å¼€é—­åŸåˆ™çš„å€¾æ–œæ€§ å¯¹äºå¢åŠ æ–°çš„äº§å“æ—,æŠ½è±¡å·¥å‚æ¨¡å¼å¾ˆå¥½åœ°æ”¯æŒäº†å¼€é—­åŸåˆ™ å¯¹äºå¢åŠ æ–°çš„äº§å“ç­‰çº§ç»“æ„,éœ€è¦ä¿®æ”¹æ‰€æœ‰çš„å·¥å‚è§’è‰²,åŒ…æ‹¬æŠ½è±¡å·¥å‚ç±»,åœ¨æ‰€æœ‰çš„å·¥å‚ç±»ä¸­éƒ½éœ€è¦å¢åŠ ç”Ÿäº§æ–°äº§å“çš„æ–¹æ³•,è¿èƒŒäº†å¼€é—­åŸåˆ™ ä¼˜ç¼ºç‚¹ ä¼˜ç‚¹ï¼š éš”ç¦»äº†å…·ä½“ç±»çš„ç”Ÿæˆ,ä½¿å¾—å®¢æˆ·ç«¯å¹¶ä¸éœ€è¦çŸ¥é“ä»€ä¹ˆè¢«åˆ›å»º å½“ä¸€ä¸ªäº§å“æ—ä¸­çš„å¤šä¸ªå¯¹è±¡è¢«è®¾è®¡æˆä¸€èµ·å·¥ä½œæ—¶,å®ƒèƒ½å¤Ÿä¿è¯å®¢æˆ·ç«¯å§‹ç»ˆåªä½¿ç”¨åŒä¸€ä¸ªäº§å“æ—ä¸­çš„å¯¹è±¡ å¢åŠ æ–°çš„äº§å“æ—å¾ˆæ–¹ä¾¿,æ— é¡»ä¿®æ”¹å·²æœ‰ç³»ç»Ÿ,ç¬¦åˆå¼€é—­åŸåˆ™ ç¼ºç‚¹ å¢åŠ æ–°çš„äº§å“ç­‰çº§ç»“æ„éº»çƒ¦,éœ€è¦å¯¹åŸæœ‰ç³»ç»Ÿè¿›è¡Œè¾ƒå¤§çš„ä¿®æ”¹,ç”šè‡³éœ€è¦ä¿®æ”¹æŠ½è±¡å±‚ä»£ç ï¼Œè¿èƒŒäº†å¼€é—­åŸåˆ™ é€‚ç”¨ç¯å¢ƒ ä¸€ä¸ªç³»ç»Ÿä¸ä¾èµ–äºäº§å“ç±»å®ä¾‹å¦‚ä½•è¢«åˆ›å»ºã€ç»„åˆå’Œè¡¨è¾¾çš„ç»†èŠ‚ ç³»ç»Ÿä¸­æœ‰å¤šäºä¸€ä¸ªçš„äº§å“æ—,ä½†æ¯æ¬¡åªä½¿ç”¨å…¶ä¸­æŸä¸€äº§å“æ— å±äºåŒä¸€ä¸ªäº§å“æ—çš„äº§å“å°†åœ¨ä¸€èµ·ä½¿ç”¨,è¿™ä¸€çº¦æŸå¿…é¡»åœ¨ç³»ç»Ÿçš„è®¾è®¡ä¸­ä½“ç°å‡ºæ¥ äº§å“ç­‰çº§ç»“æ„ç¨³å®š,åœ¨è®¾è®¡å®Œæˆä¹‹åä¸ä¼šå‘ç³»ç»Ÿä¸­å¢åŠ æ–°çš„äº§å“ç­‰çº§ç»“æ„æˆ–è€…åˆ é™¤å·²æœ‰çš„äº§å“ç­‰çº§ç»“æ„ å»ºé€ è€…æ¨¡å¼ å®šä¹‰ï¼šå°†ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„æ„å»ºä¸å®ƒçš„è¡¨ç¤ºåˆ†ç¦»,ä½¿å¾—åŒæ ·çš„æ„å»ºè¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤ºã€‚ åº”ç”¨ï¼šæ¸¸æˆè§’è‰²çš„åˆ›å»ºï¼Œéœ€è¦åˆ›å»ºå¤–å½¢ã€çš®è‚¤ã€æŠ€èƒ½ç­‰ å°†å®¢æˆ·ç«¯ä¸åŒ…å«å¤šä¸ªéƒ¨ä»¶çš„å¤æ‚å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹åˆ†ç¦»,å®¢æˆ·ç«¯æ— é¡»çŸ¥é“å¤æ‚å¯¹è±¡çš„å†…éƒ¨ç»„æˆéƒ¨åˆ†ä¸è£…é…æ–¹å¼,åªéœ€è¦çŸ¥é“æ‰€éœ€å»ºé€ è€…çš„ç±»å‹å³å¯ å…³æ³¨å¦‚ä½•é€æ­¥åˆ›å»ºä¸€ä¸ªå¤æ‚çš„å¯¹è±¡,ä¸åŒçš„å»ºé€ è€…å®šä¹‰äº†ä¸åŒçš„åˆ›å»ºè¿‡ç¨‹ è§’è‰² Builder(æŠ½è±¡å»ºé€ è€…) ConcreteBuilder(å…·ä½“å»ºé€ è€…) Product(äº§å“) Director(æŒ‡æŒ¥è€…)ï¼šæŒ‡æŒ¥äº§å“æ„å»ºä¸ç»„è£…æ–¹æ³• OCPï¼šå½“éœ€è¦å¢åŠ æ–°çš„å…·ä½“è§’è‰²å»ºé€ è€…æ—¶,åªéœ€å°†æ–°å¢å…·ä½“è§’è‰²å»ºé€ è€…ä½œä¸ºæŠ½è±¡è§’è‰²å»ºé€ è€…çš„å­ç±»,ç„¶åä¿®æ”¹é…ç½®æ–‡ä»¶å³å¯,åŸæœ‰ä»£ç æ— é¡»ä¿®æ”¹,å®Œå…¨ç¬¦åˆå¼€é—­åŸåˆ™ ç®€åŒ– çœç•¥æŒ‡æŒ¥è€…ï¼šä¸Builderåˆå¹¶ï¼ŒConstructæ–¹æ³•å†™å…¥Builderç±»ä¸­ é€šè¿‡é’©å­æ–¹æ³•æ¥æ§åˆ¶äº§å“çš„æ„å»º é’©å­æ–¹æ³•ï¼šè¿”å›ç±»å‹é€šå¸¸ä¸ºbooleanç±»å‹,æ–¹æ³•åä¸€èˆ¬ä¸ºisXXX()ã€‚ 12345//é€šè¿‡é’©å­æ–¹æ³•æ¥æ§åˆ¶äº§å“çš„æ„å»º//isBareheadedå¯ä»¥åœ¨éœ€è¦å…‰å¤´çš„ç±»é‡Œè¦†ç›–å£°æ˜if(!ab.isBareheaded()) &#123;ab.buildHairstyle();&#125; ä¼˜ç¼ºç‚¹ä¸é€‚ç”¨ç¯å¢ƒ ä¼˜ç‚¹ å®¢æˆ·ç«¯ä¸å¿…çŸ¥é“äº§å“å†…éƒ¨ç»„æˆçš„ç»†èŠ‚,å°†äº§å“æœ¬èº«ä¸äº§å“çš„åˆ›å»ºè¿‡ç¨‹è§£è€¦,ä½¿å¾—ç›¸åŒçš„åˆ›å»ºè¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„äº§å“å¯¹è±¡ æ¯ä¸€ä¸ªå…·ä½“å»ºé€ è€…éƒ½ç›¸å¯¹ç‹¬ç«‹,ä¸å…¶ä»–çš„å…·ä½“å»ºé€ è€…æ— å…³,å› æ­¤å¯ä»¥å¾ˆæ–¹ä¾¿åœ°æ›¿æ¢å…·ä½“å»ºé€ è€…æˆ–å¢åŠ æ–°çš„å…·ä½“å»ºé€ è€…,æ‰©å±•æ–¹ä¾¿,ç¬¦åˆå¼€é—­åŸåˆ™ å¯ä»¥æ›´åŠ ç²¾ç»†åœ°æ§åˆ¶äº§å“çš„åˆ›å»ºè¿‡ç¨‹ ç¼ºç‚¹ å»ºé€ è€…æ¨¡å¼æ‰€åˆ›å»ºçš„äº§å“ä¸€èˆ¬å…·æœ‰è¾ƒå¤šçš„å…±åŒç‚¹,å…¶ç»„æˆéƒ¨åˆ†ç›¸ä¼¼,å¦‚æœäº§å“ä¹‹é—´çš„å·®å¼‚æ€§å¾ˆå¤§,ä¸é€‚åˆä½¿ç”¨å»ºé€ è€…æ¨¡å¼,å› æ­¤å…¶ä½¿ç”¨èŒƒå›´å—åˆ°ä¸€å®šçš„é™åˆ¶ å¦‚æœäº§å“çš„å†…éƒ¨å˜åŒ–å¤æ‚,å¯èƒ½ä¼šéœ€è¦å®šä¹‰å¾ˆå¤šå…·ä½“å»ºé€ è€…ç±»æ¥å®ç°è¿™ç§å˜åŒ–,å¯¼è‡´ç³»ç»Ÿå˜å¾—å¾ˆåºå¤§,å¢åŠ äº†ç³»ç»Ÿçš„ç†è§£éš¾åº¦å’Œè¿è¡Œæˆæœ¬ é€‚ç”¨ç¯å¢ƒ éœ€è¦ç”Ÿæˆçš„äº§å“å¯¹è±¡æœ‰å¤æ‚çš„å†…éƒ¨ç»“æ„,è¿™äº›äº§å“å¯¹è±¡é€šå¸¸åŒ…å«å¤šä¸ªæˆå‘˜å˜é‡ éœ€è¦ç”Ÿæˆçš„äº§å“å¯¹è±¡çš„å±æ€§ç›¸äº’ä¾èµ–,éœ€è¦æŒ‡å®šå…¶ç”Ÿæˆé¡ºåº å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ç‹¬ç«‹äºåˆ›å»ºè¯¥å¯¹è±¡çš„ç±»ã€‚åœ¨å»ºé€ è€…æ¨¡å¼ä¸­é€šè¿‡å¼•å…¥äº†æŒ‡æŒ¥è€…ç±»,å°†åˆ›å»ºè¿‡ç¨‹å°è£…åœ¨æŒ‡æŒ¥è€…ç±»ä¸­,è€Œä¸åœ¨å»ºé€ è€…ç±»å’Œå®¢æˆ·ç±»ä¸­ éš”ç¦»å¤æ‚å¯¹è±¡çš„åˆ›å»ºå’Œä½¿ç”¨,å¹¶ä½¿å¾—ç›¸åŒçš„åˆ›å»ºè¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„äº§å“ åŸå‹æ¨¡å¼ å®šä¹‰ï¼šä½¿ç”¨åŸå‹å®ä¾‹æŒ‡å®šå¾…åˆ›å»ºå¯¹è±¡çš„ç±»å‹ï¼Œå¹¶ä¸”é€šè¿‡å¤åˆ¶è¿™ä¸ªåŸå‹æ¥åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚ å°†ä¸€ä¸ªåŸå‹å¯¹è±¡ä¼ ç»™è¦å‘åŠ¨åˆ›å»ºçš„å¯¹è±¡ï¼ˆå³å®¢ æˆ·ç«¯å¯¹è±¡ï¼‰ï¼Œè¿™ä¸ªè¦å‘åŠ¨åˆ›å»ºçš„å¯¹è±¡é€šè¿‡è¯·æ±‚åŸå‹å¯¹è±¡å¤ åˆ¶è‡ªå·±æ¥å®ç°åˆ›å»ºè¿‡ç¨‹ åˆ›å»ºæ–°å¯¹è±¡ï¼ˆä¹Ÿç§°ä¸ºå…‹éš†å¯¹è±¡ï¼‰çš„å·¥å‚å°±æ˜¯åŸå‹ç±»è‡ªèº«ï¼Œ å·¥å‚æ–¹æ³•ç”±è´Ÿè´£å¤åˆ¶åŸå‹å¯¹è±¡çš„å…‹éš†æ–¹æ³•æ¥å®ç° é€šè¿‡å…‹éš†æ–¹æ³•æ‰€åˆ›å»ºçš„å¯¹è±¡æ˜¯å…¨æ–°çš„å¯¹è±¡ï¼Œå®ƒä»¬åœ¨å†…å­˜ä¸­ æ‹¥æœ‰æ–°çš„åœ°å€ï¼Œæ¯ä¸€ä¸ªå…‹éš†å¯¹è±¡éƒ½æ˜¯ç‹¬ç«‹çš„ è§’è‰² Prototypeï¼ˆæŠ½è±¡åŸå‹ç±»ï¼‰ ConcretePrototypeï¼ˆå…·ä½“åŸå‹ç±»ï¼‰ Clientï¼ˆå®¢æˆ·ç±»ï¼‰ æµ…å…‹éš†ä¸æ·±å…‹éš† æµ…å…‹éš†(Shallow Clone)ï¼šå½“åŸå‹å¯¹è±¡è¢«å¤åˆ¶æ—¶ï¼Œåªå¤åˆ¶å®ƒæœ¬èº«å’Œå…¶ä¸­åŒ…å«çš„å€¼ç±»å‹çš„æˆå‘˜å˜é‡ï¼Œè€Œå¼•ç”¨ç±»å‹çš„æˆå‘˜å˜é‡å¹¶æ²¡æœ‰å¤åˆ¶ åœ¨Javaè¯­è¨€ä¸­ï¼Œæä¾›äº†ä¸€ä¸ªclone()æ–¹æ³•ç”¨äºå®ç°æµ…å…‹éš†ï¼Œè¯¥æ–¹æ³•ä½¿ ç”¨èµ·æ¥å¾ˆæ–¹ä¾¿ï¼Œç›´æ¥è°ƒç”¨super.clone()æ–¹æ³•å³å¯å®ç°å…‹éš†(public ConcretePrototype implements Cloneable) æ·±å…‹éš†(Deep Clone)ï¼šé™¤äº†å¯¹è±¡æœ¬èº«è¢«å¤åˆ¶å¤–ï¼Œå¯¹è±¡ æ‰€åŒ…å«çš„æ‰€æœ‰æˆå‘˜å˜é‡ä¹Ÿå°†è¢«å¤åˆ¶ åŸå‹ç®¡ç†å™¨ å®šä¹‰ï¼šå°†å¤šä¸ªåŸå‹å¯¹è±¡å­˜å‚¨åœ¨ä¸€ä¸ªé›†åˆä¸­ä¾›å®¢æˆ·ç«¯ä½¿ç”¨ï¼Œä¸€ä¸ªä¸“é—¨è´Ÿè´£å…‹éš†å¯¹è±¡çš„å·¥å‚ï¼Œå…¶ä¸­å®šä¹‰äº†ä¸€ä¸ªé›†åˆç”¨äºå­˜å‚¨åŸå‹å¯¹è±¡ï¼Œ å¦‚æœéœ€è¦æŸä¸ªåŸå‹å¯¹è±¡çš„ä¸€ä¸ªå…‹éš†ï¼Œå¯ä»¥é€šè¿‡å¤åˆ¶é›† åˆä¸­å¯¹åº”çš„åŸå‹å¯¹è±¡æ¥è·å¾— ä¼˜ç¼ºç‚¹ä¸é€‚ç”¨ç¯å¢ƒ ä¼˜ç‚¹ ç®€åŒ–å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ï¼Œé€šè¿‡å¤åˆ¶ä¸€ä¸ªå·²æœ‰å®ä¾‹å¯ä»¥æé«˜æ–°å®ä¾‹çš„åˆ›å»ºæ•ˆç‡ æ‰©å±•æ€§è¾ƒå¥½ æä¾›äº†ç®€åŒ–çš„åˆ›å»ºç»“æ„ï¼ŒåŸå‹æ¨¡å¼ä¸­äº§å“çš„å¤åˆ¶æ˜¯é€šè¿‡å°è£…åœ¨åŸå‹ç±»ä¸­çš„å…‹éš†æ–¹æ³•å®ç°çš„ï¼Œæ— é¡»ä¸“é—¨çš„å·¥å‚ç±»æ¥åˆ›å»ºäº§å“ å¯ä»¥ä½¿ç”¨æ·±å…‹éš†çš„æ–¹å¼ä¿å­˜å¯¹è±¡çš„çŠ¶æ€ï¼Œä»¥ä¾¿åœ¨éœ€è¦çš„æ—¶å€™ä½¿ç”¨ï¼Œå¯è¾…åŠ©å®ç°æ’¤é”€æ“ä½œ ç¼ºç‚¹ éœ€è¦ä¸ºæ¯ä¸€ä¸ªç±»é…å¤‡ä¸€ä¸ªå…‹éš†æ–¹æ³•ï¼Œè€Œä¸”è¯¥å…‹éš†æ–¹æ³•ä½äº ä¸€ä¸ªç±»çš„å†…éƒ¨ï¼Œå½“å¯¹å·²æœ‰çš„ç±»è¿›è¡Œæ”¹é€ æ—¶ï¼Œéœ€è¦ä¿®æ”¹æºä»£ç ï¼Œè¿èƒŒäº†å¼€é—­åŸåˆ™ åœ¨å®ç°æ·±å…‹éš†æ—¶éœ€è¦ç¼–å†™è¾ƒä¸ºå¤æ‚çš„ä»£ç ï¼Œè€Œä¸”å½“å¯¹è±¡ä¹‹é—´å­˜åœ¨å¤šé‡çš„åµŒå¥—å¼•ç”¨æ—¶ï¼Œä¸ºäº†å®ç°æ·±å…‹éš†ï¼Œæ¯ä¸€å±‚å¯¹è±¡å¯¹åº”çš„ç±»éƒ½å¿…é¡»æ”¯æŒæ·±å…‹éš†ï¼Œå®ç°èµ·æ¥å¯èƒ½ä¼šæ¯”è¾ƒéº»çƒ¦ é€‚ç”¨ç¯å¢ƒ åˆ›å»ºæ–°å¯¹è±¡æˆæœ¬è¾ƒå¤§ï¼Œæ–°å¯¹è±¡å¯ä»¥é€šè¿‡å¤åˆ¶å·²æœ‰å¯¹è±¡ æ¥è·å¾—ï¼Œå¦‚æœæ˜¯ç›¸ä¼¼å¯¹è±¡ï¼Œåˆ™å¯ä»¥å¯¹å…¶æˆå‘˜å˜é‡ç¨ä½œä¿®æ”¹ ç³»ç»Ÿè¦ä¿å­˜å¯¹è±¡çš„çŠ¶æ€ï¼Œè€Œå¯¹è±¡çš„çŠ¶æ€å˜åŒ–å¾ˆå° éœ€è¦é¿å…ä½¿ç”¨åˆ†å±‚æ¬¡çš„å·¥å‚ç±»æ¥åˆ›å»ºåˆ†å±‚æ¬¡çš„å¯¹è±¡ Ctrl + C $\\to$ Ctrl + V ç›¸å…³ Prototypeä¸Abstract Factoryå¾€å¾€æ˜¯ç›¸äº’ç«äº‰çš„ï¼Œä½†æ˜¯å®ƒä»¬ä¹Ÿå¯ä»¥ä¸€èµ·ä½¿ç”¨ã€‚Abstract Factoryå¯ä»¥å­˜å‚¨ä¸€ä¸ªè¢«å…‹éš†çš„åŸå‹çš„é›†åˆï¼Œå¹¶ä¸”è¿”å›äº§å“å¯¹è±¡ å•ä¾‹æ¨¡å¼ å®šä¹‰ï¼šç¡®ä¿ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªå…¨å±€è®¿é—®ç‚¹æ¥è®¿é—®è¿™ä¸ªå”¯ä¸€å®ä¾‹ã€‚ æŸä¸ªç±»åªèƒ½æœ‰ä¸€ä¸ªå®ä¾‹ å¿…é¡»è‡ªè¡Œåˆ›å»ºè¿™ä¸ªå®ä¾‹ å¿…é¡»è‡ªè¡Œå‘æ•´ä¸ªç³»ç»Ÿæä¾›è¿™ä¸ªå®ä¾‹ è§’è‰²ï¼š Singletonï¼ˆå•ä¾‹ï¼‰ 12345678910public class Singleton &#123; private static Singleton instance=null; //é™æ€ç§æœ‰æˆå‘˜å˜é‡ //ç§æœ‰æ„é€ å‡½æ•° private Singleton() &#123; &#125; //é™æ€å…¬æœ‰å·¥å‚æ–¹æ³•ï¼Œè¿”å›å”¯ä¸€å®ä¾‹ public static Singleton getInstance() &#123; if(instance==null) instance=new Singleton(); return instance; &#125;&#125; é¥¿æ±‰å¼ä¸æ‡’æ±‰å¼ é¥¿æ±‰å¼ï¼šä¸€å¼€å§‹ï¼ˆè£…è½½æ—¶ï¼‰å°±å®ä¾‹åŒ– ```Javapublic class EagerSingleton { private static final EagerSingleton instance = new EagerSingleton(); private EagerSingleton() &#123; &#125; public static EagerSingleton getInstance() &#123; return instance; &#125; }12345678910111213141516 + åŸºäº classloader æœºåˆ¶é¿å…äº†å¤šçº¿ç¨‹çš„åŒæ­¥é—®é¢˜;æ²¡æœ‰åŠ é”ï¼Œæ‰§è¡Œæ•ˆç‡ä¼šæé«˜ + ç±»åŠ è½½æ—¶å°±åˆå§‹åŒ–ï¼Œæµªè´¹å†…å­˜+ æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹ä¸å®‰å…¨ï¼‰ï¼šä½¿ç”¨æ—¶æ‰å®ä¾‹åŒ–(å»¶è¿ŸåŠ è½½) + &#96;&#96;&#96;Java public class Singleton &#123; private static Singleton instance&#x3D;null; private Singleton() &#123; &#125; public static Singleton getInstance() &#123; if(instance&#x3D;&#x3D;null) instance&#x3D;new Singleton(); return instance; &#125; &#125; æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹å®‰å…¨ï¼‰ï¼š ```Javasynchronized public static LazySingleton getInstance(){â€¦} //é”æ–¹æ³•synchronized (LazySingleton.class) { instance = new LazySingleton(); } //é”ä»£ç æ®µ //åŒé‡æ£€æŸ¥é”å®špublic class Singleton { private volatile static Singleton singleton; private Singleton ()&#123;&#125; public static Singleton getSingleton() &#123; if (singleton == null) &#123; //ç¬¬ä¸€é‡æ£€æŸ¥ synchronized (Singleton.class) &#123; //é”å®š if (singleton == null) &#123; //ç¬¬äºŒé‡æ£€æŸ¥ singleton = new Singleton(); &#125; &#125; &#125; return singleton; &#125; } 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354 + ä½¿ç”¨é™æ€å†…éƒ¨ç±»å®ç°å•ä¾‹æ¨¡å¼ + æ¯”è¾ƒï¼š + é¥¿æ±‰å¼å•ä¾‹ç±»ï¼šæ— é¡»è€ƒè™‘å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®çš„é—®é¢˜ï¼› è°ƒç”¨é€Ÿåº¦å’Œååº”æ—¶é—´ä¼˜äºæ‡’æ±‰å¼å•ä¾‹ï¼›èµ„æºåˆ©ç”¨æ•ˆç‡ä¸åŠæ‡’æ±‰å¼å•ä¾‹ï¼›ç³»ç»ŸåŠ è½½æ—¶é—´å¯èƒ½ä¼šæ¯”è¾ƒé•¿ + æ‡’æ±‰å¼å•ä¾‹ç±»ï¼šå®ç°äº†å»¶è¿ŸåŠ è½½ï¼›å¿…é¡»å¤„ç†å¥½å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®çš„é—®é¢˜ï¼›éœ€é€šè¿‡åŒé‡æ£€æŸ¥é”å®šç­‰æœºåˆ¶è¿›è¡Œ æ§åˆ¶ï¼Œå°†å¯¼è‡´ç³»ç»Ÿæ€§èƒ½å—åˆ°ä¸€å®šå½±å“+ ä¼˜ç¼ºç‚¹ä¸é€‚ç”¨ç¯å¢ƒ + ä¼˜ç‚¹ + æä¾›äº†å¯¹å”¯ä¸€å®ä¾‹çš„å—æ§è®¿é—® + å¯ä»¥èŠ‚çº¦ç³»ç»Ÿèµ„æºï¼Œæé«˜ç³»ç»Ÿçš„æ€§èƒ½ + å…è®¸å¯å˜æ•°ç›®çš„å®ä¾‹ï¼ˆå¤šä¾‹ç±»ï¼‰ + ç¼ºç‚¹ + æ‰©å±•å›°éš¾ï¼ˆç¼ºå°‘æŠ½è±¡å±‚ï¼‰ + å•ä¾‹ç±»çš„èŒè´£è¿‡é‡ã€ä¸€å®šç¨‹åº¦ä¸Šè¿èƒŒå•ä¸€èŒè´£åŸåˆ™ + ç”±äºè‡ªåŠ¨åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´å…±äº«çš„å•ä¾‹å¯¹è±¡çš„çŠ¶æ€ä¸¢å¤± + é€‚ç”¨ç¯å¢ƒ + ç³»ç»Ÿåªéœ€è¦ä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼Œæˆ–è€…å› ä¸ºèµ„æºæ¶ˆè€—å¤ªå¤§è€Œåªå…è®¸åˆ›å»ºä¸€ä¸ªå¯¹è±¡ + å®¢æˆ·è°ƒç”¨ç±»çš„å•ä¸ªå®ä¾‹åªå…è®¸ä½¿ç”¨ä¸€ä¸ªå…¬å…±è®¿é—®ç‚¹ï¼Œ é™¤äº†è¯¥å…¬å…±è®¿é—®ç‚¹ï¼Œä¸èƒ½é€šè¿‡å…¶ä»–é€”å¾„è®¿é—®è¯¥å®ä¾‹ + ç›¸å…³ + Singletonä¸å…¶ä»–åˆ›å»ºå‹æ¨¡å¼å¹¶ä¸çŸ›ç›¾ï¼Œå¯ä»¥ç”¨Singleton æ¥å®ç°å…¶ä»–æ¨¡å¼ä¸­çš„å¯¹è±¡ã€‚åŒ…æ‹¬Abstract Factoryã€Builderã€ Prototypeç­‰+ è¡¥å……ï¼šå•ä¾‹æ¨¡å¼çš„ç»§æ‰¿ï¼ˆè§è§†é¢‘ï¼‰## ç»“æ„å‹æ¨¡å¼+ å…³æ³¨å¦‚ä½•å°†ç°æœ‰ç±»æˆ– å¯¹è±¡ç»„ç»‡åœ¨ä¸€èµ·å½¢æˆæ›´åŠ å¼ºå¤§çš„ç»“æ„ + åˆ†ä¸ºç±»ç»“æ„å‹æ¨¡å¼å’Œå¯¹è±¡ç»“æ„å‹æ¨¡å¼ + ç±»ç»“æ„å‹æ¨¡å¼ï¼šå…³å¿ƒç±»çš„ç»„åˆï¼Œä¸€èˆ¬åªå­˜åœ¨ç»§æ‰¿å…³ç³»å’Œå®ç°å…³ç³»+ å¯¹è±¡ç»“æ„å‹æ¨¡å¼ï¼šå…³å¿ƒå¯¹è±¡çš„ç»„åˆï¼Œé€šè¿‡å…³è”å…³ç³»### é€‚é…å™¨æ¨¡å¼+ å®šä¹‰ï¼šå°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢æˆå®¢æˆ·å¸Œæœ›çš„å¦ä¸€ä¸ªæ¥å£ï¼Œè®©é‚£äº›æ¥å£ä¸å…¼å®¹çš„ç±»å¯ä»¥ä¸€èµ·å·¥ä½œ + åˆ«ååŒ…è£…å™¨ï¼ˆWrapperï¼‰æ¨¡å¼ + æ¥å£æ˜¯å¹¿ä¹‰çš„æ¥å£ï¼Œå¯ä»¥è¡¨ç¤ºä¸€ ä¸ªæ–¹æ³•æˆ–è€…æ–¹æ³•çš„é›†åˆ+ ç»“æ„ + Targetï¼ˆç›®æ ‡æŠ½è±¡ç±»ï¼‰ + Adapterï¼ˆé€‚é…å™¨ç±»ï¼‰ + ç±»é€‚é…å™¨(javaä¸æ”¯æŒå¤šç»§æ‰¿) &#96;&#96;&#96;java public class Adapter extends Adaptee implements Target &#123; public void request() &#123; super.specificRequest(); &#125; &#125; å¯¹è±¡é€‚é…å™¨ 123456789public class Adapter extends Target &#123; private Adaptee adaptee; //ç»´æŒä¸€ä¸ªå¯¹é€‚é…è€…å¯¹è±¡çš„å¼•ç”¨ public Adapter(Adaptee adaptee) &#123; this.adaptee=adaptee; &#125; public void request() &#123; adaptee.specificRequest(); //è½¬å‘è°ƒç”¨ &#125;&#125; Adapteeï¼ˆé€‚é…è€…ç±»ï¼‰ ä¼˜ç¼ºç‚¹ä¸é€‚ç”¨ç¯å¢ƒ ä¼˜ç‚¹ ç›®æ ‡ç±»å’Œé€‚é…è€…ç±»è§£è€¦ å¢åŠ äº†ç±»çš„é€æ˜æ€§å’Œå¤ç”¨æ€§ï¼ŒåŒä¸€ é€‚é…è€…ç±»å¯ä»¥åœ¨å¤šä¸ªä¸åŒçš„ç³»ç»Ÿä¸­å¤ç”¨ çµæ´»æ€§å’Œæ‰©å±•æ€§éå¸¸å¥½ ç±»é€‚é…å™¨æ¨¡å¼ï¼šç½®æ¢ä¸€äº›é€‚é…è€…çš„æ–¹æ³•å¾ˆæ–¹ä¾¿ï¼ˆç»§æ‰¿è¦†ç›–ï¼‰ å¯¹è±¡é€‚é…å™¨æ¨¡å¼ï¼šå¯ä»¥æŠŠå¤šä¸ªä¸åŒçš„é€‚é…è€…é€‚é…åˆ°åŒä¸€ä¸ªç›®æ ‡ï¼Œ è¿˜å¯ä»¥é€‚é…ä¸€ä¸ªé€‚é…è€…çš„å­ç±» ç¼ºç‚¹ ç±»é€‚é…å™¨æ¨¡å¼ï¼š (1) ä¸€æ¬¡æœ€å¤šåªèƒ½é€‚é…ä¸€ä¸ªé€‚é…è€…ç±»ï¼Œä¸èƒ½åŒæ—¶é€‚é…å¤šä¸ªé€‚é…è€…ï¼› (2) é€‚é…è€…ç±»ä¸èƒ½ä¸ºæœ€ç»ˆç±»ï¼› (3) ç›®æ ‡æŠ½è±¡ç±»åªèƒ½ä¸ºæ¥å£ï¼Œä¸èƒ½ä¸ºç±» å¯¹è±¡é€‚é…å™¨æ¨¡å¼ï¼šåœ¨é€‚é…å™¨ä¸­ç½®æ¢é€‚é…è€…ç±»çš„æŸäº›æ–¹æ³•æ¯”è¾ƒéº»çƒ¦ é€‚ç”¨ç¯å¢ƒ ç³»ç»Ÿéœ€è¦ä½¿ç”¨ä¸€äº›ç°æœ‰çš„ç±»ï¼Œè€Œè¿™äº›ç±»çš„æ¥å£ä¸ç¬¦åˆç³»ç»Ÿçš„éœ€è¦ï¼Œç”šè‡³æ²¡æœ‰è¿™äº›ç±»çš„æºä»£ç  åˆ›å»ºä¸€ä¸ªå¯ä»¥é‡ä½¿ç”¨çš„ç±»ï¼Œç”¨äºå’Œä¸€äº›å½¼æ­¤ä¹‹é—´æ²¡æœ‰å¤ªå¤§å…³è”çš„ç±»ï¼ŒåŒ…æ‹¬ä¸€äº›å¯èƒ½åœ¨å°†æ¥å¼•è¿›çš„ç±»ä¸€èµ·å·¥ä½œ ç¼ºçœé€‚é…å™¨æ¨¡å¼ å®šä¹‰ï¼šä¸æƒ³å®ç°ä¸€ä¸ªæ¥å£çš„æ‰€æœ‰æ–¹æ³•æ—¶ï¼Œå…ˆè®¾è®¡ä¸€ä¸ªæŠ½è±¡ç±»å®ç°è¯¥æ¥å£ï¼Œæ¯ä¸ªæ–¹æ³•æä¾›ä¸€ä¸ªé»˜è®¤å®ç°ï¼ˆç©ºæ–¹æ³•ï¼‰ã€‚è¯¥æŠ½è±¡ç±»çš„å­ç±»é€‰æ‹©æ€§è¦†ç›–çˆ¶ç±»ä¸­çš„æ–¹æ³•ã€‚åˆç§°å•æ¥å£é€‚é…å™¨æ¨¡å¼ã€‚ å®ç° 12345public abstract class AbstractServiceClass implements ServiceInterface &#123; public void serviceMethod1() &#123; &#125; //ç©ºæ–¹æ³• public void serviceMethod2() &#123; &#125; //ç©ºæ–¹æ³• public void serviceMethod3() &#123; &#125; //ç©ºæ–¹æ³•&#125; åŒå‘é€‚é…å™¨ 12345678910111213141516public class Adapter implements Target,Adaptee &#123; private Target target; private Adaptee adaptee; public Adapter(Target target) &#123; this.target = target; &#125; public Adapter(Adaptee adaptee) &#123; this.adaptee = adaptee; &#125; public void request() &#123; adaptee.specificRequest(); &#125; public void specificRequest() &#123; target.request(); &#125;&#125; æ¡¥æ¥æ¨¡å¼ å®šä¹‰ï¼šå°†æŠ½è±¡éƒ¨åˆ†ä¸å®ƒçš„å®ç°éƒ¨åˆ†è§£è€¦ï¼Œä½¿å¾—ä¸¤è€…éƒ½èƒ½å¤Ÿç‹¬ç«‹å˜åŒ– åˆè¢«ç§°ä¸ºæŸ„ä½“(Handle and Body)æ¨¡å¼æˆ–æ¥å£(Interface) æ¨¡å¼ ç”¨æŠ½è±¡å…³è”å–ä»£äº†ä¼ ç»Ÿçš„å¤šå±‚ç»§æ‰¿ å°†ç±»ä¹‹é—´çš„é™æ€ç»§æ‰¿å…³ç³»è½¬æ¢ä¸ºåŠ¨æ€çš„å¯¹è±¡ç»„åˆå…³ç³» ç»“æ„ Abstractionï¼ˆæŠ½è±¡ç±»ï¼‰ï¼šå¼•ç”¨å®ç°ç±»æ¥å£ï¼ˆæ¡¥ï¼‰ RefinedAbstractionï¼ˆæ‰©å……æŠ½è±¡ç±»ï¼‰ ï¼šç»§æ‰¿æŠ½è±¡ç±» Implementorï¼ˆå®ç°ç±»æ¥å£ï¼‰ ConcreteImplementorï¼ˆå…·ä½“å®ç°ç±»ï¼‰ï¼šå®ç°å®ç°ç±»æ¥å£ æ¡¥æ¥æ¨¡å¼ä¸é€‚é…å™¨æ¨¡å¼çš„è”ç”¨ æ¡¥æ¥æ¨¡å¼ï¼šç”¨äºç³»ç»Ÿçš„åˆæ­¥è®¾è®¡ï¼Œå¯¹äºå­˜åœ¨ä¸¤ä¸ªç‹¬ç«‹å˜åŒ–ç»´åº¦çš„ç±»å¯ä»¥å°†å…¶åˆ†ä¸ºæŠ½è±¡åŒ–å’Œå®ç°åŒ–ä¸¤ä¸ªè§’è‰²ï¼Œä½¿å®ƒä»¬å¯ä»¥åˆ†åˆ«è¿›è¡Œå˜åŒ– é€‚é…å™¨æ¨¡å¼ï¼šå½“å‘ç°ç³»ç»Ÿä¸å·²æœ‰ç±»æ— æ³•ååŒå·¥ä½œæ—¶ ä¼˜ç¼ºç‚¹ä¸é€‚ç”¨ç¯å¢ƒ ä¼˜ç‚¹ åˆ†ç¦»æŠ½è±¡æ¥å£åŠå…¶å®ç°éƒ¨åˆ† å¯ä»¥å–ä»£å¤šå±‚ç»§æ‰¿æ–¹æ¡ˆï¼Œæå¤§åœ°å‡å°‘äº†å­ç±»çš„ä¸ªæ•° æé«˜äº†ç³»ç»Ÿçš„å¯æ‰©å±•æ€§ï¼Œåœ¨ä¸¤ä¸ªå˜åŒ–ç»´åº¦ä¸­ä»»æ„æ‰©å±• ä¸€ä¸ªç»´åº¦ï¼Œä¸éœ€è¦ä¿®æ”¹åŸæœ‰ç³»ç»Ÿï¼Œç¬¦åˆå¼€é—­åŸåˆ™ ç¼ºç‚¹ ä¼šå¢åŠ ç³»ç»Ÿçš„ç†è§£ä¸è®¾è®¡éš¾åº¦ï¼Œç”±äºå…³è”å…³ç³»å»ºç«‹åœ¨ æŠ½è±¡å±‚ï¼Œè¦æ±‚å¼€å‘è€…ä¸€å¼€å§‹å°±é’ˆå¯¹æŠ½è±¡å±‚è¿›è¡Œè®¾è®¡ä¸ç¼–ç¨‹ æ­£ç¡®è¯†åˆ«å‡ºç³»ç»Ÿä¸­ä¸¤ä¸ªç‹¬ç«‹å˜åŒ–çš„ç»´åº¦å¹¶ä¸æ˜¯ä¸€ä»¶å®¹ æ˜“çš„äº‹æƒ… é€‚ç”¨ç¯å¢ƒ éœ€è¦åœ¨æŠ½è±¡åŒ–å’Œå…·ä½“åŒ–ä¹‹é—´å¢åŠ æ›´å¤šçš„çµæ´»æ€§ï¼Œé¿å…åœ¨ä¸¤ä¸ªå±‚æ¬¡ä¹‹é—´å»ºç«‹é™æ€çš„ç»§æ‰¿å…³ç³» æŠ½è±¡éƒ¨åˆ†å’Œå®ç°éƒ¨åˆ†å¯ä»¥ä»¥ç»§æ‰¿çš„æ–¹å¼ç‹¬ç«‹æ‰©å±•è€Œäº’ä¸å½±å“ ä¸€ä¸ªç±»å­˜åœ¨ä¸¤ä¸ªï¼ˆæˆ–å¤šä¸ªï¼‰ç‹¬ç«‹å˜åŒ–çš„ç»´åº¦ï¼Œä¸”è¿™ä¸¤ä¸ªï¼ˆæˆ–å¤šä¸ªï¼‰ç»´åº¦éƒ½éœ€è¦ç‹¬ç«‹åœ°è¿›è¡Œæ‰©å±• ä¸å¸Œæœ›ä½¿ç”¨ç»§æ‰¿æˆ–å› ä¸ºå¤šå±‚ç»§æ‰¿å¯¼è‡´ç³»ç»Ÿç±»çš„ä¸ªæ•°æ€¥å‰§å¢åŠ çš„ç³»ç»Ÿ ç»„åˆæ¨¡å¼ å®šä¹‰ï¼šç»„åˆå¤šä¸ªå¯¹è±¡å½¢æˆæ ‘å½¢ç»“æ„ä»¥è¡¨ç¤ºå…·æœ‰éƒ¨åˆ†-æ•´ä½“å…³ç³»çš„å±‚æ¬¡ç»“æ„ã€‚ç»„åˆæ¨¡å¼è®©å®¢æˆ·ç«¯å¯ä»¥ç»Ÿä¸€å¯¹å¾…å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡ã€‚ åˆç§°ä¸ºâ€œéƒ¨åˆ†-æ•´ä½“â€(Part-Whole)æ¨¡å¼ å°†å¯¹è±¡ç»„ç»‡åˆ°æ ‘å½¢ç»“æ„ä¸­ï¼Œå¯ä»¥ç”¨æ¥æè¿°æ•´ä½“ä¸éƒ¨åˆ† çš„å…³ç³» e.g. æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ–‡ä»¶ä¸ç›®å½• ç»“æ„ Componentï¼ˆæŠ½è±¡æ„ä»¶ï¼‰ ï¼šæŠ½è±¡ç±»ï¼Œå¶å­æ„å»ºå’Œå®¹å™¨æ„å»ºéƒ½ç»§æ‰¿æŠ½è±¡ç±» Leafï¼ˆå¶å­æ„ä»¶ï¼‰ Compositeï¼ˆå®¹å™¨æ„ä»¶ï¼‰ ä¼˜ç¼ºç‚¹ä¸é€‚ç”¨ç¯å¢ƒ ä¼˜ç‚¹ å¯ä»¥æ¸…æ¥šåœ°å®šä¹‰åˆ†å±‚æ¬¡çš„å¤æ‚å¯¹è±¡ï¼Œè¡¨ç¤ºå¯¹è±¡çš„å…¨éƒ¨æˆ–éƒ¨åˆ†å±‚æ¬¡ï¼Œè®©å®¢æˆ·ç«¯å¿½ç•¥äº†å±‚æ¬¡çš„å·®å¼‚ï¼Œæ–¹ä¾¿å¯¹æ•´ä¸ªå±‚æ¬¡ç»“æ„è¿›è¡Œæ§ åˆ¶ å®¢æˆ·ç«¯å¯ä»¥ä¸€è‡´åœ°ä½¿ç”¨ä¸€ä¸ªç»„åˆç»“æ„æˆ–å…¶ä¸­å•ä¸ªå¯¹è±¡ï¼Œä¸å¿…å…³å¿ƒå¤„ç†çš„æ˜¯å•ä¸ªå¯¹è±¡è¿˜æ˜¯æ•´ä¸ªç»„åˆç»“æ„ï¼Œç®€åŒ–äº†å®¢æˆ·ç«¯ä»£ç  å¢åŠ æ–°çš„å®¹å™¨æ„ä»¶å’Œå¶å­æ„ä»¶éƒ½å¾ˆæ–¹ä¾¿ï¼Œç¬¦åˆå¼€é—­åŸåˆ™ ä¸ºæ ‘å½¢ç»“æ„çš„é¢å‘å¯¹è±¡å®ç°æä¾›äº†ä¸€ç§çµæ´»çš„è§£å†³æ–¹æ¡ˆ ç¼ºç‚¹ åœ¨å¢åŠ æ–°æ„ä»¶æ—¶å¾ˆéš¾å¯¹å®¹å™¨ä¸­çš„æ„ä»¶ç±»å‹è¿›è¡Œé™åˆ¶ é€‚ç”¨ç¯å¢ƒ åœ¨å…·æœ‰æ•´ä½“å’Œéƒ¨åˆ†çš„å±‚æ¬¡ç»“æ„ä¸­ï¼Œå¸Œæœ›é€šè¿‡ä¸€ç§æ–¹å¼ å¿½ç•¥æ•´ä½“ä¸éƒ¨åˆ†çš„å·®å¼‚ï¼Œå®¢æˆ·ç«¯å¯ä»¥ä¸€è‡´åœ°å¯¹å¾…å®ƒä»¬ åœ¨ä¸€ä¸ªä½¿ç”¨é¢å‘å¯¹è±¡è¯­è¨€å¼€å‘çš„ç³»ç»Ÿä¸­éœ€è¦å¤„ç†ä¸€ä¸ªæ ‘å½¢ç»“æ„ åœ¨ä¸€ä¸ªç³»ç»Ÿä¸­èƒ½å¤Ÿåˆ†ç¦»å‡ºå¶å­å¯¹è±¡å’Œå®¹å™¨å¯¹è±¡ï¼Œè€Œä¸”å®ƒä»¬çš„ç±»å‹ä¸å›ºå®šï¼Œéœ€è¦å¢åŠ ä¸€äº›æ–°çš„ç±»å‹ é€æ˜ç»„åˆæ¨¡å¼ æŠ½è±¡æ„ä»¶Componentä¸­å£°æ˜äº†æ‰€æœ‰ç”¨äºç®¡ç†æˆå‘˜å¯¹è±¡ çš„æ–¹æ³•ï¼ŒåŒ…æ‹¬add()ã€remove()ï¼Œä»¥åŠgetChild()ç­‰æ–¹æ³• åœ¨å®¢æˆ·ç«¯çœ‹æ¥ï¼Œå¶å­å¯¹è±¡ä¸å®¹å™¨å¯¹è±¡æ‰€æä¾›çš„æ–¹æ³•æ˜¯ä¸€è‡´çš„ï¼Œå®¢æˆ·ç«¯å¯ä»¥ä¸€è‡´åœ°å¯¹å¾…æ‰€æœ‰çš„å¯¹è±¡ ç¼ºç‚¹æ˜¯ä¸å¤Ÿå®‰å…¨ï¼Œå› ä¸ºå¶å­å¯¹è±¡å’Œå®¹å™¨å¯¹è±¡åœ¨æœ¬è´¨ä¸Šæ˜¯æœ‰åŒºåˆ«çš„ å®‰å…¨ç»„åˆæ¨¡å¼ æŠ½è±¡æ„ä»¶Componentä¸­æ²¡æœ‰å£°æ˜ä»»ä½•ç”¨äºç®¡ç†æˆå‘˜å¯¹ è±¡çš„æ–¹æ³•ï¼Œè€Œæ˜¯åœ¨Compositeç±»ä¸­å£°æ˜å¹¶å®ç°è¿™äº›æ–¹ æ³• å¯¹äºå¶å­å¯¹è±¡ï¼Œå®¢æˆ·ç«¯ä¸å¯èƒ½è°ƒç”¨åˆ°è¿™äº›æ–¹æ³• ç¼ºç‚¹æ˜¯ä¸å¤Ÿé€æ˜ï¼Œå®¢æˆ·ç«¯ä¸èƒ½å®Œå…¨é’ˆå¯¹æŠ½è±¡ç¼–ç¨‹ï¼Œå¿…é¡»æœ‰åŒºåˆ«åœ°å¯¹å¾…å¶å­æ„ä»¶å’Œå®¹å™¨æ„ä»¶ è£…é¥°æ¨¡å¼ å®šä¹‰ åŠ¨æ€åœ°ç»™ä¸€ä¸ªå¯¹è±¡å¢åŠ ä¸€äº›é¢å¤–çš„èŒè´£ã€‚å°±æ‰©å±•åŠŸèƒ½è€Œè¨€ï¼Œè£…é¥°æ¨¡å¼æä¾›äº†ä¸€ç§æ¯”ä½¿ç”¨å­ç±»æ›´åŠ çµæ´»çš„æ›¿ä»£æ–¹æ¡ˆã€‚ ä»¥å¯¹å®¢æˆ·é€æ˜çš„æ–¹å¼åŠ¨æ€åœ°ç»™ä¸€ä¸ªå¯¹è±¡é™„åŠ ä¸Šæ›´å¤šçš„è´£ä»» å¯ä»¥åœ¨ä¸éœ€è¦åˆ›å»ºæ›´å¤šå­ç±»çš„æƒ…å†µä¸‹ï¼Œè®©å¯¹è±¡çš„åŠŸèƒ½å¾—ä»¥æ‰©å±• ç»“æ„ Componentï¼ˆæŠ½è±¡æ„ä»¶ï¼‰ ConcreteComponentï¼ˆå…·ä½“æ„ä»¶ï¼‰ ï¼šç»§æ‰¿æˆ–å®ç°æŠ½è±¡æ„å»ºç±» Decoratorï¼ˆæŠ½è±¡è£…é¥°ç±»ï¼‰ ï¼šç»§æ‰¿è‡ªæŠ½è±¡æ„ä»¶ç±» 12345678public class Decorator extends Component &#123; private Component component; //ç»´æŒä¸€ä¸ªå¯¹æŠ½è±¡æ„ä»¶å¯¹è±¡çš„å¼•ç”¨ //æ³¨å…¥ä¸€ä¸ªæŠ½è±¡æ„ä»¶ç±»å‹çš„å¯¹è±¡ public Decorator(Component component) &#123; this.component=component; &#125; public void operation() &#123; component.operation(); //è°ƒç”¨åŸæœ‰ä¸šåŠ¡æ–¹æ³• &#125;&#125; ConcreteDecoratorï¼ˆå…·ä½“è£…é¥°ç±»ï¼‰ï¼šç»§æ‰¿æŠ½è±¡è£…é¥°ç±» 1234567891011public class ConcreteDecorator extends Decorator &#123; public ConcreteDecorator(Component component) &#123; super(component); &#125; public void operation() &#123; super.operation(); //è°ƒç”¨åŸæœ‰ä¸šåŠ¡æ–¹æ³• addedBehavior(); //è°ƒç”¨æ–°å¢ä¸šåŠ¡æ–¹æ³• &#125; //æ–°å¢ä¸šåŠ¡æ–¹æ³• public void addedBehavior() &#123; â€¦â€¦ &#125;&#125; å®ä¾‹ å›¾å½¢ç•Œé¢æ„ä»¶åº“ï¼šåŸæœ‰çª—ä½“ã€æ–‡æœ¬æ¡†ç­‰ï¼Œç”¨è£…é¥°ç±»å¯ä»¥å®ç°å¸¦æ»šåŠ¨æ¡çš„æ–‡æœ¬æ¡†ã€å¸¦é»‘è‰²è¾¹æ¡†çš„çª—ä½“ã€æ—¢å¸¦æ»šåŠ¨æ¡åˆå¸¦é»‘è‰²è¾¹æ¡†çš„åˆ—è¡¨æ¡†ç­‰ ä¼˜ç¼ºç‚¹ä¸é€‚ç”¨ç¯å¢ƒ ä¼˜ç‚¹ æ¯”ç»§æ‰¿æ›´åŠ çµæ´»ï¼Œä¸ä¼šå¯¼è‡´ç±»çš„ä¸ªæ•°æ€¥å‰§å¢åŠ  é€šè¿‡ä¸€ç§åŠ¨æ€çš„æ–¹å¼æ¥æ‰©å±•ä¸€ä¸ªå¯¹è±¡çš„åŠŸèƒ½ï¼ˆé€šè¿‡é…ç½®æ–‡ ä»¶å¯ä»¥åœ¨è¿è¡Œæ—¶é€‰æ‹©ä¸åŒçš„å…·ä½“è£…é¥°ç±»ï¼Œä»è€Œå®ç°ä¸åŒçš„è¡Œä¸º ï¼‰ å¯ä»¥å¯¹ä¸€ä¸ªå¯¹è±¡è¿›è¡Œå¤šæ¬¡è£…é¥° å…·ä½“æ„ä»¶ç±»ä¸å…·ä½“è£…é¥°ç±»å¯ä»¥ç‹¬ç«‹å˜åŒ–ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®éœ€è¦å¢ åŠ æ–°çš„å…·ä½“æ„ä»¶ç±»å’Œå…·ä½“è£…é¥°ç±»ï¼Œä¸”åŸæœ‰ç±»åº“ä»£ç æ— é¡»æ”¹å˜ï¼Œ ç¬¦åˆå¼€é—­åŸåˆ™ ç¼ºç‚¹ ä½¿ç”¨è£…é¥°æ¨¡å¼è¿›è¡Œç³»ç»Ÿè®¾è®¡æ—¶å°†äº§ç”Ÿå¾ˆå¤šå°å¯¹è±¡ï¼Œå ç”¨æ›´å¤šçš„ç³»ç»Ÿèµ„æºï¼Œå½±å“ç¨‹åºæ€§èƒ½ æ¯”ç»§æ‰¿æ›´åŠ æ˜“äºå‡ºé”™ï¼Œæ’é”™ä¹Ÿæ›´å›°éš¾ é€æ˜è£…é¥°å™¨æ¨¡å¼ å®šä¹‰ï¼š å®¢æˆ·ç«¯ç¨‹åºä¸åº”è¯¥å°†å¯¹è±¡å£°æ˜ä¸ºå…·ä½“æ„ä»¶ç±»å‹æˆ–å…·ä½“è£…é¥°ç±»å‹ï¼Œè€Œåº”è¯¥å…¨éƒ¨å£°æ˜ä¸ºæŠ½è±¡æ„ä»¶ç±»å‹ è¦æ±‚å®¢æˆ·ç«¯å®Œå…¨é’ˆå¯¹æŠ½è±¡ç¼–ç¨‹ï¼Œå…·ä½“æ„ä»¶å¯¹è±¡å’Œå…·ä½“è£…é¥°å¯¹è±¡æ²¡æœ‰ä»»ä½•åŒºåˆ« ä¼˜ç‚¹ å¯ä»¥è®©å®¢æˆ·ç«¯é€æ˜åœ°ä½¿ç”¨è£…é¥°ä¹‹å‰çš„å¯¹è±¡å’Œè£…é¥°ä¹‹å çš„å¯¹è±¡ï¼Œæ— é¡»å…³å¿ƒå®ƒä»¬çš„åŒºåˆ« å¯ä»¥å¯¹ä¸€ä¸ªå·²è£…é¥°è¿‡çš„å¯¹è±¡è¿›è¡Œå¤šæ¬¡è£…é¥° ç¼ºç‚¹ æ— æ³•åœ¨å®¢æˆ·ç«¯å•ç‹¬è°ƒç”¨æ–°å¢ä¸šåŠ¡æ–¹æ³• åŠé€æ˜è£…é¥°å™¨æ¨¡å¼ å®šä¹‰ï¼š ç”¨å…·ä½“è£…é¥°ç±»å‹æ¥å®šä¹‰è£…é¥°ä¹‹åçš„å¯¹è±¡ï¼Œè€Œå…·ä½“æ„ä»¶ä½¿ç”¨æŠ½è±¡æ„ä»¶ç±»å‹æ¥å®šä¹‰ å…·ä½“æ„ä»¶ç±»å‹æ— é¡»å…³å¿ƒï¼Œæ˜¯é€æ˜çš„ï¼› ä½†æ˜¯å…·ä½“è£…é¥°ç±»å‹å¿…é¡»æŒ‡å®šï¼Œè¿™æ˜¯ä¸é€æ˜çš„ ä¼˜ç‚¹ å¯ä»¥ç»™ç³»ç»Ÿå¸¦æ¥æ›´å¤šçš„çµæ´»æ€§ï¼Œè®¾è®¡ç›¸å¯¹ç®€å•ï¼Œä½¿ç”¨ èµ·æ¥ä¹Ÿéå¸¸æ–¹ä¾¿ å®¢æˆ·ç«¯å¯ä»¥å•ç‹¬è°ƒç”¨æ–°å¢çš„ä¸šåŠ¡æ–¹æ³• ç¼ºç‚¹ ä¸èƒ½å¤šæ¬¡è£…é¥°åŒä¸€ä¸ªå¯¹è±¡ï¼ˆå­˜ç–‘ï¼‰ å®¢æˆ·ç«¯æœ‰åŒºåˆ«åœ°å¯¹å¾…è£…é¥°å‰åçš„å¯¹è±¡ å¤–è§‚æ¨¡å¼ å®šä¹‰ ä¸ºå­ç³»ç»Ÿä¸­çš„ä¸€ç»„æ¥å£æä¾›ä¸€ä¸ªç»Ÿä¸€çš„å…¥å£ã€‚ï¼ˆç±»ä¼¼äºé¤å…æœåŠ¡å‘˜ï¼‰ åˆç§°ä¸ºé—¨é¢æ¨¡å¼ æ˜¯è¿ªç±³ç‰¹æ³•åˆ™ï¼ˆæœ€å°‘çŸ¥è¯†åŸåˆ™ï¼‰çš„ä¸€ç§å…·ä½“å®ç° å­ç³»ç»Ÿæ˜¯ä¸€ä¸ªå¹¿ä¹‰çš„æ¦‚å¿µï¼Œå®ƒå¯ä»¥æ˜¯ä¸€ä¸ªç±»ã€ ä¸€ä¸ªåŠŸèƒ½æ¨¡å—ã€ç³»ç»Ÿçš„ä¸€ä¸ªç»„æˆéƒ¨åˆ†æˆ–è€…ä¸€ä¸ªå®Œæ•´çš„ ç³»ç»Ÿ ç»“æ„ Facadeï¼ˆå¤–è§‚è§’è‰²ï¼‰ SubSystemï¼ˆå­ç³»ç»Ÿè§’è‰²ï¼‰ æŠ½è±¡å¤–è§‚ç±» å¦‚æœéœ€è¦å¢åŠ ã€åˆ é™¤æˆ–æ›´æ¢ä¸å¤–è§‚ç±»äº¤äº’çš„å­ç³»ç»Ÿç±»ï¼Œå¯ä»¥é€šè¿‡ç»§æ‰¿å’Œé…ç½®æ–‡ä»¶å®ç°æ›¿æ¢ä¸åŒçš„å¤–è§‚ç±»ï¼Œç¬¦åˆOCP å¤–è§‚ç±»ä¹Ÿå¯ä»¥åŒæ—¶ä½¿ç”¨å•ä¾‹æ¨¡å¼ ä¼˜ç¼ºç‚¹ä¸é€‚ç”¨ç¯å¢ƒ ä¼˜ç‚¹ å®ƒå¯¹å®¢æˆ·ç«¯å±è”½äº†å­ç³»ç»Ÿç»„ä»¶ï¼Œå‡å°‘äº†å®¢æˆ·ç«¯æ‰€éœ€å¤„ç†çš„å¯¹è±¡ æ•°ç›®ï¼Œå¹¶ä½¿å¾—å­ç³»ç»Ÿä½¿ç”¨èµ·æ¥æ›´åŠ å®¹æ˜“ å®ç°äº†å­ç³»ç»Ÿä¸å®¢æˆ·ç«¯ä¹‹é—´çš„æ¾è€¦åˆå…³ç³»ï¼Œè¿™ä½¿å¾—å­ç³»ç»Ÿçš„ å˜åŒ–ä¸ä¼šå½±å“åˆ°è°ƒç”¨å®ƒçš„å®¢æˆ·ç«¯ï¼Œåªéœ€è¦è°ƒæ•´å¤–è§‚ç±»å³å¯ ä¸€ä¸ªå­ç³»ç»Ÿçš„ä¿®æ”¹å¯¹å…¶ä»–å­ç³»ç»Ÿæ²¡æœ‰ä»»ä½•å½±å“ï¼Œè€Œä¸”å­ç³»ç»Ÿçš„å†…éƒ¨å˜åŒ–ä¹Ÿä¸ä¼šå½±å“åˆ°å¤–è§‚å¯¹è±¡ ç¼ºç‚¹ ä¸èƒ½å¾ˆå¥½åœ°é™åˆ¶å®¢æˆ·ç«¯ç›´æ¥ä½¿ç”¨å­ç³»ç»Ÿç±»ï¼Œå¦‚æœå¯¹å®¢ æˆ·ç«¯è®¿é—®å­ç³»ç»Ÿç±»åšå¤ªå¤šçš„é™åˆ¶åˆ™å‡å°‘äº†å¯å˜æ€§å’Œçµæ´»æ€§ å¦‚æœè®¾è®¡ä¸å½“ï¼Œå¢åŠ æ–°çš„å­ç³»ç»Ÿå¯èƒ½éœ€è¦ä¿®æ”¹å¤–è§‚ç±» çš„æºä»£ç ï¼Œè¿èƒŒäº†å¼€é—­åŸåˆ™ é€‚ç”¨ç¯å¢ƒ è¦ä¸ºè®¿é—®ä¸€ç³»åˆ—å¤æ‚çš„å­ç³»ç»Ÿæä¾›ä¸€ä¸ªç®€å•å…¥å£ å®¢æˆ·ç«¯ç¨‹åºä¸å¤šä¸ªå­ç³»ç»Ÿä¹‹é—´å­˜åœ¨å¾ˆå¤§çš„ä¾èµ–æ€§ åœ¨å±‚æ¬¡åŒ–ç»“æ„ä¸­ï¼Œå¯ä»¥ä½¿ç”¨å¤–è§‚æ¨¡å¼çš„å®šä¹‰ç³»ç»Ÿä¸­æ¯ ä¸€å±‚çš„å…¥å£ï¼Œå±‚ä¸å±‚ä¹‹é—´ä¸ç›´æ¥äº§ç”Ÿè”ç³»ï¼Œè€Œæ˜¯é€šè¿‡ å¤–è§‚ç±»å»ºç«‹è”ç³»ï¼Œé™ä½å±‚ä¹‹é—´çš„è€¦åˆåº¦ äº«å…ƒæ¨¡å¼ å®šä¹‰ è¿ç”¨å…±äº«æŠ€æœ¯æœ‰æ•ˆåœ°æ”¯æŒå¤§é‡ç»†ç²’åº¦å¯¹è±¡çš„å¤ç”¨ã€‚ å†…éƒ¨çŠ¶æ€(Intrinsic State)ï¼šå­˜å‚¨åœ¨äº«å…ƒå¯¹è±¡å†…éƒ¨å¹¶ä¸”ä¸ä¼šéšç¯å¢ƒæ”¹å˜è€Œæ”¹å˜çš„çŠ¶æ€ï¼Œå†…éƒ¨çŠ¶æ€å¯ä»¥å…±äº« ï¼ˆä¾‹å¦‚ï¼šå­—ç¬¦çš„å†…å®¹ï¼‰ å¤–éƒ¨çŠ¶æ€(Extrinsic State)ï¼šéšç¯å¢ƒæ”¹å˜è€Œæ”¹å˜çš„ã€ä¸å¯ä»¥å…±äº«çš„çŠ¶æ€ã€‚äº«å…ƒå¯¹è±¡çš„å¤–éƒ¨çŠ¶æ€é€šå¸¸ç”±å®¢æˆ·ç«¯ ä¿å­˜ï¼Œå¹¶åœ¨äº«å…ƒå¯¹è±¡è¢«åˆ›å»ºä¹‹åï¼Œéœ€è¦ä½¿ç”¨çš„æ—¶å€™å†ä¼ å…¥åˆ°äº«å…ƒå¯¹è±¡å†…éƒ¨ã€‚ä¸€ä¸ªå¤–éƒ¨çŠ¶æ€ä¸å¦ä¸€ä¸ªå¤–éƒ¨çŠ¶æ€ä¹‹é—´æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼ˆä¾‹å¦‚ï¼šå­—ç¬¦çš„é¢œè‰²å’Œå¤§å°ï¼‰ ç»“æ„ Flyweightï¼ˆæŠ½è±¡äº«å…ƒç±»ï¼‰ ConcreteFlyweightï¼ˆå…·ä½“äº«å…ƒç±»ï¼‰ 1234567891011public class ConcreteFlyweight extends Flyweight &#123; //å†…éƒ¨çŠ¶æ€intrinsicStateä½œä¸ºæˆå‘˜å˜é‡ï¼ŒåŒä¸€ä¸ªäº«å…ƒå¯¹è±¡å…¶å†…éƒ¨çŠ¶æ€æ˜¯ä¸€è‡´çš„ private String intrinsicState; public ConcreteFlyweight(String intrinsicState) &#123; this.intrinsicState = intrinsicState; &#125; //å¤–éƒ¨çŠ¶æ€extrinsicStateåœ¨ä½¿ç”¨æ—¶ç”±å¤–éƒ¨è®¾ç½®ï¼Œä¸ä¿å­˜åœ¨äº«å…ƒå¯¹è±¡ä¸­ï¼Œ å³ä½¿æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œåœ¨æ¯ä¸€æ¬¡è°ƒç”¨æ—¶å¯ä»¥ä¼ å…¥ä¸åŒçš„å¤–éƒ¨çŠ¶æ€ public void operation(String extrinsicState) &#123; //å®ç°ä¸šåŠ¡æ–¹æ³• &#125; &#125; UnsharedConcreteFlyweightï¼ˆéå…±äº«å…·ä½“äº«å…ƒç±»ï¼‰ FlyweightFactoryï¼ˆäº«å…ƒå·¥å‚ç±»ï¼‰ 123456789101112131415public class FlyweightFactory &#123; //å®šä¹‰ä¸€ä¸ªHashMapç”¨äºå­˜å‚¨äº«å…ƒå¯¹è±¡ï¼Œå®ç°äº«å…ƒæ±  private HashMap flyweights = new HashMap(); public Flyweight getFlyweight(String key) &#123; //å¦‚æœå¯¹è±¡å­˜åœ¨ï¼Œåˆ™ç›´æ¥ä»äº«å…ƒæ± è·å– if (flyweights.containsKey(key)) &#123; return (Flyweight)flyweights.get(key); &#125; //å¦‚æœå¯¹è±¡ä¸å­˜åœ¨ï¼Œå…ˆåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡æ·»åŠ åˆ°äº«å…ƒæ± ä¸­ï¼Œç„¶åè¿”å› else &#123; Flyweight fw = new ConcreteFlyweight(); flyweights.put(key,fw); return fw; &#125; &#125;&#125; Javaçš„Stringç±»ä½¿ç”¨äº†äº«å…ƒæ¨¡å¼ï¼šåˆ›å»ºæ—¶å†…å®¹ç›¸åŒçš„å­—ç¬¦ä¸²ä¼šå…±äº«ä¸€ä¸ªå­—ç¬¦ä¸²å¯¹è±¡ ä¼˜ç¼ºç‚¹å’Œé€‚ç”¨ç¯å¢ƒ ä¼˜ç‚¹ å¯ä»¥å‡å°‘å†…å­˜ä¸­å¯¹è±¡çš„æ•°é‡ï¼Œä½¿å¾—ç›¸åŒæˆ–è€…ç›¸ä¼¼çš„å¯¹ è±¡åœ¨å†…å­˜ä¸­åªä¿å­˜ä¸€ä»½ï¼Œä»è€Œå¯ä»¥èŠ‚çº¦ç³»ç»Ÿèµ„æºï¼Œæ é«˜ç³»ç»Ÿæ€§èƒ½ å¤–éƒ¨çŠ¶æ€ç›¸å¯¹ç‹¬ç«‹ï¼Œè€Œä¸”ä¸ä¼šå½±å“å…¶å†…éƒ¨çŠ¶æ€ï¼Œä»è€Œ ä½¿å¾—äº«å…ƒå¯¹è±¡å¯ä»¥åœ¨ä¸åŒçš„ç¯å¢ƒä¸­è¢«å…±äº« ç¼ºç‚¹ ä½¿å¾—ç³»ç»Ÿå˜å¾—å¤æ‚ï¼Œéœ€è¦åˆ†ç¦»å‡ºå†…éƒ¨çŠ¶æ€å’Œå¤–éƒ¨çŠ¶æ€ï¼Œ è¿™ä½¿å¾—ç¨‹åºçš„é€»è¾‘å¤æ‚åŒ– ä¸ºäº†ä½¿å¯¹è±¡å¯ä»¥å…±äº«ï¼Œäº«å…ƒæ¨¡å¼éœ€è¦å°†äº«å…ƒå¯¹è±¡çš„éƒ¨åˆ†çŠ¶æ€å¤–éƒ¨åŒ–ï¼Œè€Œè¯»å–å¤–éƒ¨çŠ¶æ€å°†ä½¿å¾—è¿è¡Œæ—¶é—´å˜é•¿ é€‚ç”¨ç¯å¢ƒ ä¸€ä¸ªç³»ç»Ÿæœ‰å¤§é‡ç›¸åŒæˆ–è€…ç›¸ä¼¼çš„å¯¹è±¡ï¼Œé€ æˆå†…å­˜çš„å¤§é‡è€—è´¹ å¯¹è±¡çš„å¤§éƒ¨åˆ†çŠ¶æ€éƒ½å¯ä»¥å¤–éƒ¨åŒ–ï¼Œå¯ä»¥å°†è¿™äº›å¤–éƒ¨çŠ¶ æ€ä¼ å…¥å¯¹è±¡ä¸­ åœ¨ä½¿ç”¨äº«å…ƒæ¨¡å¼æ—¶éœ€è¦ç»´æŠ¤ä¸€ä¸ªå­˜å‚¨äº«å…ƒå¯¹è±¡çš„äº«å…ƒæ± ï¼Œè€Œè¿™éœ€è¦è€—è´¹ä¸€å®šçš„ç³»ç»Ÿèµ„æºï¼Œå› æ­¤ï¼Œåœ¨éœ€è¦å¤šæ¬¡é‡å¤ä½¿ç”¨äº«å…ƒå¯¹è±¡æ—¶æ‰å€¼å¾—ä½¿ç”¨äº«å…ƒæ¨¡å¼ å•çº¯äº«å…ƒæ¨¡å¼ æ‰€æœ‰çš„å…·ä½“äº«å…ƒç±»éƒ½æ˜¯å¯ä»¥å…±äº«çš„ï¼Œä¸å­˜åœ¨éå…±äº«å…· ä½“äº«å…ƒç±» å¤åˆäº«å…ƒæ¨¡å¼ å°†ä¸€äº›å•çº¯äº«å…ƒå¯¹è±¡ä½¿ç”¨ç»„åˆæ¨¡å¼åŠ ä»¥ç»„åˆ å¦‚æœå¸Œæœ›ä¸ºå¤šä¸ªå†…éƒ¨çŠ¶æ€ä¸åŒçš„äº«å…ƒå¯¹è±¡è®¾ç½®ç›¸åŒçš„å¤–éƒ¨çŠ¶æ€ï¼Œ å¯ä»¥è€ƒè™‘ä½¿ç”¨å¤åˆäº«å…ƒæ¨¡å¼ ä»£ç†æ¨¡å¼ å®šä¹‰ ç»™æŸä¸€ä¸ªå¯¹è±¡æä¾›ä¸€ä¸ªä»£ç†æˆ–å ä½ç¬¦ï¼Œå¹¶ç”±ä»£ç†å¯¹è±¡æ¥æ§åˆ¶å¯¹åŸå¯¹è±¡çš„è®¿é—® å¼•å…¥ä¸€ä¸ªæ–°çš„ä»£ç†å¯¹è±¡ ï¼Œä»£ç†å¯¹è±¡åœ¨å®¢æˆ·ç«¯å¯¹è±¡å’Œç›®æ ‡å¯¹è±¡ä¹‹é—´èµ·åˆ°ä¸­ä»‹çš„ä½œç”¨ ï¼Œå¯ä»¥å»æ‰å®¢æˆ·ä¸èƒ½çœ‹åˆ°çš„å†…å®¹å’ŒæœåŠ¡æˆ–è€…å¢æ·»å®¢æˆ·éœ€è¦çš„é¢å¤–çš„æ–°æœåŠ¡ ç»“æ„ Subjectï¼ˆæŠ½è±¡ä¸»é¢˜è§’è‰²ï¼‰ Proxyï¼ˆä»£ç†ä¸»é¢˜è§’è‰²ï¼‰ ï¼šç»´æŒä¸€ä¸ªå¯¹çœŸå®ä¸»é¢˜å¯¹è±¡çš„å¼•ç”¨ï¼Œè°ƒç”¨çœŸå®ä¸»é¢˜å¯¹è±¡çš„æ–¹æ³• RealSubjectï¼ˆçœŸå®ä¸»é¢˜è§’è‰²ï¼‰ å‡ ç§å¸¸è§çš„ä»£ç†æ¨¡å¼ è¿œç¨‹ä»£ç†(Remote Proxy)ï¼šä¸ºä¸€ä¸ªä½äºä¸åŒçš„åœ°å€ç©ºé—´çš„å¯¹è±¡æä¾›ä¸€ä¸ªæœ¬åœ°çš„ä»£ç†å¯¹è±¡ï¼Œè¿™ä¸ªä¸åŒçš„åœ°å€ç©ºé—´å¯ä»¥åœ¨åŒä¸€å°ä¸»æœºä¸­ï¼Œä¹Ÿå¯ä»¥åœ¨å¦ä¸€å°ä¸»æœºä¸­ï¼Œ è¿œç¨‹ä»£ç†åˆç§°ä¸ºå¤§ä½¿(Ambassador) è™šæ‹Ÿä»£ç†(Virtual Proxy)ï¼šå¦‚æœéœ€è¦åˆ›å»ºä¸€ä¸ªèµ„æºæ¶ˆè€—è¾ƒå¤§çš„å¯¹è±¡ï¼Œå…ˆåˆ›å»ºä¸€ä¸ªæ¶ˆè€—ç›¸å¯¹è¾ƒå°çš„å¯¹è±¡æ¥è¡¨ç¤ºï¼Œ çœŸå®å¯¹è±¡åªåœ¨éœ€è¦æ—¶æ‰ä¼šè¢«çœŸæ­£åˆ›å»º ä¿æŠ¤ä»£ç†(Protect Proxy)ï¼šæ§åˆ¶å¯¹ä¸€ä¸ªå¯¹è±¡çš„è®¿é—®ï¼Œå¯ä»¥ç»™ä¸åŒçš„ç”¨æˆ·æä¾›ä¸åŒçº§åˆ«çš„ä½¿ç”¨æƒé™ ç¼“å†²ä»£ç†(Cache Proxy)ï¼šä¸ºæŸä¸€ä¸ªç›®æ ‡æ“ä½œçš„ç»“æœæä¾›ä¸´æ—¶çš„å­˜å‚¨ç©ºé—´ï¼Œä»¥ä¾¿å¤šä¸ªå®¢æˆ·ç«¯å¯ä»¥å…±äº«è¿™äº›ç»“æœ æ™ºèƒ½å¼•ç”¨ä»£ç†(Smart Reference Proxy)ï¼šå½“ä¸€ä¸ªå¯¹è±¡è¢«å¼•ç”¨æ—¶ï¼Œæä¾›ä¸€äº›é¢å¤–çš„æ“ä½œï¼Œä¾‹å¦‚å°†å¯¹è±¡è¢«è°ƒç”¨çš„æ¬¡æ•°è®°å½•ä¸‹æ¥ç­‰ ä¼˜ç¼ºç‚¹ä¸é€‚ç”¨ç¯å¢ƒ ä¼˜ç‚¹ èƒ½å¤Ÿåè°ƒè°ƒç”¨è€…å’Œè¢«è°ƒç”¨è€…ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šé™ä½äº†ç³»ç»Ÿçš„è€¦åˆåº¦ å®¢æˆ·ç«¯å¯ä»¥é’ˆå¯¹æŠ½è±¡ä¸»é¢˜è§’è‰²è¿›è¡Œç¼–ç¨‹ï¼Œå¢åŠ å’Œæ›´æ¢ä»£ç†ç±»æ— é¡»ä¿®æ”¹æºä»£ç ï¼Œç¬¦åˆå¼€é—­åŸåˆ™ï¼Œç³»ç»Ÿå…·æœ‰è¾ƒå¥½çš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§ è¿œç¨‹ä»£ç†ï¼šå¯ä»¥å°†ä¸€äº›æ¶ˆè€—èµ„æºè¾ƒå¤šçš„å¯¹è±¡å’Œæ“ä½œç§»è‡³æ€§èƒ½æ›´å¥½çš„è®¡ç®—æœºä¸Šï¼Œæé«˜äº†ç³»ç»Ÿçš„æ•´ä½“è¿è¡Œæ•ˆç‡ è™šæ‹Ÿä»£ç†ï¼šé€šè¿‡ä¸€ä¸ªæ¶ˆè€—èµ„æºè¾ƒå°‘çš„å¯¹è±¡æ¥ä»£è¡¨ä¸€ä¸ªæ¶ˆè€—èµ„æºè¾ƒå¤šçš„å¯¹è±¡ï¼Œå¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸ŠèŠ‚çœç³»ç»Ÿçš„è¿è¡Œå¼€é”€ ç¼“å†²ä»£ç†ï¼šä¸ºæŸä¸€ä¸ªæ“ä½œçš„ç»“æœæä¾›ä¸´æ—¶çš„ç¼“å­˜å­˜å‚¨ç©ºé—´ï¼Œä»¥ä¾¿åœ¨åç»­ä½¿ç”¨ä¸­èƒ½å¤Ÿå…±äº«è¿™äº›ç»“æœï¼Œä¼˜åŒ–ç³»ç»Ÿæ€§èƒ½ï¼Œç¼©çŸ­æ‰§è¡Œæ—¶é—´ ä¿æŠ¤ä»£ç†ï¼šå¯ä»¥æ§åˆ¶å¯¹ä¸€ä¸ªå¯¹è±¡çš„è®¿é—®æƒé™ï¼Œä¸ºä¸åŒç”¨æˆ·æä¾›ä¸åŒçº§åˆ«çš„ä½¿ç”¨æƒé™ ç¼ºç‚¹ ç”±äºåœ¨å®¢æˆ·ç«¯å’ŒçœŸå®ä¸»é¢˜ä¹‹é—´å¢åŠ äº†ä»£ç†å¯¹è±¡ï¼Œå› æ­¤ æœ‰äº›ç±»å‹çš„ä»£ç†æ¨¡å¼å¯èƒ½ä¼šé€ æˆè¯·æ±‚çš„å¤„ç†é€Ÿåº¦å˜æ…¢ ï¼ˆä¾‹å¦‚ä¿æŠ¤ä»£ç†ï¼‰ å®ç°ä»£ç†æ¨¡å¼éœ€è¦é¢å¤–çš„å·¥ä½œï¼Œè€Œä¸”æœ‰äº›ä»£ç†æ¨¡å¼çš„ å®ç°è¿‡ç¨‹è¾ƒä¸ºå¤æ‚ï¼ˆä¾‹å¦‚è¿œç¨‹ä»£ç†ï¼‰ é€‚ç”¨ç¯å¢ƒ å½“å®¢æˆ·ç«¯å¯¹è±¡éœ€è¦è®¿é—®è¿œç¨‹ä¸»æœºä¸­çš„å¯¹è±¡æ—¶å¯ä»¥ä½¿ç”¨è¿œç¨‹ä»£ç† å½“éœ€è¦ç”¨ä¸€ä¸ªæ¶ˆè€—èµ„æºè¾ƒå°‘çš„å¯¹è±¡æ¥ä»£è¡¨ä¸€ä¸ªæ¶ˆè€—èµ„æºè¾ƒå¤šçš„å¯¹è±¡ï¼Œä»è€Œé™ä½ç³»ç»Ÿå¼€é”€ã€ç¼©çŸ­è¿è¡Œæ—¶é—´æ—¶å¯ä»¥ä½¿ç”¨è™šæ‹Ÿä»£ç† å½“éœ€è¦ä¸ºæŸä¸€ä¸ªè¢«é¢‘ç¹è®¿é—®çš„æ“ä½œç»“æœæä¾›ä¸€ä¸ªä¸´æ—¶å­˜å‚¨ç©ºé—´ï¼Œä»¥ä¾›å¤šä¸ªå®¢æˆ·ç«¯å…±äº«è®¿é—®è¿™äº›ç»“æœæ—¶å¯ä»¥ä½¿ç”¨ç¼“å†²ä»£ç† å½“éœ€è¦æ§åˆ¶å¯¹ä¸€ä¸ªå¯¹è±¡çš„è®¿é—®ï¼Œä¸ºä¸åŒç”¨æˆ·æä¾›ä¸åŒçº§åˆ« çš„è®¿é—®æƒé™æ—¶å¯ä»¥ä½¿ç”¨ä¿æŠ¤ä»£ç† â€¢ å½“éœ€è¦ä¸ºä¸€ä¸ªå¯¹è±¡çš„è®¿é—®ï¼ˆå¼•ç”¨ï¼‰æä¾›ä¸€äº›é¢å¤–çš„æ“ä½œæ—¶å¯ä»¥ä½¿ç”¨æ™ºèƒ½å¼•ç”¨ä»£ç† è¿œç¨‹ä»£ç† å®¢æˆ·ç«¯ç¨‹åºå¯ä»¥è®¿é—®åœ¨è¿œç¨‹ä¸»æœºä¸Šçš„å¯¹è±¡ï¼Œè¿œç¨‹ä¸»æœºå¯èƒ½å…·æœ‰æ›´å¥½çš„è®¡ç®—æ€§èƒ½ä¸å¤„ç†é€Ÿåº¦ï¼Œå¯ä»¥å¿«é€Ÿåœ°å“ åº”å¹¶å¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚ å¯ä»¥å°†ç½‘ç»œçš„ç»†èŠ‚éšè—èµ·æ¥ï¼Œä½¿å¾—å®¢æˆ·ç«¯ä¸å¿…è€ƒè™‘ç½‘ç»œçš„å­˜åœ¨ å®¢æˆ·ç«¯å®Œå…¨å¯ä»¥è®¤ä¸ºè¢«ä»£ç†çš„è¿œç¨‹ä¸šåŠ¡å¯¹è±¡æ˜¯åœ¨æœ¬åœ°è€Œä¸æ˜¯åœ¨è¿œç¨‹ï¼Œè€Œè¿œç¨‹ä»£ç†å¯¹è±¡æ‰¿æ‹…äº†å¤§éƒ¨åˆ†çš„ç½‘ç»œ é€šä¿¡å·¥ä½œï¼Œå¹¶è´Ÿè´£å¯¹è¿œç¨‹ä¸šåŠ¡æ–¹æ³•çš„è°ƒç”¨ è™šæ‹Ÿä»£ç† å¯¹äºä¸€äº›å ç”¨ç³»ç»Ÿèµ„æºè¾ƒå¤šæˆ–è€…åŠ è½½æ—¶é—´è¾ƒé•¿çš„å¯¹è±¡ï¼Œå¯ä»¥ç»™è¿™äº›å¯¹è±¡æä¾›ä¸€ä¸ªè™šæ‹Ÿä»£ç†ï¼ˆæ¡Œé¢å¿«æ·æ–¹å¼ï¼‰ åœ¨çœŸå®å¯¹è±¡åˆ›å»ºæˆåŠŸä¹‹å‰è™šæ‹Ÿä»£ç†æ‰®æ¼”çœŸå®å¯¹è±¡çš„æ›¿èº«ï¼Œ è€Œå½“çœŸå®å¯¹è±¡åˆ›å»ºä¹‹åï¼Œè™šæ‹Ÿä»£ç†å°†ç”¨æˆ·çš„è¯·æ±‚è½¬å‘ç»™çœŸå®å¯¹è±¡ ä½¿ç”¨ä¸€ä¸ªâ€œè™šå‡â€çš„ä»£ç†å¯¹è±¡æ¥ä»£è¡¨çœŸå®å¯¹è±¡ï¼Œé€šè¿‡ä»£ç†å¯¹è±¡æ¥é—´æ¥å¼•ç”¨çœŸå®å¯¹è±¡ï¼Œå¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šæé«˜ç³»ç»Ÿçš„æ€§èƒ½ JavaåŠ¨æ€ä»£ç† åŠ¨æ€ä»£ç†(Dynamic Proxy)å¯ä»¥è®©ç³»ç»Ÿåœ¨è¿è¡Œæ—¶æ ¹æ®å®é™…éœ€è¦æ¥åŠ¨æ€åˆ›å»ºä»£ç†ç±»ï¼Œè®©åŒä¸€ä¸ªä»£ç†ç±»èƒ½å¤Ÿä»£ç†å¤šä¸ªä¸åŒçš„çœŸå®ä¸»é¢˜ç±»è€Œä¸”å¯ä»¥ä»£ç†ä¸åŒçš„æ–¹æ³• Proxyç±» InvoationHandleræ¥å£ å…·ä½“ä½¿ç”¨æ–¹æ³•ç•¥ è¡Œä¸ºå‹æ¨¡å¼ è¡Œä¸ºå‹æ¨¡å¼(Behavioral Pattern)å…³æ³¨ç³»ç»Ÿä¸­å¯¹è±¡ä¹‹é—´ çš„äº¤äº’ï¼Œç ”ç©¶ç³»ç»Ÿåœ¨è¿è¡Œæ—¶å¯¹è±¡ä¹‹é—´çš„ç›¸äº’é€šä¿¡ä¸ åä½œï¼Œè¿›ä¸€æ­¥æ˜ç¡®å¯¹è±¡çš„èŒè´£ èŒè´£é“¾æ¨¡å¼ å®šä¹‰ é¿å…å°†ä¸€ä¸ªè¯·æ±‚çš„å‘é€è€…ä¸æ¥æ”¶è€…è€¦åˆåœ¨ä¸€ èµ·ï¼Œè®©å¤šä¸ªå¯¹è±¡éƒ½æœ‰æœºä¼šå¤„ç†è¯·æ±‚ã€‚å°†æ¥æ”¶è¯·æ±‚çš„å¯¹è±¡è¿æ¥ æˆä¸€æ¡é“¾ï¼Œå¹¶ä¸”æ²¿ç€è¿™æ¡é“¾ä¼ é€’è¯·æ±‚ï¼Œç›´åˆ°æœ‰ä¸€ä¸ªå¯¹è±¡èƒ½å¤Ÿ å¤„ç†å®ƒä¸ºæ­¢ã€‚ å°†è¯·æ±‚çš„å¤„ç†è€…ç»„ç»‡æˆä¸€æ¡é“¾ï¼Œå¹¶è®©è¯·æ±‚æ²¿ç€é“¾ä¼ é€’ï¼Œ ç”±é“¾ä¸Šçš„å¤„ç†è€…å¯¹è¯·æ±‚è¿›è¡Œç›¸åº”çš„å¤„ç† å®¢æˆ·ç«¯æ— é¡»å…³å¿ƒè¯·æ±‚çš„å¤„ç†ç»†èŠ‚ä»¥åŠè¯·æ±‚çš„ä¼ é€’ï¼Œåªéœ€å°†è¯·æ±‚å‘é€åˆ°é“¾ä¸Šï¼Œå°†è¯·æ±‚çš„å‘é€è€…å’Œè¯·æ±‚çš„å¤„ç†è€…è§£è€¦ èŒè´£é“¾ä¸ä¸€å®šæ˜¯é“¾å¼ç»“æ„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç¯çŠ¶çš„æˆ–è€…æ ‘çŠ¶çš„ ç»“æ„ Handlerï¼ˆæŠ½è±¡å¤„ç†è€…ï¼‰ 123456public abstract class Handler &#123; //ç»´æŒå¯¹ä¸‹å®¶çš„å¼•ç”¨ protected Handler successor; public void setSuccessor(Handler successor) &#123; this.successor=successor; &#125; public abstract void handleRequest(String request);&#125; ConcreteHandlerï¼ˆå…·ä½“å¤„ç†è€…ï¼‰ 1234567891011public class ConcreteHandler extends Handler &#123; public void handleRequest(String request) &#123; if (è¯·æ±‚æ»¡è¶³æ¡ä»¶) &#123; //å¤„ç†è¯·æ±‚ &#125; else &#123; this.successor.handleRequest(request); //è½¬å‘è¯·æ±‚ &#125; &#125; &#125; å®¢æˆ·ç«¯è´Ÿè´£åˆ›å»ºèŒè´£é“¾å’Œå‘é€è¯·æ±‚ çº¯ä¸ä¸çº¯ çº¯çš„èŒè´£é“¾æ¨¡å¼ ä¸€ä¸ªå…·ä½“å¤„ç†è€…å¯¹è±¡åªèƒ½åœ¨ä¸¤ä¸ªè¡Œä¸ºä¸­é€‰æ‹©ä¸€ä¸ªï¼šè¦ä¹ˆæ‰¿æ‹…å…¨éƒ¨è´£ä»»ï¼Œè¦ä¹ˆå°†è´£ä»»æ¨ç»™ä¸‹å®¶ ä¸€ä¸ªè¯·æ±‚å¿…é¡»è¢«æŸä¸€ä¸ªå¤„ç†è€…å¯¹è±¡æ‰€æ¥æ”¶ï¼Œä¸èƒ½å‡ºç°æŸä¸ªè¯·æ±‚æœªè¢«ä»»ä½•ä¸€ä¸ªå¤„ç†è€…å¯¹è±¡å¤„ç†çš„æƒ…å†µ ä¸çº¯çš„èŒè´£é“¾æ¨¡å¼ å…è®¸æŸä¸ªè¯·æ±‚è¢«ä¸€ä¸ªå…·ä½“å¤„ç†è€…éƒ¨åˆ†å¤„ç†åå‘ä¸‹ä¼ é€’ï¼Œæˆ–è€…ä¸€ ä¸ªå…·ä½“å¤„ç†è€…å¤„ç†å®ŒæŸè¯·æ±‚åå…¶åç»§å¤„ç†è€…å¯ä»¥ç»§ç»­å¤„ç†è¯¥è¯·æ±‚ ä¸€ä¸ªè¯·æ±‚å¯ä»¥æœ€ç»ˆä¸è¢«ä»»ä½•å¤„ç†è€…å¯¹è±¡æ‰€æ¥æ”¶å¹¶å¤„ç† ä¼˜ç¼ºç‚¹ä¸é€‚ç”¨ç¯å¢ƒ ä¼˜ç‚¹ ä½¿å¾—ä¸€ä¸ªå¯¹è±¡æ— é¡»çŸ¥é“æ˜¯å…¶ä»–å“ªä¸€ä¸ªå¯¹è±¡å¤„ç†å…¶è¯·æ±‚ï¼Œ é™ä½äº†ç³»ç»Ÿçš„è€¦åˆåº¦ å¯ç®€åŒ–å¯¹è±¡ä¹‹é—´çš„ç›¸äº’è¿æ¥ ç»™å¯¹è±¡èŒè´£çš„åˆ†é…å¸¦æ¥æ›´å¤šçš„çµæ´»æ€§ å¢åŠ ä¸€ä¸ªæ–°çš„å…·ä½“è¯·æ±‚å¤„ç†è€…æ—¶æ— é¡»ä¿®æ”¹åŸæœ‰ç³»ç»Ÿçš„ ä»£ç ï¼Œåªéœ€è¦åœ¨å®¢æˆ·ç«¯é‡æ–°å»ºé“¾å³å¯ ç¼ºç‚¹ ä¸èƒ½ä¿è¯è¯·æ±‚ä¸€å®šä¼šè¢«å¤„ç† å¯¹äºæ¯”è¾ƒé•¿çš„èŒè´£é“¾ï¼Œç³»ç»Ÿæ€§èƒ½å°†å—åˆ°ä¸€å®šå½±å“ï¼Œåœ¨è¿›è¡Œä»£ç è°ƒè¯•æ—¶ä¸å¤ªæ–¹ä¾¿ å¦‚æœå»ºé“¾ä¸å½“ï¼Œå¯èƒ½ä¼šé€ æˆå¾ªç¯è°ƒç”¨ï¼Œå°†å¯¼è‡´ç³»ç»Ÿé™· å…¥æ­»å¾ªç¯ é€‚ç”¨ç¯å¢ƒ æœ‰å¤šä¸ªå¯¹è±¡å¯ä»¥å¤„ç†åŒä¸€ä¸ªè¯·æ±‚ï¼Œå…·ä½“å“ªä¸ªå¯¹è±¡å¤„ç†è¯¥è¯·æ±‚å¾…è¿è¡Œæ—¶åˆ»å†ç¡®å®š åœ¨ä¸æ˜ç¡®æŒ‡å®šæ¥æ”¶è€…çš„æƒ…å†µä¸‹ï¼Œå‘å¤šä¸ªå¯¹è±¡ä¸­çš„ä¸€ä¸ªæäº¤ä¸€ä¸ªè¯·æ±‚ â€¢ åŠ¨æ€æŒ‡å®šä¸€ç»„å¯¹è±¡å¤„ç†è¯·æ±‚ å‘½ä»¤æ¨¡å¼ å®šä¹‰ å°†ä¸€ä¸ªè¯·æ±‚å°è£…ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œä»è€Œå¯ä»¥ç”¨ä¸åŒçš„è¯·æ±‚å¯¹å®¢æˆ·è¿›è¡Œå‚æ•°åŒ–ï¼Œå¯¹è¯·æ±‚æ’é˜Ÿæˆ–è€…è®°å½•è¯·æ±‚æ—¥å¿—ï¼Œ ä»¥åŠæ”¯æŒå¯æ’¤é”€çš„æ“ä½œã€‚ ç±»æ¯”ï¼šåŒæ ·çš„å¼€å…³å¯ä»¥æ¥åˆ°ä¸åŒçš„ç”µå™¨ä¸Š å¯¹è¯·æ±‚è¿›è¡Œå°è£… ï¼Œä¸€ä¸ªè¯·æ±‚å¯¹åº”äºä¸€ä¸ªå‘½ä»¤ï¼Œè¯·æ±‚çš„ä¸€æ–¹ä¸å¿…çŸ¥é“æ¥æ”¶è¯·æ±‚çš„ä¸€æ–¹çš„æ¥å£ ç»“æ„ Commandï¼ˆæŠ½è±¡å‘½ä»¤ç±»ï¼‰ ConcreteCommandï¼ˆå…·ä½“å‘½ä»¤ç±»ï¼‰ Invokerï¼ˆè°ƒç”¨è€…ï¼‰ ï¼šé€šè¿‡é…ç½®æ–‡ä»¶å†³å®šå¼•ç”¨å“ªä¸ªå…·ä½“å‘½ä»¤ç±» Receiverï¼ˆæ¥æ”¶è€…ï¼‰ å»¶ç”³ å‘½ä»¤é˜Ÿåˆ— æœ‰ä¸æ­¢ä¸€ä¸ªè¯·æ±‚æ¥æ”¶è€…äº§ç”Ÿå“åº”ï¼Œé€ä¸ªæ‰§è¡Œä¸šåŠ¡æ–¹æ³• å¢åŠ ä¸€ä¸ªCommandQueueç±»ï¼Œç”±è¯¥ç±»è´Ÿè´£å­˜å‚¨å¤šä¸ªå‘½ä»¤å¯¹è±¡ï¼Œè€Œä¸åŒçš„å‘½ä»¤å¯¹è±¡å¯ä»¥å¯¹åº”ä¸åŒçš„è¯·æ±‚æ¥æ”¶è€… è®°å½•è¯·æ±‚æ—¥å¿— å°†è¯·æ±‚çš„å†å²è®°å½•ä¿å­˜ä¸‹æ¥ï¼Œé€šå¸¸ä»¥æ—¥å¿—æ–‡ä»¶(Log File)çš„å½¢å¼æ°¸ä¹…å­˜å‚¨åœ¨è®¡ç®—æœºä¸­ ï¼šä¸ºç³»ç»Ÿæä¾›ä¸€ç§æ¢å¤æœºåˆ¶ ï¼Œå¯ä»¥ç”¨äºå®ç°æ‰¹å¤„ç†ï¼Œé˜²æ­¢å› ä¸ºæ–­ç”µæˆ–è€…ç³»ç»Ÿé‡å¯ç­‰åŸå› é€ æˆè¯·æ±‚ä¸¢å¤±ï¼Œ è€Œä¸”å¯ä»¥é¿å…é‡æ–°å‘é€å…¨éƒ¨è¯·æ±‚æ—¶é€ æˆæŸäº›å‘½ä»¤çš„é‡å¤æ‰§è¡Œ å®ç°ï¼šå°†å‘é€è¯·æ±‚çš„å‘½ä»¤å¯¹è±¡é€šè¿‡åºåˆ—åŒ–å†™åˆ°æ—¥å¿—æ–‡ä»¶ä¸­ ï¼Œå‘½ä»¤ç±»å¿…é¡»å®ç°æ¥å£Serializable å®ç°å•æ­¥æ’¤é”€ åœ¨æŠ½è±¡å‘½ä»¤ç±»ä¸­å¢åŠ Undo()æ–¹æ³•ï¼Œç»§æ‰¿æ—¶éœ€è¦å®ç°è¯¥æ–¹æ³• å®å‘½ä»¤ï¼ˆå¯ç”¨äºå®ç°å¤šæ­¥æ’¤é”€ï¼‰ ç»„åˆæ¨¡å¼å’Œå‘½ä»¤æ¨¡å¼è”ç”¨ å®å‘½ä»¤æ˜¯ä¸€ä¸ªå…·ä½“å‘½ä»¤ç±»ï¼Œå®ƒæ‹¥æœ‰ä¸€ä¸ªé›†åˆï¼Œåœ¨è¯¥é›†åˆä¸­åŒ…å« äº†å¯¹å…¶ä»–å‘½ä»¤å¯¹è±¡çš„å¼•ç”¨ å½“è°ƒç”¨å®å‘½ä»¤çš„execute()æ–¹æ³•æ—¶ï¼Œå°†é€’å½’è°ƒç”¨å®ƒæ‰€åŒ…å«çš„æ¯ä¸ª æˆå‘˜å‘½ä»¤çš„execute()æ–¹æ³• ä¼˜ç¼ºç‚¹ä¸é€‚ç”¨ç¯å¢ƒ ä¼˜ç‚¹ é™ä½ç³»ç»Ÿçš„è€¦åˆåº¦ ï¼ˆè¯·æ±‚æ–¹ä¸æ¥æ”¶æ–¹çš„è§£è€¦ï¼‰ æ–°çš„å‘½ä»¤å¯ä»¥å¾ˆå®¹æ˜“åœ°åŠ å…¥åˆ°ç³»ç»Ÿä¸­ï¼Œç¬¦åˆå¼€é—­åŸåˆ™ å¯ä»¥æ¯”è¾ƒå®¹æ˜“åœ°è®¾è®¡ä¸€ä¸ªå‘½ä»¤é˜Ÿåˆ—æˆ–å®å‘½ä»¤ï¼ˆç»„åˆå‘½ä»¤ï¼‰ ä¸ºè¯·æ±‚çš„æ’¤é”€(Undo)å’Œæ¢å¤(Redo)æ“ä½œæä¾›äº†ä¸€ç§è®¾è®¡å’Œå®ç°æ–¹æ¡ˆ ç¼ºç‚¹ å¯èƒ½ä¼šå¯¼è‡´æŸäº›ç³»ç»Ÿæœ‰è¿‡å¤šçš„å…·ä½“å‘½ä»¤ç±»ï¼ˆé’ˆå¯¹æ¯ä¸€ä¸ªå¯¹è¯·æ±‚æ¥æ”¶è€…çš„è°ƒç”¨æ“ä½œéƒ½éœ€è¦è®¾è®¡ ä¸€ä¸ªå…·ä½“å‘½ä»¤ç±»ï¼‰ é€‚ç”¨ç¯å¢ƒ ç³»ç»Ÿéœ€è¦å°†è¯·æ±‚è°ƒç”¨è€…å’Œè¯·æ±‚æ¥æ”¶è€…è§£è€¦ï¼Œä½¿å¾—è°ƒç”¨è€…å’Œæ¥æ”¶è€…ä¸ç›´æ¥äº¤äº’ ç³»ç»Ÿéœ€è¦åœ¨ä¸åŒçš„æ—¶é—´æŒ‡å®šè¯·æ±‚ã€å°†è¯·æ±‚æ’é˜Ÿå’Œæ‰§è¡Œè¯·æ±‚ ç³»ç»Ÿéœ€è¦æ”¯æŒå‘½ä»¤çš„æ’¤é”€(Undo)æ“ä½œå’Œæ¢å¤(Redo)æ“ä½œ ç³»ç»Ÿéœ€è¦å°†ä¸€ç»„æ“ä½œç»„åˆåœ¨ä¸€èµ·å½¢æˆå®å‘½ä»¤ è§£é‡Šå™¨æ¨¡å¼ å®šä¹‰ ç»™å®šä¸€ä¸ªè¯­è¨€ï¼Œå®šä¹‰å®ƒçš„æ–‡æ³•çš„ä¸€ç§è¡¨ç¤ºï¼Œ å¹¶å®šä¹‰ä¸€ä¸ªè§£é‡Šå™¨ï¼Œè¿™ä¸ªè§£é‡Šå™¨ä½¿ç”¨è¯¥è¡¨ç¤ºæ¥è§£é‡Šè¯­è¨€ä¸­çš„ å¥å­ã€‚ ï¼ˆç¼–è¯‘åŸç†å†æ”¾é€ï¼‰è‡ªé¡¶å‘ä¸‹è¯­æ³•åˆ†æï¼Œæ¯ä¸ªç¬¦å·ä¸€ä¸ªç±»ï¼Œç±»ä¸­å®ç°åˆ†ææ–¹æ³• ç”¨äºæè¿°å¦‚ä½•ä½¿ç”¨é¢å‘å¯¹è±¡è¯­è¨€æ„æˆä¸€ä¸ªç®€å• çš„è¯­è¨€è§£é‡Šå™¨ ç»“æ„ AbstractExpressionï¼ˆæŠ½è±¡è¡¨è¾¾å¼ï¼‰ TerminalExpressionï¼ˆç»ˆç»“ç¬¦è¡¨è¾¾å¼ï¼‰ NonterminalExpressionï¼ˆéç»ˆç»“ç¬¦è¡¨è¾¾å¼ï¼‰ Contextï¼ˆç¯å¢ƒç±»ï¼‰ ç”¨äºå­˜å‚¨ä¸€äº›å…¨å±€ä¿¡æ¯ï¼Œä¾‹å¦‚å˜é‡åä¸å€¼çš„æ˜ å°„å…³ç³» (key/value)ç­‰ï¼Œç”¨äºåœ¨æ‰§è¡Œå…·ä½“çš„è§£é‡Šæ“ä½œæ—¶ä»ä¸­è·å–ç›¸å…³ä¿¡æ¯ï¼ˆç¬¦å·è¡¨è­¦å‘Šï¼‰ åœ¨ç¯å¢ƒç±»ä¸­å¢åŠ ä¸€äº›æ‰€æœ‰è¡¨è¾¾å¼è§£é‡Šå™¨éƒ½å…±æœ‰çš„åŠŸèƒ½ï¼Œä»¥ å‡è½»è§£é‡Šå™¨çš„èŒè´£ å½“ç³»ç»Ÿæ— é¡»æä¾›å…¨å±€å…¬å…±ä¿¡æ¯æ—¶å¯ä»¥çœç•¥ç¯å¢ƒç±»ï¼Œæ ¹æ®å®é™…æƒ… å†µå†³å®šæ˜¯å¦éœ€è¦ç¯å¢ƒç±» ä¼˜ç¼ºç‚¹ä¸é€‚ç”¨ç¯å¢ƒ ä¼˜ç‚¹ æ˜“äºæ”¹å˜å’Œæ‰©å±•æ–‡æ³•ï¼šç”±äºåœ¨è§£é‡Šå™¨æ¨¡å¼ä¸­ä½¿ç”¨ç±»è¡¨ ç¤ºè¯­è¨€çš„æ–‡æ³•è§„åˆ™ï¼Œå› æ­¤å¯ä»¥é€šè¿‡ç»§æ‰¿ç­‰æœºåˆ¶æ¥æ”¹å˜ æˆ–æ‰©å±•æ–‡æ³•ã€‚ å¯ä»¥æ–¹ä¾¿åœ°å®ç°ä¸€ä¸ªç®€å•çš„è¯­è¨€ï¼šæ¯ä¸€æ¡æ–‡æ³•è§„åˆ™éƒ½ å¯ä»¥è¡¨ç¤ºä¸ºä¸€ä¸ªç±»ã€‚ å®ç°æ–‡æ³•è¾ƒä¸ºå®¹æ˜“ï¼ˆæœ‰è‡ªåŠ¨ç”Ÿæˆå·¥å…·ï¼‰ã€‚ å¢åŠ æ–°çš„è§£é‡Šè¡¨è¾¾å¼è¾ƒä¸ºæ–¹ä¾¿ï¼Œç¬¦åˆå¼€é—­åŸåˆ™ã€‚ ç¼ºç‚¹ å¯¹äºå¤æ‚æ–‡æ³•éš¾ä»¥ç»´æŠ¤ï¼šå¤ªå¤šæ–‡æ³• è§„åˆ™ï¼Œç±»çš„ä¸ªæ•°ä¼šæ€¥å‰§å¢åŠ  æ‰§è¡Œæ•ˆç‡è¾ƒä½ï¼šå¤§é‡çš„å¾ªç¯å’Œé€’å½’ é€‚ç”¨ç¯å¢ƒ å¯ä»¥å°†ä¸€ä¸ªéœ€è¦è§£é‡Šæ‰§è¡Œçš„è¯­è¨€ä¸­çš„å¥å­è¡¨ç¤ºä¸ºä¸€ æ£µæŠ½è±¡è¯­æ³•æ ‘ ä¸€äº›é‡å¤å‡ºç°çš„é—®é¢˜å¯ä»¥ç”¨ä¸€ç§ç®€å•çš„è¯­è¨€æ¥è¿›è¡Œ è¡¨è¾¾ ä¸€ä¸ªè¯­è¨€çš„æ–‡æ³•è¾ƒä¸ºç®€å• æ‰§è¡Œæ•ˆç‡ä¸æ˜¯å…³é”®é—®é¢˜ è¿­ä»£å™¨æ¨¡å¼ å®šä¹‰ æä¾›ä¸€ç§æ–¹æ³•é¡ºåºè®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡ä¸­å„ä¸ª å…ƒç´ ï¼Œä¸”ä¸ç”¨æš´éœ²è¯¥å¯¹è±¡çš„å†…éƒ¨è¡¨ç¤º ç±»ä¼¼Pythonçš„è¿­ä»£å™¨ å¯ä»¥æ ¹æ®éœ€ è¦å¾ˆæ–¹ä¾¿åœ°å¢åŠ æ–°çš„éå†æ–¹å¼ï¼ˆå¦‚ä»å‰å¾€åéå†å’Œä»åå¾€å‰éå† ç»“æ„ Iteratorï¼ˆæŠ½è±¡è¿­ä»£å™¨ï¼‰ ConcreteIteratorï¼ˆå…·ä½“è¿­ä»£å™¨ï¼‰ Aggregateï¼ˆæŠ½è±¡èšåˆç±»ï¼‰ 123public interface Aggregate &#123; Iterator createIterator(); //è¿”å›æŠ½è±¡è¿­ä»£å™¨&#125; ConcreteAggregateï¼ˆå…·ä½“èšåˆç±»ï¼‰ æ‰©å±• å¢åŠ æ–°çš„å…·ä½“èšåˆç±»å’Œå…·ä½“è¿­ä»£å™¨ï¼Œéƒ½ä¸éœ€è¦ä¿®æ”¹åŸæœ‰ä»£ç ï¼Œç¬¦åˆå¼€é—­åŸåˆ™ åœ¨è¿­ä»£å™¨ä¸­å¢åŠ æ–°çš„æ–¹æ³•ï¼Œéœ€è¦ä¿®æ”¹åŸæœ‰ä»£ç ï¼Œè¿èƒŒå¼€é—­åŸåˆ™ã€‚ ä¼˜ç¼ºç‚¹ä¸é€‚ç”¨ç¯å¢ƒ ä¼˜ç‚¹ æ”¯æŒä»¥ä¸åŒçš„æ–¹å¼éå†ä¸€ä¸ªèšåˆå¯¹è±¡ï¼Œåœ¨åŒä¸€ä¸ªèšåˆå¯¹è±¡ä¸Šå¯ä»¥å®šä¹‰å¤šç§éå†æ–¹å¼ ç®€åŒ–äº†èšåˆç±» ç”±äºå¼•å…¥äº†æŠ½è±¡å±‚ï¼Œå¢åŠ æ–°çš„èšåˆç±»å’Œè¿­ä»£å™¨ç±»éƒ½å¾ˆæ–¹ä¾¿ï¼Œæ— é¡»ä¿®æ”¹åŸæœ‰ä»£ç ï¼Œç¬¦åˆå¼€é—­åŸåˆ™ ç¼ºç‚¹ åœ¨å¢åŠ æ–°çš„èšåˆç±»æ—¶éœ€è¦å¯¹åº”åœ°å¢åŠ æ–°çš„è¿­ä»£å™¨ç±»ï¼Œ ç±»çš„ä¸ªæ•°æˆå¯¹å¢åŠ ï¼Œè¿™åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚æ€§ æŠ½è±¡è¿­ä»£å™¨çš„è®¾è®¡éš¾åº¦è¾ƒå¤§ï¼Œéœ€è¦å……åˆ†è€ƒè™‘åˆ°ç³»ç»Ÿå°†æ¥çš„æ‰©å±•ã€‚åœ¨è‡ªå®šä¹‰è¿­ä»£å™¨æ—¶ï¼Œåˆ›å»ºä¸€ä¸ªè€ƒè™‘å…¨é¢çš„æŠ½è±¡è¿­ä»£å™¨å¹¶ä¸æ˜¯ä¸€ä»¶å¾ˆå®¹æ˜“çš„äº‹æƒ… é€‚ç”¨ç¯å¢ƒ è®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡çš„å†…å®¹è€Œæ— é¡»æš´éœ²å®ƒçš„å†…éƒ¨è¡¨ç¤º éœ€è¦ä¸ºä¸€ä¸ªèšåˆå¯¹è±¡æä¾›å¤šç§éå†æ–¹å¼ ä¸ºéå†ä¸åŒçš„èšåˆç»“æ„æä¾›ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£ï¼Œåœ¨è¯¥æ¥å£çš„å®ç°ç±»ä¸­ä¸ºä¸åŒçš„èšåˆç»“æ„æä¾›ä¸åŒçš„éå†æ–¹å¼ï¼Œ è€Œå®¢æˆ·ç«¯å¯ä»¥ä¸€è‡´æ€§åœ°æ“ä½œè¯¥æ¥å£ ç™½ç®±èšé›† v.s. é»‘ç®±èšé›† å®½çª„æ¥å£ å®½æ¥å£ï¼šèšåˆç±»æä¾›äº†ä¿®æ”¹èšé›†å…ƒç´ çš„æ¥å£ çª„æ¥å£ï¼šèšåˆç±»æ²¡æœ‰æä¾›ä¿®æ”¹èšé›†å…ƒç´ çš„æ¥å£ ç™½ç®±èšé›† èšé›†å¯¹è±¡å¯¹å¤–ä¸€å¾‹æä¾›å®½æ¥å£ è¿­ä»£å­å¯ä»¥ä»å¤–éƒ¨æ§åˆ¶å…ƒç´ çš„è¿­ä»£ï¼ˆä¸€ä¸ªæ¸¸æ ‡ï¼‰ æœ‰ç‚¹è¯­æ³•ç³–çš„æ„Ÿè§‰ï¼ˆï¼Ÿï¼‰ï¼Œå°±æ˜¯æœ¬æ¥ä¸å¯ä»¥è¿™ä¹ˆåšï¼Œä½†æ˜¯è¿™ä¹ˆåšäº†ä¼šå¾ˆæ–¹ä¾¿ å¤–ç¦€è¿­ä»£å­ é»‘ç®±èšé›† èšé›†å¯¹è±¡å¯¹è¿­ä»£å­æä¾›å®½æ¥å£ï¼Œå¯¹å…¶ä½™å¯¹è±¡æä¾›çª„æ¥å£ å®ç°ï¼šè¿­ä»£å­å®ç°ä¸ºèšé›†å¯¹è±¡çš„å†…éƒ¨ç±» å†…ç¦€è¿­ä»£å­ ä¸­ä»‹è€…æ¨¡å¼ å®šä¹‰ å®šä¹‰ä¸€ä¸ªå¯¹è±¡æ¥å°è£…ä¸€ç³»åˆ—å¯¹è±¡çš„äº¤äº’ã€‚ä¸­ä»‹è€…æ¨¡å¼ä½¿å„å¯¹è±¡ä¹‹é—´ä¸éœ€è¦æ˜¾å¼åœ°ç›¸äº’å¼•ç”¨ï¼Œä»è€Œä½¿å…¶è€¦åˆæ¾æ•£ï¼Œè€Œä¸”è®©ä½ å¯ä»¥ç‹¬ç«‹åœ°æ”¹å˜å®ƒä»¬ä¹‹é—´çš„äº¤äº’ è¿ªç±³ç‰¹æ³•åˆ™çš„ä¸€ä¸ªå…¸å‹åº”ç”¨ å¯¹è±¡ä¹‹é—´å¤šå¯¹å¤šçš„å¤æ‚å…³ç³»è½¬åŒ–ä¸ºç›¸å¯¹ç®€å•çš„ä¸€å¯¹å¤šå…³ç³»ï¼ˆä¾‹å¦‚æ˜Ÿå‹ç»“æ„ï¼‰ ç»“æ„ Mediatorï¼ˆæŠ½è±¡ä¸­ä»‹è€…ï¼‰ ConcreteMediatorï¼ˆå…·ä½“ä¸­ä»‹è€…ï¼‰ Colleagueï¼ˆæŠ½è±¡åŒäº‹ç±»ï¼‰ ç»´æŒä¸€ä¸ªæŠ½è±¡ä¸­ä»‹è€…çš„å¼•ç”¨ å®šä¹‰ä¾èµ–æ–¹æ³•ï¼Œä¸ä¸­ä»‹è€…è¿›è¡Œé€šä¿¡ ConcreteColleagueï¼ˆå…·ä½“åŒäº‹ç±»ï¼‰ åº”ç”¨ e.g.å›¾å½¢ç•Œé¢å…ƒç´ çš„å˜åŒ–ï¼Œæ¯”å¦‚ä»åˆ—è¡¨é‡Œåˆ é™¤ä¸€é¡¹å…ƒç´ æ—¶comboboxä¸­åŒæ ·çš„å…ƒç´ ä¹Ÿéœ€è¦ç›¸åº”åœ°åˆ é™¤ å¦‚æœæŸä¸ªç»„ä»¶ç±»éœ€è¦ä¸æ–°çš„ç»„ä»¶è¿›è¡Œäº¤äº’ï¼Œæ— é¡»ä¿®æ”¹ å·²æœ‰ç»„ä»¶ç±»çš„æºä»£ç ï¼Œåªéœ€ä¿®æ”¹ä¸­ä»‹è€…æˆ–è€…å¯¹ç°æœ‰ä¸­ä»‹è€…è¿›è¡Œæ‰©å±•å³å¯ï¼Œç³»ç»Ÿå…·æœ‰æ›´å¥½çš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§ ä¼˜ç¼ºç‚¹ä¸é€‚ç”¨ç¯å¢ƒ ä¼˜ç‚¹ ç®€åŒ–äº†å¯¹è±¡ä¹‹é—´çš„äº¤äº’ï¼Œå®ƒç”¨ä¸­ä»‹è€…å’ŒåŒäº‹çš„ä¸€å¯¹å¤šäº¤äº’ä»£æ›¿ äº†åŸæ¥åŒäº‹ä¹‹é—´çš„å¤šå¯¹å¤šäº¤äº’ï¼Œå°†åŸæœ¬éš¾ä»¥ç†è§£çš„ç½‘çŠ¶ç»“æ„è½¬ æ¢æˆç›¸å¯¹ç®€å•çš„æ˜Ÿå‹ç»“æ„ å¯å°†å„åŒäº‹å¯¹è±¡è§£è€¦ å¯ä»¥å‡å°‘å­ç±»ç”Ÿæˆï¼Œä¸­ä»‹è€…æ¨¡å¼å°†åŸæœ¬åˆ†å¸ƒäºå¤šä¸ªå¯¹è±¡é—´çš„è¡Œ ä¸ºé›†ä¸­åœ¨ä¸€èµ·ï¼Œæ”¹å˜è¿™äº›è¡Œä¸ºåªéœ€ç”Ÿæˆæ–°çš„ä¸­ä»‹è€…å­ç±»å³å¯ï¼Œ è¿™ä½¿å¾—å„ä¸ªåŒäº‹ç±»å¯è¢«é‡ç”¨ï¼Œæ— é¡»ç›´æ¥å¯¹åŒäº‹ç±»è¿›è¡Œæ‰©å±• ç¼ºç‚¹ åœ¨å…·ä½“ä¸­ä»‹è€…ç±»ä¸­åŒ…å«äº†å¤§é‡çš„åŒäº‹ä¹‹é—´çš„äº¤äº’ç»†èŠ‚ï¼Œ å¯èƒ½ä¼šå¯¼è‡´å…·ä½“ä¸­ä»‹è€…ç±»éå¸¸å¤æ‚ï¼Œä½¿å¾—ç³»ç»Ÿéš¾ä»¥ç»´æŠ¤ é€‚ç”¨ç¯å¢ƒ ç³»ç»Ÿä¸­å¯¹è±¡ä¹‹é—´å­˜åœ¨å¤æ‚çš„å¼•ç”¨å…³ç³»ï¼Œç³»ç»Ÿç»“æ„æ··ä¹± ä¸”éš¾ä»¥ç†è§£ ä¸€ä¸ªå¯¹è±¡ç”±äºå¼•ç”¨äº†å…¶ä»–å¾ˆå¤šå¯¹è±¡å¹¶ä¸”ç›´æ¥å’Œè¿™äº›å¯¹è±¡é€šä¿¡ï¼Œå¯¼è‡´éš¾ä»¥å¤ç”¨è¯¥å¯¹è±¡ æƒ³é€šè¿‡ä¸€ä¸ªä¸­é—´ç±»æ¥å°è£…å¤šä¸ªç±»ä¸­çš„è¡Œä¸ºï¼Œåˆä¸æƒ³ç”Ÿæˆå¤ªå¤šçš„å­ç±» å¤‡å¿˜å½•æ¨¡å¼ å®šä¹‰ åœ¨ä¸ç ´åå°è£…çš„å‰æä¸‹ï¼Œæ•è·ä¸€ä¸ªå¯¹è±¡çš„å†… éƒ¨çŠ¶æ€ï¼Œå¹¶åœ¨è¯¥å¯¹è±¡ä¹‹å¤–ä¿å­˜è¿™ä¸ªçŠ¶æ€ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨ä»¥å å°†å¯¹è±¡æ¢å¤åˆ°åŸå…ˆä¿å­˜çš„çŠ¶æ€ æ’¤é”€ä¸é‡åš ç»“æ„ä¸å®ç° Originatorï¼ˆåŸå‘å™¨ï¼‰ 12345678910public class Originator &#123; private String state;//ä»¥æŸç§æ–¹å¼å­˜å‚¨çš„çŠ¶æ€ä¿¡æ¯ï¼ˆä¸ä¸€å®šæ˜¯String public Originator()&#123;&#125; //åˆ›å»ºä¸€ä¸ªå¤‡å¿˜å½•å¯¹è±¡ public Memento createMemento() &#123; return new Memento(this); &#125; //æ ¹æ®å¤‡å¿˜å½•å¯¹è±¡æ¢å¤åŸå‘å™¨çŠ¶æ€ public void restoreMemento(Memento m) &#123; state = m.state; &#125; public void setState(String state) &#123; this.state=state; &#125; public String getState() &#123; return this.state; &#125;&#125; Mementoï¼ˆå¤‡å¿˜å½•) 1234567//å¤‡å¿˜å½•ç±»ï¼Œé»˜è®¤å¯è§æ€§ï¼ŒåŒ…å†…å¯è§ class Memento &#123; private String state; Memento(Originator o) &#123; state = o.getState(); &#125; void setState(String state) &#123; this.state=state; &#125; String getState() &#123; return this.state; &#125;&#125; Caretakerï¼ˆè´Ÿè´£äººï¼‰ 12345public class Caretaker &#123; private Memento memento; public Memento getMemento() &#123; return memento; &#125; public void setMemento(Memento memento) &#123; this.memento=memento; &#125;&#125; åªå…è®¸ç”Ÿæˆè¯¥å¤‡å¿˜å½•çš„åŸå‘å™¨è®¿é—®å¤‡å¿˜å½•çš„å†…éƒ¨çŠ¶æ€ javaå®ç°ï¼šå°†Mementoç±»ä¸Originatorç±»å®šä¹‰åœ¨åŒä¸€ä¸ªåŒ… (package)ä¸­æ¥å®ç°å°è£…ï¼Œä½¿ç”¨é»˜è®¤å¯è§æ€§å®šä¹‰ Mementoç±»ï¼Œå³ä¿è¯å…¶åœ¨åŒ…å†…å¯è§ æˆ– å°†å¤‡å¿˜å½•ç±»ä½œä¸ºåŸå‘å™¨ç±»çš„å†…éƒ¨ç±» å¤šæ¬¡æ’¤é”€ï¼š åœ¨è´Ÿè´£äººç±»ä¸­å®šä¹‰ä¸€ä¸ªé›†åˆæ¥å­˜å‚¨å¤šä¸ªå¤‡å¿˜å½•ï¼ˆæ ˆå¯èƒ½æ¯”è¾ƒä¼˜é›… ä¼˜ç¼ºç‚¹ä¸é€‚ç”¨ç¯å¢ƒ ä¼˜ç‚¹ æä¾›äº†ä¸€ç§çŠ¶æ€æ¢å¤çš„å®ç°æœºåˆ¶ï¼Œä½¿å¾—ç”¨æˆ·å¯ä»¥æ–¹ä¾¿åœ°å›åˆ°ä¸€ä¸ªç‰¹å®šçš„å†å²æ­¥éª¤ å®ç°äº†å¯¹ä¿¡æ¯çš„å°è£…ï¼Œä¸€ä¸ªå¤‡å¿˜å½•å¯¹è±¡æ˜¯ä¸€ç§åŸå‘å™¨å¯¹è±¡çŠ¶æ€çš„è¡¨ç¤ºï¼Œä¸ä¼šè¢«å…¶ä»–ä»£ç æ‰€æ”¹åŠ¨ ç¼ºç‚¹ èµ„æºæ¶ˆè€—è¿‡å¤§ï¼Œå¦‚æœéœ€è¦ä¿å­˜çš„åŸå‘å™¨ç±»çš„æˆå‘˜å˜é‡ å¤ªå¤šï¼Œå°±ä¸å¯é¿å…åœ°éœ€è¦å ç”¨å¤§é‡çš„å­˜å‚¨ç©ºé—´ï¼Œæ¯ä¿ å­˜ä¸€æ¬¡å¯¹è±¡çš„çŠ¶æ€éƒ½éœ€è¦æ¶ˆè€—ä¸€å®šçš„ç³»ç»Ÿèµ„æº é€‚ç”¨ç¯å¢ƒ ä¿å­˜ä¸€ä¸ªå¯¹è±¡åœ¨æŸä¸€ä¸ªæ—¶åˆ»çš„å…¨éƒ¨çŠ¶æ€æˆ–éƒ¨åˆ†çŠ¶æ€ï¼Œ è¿™æ ·ä»¥åéœ€è¦æ—¶èƒ½å¤Ÿæ¢å¤åˆ°å…ˆå‰çš„çŠ¶æ€ï¼Œå®ç°æ’¤é”€æ“ä½œ é˜²æ­¢å¤–ç•Œå¯¹è±¡ç ´åä¸€ä¸ªå¯¹è±¡å†å²çŠ¶æ€çš„å°è£…æ€§ï¼Œé¿å…å°†å¯¹è±¡å†å²çŠ¶æ€çš„å®ç°ç»†èŠ‚æš´éœ²ç»™å¤–ç•Œå¯¹è±¡ è§‚å¯Ÿè€…æ¨¡å¼ å®šä¹‰ å®šä¹‰å¯¹è±¡ä¹‹é—´çš„ä¸€ç§ä¸€å¯¹å¤šä¾èµ–å…³ç³»ï¼Œä½¿å¾— æ¯å½“ä¸€ä¸ªå¯¹è±¡çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œå…¶ç›¸å…³ä¾èµ–å¯¹è±¡éƒ½å¾—åˆ°é€šçŸ¥ å¹¶è¢«è‡ªåŠ¨æ›´æ–°ã€‚ ç»“æ„å’Œå®ç° Subjectï¼ˆè¢«è§‚å¯Ÿç›®æ ‡ï¼‰ 12345678910public abstract class Subject &#123; //å®šä¹‰ä¸€ä¸ªè§‚å¯Ÿè€…é›†åˆç”¨äºå­˜å‚¨æ‰€æœ‰è§‚å¯Ÿè€…å¯¹è±¡ protected ArrayList observers&lt;Observer&gt; = new ArrayList(); //æ³¨å†Œæ–¹æ³•ï¼Œç”¨äºå‘è§‚å¯Ÿè€…é›†åˆä¸­å¢åŠ ä¸€ä¸ªè§‚å¯Ÿè€… public void attach(Observer observer) &#123; observers.add(observer); &#125; //æ³¨é”€æ–¹æ³•ï¼Œç”¨äºåœ¨è§‚å¯Ÿè€…é›†åˆä¸­åˆ é™¤ä¸€ä¸ªè§‚å¯Ÿè€… public void detach(Observer observer) &#123; observers.remove(observer); &#125; //å£°æ˜æŠ½è±¡é€šçŸ¥æ–¹æ³• public abstract void notify();&#125; ConcreteSubjectï¼ˆå…·ä½“è¢«è§‚å¯Ÿç›®æ ‡ï¼‰ 123456789public class ConcreteSubject extends Subject &#123; //å®ç°é€šçŸ¥æ–¹æ³• public void notify() &#123; //éå†è§‚å¯Ÿè€…é›†åˆï¼Œè°ƒç”¨æ¯ä¸€ä¸ªè§‚å¯Ÿè€…çš„å“åº”æ–¹æ³• for(Object obs:observers) &#123; ((Observer)obs).update(); &#125; &#125; &#125; Observerï¼ˆè§‚å¯Ÿè€…ï¼‰ 1234public interface Observer &#123; //å£°æ˜å“åº”æ–¹æ³• public void update(); &#125; ConcreteObserverï¼ˆå…·ä½“è§‚å¯Ÿè€…ï¼‰ å®ç°å“åº”æ–¹æ³• Javaäº‹ä»¶å¤„ç† äº‹ä»¶æºå¯¹è±¡å……å½“è§‚å¯Ÿç›®æ ‡è§’è‰²ï¼Œäº‹ä»¶ç›‘å¬å™¨å……å½“æŠ½è±¡è§‚å¯Ÿè€…è§’è‰²ï¼Œäº‹ä»¶å¤„ç†å¯¹è±¡å……å½“å…·ä½“è§‚å¯Ÿè€…è§’è‰² MVC æ¨¡å‹(Model)ï¼Œè§†å›¾(View)å’Œæ§åˆ¶å™¨(Controller) æ¨¡å‹å¯å¯¹åº”äºè§‚å¯Ÿè€…æ¨¡å¼ä¸­çš„è§‚å¯Ÿç›®æ ‡ï¼Œè€Œè§†å›¾å¯¹åº”äºè§‚å¯Ÿè€…ï¼Œæ§åˆ¶å™¨å¯å……å½“ä¸¤è€…ä¹‹é—´çš„ä¸­ä»‹è€… å½“æ¨¡å‹å±‚çš„æ•°æ®å‘ç”Ÿæ”¹å˜æ—¶ï¼Œè§†å›¾å±‚å°†è‡ªåŠ¨æ”¹å˜å…¶æ˜¾ç¤ºå†…å®¹ ä¼˜ç¼ºç‚¹ä¸é€‚ç”¨ç¯å¢ƒ ä¼˜ç‚¹ å¯ä»¥å®ç°è¡¨ç¤ºå±‚å’Œæ•°æ®é€»è¾‘å±‚çš„åˆ†ç¦» åœ¨è§‚å¯Ÿç›®æ ‡å’Œè§‚å¯Ÿè€…ä¹‹é—´å»ºç«‹ä¸€ä¸ªæŠ½è±¡çš„è€¦åˆ æ”¯æŒå¹¿æ’­é€šä¿¡ï¼Œç®€åŒ–äº†ä¸€å¯¹å¤šç³»ç»Ÿè®¾è®¡çš„éš¾åº¦ ç¬¦åˆå¼€é—­åŸåˆ™ï¼Œå¢åŠ æ–°çš„å…·ä½“è§‚å¯Ÿè€…æ— é¡»ä¿®æ”¹åŸæœ‰ç³»ç»Ÿä»£ç ï¼Œ åœ¨å…·ä½“è§‚å¯Ÿè€…ä¸è§‚å¯Ÿç›®æ ‡ä¹‹é—´ä¸å­˜åœ¨å…³è”å…³ç³»çš„æƒ…å†µä¸‹ï¼Œå¢ åŠ æ–°çš„è§‚å¯Ÿç›®æ ‡ä¹Ÿå¾ˆæ–¹ä¾¿ ç¼ºç‚¹ å°†æ‰€æœ‰çš„è§‚å¯Ÿè€…éƒ½é€šçŸ¥åˆ°ä¼šèŠ±è´¹å¾ˆå¤šæ—¶é—´ å¦‚æœå­˜åœ¨å¾ªç¯ä¾èµ–æ—¶å¯èƒ½å¯¼è‡´ç³»ç»Ÿå´©æºƒ æ²¡æœ‰ç›¸åº”çš„æœºåˆ¶è®©è§‚å¯Ÿè€…çŸ¥é“æ‰€è§‚å¯Ÿçš„ç›®æ ‡å¯¹è±¡æ˜¯æ€ ä¹ˆå‘ç”Ÿå˜åŒ–çš„ï¼Œè€Œåªæ˜¯çŸ¥é“è§‚å¯Ÿç›®æ ‡å‘ç”Ÿäº†å˜åŒ– é€‚ç”¨ç¯å¢ƒ ä¸€ä¸ªæŠ½è±¡æ¨¡å‹æœ‰ä¸¤ä¸ªæ–¹é¢ï¼Œå…¶ä¸­ä¸€ä¸ªæ–¹é¢ä¾èµ–äºå¦ä¸€ä¸ªæ–¹ é¢ï¼Œå°†è¿™ä¸¤ä¸ªæ–¹é¢å°è£…åœ¨ç‹¬ç«‹çš„å¯¹è±¡ä¸­ä½¿å®ƒä»¬å¯ä»¥å„è‡ªç‹¬ ç«‹åœ°æ”¹å˜å’Œå¤ç”¨ ä¸€ä¸ªå¯¹è±¡çš„æ”¹å˜å°†å¯¼è‡´ä¸€ä¸ªæˆ–å¤šä¸ªå…¶ä»–å¯¹è±¡å‘ç”Ÿæ”¹å˜ï¼Œä¸” å¹¶ä¸çŸ¥é“å…·ä½“æœ‰å¤šå°‘å¯¹è±¡å°†å‘ç”Ÿæ”¹å˜ï¼Œä¹Ÿä¸çŸ¥é“è¿™äº›å¯¹è±¡ æ˜¯è° éœ€è¦åœ¨ç³»ç»Ÿä¸­åˆ›å»ºä¸€ä¸ªè§¦å‘é“¾ çŠ¶æ€æ¨¡å¼ å®šä¹‰ å…è®¸ä¸€ä¸ªå¯¹è±¡åœ¨å…¶å†…éƒ¨çŠ¶æ€æ”¹å˜æ—¶æ”¹å˜å®ƒçš„è¡Œä¸ºã€‚å¯¹è±¡çœ‹èµ·æ¥ä¼¼ä¹ä¿®æ”¹äº†å®ƒçš„ç±»ã€‚ å¦åˆ™å›¾å½¢å­¦elifè­¦å‘Š ç”¨äºè§£å†³ç³»ç»Ÿä¸­å¤æ‚å¯¹è±¡çš„çŠ¶æ€è½¬æ¢ä»¥åŠä¸åŒçŠ¶æ€ä¸‹ è¡Œä¸ºçš„å°è£…é—®é¢˜ï¼Œ å®¢æˆ·ç«¯æ— é¡»å…³å¿ƒå¯¹è±¡çŠ¶æ€çš„è½¬æ¢ä»¥åŠå¯¹è±¡ æ‰€å¤„çš„å½“å‰çŠ¶æ€ ç»“æ„ä¸å®ç° Contextï¼ˆç¯å¢ƒç±»ï¼‰ 1234567891011public class Context &#123; private State state; //ç»´æŒä¸€ä¸ªå¯¹æŠ½è±¡çŠ¶æ€å¯¹è±¡çš„å¼•ç”¨ private int value; //å…¶ä»–å±æ€§å€¼ï¼Œè¯¥å±æ€§å€¼çš„å˜åŒ–å¯èƒ½ä¼šå¯¼è‡´å¯¹è±¡çš„ çŠ¶æ€å‘ç”Ÿå˜åŒ– public void setState(State state) &#123; this.state = state; &#125; public void request() &#123; // ... state.handle(); //è°ƒç”¨çŠ¶æ€å¯¹è±¡çš„ä¸šåŠ¡æ–¹æ³• // ... &#125;&#125; Stateï¼ˆæŠ½è±¡çŠ¶æ€ç±»ï¼‰ 1234public abstract class State &#123; //å£°æ˜æŠ½è±¡ä¸šåŠ¡æ–¹æ³•ï¼Œä¸åŒçš„å…·ä½“çŠ¶æ€ç±»å¯ä»¥æœ‰ä¸åŒçš„å®ç° public abstract void handle(); &#125; ConcreteStateï¼ˆå…·ä½“çŠ¶æ€ç±»ï¼‰ å…·ä½“å®ç°ä¸šåŠ¡æ–¹æ³• çŠ¶æ€è½¬æ¢ å®ç°åœ¨ç¯å¢ƒç±»ä¸­ï¼š å¯¹äºå®¢æˆ·ç«¯è€Œè¨€ï¼Œæ— é¡»å…³å¿ƒçŠ¶æ€ç±»ï¼Œå¯ä»¥ä¸ºç¯å¢ƒç±»è®¾ ç½®é»˜è®¤çš„çŠ¶æ€ç±»ï¼Œå°†çŠ¶æ€çš„è½¬æ¢å·¥ä½œäº¤ç»™ç¯å¢ƒç±»ï¼ˆæˆ– å…·ä½“çŠ¶æ€ç±»ï¼‰æ¥å®Œæˆï¼Œå…·ä½“çš„è½¬æ¢ç»†èŠ‚å¯¹äºå®¢æˆ·ç«¯è€Œ è¨€æ˜¯é€æ˜çš„ 123456public void changeState() &#123; //åˆ¤æ–­å±æ€§å€¼ï¼Œæ ¹æ®å±æ€§å€¼è¿›è¡ŒçŠ¶æ€è½¬æ¢ if (value == 0) &#123; this.setState(new ConcreteStateA()); &#125; else if (value == 1) &#123; this.setState(new ConcreteStateB()); &#125; //...... &#125; å®ç°åœ¨å…·ä½“çŠ¶æ€ç±»ä¸­ 123456public void changeState(Context ctx) &#123; //æ ¹æ®ç¯å¢ƒå¯¹è±¡ä¸­çš„å±æ€§å€¼è¿›è¡ŒçŠ¶æ€è½¬æ¢ if (ctx.getValue() == 1) &#123; ctx.setState(new ConcreteStateB()); &#125; else if (ctx.getValue() == 2) &#123; ctx.setState(new ConcreteStateC()); &#125; //...... &#125; å…±äº«çŠ¶æ€ å¤šä¸ªç¯å¢ƒå¯¹è±¡å¯èƒ½éœ€è¦å…±äº«åŒä¸€ä¸ªçŠ¶æ€ ï¼Œå°†è¿™äº›çŠ¶æ€å¯¹è±¡å®šä¹‰ä¸ºç¯å¢ƒç±»çš„é™æ€æˆå‘˜å¯¹è±¡ ä¼˜ç¼ºç‚¹ä¸é€‚ç”¨ç¯å¢ƒ ä¼˜ç‚¹ å°è£…äº†çŠ¶æ€çš„è½¬æ¢è§„åˆ™ï¼Œå¯ä»¥å¯¹çŠ¶æ€è½¬æ¢ä»£ç è¿›è¡Œé›†ä¸­ç®¡ç†ï¼Œè€Œä¸æ˜¯ åˆ†æ•£åœ¨ä¸€ä¸ªä¸ªä¸šåŠ¡æ–¹æ³•ä¸­ å°†æ‰€æœ‰ä¸æŸä¸ªçŠ¶æ€æœ‰å…³çš„è¡Œä¸ºæ”¾åˆ°ä¸€ä¸ªç±»ä¸­ï¼Œåªéœ€è¦æ³¨å…¥ä¸€ä¸ªä¸åŒçš„ çŠ¶æ€å¯¹è±¡å³å¯ä½¿ç¯å¢ƒå¯¹è±¡æ‹¥æœ‰ä¸åŒçš„è¡Œä¸º å…è®¸çŠ¶æ€è½¬æ¢é€»è¾‘ä¸çŠ¶æ€å¯¹è±¡åˆæˆä¸€ä½“ï¼Œè€Œä¸æ˜¯æä¾›ä¸€ä¸ªå·¨å¤§çš„æ¡ä»¶ è¯­å¥å—ï¼Œå¯ä»¥é¿å…ä½¿ç”¨åºå¤§çš„æ¡ä»¶è¯­å¥æ¥å°†ä¸šåŠ¡æ–¹æ³•å’ŒçŠ¶æ€è½¬æ¢ä»£ç  äº¤ç»‡åœ¨ä¸€èµ· å¯ä»¥è®©å¤šä¸ªç¯å¢ƒå¯¹è±¡å…±äº«ä¸€ä¸ªçŠ¶æ€å¯¹è±¡ï¼Œä»è€Œå‡å°‘ç³»ç»Ÿä¸­å¯¹è±¡çš„ä¸ªæ•° ç¼ºç‚¹ ä¼šå¢åŠ ç³»ç»Ÿä¸­ç±»å’Œå¯¹è±¡çš„ä¸ªæ•°ï¼Œå¯¼è‡´ç³»ç»Ÿè¿è¡Œå¼€é”€å¢å¤§ ç»“æ„ä¸å®ç°éƒ½è¾ƒä¸ºå¤æ‚ï¼Œå¦‚æœä½¿ç”¨ä¸å½“å°†å¯¼è‡´ç¨‹åºç»“æ„å’Œä»£ ç æ··ä¹±ï¼Œå¢åŠ ç³»ç»Ÿè®¾è®¡çš„éš¾åº¦ å¯¹å¼€é—­åŸåˆ™çš„æ”¯æŒå¹¶ä¸å¤ªå¥½ï¼Œå¢åŠ æ–°çš„çŠ¶æ€ç±»éœ€è¦ä¿®æ”¹è´Ÿè´£ çŠ¶æ€è½¬æ¢çš„æºä»£ç ï¼Œå¦åˆ™æ— æ³•è½¬æ¢åˆ°æ–°å¢çŠ¶æ€ï¼›è€Œä¸”ä¿®æ”¹æŸä¸ªçŠ¶æ€ç±»çš„è¡Œä¸ºä¹Ÿéœ€è¦ä¿®æ”¹å¯¹åº”ç±»çš„æºä»£ç  é€‚ç”¨ç¯å¢ƒ å¯¹è±¡çš„è¡Œä¸ºä¾èµ–äºå®ƒçš„çŠ¶æ€ï¼ˆä¾‹å¦‚æŸäº›å±æ€§å€¼ï¼‰ï¼ŒçŠ¶ æ€çš„æ”¹å˜å°†å¯¼è‡´è¡Œä¸ºçš„å˜åŒ– åœ¨ä»£ç ä¸­åŒ…å«å¤§é‡ä¸å¯¹è±¡çŠ¶æ€æœ‰å…³çš„æ¡ä»¶è¯­å¥ï¼Œè¿™äº› æ¡ä»¶è¯­å¥çš„å‡ºç°ä¼šå¯¼è‡´ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œçµæ´»æ€§å˜å·®ï¼Œ ä¸èƒ½æ–¹ä¾¿åœ°å¢åŠ å’Œåˆ é™¤çŠ¶æ€ï¼Œå¹¶ä¸”å¯¼è‡´å®¢æˆ·ç±»ä¸ç±»åº“ ä¹‹é—´çš„è€¦åˆå¢å¼º ç­–ç•¥æ¨¡å¼ å®šä¹‰ å®šä¹‰ä¸€ç³»åˆ—ç®—æ³•ï¼Œå°†æ¯ä¸€ä¸ªç®—æ³•å°è£…èµ·æ¥ï¼Œå¹¶ è®©å®ƒä»¬å¯ä»¥ç›¸äº’æ›¿æ¢ã€‚ç­–ç•¥æ¨¡å¼è®©ç®—æ³•å¯ä»¥ç‹¬ç«‹äºä½¿ç”¨å®ƒçš„ å®¢æˆ·å˜åŒ–ã€‚ ç»“æ„ä¸å®ç° Contextï¼ˆç¯å¢ƒç±»ï¼‰ 1234567891011public class Context &#123; private Strategy strategy; //ç»´æŒä¸€ä¸ªå¯¹æŠ½è±¡ç­–ç•¥ç±»çš„å¼•ç”¨ //æ³¨å…¥ç­–ç•¥å¯¹è±¡ public void setStrategy(Strategy strategy) &#123; this.strategy= strategy; &#125; //è°ƒç”¨ç­–ç•¥ç±»ä¸­çš„ç®—æ³• public void algorithm() &#123; strategy.algorithm(); &#125;&#125; Strategyï¼ˆæŠ½è±¡ç­–ç•¥ç±»ï¼‰ 123public abstract class Strategy &#123; public abstract void algorithm(); //å£°æ˜æŠ½è±¡ç®—æ³• &#125; ConcreteStrategyï¼ˆå…·ä½“ç­–ç•¥ç±»ï¼‰ 12345public class ConcreteStrategyAextends Strategy &#123; //ç®—æ³•çš„å…·ä½“å®ç° public void algorithm() &#123; //ç®—æ³•A &#125; &#125; å®¢æˆ·ç«¯ 12345Context context = new Context(); Strategy strategy; strategy = new ConcreteStrategyA(); //å¯åœ¨è¿è¡Œæ—¶æŒ‡å®šç±»å‹ï¼Œé€šè¿‡é…ç½® æ–‡ä»¶å’Œåå°„æœºåˆ¶å®ç° context.setStrategy(strategy); context.algorithm(); ä¼˜ç¼ºç‚¹ä¸é€‚ç”¨ç¯å¢ƒ ä¼˜ç‚¹ æä¾›äº†å¯¹å¼€é—­åŸåˆ™çš„å®Œç¾æ”¯æŒï¼Œç”¨æˆ·å¯ä»¥åœ¨ä¸ä¿®æ”¹åŸæœ‰ç³»ç»Ÿçš„ åŸºç¡€ä¸Šé€‰æ‹©ç®—æ³•æˆ–è¡Œä¸ºï¼Œä¹Ÿå¯ä»¥çµæ´»åœ°å¢åŠ æ–°çš„ç®—æ³•æˆ–è¡Œä¸º æä¾›äº†ç®¡ç†ç›¸å…³çš„ç®—æ³•æ—çš„åŠæ³• æä¾›äº†ä¸€ç§å¯ä»¥æ›¿æ¢ç»§æ‰¿å…³ç³»çš„åŠæ³• å¯ä»¥é¿å…å¤šé‡æ¡ä»¶é€‰æ‹©è¯­å¥ æä¾›äº†ä¸€ç§ç®—æ³•çš„å¤ç”¨æœºåˆ¶ï¼Œä¸åŒçš„ç¯å¢ƒç±»å¯ä»¥æ–¹ä¾¿åœ°å¤ç”¨ç­– ç•¥ç±» ç¼ºç‚¹ å®¢æˆ·ç«¯å¿…é¡»çŸ¥é“æ‰€æœ‰çš„ç­–ç•¥ç±»ï¼Œå¹¶è‡ªè¡Œå†³å®šä½¿ç”¨å“ªä¸€ ä¸ªç­–ç•¥ç±» å°†é€ æˆç³»ç»Ÿäº§ç”Ÿå¾ˆå¤šå…·ä½“ç­–ç•¥ç±» æ— æ³•åŒæ—¶åœ¨å®¢æˆ·ç«¯ä½¿ç”¨å¤šä¸ªç­–ç•¥ç±» é€‚ç”¨ç¯å¢ƒ ä¸€ä¸ªç³»ç»Ÿéœ€è¦åŠ¨æ€åœ°åœ¨å‡ ç§ç®—æ³•ä¸­é€‰æ‹©ä¸€ç§ é¿å…ä½¿ç”¨éš¾ä»¥ç»´æŠ¤çš„å¤šé‡æ¡ä»¶é€‰æ‹©è¯­å¥ ä¸å¸Œæœ›å®¢æˆ·ç«¯çŸ¥é“å¤æ‚çš„ã€ä¸ç®—æ³•ç›¸å…³çš„æ•°æ®ç»“æ„ï¼Œ æé«˜ç®—æ³•çš„ä¿å¯†æ€§ä¸å®‰å…¨æ€§ æ¨¡æ¿æ–¹æ³•æ¨¡å¼ å®šä¹‰ å®šä¹‰ä¸€ä¸ªæ“ä½œä¸­ç®—æ³•çš„æ¡†æ¶ï¼Œè€Œå°†ä¸€äº›æ­¥ éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­ã€‚æ¨¡æ¿æ–¹æ³•æ¨¡å¼ä½¿å¾—å­ç±»ä¸æ”¹å˜ä¸€ä¸ªç®—æ³•çš„ ç»“æ„å³å¯é‡å®šä¹‰è¯¥ç®—æ³•çš„æŸäº›ç‰¹å®šæ­¥éª¤ã€‚ ç»“æ„ä¸å®ç° AbstractClassï¼ˆæŠ½è±¡ç±»ï¼‰ å®šä¹‰ä¸€ç³»åˆ—æ–¹æ³•å’Œè¿™äº›æ–¹æ³•è°ƒç”¨çš„é¡ºåº ConcreteClassï¼ˆå…·ä½“å­ç±»ï¼‰ å®ç°/è¦†ç›–æŠ½è±¡ç±»ä¸­çš„æŸäº›æ–¹æ³• æ¨¡æ¿æ–¹æ³• å…·ä½“æ–¹æ³• æŠ½è±¡æ–¹æ³•(Abstract Method) å…·ä½“æ–¹æ³•(Concrete Method) é’©å­æ–¹æ³•(Hook Method)ï¼šä¸€èˆ¬è¿”å›ä¸€ä¸ªboolå€¼ï¼Œç”¨æ¥åˆ¤æ–­æŸä¸ªæ“ä½œæ˜¯å¦è¦æ‰§è¡Œï¼ˆe.g. isdigit ä¼˜ç¼ºç‚¹ä¸é€‚ç”¨ç¯å¢ƒ ä¼˜ç‚¹ åœ¨çˆ¶ç±»ä¸­å½¢å¼åŒ–åœ°å®šä¹‰ä¸€ä¸ªç®—æ³•ï¼Œè€Œç”±å®ƒçš„å­ç±»æ¥å®ç°ç»†èŠ‚çš„ å¤„ç†ï¼Œåœ¨å­ç±»å®ç°è¯¦ç»†çš„å¤„ç†ç®—æ³•æ—¶å¹¶ä¸ä¼šæ”¹å˜ç®—æ³•ä¸­æ­¥éª¤çš„ æ‰§è¡Œæ¬¡åº æå–äº†ç±»åº“ä¸­çš„å…¬å…±è¡Œä¸ºï¼Œå°†å…¬å…±è¡Œä¸ºæ”¾åœ¨çˆ¶ç±»ä¸­ï¼Œè€Œé€šè¿‡å…¶ å­ç±»æ¥å®ç°ä¸åŒçš„è¡Œä¸º å¯å®ç°ä¸€ç§åå‘æ§åˆ¶ç»“æ„ï¼Œé€šè¿‡å­ç±»è¦†ç›–çˆ¶ç±»çš„é’©å­æ–¹æ³•æ¥å†³ å®šæŸä¸€ç‰¹å®šæ­¥éª¤æ˜¯å¦éœ€è¦æ‰§è¡Œ æ›´æ¢å’Œå¢åŠ æ–°çš„å­ç±»å¾ˆæ–¹ä¾¿ï¼Œç¬¦åˆå•ä¸€èŒè´£åŸåˆ™å’Œå¼€é—­åŸåˆ™ ç¼ºç‚¹ éœ€è¦ä¸ºæ¯ä¸€ä¸ªåŸºæœ¬æ–¹æ³•çš„ä¸åŒå®ç°æä¾›ä¸€ä¸ªå­ç±»ï¼Œå¦‚ æœçˆ¶ç±»ä¸­å¯å˜çš„åŸºæœ¬æ–¹æ³•å¤ªå¤šï¼Œå°†ä¼šå¯¼è‡´ç±»çš„ä¸ªæ•°å¢ åŠ ï¼Œç³»ç»Ÿä¼šæ›´åŠ åºå¤§ï¼Œè®¾è®¡ä¹Ÿæ›´åŠ æŠ½è±¡ï¼ˆå¯ç»“åˆæ¡¥æ¥æ¨¡å¼ï¼‰ é€‚ç”¨ç¯å¢ƒ ä¸€æ¬¡æ€§å®ç°ä¸€ä¸ªç®—æ³•çš„ä¸å˜éƒ¨åˆ†ï¼Œå¹¶å°†å¯å˜çš„è¡Œä¸ºç•™ ç»™å­ç±»æ¥å®ç° å„å­ç±»ä¸­å…¬å…±çš„è¡Œä¸ºåº”è¢«æå–å‡ºæ¥ï¼Œå¹¶é›†ä¸­åˆ°ä¸€ä¸ªå…¬ å…±çˆ¶ç±»ä¸­ï¼Œä»¥é¿å…ä»£ç é‡å¤ éœ€è¦é€šè¿‡å­ç±»æ¥å†³å®šçˆ¶ç±»ç®—æ³•ä¸­æŸä¸ªæ­¥éª¤æ˜¯å¦æ‰§è¡Œï¼Œ å®ç°å­ç±»å¯¹çˆ¶ç±»çš„åå‘æ§åˆ¶ è®¿é—®è€…æ¨¡å¼ å®šä¹‰ï¼š è¡¨ç¤ºä¸€ä¸ªä½œç”¨äºæŸå¯¹è±¡ç»“æ„ä¸­çš„å„ä¸ªå…ƒç´ çš„ æ“ä½œã€‚è®¿é—®è€…æ¨¡å¼è®©ä½ å¯ä»¥åœ¨ä¸æ”¹å˜å„å…ƒç´ çš„ç±»çš„å‰æä¸‹å®š ä¹‰ä½œç”¨äºè¿™äº›å…ƒç´ çš„æ–°æ“ä½œã€‚ ä¸åŒçš„è®¿é—®è€…è®¿é—®ä¸åŒçš„å…ƒç´  ç»“æ„ä¸å®ç° Visitorï¼ˆæŠ½è±¡è®¿é—®è€…ï¼‰ 1234567public abstract class Visitor &#123; public abstract void visit(ConcreteElementAelementA); public abstract void visit(ConcreteElementB elementB); public void visit(ConcreteElementC elementC) &#123; //å…ƒç´ ConcreteElementCæ“ä½œä»£ç â€”â€”æ‰€æœ‰è®¿é—®è€…å¯¹Cçš„è®¿é—®æ“ä½œæ˜¯ä¸€æ ·çš„ &#125;&#125; ConcreteVisitorï¼ˆå…·ä½“è®¿é—®è€…ï¼‰ 12345678public class ConcreteVisitor extends Visitor &#123; public void visit(ConcreteElementAelementA) &#123; //å…ƒç´ ConcreteElementAæ“ä½œä»£ç  &#125; public void visit(ConcreteElementB elementB) &#123; //å…ƒç´ ConcreteElementBæ“ä½œä»£ç  &#125;&#125; Elementï¼ˆæŠ½è±¡å…ƒç´ ï¼‰ 123public interface Element &#123; public void accept(Visitor visitor); &#125; ConcreteElementï¼ˆå…·ä½“å…ƒç´ ï¼‰ 12345678public class ConcreteElementAimplements Element &#123; public void accept(Visitor visitor) &#123; visitor.visit(this); &#125; public void operationA() &#123; //ä¸šåŠ¡æ–¹æ³• &#125;&#125; ObjectStructureï¼ˆå¯¹è±¡ç»“æ„ï¼‰ 123456789101112131415161718public class ObjectStructure &#123; private ArrayList&lt;Element&gt; list = new ArrayList&lt;Element&gt;(); //å®šä¹‰ä¸€ä¸ªé›† åˆç”¨äºå­˜å‚¨å…ƒç´ å¯¹è±¡ //æ¥å—è®¿é—®è€…çš„è®¿é—®æ“ä½œ public void accept(Visitor visitor) &#123; Iterator i=list.iterator(); while(i.hasNext()) &#123; ((Element)i.next()).accept(visitor); //éå†è®¿é—®é›†åˆä¸­çš„æ¯ä¸€ä¸ªå…ƒç´  &#125;&#125; public void addElement(Element element) &#123; list.add(element); &#125; public void removeElement(Element element) &#123; list.remove(element); &#125;&#125; åŒé‡åˆ†æ´¾æœºåˆ¶ ConcreteElementA.accept(visitor) -&gt; ConcreteVisitorA.visit(element) -&gt; ConcreteElementA.operation() å®¢æˆ·ç«¯ï¼šå…·ä½“è®¿é—®è€…ç±»çš„å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œè°ƒç”¨å…·ä½“å…ƒç´ ç±»çš„accept()æ–¹æ³• å…·ä½“å…ƒç´ ç±»çš„accept()æ–¹æ³•ï¼šä»¥å½“å‰å…ƒç´ ç±»å¯¹è±¡(this)ä¸ºå‚æ•°ï¼Œè°ƒç”¨ä¼ å…¥çš„è®¿é—®è€…å¯¹è±¡çš„visit()æ–¹æ³• è®¿é—®è€…å¯¹è±¡çš„visit()æ–¹æ³•æ‰§è¡Œä¸­è¿˜èƒ½è°ƒç”¨å…·ä½“å…ƒç´ ç±»çš„ä¸šåŠ¡æ–¹æ³• ä¼˜ç¼ºç‚¹å’Œé€‚ç”¨ç¯å¢ƒ ä¼˜ç‚¹ å¢åŠ æ–°çš„è®¿é—®æ“ä½œå¾ˆæ–¹ä¾¿ å°†æœ‰å…³å…ƒç´ å¯¹è±¡çš„è®¿é—®è¡Œä¸ºé›†ä¸­åˆ°ä¸€ä¸ªè®¿é—®è€…å¯¹è±¡ä¸­ï¼Œ è€Œä¸æ˜¯åˆ†æ•£åœ¨ä¸€ä¸ªä¸ªçš„å…ƒç´ ç±»ä¸­ï¼Œç±»çš„èŒè´£æ›´åŠ æ¸…æ™° è®©ç”¨æˆ·èƒ½å¤Ÿåœ¨ä¸ä¿®æ”¹ç°æœ‰å…ƒç´ ç±»å±‚æ¬¡ç»“æ„çš„æƒ…å†µä¸‹ï¼Œ å®šä¹‰ä½œç”¨äºè¯¥å±‚æ¬¡ç»“æ„çš„æ“ä½œ ç¼ºç‚¹ å¢åŠ æ–°çš„å…ƒç´ ç±»å¾ˆå›°éš¾ ç ´åäº†å¯¹è±¡çš„å°è£…æ€§ï¼šå…ƒç´ ç±»åœ¨accept()æ–¹æ³•ä¼ å…¥äº†è‡ªå·± é€‚ç”¨ç¯å¢ƒ ä¸€ä¸ªå¯¹è±¡ç»“æ„åŒ…å«å¤šä¸ªç±»å‹çš„å¯¹è±¡ï¼Œå¸Œæœ›å¯¹è¿™äº›å¯¹è±¡å®æ–½ ä¸€äº›ä¾èµ–å…¶å…·ä½“ç±»å‹çš„æ“ä½œ éœ€è¦å¯¹ä¸€ä¸ªå¯¹è±¡ç»“æ„ä¸­çš„å¯¹è±¡è¿›è¡Œå¾ˆå¤šä¸åŒçš„ä¸”ä¸ç›¸å…³çš„ æ“ä½œï¼Œå¹¶éœ€è¦é¿å…è®©è¿™äº›æ“ä½œâ€œæ±¡æŸ“â€è¿™äº›å¯¹è±¡çš„ç±»ï¼Œä¹Ÿ ä¸å¸Œæœ›åœ¨å¢åŠ æ–°æ“ä½œæ—¶ä¿®æ”¹è¿™äº›ç±» å¯¹è±¡ç»“æ„ä¸­å¯¹è±¡å¯¹åº”çš„ç±»å¾ˆå°‘æ”¹å˜ï¼Œä½†ç»å¸¸éœ€è¦åœ¨æ­¤å¯¹è±¡ç»“æ„ä¸Šå®šä¹‰æ–°çš„æ“ä½œ","categories":[],"tags":[]},{"title":"æˆ‘åšè¿‡çš„é¡¹ç›®","slug":"my-projects","date":"2020-06-17T07:21:55.000Z","updated":"2020-06-19T03:31:36.540Z","comments":true,"path":"2020/06/17/my-projects/","link":"","permalink":"https://mengzelev.github.io/2020/06/17/my-projects/","excerpt":"","text":"æ„Ÿè§‰é¢è¯•ä¼šç”¨åˆ°æ‰€ä»¥å°±ç»Ÿä¸€æ•´ç†ä¸€ä¸‹ã€‚ PAï¼ˆICS2018ï¼‰æ¦‚è¿°ä¸€ä¸ªx86å…¨ç³»ç»Ÿæ¨¡æ‹Ÿå™¨ï¼Œåˆ†ä¸ºnemuï¼ˆx86æ¨¡æ‹Ÿå™¨ï¼‰ï¼Œnexus-amï¼ˆæä¾›è¿è¡Œæ—¶ç¯å¢ƒï¼‰ï¼Œnanos-liteï¼ˆç®€æ˜“æ“ä½œç³»ç»Ÿï¼‰ä¸‰å¤§æ¨¡å—ã€‚ ä¸ºè¯¾ç¨‹ã€Šè®¡ç®—æœºç³»ç»ŸåŸºç¡€ã€‹çš„è¯¾ç¨‹å®éªŒï¼Œåˆ†ä¸º5ä¸ªå¿…åšé˜¶æ®µ+1ä¸ªä¸ç®—åˆ†çš„é€‰åšé˜¶æ®µï¼š PA0ï¼šå®‰è£…ç¯å¢ƒ PA1ï¼šå®ç°åŸºç¡€è®¾æ–½ï¼ˆè°ƒè¯•å™¨ï¼‰ PA2ï¼šå®ç°æ¨¡æ‹ŸæŒ‡ä»¤æ‰§è¡Œ PA3ï¼šå®ç°æ‰¹å¤„ç†æ“ä½œç³»ç»Ÿ PA4ï¼šå®ç°åˆ†æ—¶å¤šä»»åŠ¡ PA5ï¼ˆé€‰åšï¼‰ï¼šå®ç°æµ®ç‚¹è¿ç®—ä¸æ€§èƒ½ä¼˜åŒ– å„é˜¶æ®µç®€è¿°PA3å’Œ4éƒ¨åˆ†æœ‰å¾…ç»†åŒ– PA0ï¼šå®‰è£…ç¯å¢ƒç•¥ PA1ï¼šè°ƒè¯•å™¨ å¸¦æœ‰æ‰“å°å¯„å­˜å™¨å’Œå†…å­˜ã€è¡¨è¾¾å¼è®¡ç®—ã€å•æ­¥æ‰§è¡Œã€æ·»åŠ ç›‘è§†ç‚¹ç­‰åŠŸèƒ½ è¡¨è¾¾å¼è®¡ç®—ï¼šæœ´ç´ çš„é€’å½’åˆ†æ²»ç­–ç•¥ ç›‘è§†ç‚¹ï¼šæ™®é€šçš„é“¾è¡¨ PA2ï¼šæŒ‡ä»¤æ‰§è¡Œ å¯¹äºæ¯ä¸€æ¡æŒ‡ä»¤ï¼Œåˆ†ä¸ºâ€œå–æŒ‡ä»¤ã€è¯‘ç ã€æ‰§è¡Œâ€ä¸‰ä¸ªé˜¶æ®µã€‚ æ¯ç§æŒ‡ä»¤å¯¹åº”ä¸€ä¸ªè¯‘ç å‡½æ•°å’Œæ‰§è¡Œå‡½æ•°ï¼Œä¿å­˜åœ¨åä¸ºopcode_entryçš„ç»“æ„ä½“ä¸­ã€‚åŒæ—¶æœ‰ä¸€å¼ opcode_tableç”¨æ¥ç´¢å¼•æŒ‡ä»¤ç å¯¹åº”çš„è¯‘ç å‡½æ•°å’Œæ‰§è¡Œå‡½æ•°ã€‚ æ‰§è¡Œå‡½æ•°ä¾é ä¸€äº›å°è£…å¥½çš„rtlï¼ˆå¯„å­˜å™¨ä¼ è¾“è¯­è¨€ï¼‰å‡½æ•°ç®€åŒ–å®ç° è¿™ä¸€é˜¶æ®µçš„å·¥ä½œå°±ç›¸å½“äºå¡«ç©ºé¢˜ AMï¼šbare-metalè¿è¡Œæ—¶ç¯å¢ƒ é€šè¿‡å°†è¿è¡Œç¨‹åºæ‰€éœ€çš„å…¬å…±è¦ç´ ï¼ˆå¦‚ç¨‹åºçš„ç»ˆæ­¢é€€å‡ºï¼‰å°è£…æˆAPIï¼ˆåº“ï¼‰ï¼Œä½¿å¾—åŒä¸€ä»½ç¨‹åºå¯ä»¥è¿è¡Œåœ¨ä¸åŒçš„æ¶æ„ä¸Š AMæ ¹æ®ç¨‹åºéœ€æ±‚æŠŠåº“åˆ’åˆ†æˆä»¥ä¸‹æ¨¡å—ï¼š TRMï¼ˆå›¾çµæœºï¼‰ï¼šæœ€ç®€å•çš„è¿è¡Œæ—¶ç¯å¢ƒ, ä¸ºç¨‹åºæä¾›åŸºæœ¬çš„è®¡ç®—èƒ½åŠ› IOEï¼ˆè¾“å…¥/è¾“å‡ºæ‰©å±•ï¼‰ï¼šä¸ºç¨‹åºæä¾›è¾“å‡ºè¾“å…¥çš„èƒ½åŠ› CTEï¼ˆä¸Šä¸‹æ–‡æ‰©å±•ï¼‰ï¼šä¸ºç¨‹åºæä¾›ç®¡ç†ä¸Šä¸‹æ–‡çš„èƒ½åŠ› VMEï¼ˆè™šå­˜æ‰©å±•ï¼‰ï¼šä¸ºç¨‹åºæä¾›è™šå­˜ç®¡ç†çš„èƒ½åŠ› MPEï¼ˆå¤šå¤„ç†å™¨æ‰©å±•ï¼‰ï¼šä¸ºç¨‹åºæä¾›å¤šå¤„ç†å™¨é€šä¿¡çš„èƒ½åŠ› å®ç°å¸¸ç”¨åº“å‡½æ•°ï¼š åŒ…æ‹¬ä¸€äº›å­—ç¬¦ä¸²å¤„ç†ä¸æ‰“å°çš„åº“å‡½æ•° diff-testï¼šå°†ç¨‹åºçœ‹åšçŠ¶æ€æœºï¼Œä¸æ ‡å‡†å®ç°qemuå¯¹æ¯”æ¯ä¸€æ­¥æ‰§è¡Œè¿‡åçš„çŠ¶æ€ï¼ˆè¿™ä¸€éƒ¨åˆ†è®²ä¹‰å¼•å¯¼è¾ƒå¤šï¼Œå…·ä½“åŸç†æœ‰å¾…æ·±æŒ–ï¼‰ è¾“å…¥è¾“å‡º ç«¯å£æ˜ å°„ä¸å†…å­˜æ˜ å°„ï¼ˆNEMUéƒ½å®ç°äº†ï¼‰ è®¾å¤‡ åŒ…å«ä¸²å£ã€æ—¶é’Ÿã€é”®ç›˜ä¸VGA PA3ï¼šæ‰¹å¤„ç†ç³»ç»Ÿ å°†ä¸Šä¸‹æ–‡ç®¡ç†æŠ½è±¡æˆCTE å®šä¹‰â€œäº‹ä»¶â€æ•°æ®ç»“æ„ å½“äº‹ä»¶è¢«è§¦å‘æ—¶ï¼Œcpuä¿å­˜ä¸Šä¸‹æ–‡ï¼Œï¼ˆx86ï¼‰æŸ¥é˜…ç›¸åº”çš„IDTï¼Œç„¶åå°†äº‹ä»¶æ‰“åŒ…ç»™æ“ä½œç³»ç»Ÿå¤„ç†ï¼›æ“ä½œç³»ç»Ÿå¤„ç†å®Œæ¯•åæ¢å¤ä¸Šä¸‹æ–‡ åŠ è½½ç”¨æˆ·ç¨‹åºï¼šå®ç°loader å®ç°ç®€æ˜“æ–‡ä»¶ç³»ç»Ÿï¼ˆå»ºè®®è§‚çœ‹oslab3ï¼‰ PA4ï¼šåˆ†æ—¶å¤šä»»åŠ¡ è¿›ç¨‹è°ƒåº¦ï¼ˆå»ºè®®è§‚çœ‹oslab2ï¼‰ è™šæ‹Ÿå­˜å‚¨ å®ç°é¡µè¡¨ å½“NEMUé‡åˆ°è®¿å­˜æŒ‡ä»¤æ—¶éœ€è¦å¢åŠ åœ°å€æŸ¥æ‰¾åŠ¨ä½œ åˆ†æ—¶å¤šä»»åŠ¡ï¼ˆè¿›ç¨‹è°ƒåº¦ï¼‰ OSLab(2018)å„é˜¶æ®µç®€è¿°L0: amgame ä¸€ä¸ªè¿è¡Œåœ¨è£¸æœºä¸Šçš„æ¸¸æˆï¼Œç•¥ã€‚ L1: å¤šå¤„ç†å™¨å†…æ ¸ä¸Šçš„ç‰©ç†å†…å­˜ç®¡ç†ï¼ˆpmmï¼‰è¦ç‚¹ï¼šå†…å­˜å—çš„ç»„ç»‡æ–¹å¼ä¸å¹¶å‘å®‰å…¨ å†…å­˜å—ç»„ç»‡ 2018çš„OSLabæ€§èƒ½å°šæœªè¢«çº³å…¥è€ƒé‡èŒƒå›´ï¼Œå› æ­¤æˆ‘é‡‡ç”¨äº†æœ€trivialçš„é“¾è¡¨å®ç°ï¼Œåˆ†é…ç­–ç•¥ä¸ºfirst-fitï¼ˆè¿”å›ç¬¬ä¸€å—æ»¡è¶³è¦æ±‚çš„å†…å­˜å—ï¼‰ï¼Œä¸”å¯¹æ¯æ¬¡kallocä¸kfreeæ“ä½œä¸Šé”ã€‚ æ¯ä¸€å—å†…å­˜ä¹‹å‰æœ‰ä¸€æ®µå­˜å‚¨å…ƒæ•°æ®çš„headerï¼Œç”¨äºæ ‡è¯†å½“å‰å†…å­˜æ˜¯å¦ç©ºé—²ã€å­˜æ”¾å‰åæŒ‡é’ˆç­‰ åˆ†é…å†…å­˜æ—¶å°†å¤§å—åˆ†è£‚ä¸ºå°å—ï¼Œå›æ”¶å†…å­˜æ—¶å°†ç›¸é‚»çš„å°å—åˆå¹¶ä¸ºå¤§å— æ¯”è¾ƒå¥½çš„å®ç°æ˜¯å±‚çŠ¶åˆ†é…ï¼ˆæˆ‘è‡ªå·±å–çš„åå­—ï¼Œæ”¹æ—¥æŸ¥æŸ¥termï¼‰ã€‚ ä¸€å¼€å§‹ç»´æŠ¤ä¸€äº›å¤§çš„å†…å­˜å—ï¼ˆe.g. 16MBï¼‰ã€‚å½“éœ€è¦åˆ†é…çš„å†…å­˜è¾ƒå°æ—¶ï¼Œå¦‚æœå·²ç»å­˜åœ¨å°çš„å†…å­˜å—æ—¶å°±ä¼˜å…ˆé€‰ç”¨å°çš„ï¼Œå¦åˆ™å°†å¤§çš„å†…å­˜å—ä¸æ–­ä¸€åˆ†ä¸ºäºŒä¸ºå°çš„å†…å­˜å—ï¼Œç›´åˆ°åˆšå¥½èƒ½è£…å¾—ä¸‹éœ€è¦çš„ç©ºé—´ã€‚ å›æ”¶æ—¶é‡åˆ°ç›¸é‚»çš„å°å†…å­˜å—å°±åˆå¹¶ä¸ºå¤§å†…å­˜å—ã€‚ L2ï¼šå¤šå¤„ç†å™¨å†…æ ¸ä¸Šçš„çº¿ç¨‹ç®¡ç† (kmt)è¦ç‚¹ï¼šè‡ªæ—‹é”ä¸ä¿¡å·é‡ï¼Œè¿›ç¨‹çš„åˆ›å»ºå’Œé”€æ¯ï¼Œè¿›ç¨‹ä¸Šä¸‹æ–‡çš„ä¿å­˜ä¸åˆ‡æ¢ è‡ªæ—‹é”ï¼šå‚è€ƒxv6 è‡ªæ—‹é”çš„æ•°æ®ç»“æ„ï¼šlockedï¼ŒæŒæœ‰çš„cpuå’Œåç§° ä¸Šé”ï¼šlock xchglåŸå­åœ°å°†1ä»˜ç»™é”çš„lockedå˜é‡ é€šè¿‡pushcliå’Œpopcliå¤„ç†å¤šæ¬¡å…³ä¸­æ–­ï¼Œåªæœ‰å½“ä¸€ä¸ªcpuçš„cliæ•°ç›®æ¸…é›¶åæ‰èƒ½æ‰“å¼€ä¸­æ–­sti åˆ¤æ–­ä¸€ä¸ªcpuæ˜¯å¦æŒæœ‰é”ï¼šéœ€è¦pushå’Œpop cli é‡Šæ”¾é”ï¼šä¸ä¸Šé”ç›¸å ä¿¡å·é‡ï¼šé€šè¿‡èµ„æºå®ç° è¿›ç¨‹ ç•¥ L3ï¼šæ–‡ä»¶ç³»ç»Ÿå®ç° (vfs)è¦ç‚¹ï¼šæ–‡ä»¶ç³»ç»ŸAPIçš„å®ç° æ–‡ä»¶ç³»ç»Ÿä¸»è¦åˆ†ä¸ºufs, devfså’Œprocfsï¼Œåä¸¤è€…å¯ä»¥ç›´æ¥ç¡¬ç¼–ç å®ç° ufsæ˜¯å»ºç«‹åœ¨è®¾å¤‡ sda (ç£ç›˜) ä¸Šçš„æŒä¹…æ•°æ®ç»“æ„ï¼Œå› æ­¤æ˜¯åŸºäºç£ç›˜ä¸Šçš„block fså®ç°çš„ã€‚ éœ€è¦åœ¨blockä¸Šç»´æŠ¤inodeä¿¡æ¯ æ–‡ä»¶å’Œç›®å½•éƒ½æœ‰inodeï¼Œä½†åªæœ‰æ–‡ä»¶å æœ‰å…·ä½“çš„å—ã€‚ inodeåœ¨ç£ç›˜å¤´éƒ¨åŒºåŸŸå•ç‹¬ç®¡ç† é€šè¿‡è°ƒç”¨block fsæä¾›çš„APIå®ç°æ–‡ä»¶å’Œç›®å½•çš„åˆ›å»ºã€è¯»å†™ä¸åˆ é™¤ç­‰æ“ä½œ ç¼–è¯‘åŸç†å®éªŒ","categories":[],"tags":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/tags/Notes/"},{"name":"Interview","slug":"Interview","permalink":"https://mengzelev.github.io/tags/Interview/"}]},{"title":"LeetCodeåˆ·é¢˜ç¬”è®°","slug":"leetcode-notes","date":"2020-05-15T12:33:29.000Z","updated":"2020-06-29T07:25:46.331Z","comments":true,"path":"2020/05/15/leetcode-notes/","link":"","permalink":"https://mengzelev.github.io/2020/05/15/leetcode-notes/","excerpt":"","text":"LeetCodeåˆ·é¢˜ç¬”è®°è§£æ³•ä¸æ³¨æ„ç‚¹æ•´ç† é¢˜ç›®åºå· é¢˜ç›®æè¿° å¤§è‡´è§£æ³• æ³¨æ„ç‚¹ 2. ä¸¤æ•°ç›¸åŠ  ä¸¤ä¸ªé“¾è¡¨å­˜å‚¨çš„æ•´æ•°ï¼Œæ±‚åŠ èµ·æ¥çš„æ•°çš„é“¾è¡¨è¡¨ç¤º éå†é“¾è¡¨ï¼Œå¤„ç†ç›¸åŠ ä¸è¿›ä½ ä¸è¦é€’å½’ï¼›è¿›ä½å–„åï¼›ä¸€æ•°åˆ°åº•çš„å¤„ç†ï¼› 3.æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­—ç¬¦ä¸² ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²çš„é•¿åº¦ã€‚ï¼ˆä¸æ˜¯å­åºåˆ—ï¼‰ æ»‘åŠ¨çª—å£ã€‚åŒæŒ‡é’ˆå®ç°ã€‚å½“å­—ä¸²ä¸­æ— é‡å¤å…ƒç´ æ—¶å‘å³ç§»åŠ¨å³æŒ‡é’ˆï¼Œå¦åˆ™å‘å³ç§»åŠ¨å·¦æŒ‡é’ˆï¼Œç›´åˆ°æ— é‡å¤ä¸ºæ­¢ã€‚ æ³¨æ„å¼€å§‹æ¡ä»¶ï¼ˆé•¿åº¦ä¸º1å’Œ2çš„å­—ç¬¦ä¸²ï¼‰ 4. å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•° ç»™å®šä¸¤ä¸ªæ’å¥½åºçš„æ•°ç»„ï¼Œæ‰¾å‡ºè¿™ä¸¤ä¸ªæ•°ç»„ä¸­çš„æ•°çš„ä¸­ä½æ•°ï¼Œå¹¶ä¸”è¦æ±‚ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(log(m + n))ã€‚ äºŒåˆ†ã€‚æ³•ä¸€ï¼šè½¬æ¢ä¸ºå¯»æ‰¾ç¬¬kå°çš„æ•°ã€‚æ¯æ¬¡æ£€æŸ¥A[k/2-1]å’ŒB[k/2-1]ï¼Œè‹¥A[k/2-1]&lt;=B[k/2-1]ï¼Œè¯´æ˜æ¯”A[k/2-1]å°çš„æ•°æœ€å¤šåªæœ‰k-2ä¸ªï¼Œå› æ­¤å¯ä»¥åˆ å»A[0:k/2-1]çš„æ•°ï¼›åä¹‹åŒç†ã€‚å½“èŒƒå›´ç¼©å°åˆ°åªå‰©ä¸€ä¸ªæ•°ç»„æˆ–ä¸ºkä¸º1æ—¶è¿”å›ã€‚æ³•äºŒï¼šè½¬æ¢ä¸ºå¯»æ‰¾æœ€å¤§çš„iï¼Œæ»¡è¶³A[i-1]&lt;=B[(m+n+1)/2 -i]å³å¯ï¼ˆæ­¤å¤„æœ‰å¤æ‚æ•°å­¦è¯æ˜ï¼‰ éš¾ã€‚ä¸­ä½æ•°çš„æœ¬è´¨ï¼šç¬¬n/2å°çš„æ•°ï¼ˆå¥‡æ•°ä¸ªæ•°ï¼‰æˆ– ä¸€ä¸ªåˆ’åˆ†æ ‡å‡†ï¼Œä½¿å¾—ä¸€åŠçš„æ•°æ¯”å®ƒå°ï¼Œå¦ä¸€åŠçš„æ•°æ¯”å®ƒå¤§ï¼› 9. å›æ–‡æ•° åˆ¤æ–­è¾“å…¥æ•°æ˜¯å¦ä¸ºå›æ–‡æ•° æ³•ä¸€ï¼šè½¬æˆå­—ç¬¦ä¸²ï¼Œç›´æ¥æ¯”è¾ƒ/åŒæŒ‡é’ˆæ¯”è¾ƒï¼›æ³•äºŒï¼šä½¿ç”¨è¿ç®—åè½¬æ•°å­—çš„ä¸€åŠï¼ˆwhile x &gt; reverse_xï¼‰ï¼Œæ¯”è¾ƒx==reverse_xï¼ˆå¶æ•°ä½æ•°ï¼‰æˆ–reverse_x//10 == xï¼ˆå¥‡æ•°ä½æ•°ï¼‰ Pythonçš„æ•´é™¤æ˜¯åŒæ–œæ ï¼›Pythonåè½¬å­—ç¬¦ä¸²s[::-1] 14. æœ€é•¿å…¬å…±å‰ç¼€ æ‰¾å‡ºè¾“å…¥çš„ä¸€ç»„å­—ç¬¦ä¸²çš„æœ€é•¿å…¬å…±å‰ç¼€ æ³•ä¸€ï¼šæ— è„‘æ¨¡æ‹Ÿã€‚å¯ä»¥åœ¨å‰ç¼€ä¸ºç©ºæ—¶æå‰é€€å‡ºã€‚æ³•äºŒï¼šäºŒåˆ†åˆ†æ²»ã€‚å¯¹strsæ•°ç»„è¿›è¡Œåˆ†æ²»æŸ¥æ‰¾ã€‚ 41. ç¼ºå¤±çš„ç¬¬ä¸€ä¸ªæ­£æ•° ç»™å®šä¸€ä¸ªæœªæ’åºçš„æ•´æ•°æ•°ç»„ï¼Œæ‰¾å‡ºå…¶ä¸­æ²¡æœ‰å‡ºç°çš„æœ€å°çš„æ­£æ•´æ•°ã€‚è¦æ±‚æ—¶é—´å¤æ‚åº¦ä¸º$O(n)$ï¼Œç©ºé—´å¤æ‚åº¦ä¸º$O(1)$ å“ˆå¸Œè¡¨ã€‚é•¿åº¦ä¸º$n$çš„æ•°ç»„æœ€å¤šåŒ…å«æ­£æ•´æ•°1~$n$ï¼Œ1~$n$ä¸­çš„ç¼ºçš„é‚£ä¸ªå°±æ˜¯ç­”æ¡ˆï¼Œä¸ç¼ºç­”æ¡ˆå°±æ˜¯$n+1$ã€‚å› æ­¤å°†æ•°ç»„ä¸­æ¯ä¸ªæ­£æ•´æ•°å“ˆå¸Œåˆ°$n$ä¸ªæ¡¶ä¸­ç„¶åæ‰¾ç©ºçš„æ¡¶å³å¯ã€‚é€šè¿‡åŸåœ°å“ˆå¸Œæ¥é™ä½æ—¶é—´å¤æ‚åº¦ï¼Œå¦‚å°†è¾“å…¥æ•°ç»„ä¸­è¢«å“ˆå¸Œåˆ°æ•°çš„ä½ç½®çš„æ•°å–è´Ÿã€‚ æ—¶é—´ç©ºé—´è¦æ±‚è‹›åˆ»æ—¶å¯ä»¥å…ˆè€ƒè™‘å·®ä¸€äº›çš„ç‰ˆæœ¬ï¼Œç„¶åæ€è€ƒæ€ä¹ˆä¼˜åŒ–ï¼›ä¼˜åŒ–ç©ºé—´å¤æ‚åº¦å¯ä»¥ç”¨åŸåœ°æ“ä½œä»£æ›¿å¼€æ–°æ•°ç»„ 70.çˆ¬æ¥¼æ¢¯ æ¯æ¬¡å¯ä»¥çˆ¬ 1 æˆ– 2 ä¸ªå°é˜¶ã€‚æœ‰å¤šå°‘ç§ä¸åŒçš„æ–¹æ³•å¯ä»¥çˆ¬åˆ°né˜¶æ¥¼æ¢¯æ¥¼é¡¶ DPã€‚dp[i]=dp[i-1]+dp[i-2] (i &gt;= 2)ï¼Œå³æ–æ³¢é‚£å¥‘æ•°ã€‚ å¯ä»¥ç”¨çŸ©é˜µå¿«é€Ÿå¹‚æˆ–é€šé¡¹å…¬å¼ä¼˜åŒ–ä¸º$O(\\log n)$ 125. éªŒè¯å›æ–‡ä¸² ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒéªŒè¯å®ƒæ˜¯å¦æ˜¯å›æ–‡ä¸²ï¼Œåªè€ƒè™‘å­—æ¯å’Œæ•°å­—å­—ç¬¦ï¼Œå¯ä»¥å¿½ç•¥å­—æ¯çš„å¤§å°å†™ã€‚ åŒæŒ‡é’ˆã€‚æ³¨æ„éæ•°å­—å­—æ¯çš„å­—ç¬¦å’Œå­—æ¯å¤§å°å†™çš„å¤„ç†ã€‚ Pythonæœ‰isalnum()å‡½æ•°åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦æ˜¯å¦æ˜¯å­—æ¯æˆ–æ•°å­—ï¼›Pythonçš„lower()å‡½æ•°å¯¹å­—æ¯è¿”å›å°å†™ï¼Œå¯¹å…¶ä»–å­—ç¬¦è¿”å›è‡ªèº« 209. é•¿åº¦æœ€å°çš„å­æ•°ç»„ ç»™å®šä¸€ä¸ªå«æœ‰ n ä¸ªæ­£æ•´æ•°çš„æ•°ç»„å’Œä¸€ä¸ªæ­£æ•´æ•° s ï¼Œæ‰¾å‡ºè¯¥æ•°ç»„ä¸­æ»¡è¶³å…¶å’Œ â‰¥ s çš„é•¿åº¦æœ€å°çš„è¿ç»­å­æ•°ç»„ï¼Œå¹¶è¿”å›å…¶é•¿åº¦ã€‚å¦‚æœä¸å­˜åœ¨ç¬¦åˆæ¡ä»¶çš„è¿ç»­å­æ•°ç»„ï¼Œè¿”å› 0ã€‚ æ»‘åŠ¨çª—å£ã€‚æ¯è½®è¿­ä»£çª—å£å‘å³æ‰©å¼ ä¸€æ ¼ï¼ŒåŒæ—¶åˆ å»å·¦ç«¯å¤šä½™çš„æ•°ï¼Œè®°å½•æ­¤æ—¶çª—å£çš„é•¿åº¦å¹¶æ›´æ–°ç­”æ¡ˆã€‚ æ³¨æ„æ»‘åŠ¨çª—å£çš„å®ç°æ–¹æ³•ï¼› 215. æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´  åœ¨æœªæ’åºçš„æ•°ç»„ä¸­æ‰¾åˆ°ç¬¬ k ä¸ªæœ€å¤§çš„å…ƒç´ ã€‚ æ’åºåç›´æ¥è¾“å‡ºã€‚å¯ä»¥ä½¿ç”¨ä¸æ’åºçš„å¿«é€Ÿæ’åºæˆ–è€…å †ä¼˜åŒ–ã€‚ï¼ˆç„¶è€Œä¼˜åŒ–ä¸äº†å¤šå°‘ 990. ç­‰å¼æ–¹ç¨‹çš„å¯æ»¡è¶³æ€§ ç»™å®šä¸€ç³»åˆ—å˜é‡ä¸ç­‰æˆ–ç›¸ç­‰å…³ç³»ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸€ç§èµ‹å€¼ä½¿è¿™äº›å…³ç³»è¢«å…¨éƒ¨æ»¡è¶³ å¹¶æŸ¥é›†ã€‚ç¬¬ä¸€æ¬¡éå†å°†ç›¸ç­‰çš„å˜é‡åˆå¹¶åˆ°ç”¨ä¸€ä¸ªå¹¶æŸ¥é›†ä¸­ï¼›ç¬¬äºŒæ¬¡éå†æŸ¥æ‰¾æ˜¯å¦æœ‰ä¸ç­‰ä½†å¤„äºåŒä¸€ä¸ªå¹¶æŸ¥é›†ä¸­çš„å˜é‡ã€‚ å¹¶æŸ¥é›†çš„éé€’å½’å†™æ³•ï¼›ç”±äºé¢˜æ„è¦æ±‚å˜é‡å…¨æ˜¯å°å†™å­—æ¯æ•…æœ€å¤š26ä¸ªå˜é‡ï¼ˆä½¿ç”¨ord(var)-ord(&#39;a&#39;)ç´¢å¼•å˜é‡ï¼‰ï¼›æ—¶é—´å¤æ‚åº¦$O(n+ClogC)` 1014.æœ€ä½³è§‚å…‰ç»„åˆ ç»™å®šä¸€ä¸ªæ•°ç»„Aï¼Œå¯»æ‰¾ä¸€å¯¹i,j(i&lt;j)ä½¿å¾—A[i]+A[j]+i-jæœ€å¤§ ä¼˜åŒ–æšä¸¾ã€‚ç»´æŠ¤ç›®å‰æœ€å¤§çš„a[i]+iï¼Œå¯¹æ¯ä¸ªjè®¡ç®—a[j]-j+max(a[i]+i) å¯ä»¥å°†ä¸€ä¸ªå±æ€§é€’æ¨ç»´æŠ¤æ¥å‡å°‘æšä¸¾çš„ç»´åº¦ 1028. ä»å…ˆåºéå†è¿˜åŸäºŒå‰æ ‘ åœ¨éå†ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹å¤„ï¼Œè¾“å‡º D æ¡çŸ­åˆ’çº¿ï¼ˆå…¶ä¸­ D æ˜¯è¯¥èŠ‚ç‚¹çš„æ·±åº¦ï¼‰ï¼Œç„¶åè¾“å‡ºè¯¥èŠ‚ç‚¹çš„å€¼ã€‚ç»™å‡ºéå†è¾“å‡º Sï¼Œè¿˜åŸæ ‘å¹¶è¿”å›å…¶æ ¹èŠ‚ç‚¹ rootã€‚ æ ˆã€‚æŸä¸ªèŠ‚ç‚¹åªå¯èƒ½æ˜¯ï¼šä¸Šä¸ªèŠ‚ç‚¹çš„å·¦å­©å­ï¼ˆå½“å‰èŠ‚ç‚¹æ·±åº¦=æ ˆé¡¶èŠ‚ç‚¹æ·±åº¦çš„+1ï¼‰ æˆ– ä»æ ¹åˆ°è¯¥èŠ‚ç‚¹çš„è·¯å¾„ä¸Šçš„æŸä¸ªèŠ‚ç‚¹çš„æœ‰å­©å­ï¼ˆå½“å‰èŠ‚ç‚¹æ·±åº¦&lt;æ ˆé¡¶èŠ‚ç‚¹æ·±åº¦ï¼‰ã€‚ 1300. è½¬å˜æ•°ç»„åæœ€æ¥è¿‘ç›®æ ‡å€¼çš„æ•°ç»„å’Œ ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ arr å’Œä¸€ä¸ªç›®æ ‡å€¼ target ï¼Œè¿”å›ä¸€ä¸ªæ•´æ•° value ï¼Œä½¿å¾—å°†æ•°ç»„ä¸­æ‰€æœ‰å¤§äº value çš„å€¼å˜æˆ value åï¼Œæ•°ç»„çš„å’Œæœ€æ¥è¿‘ target ï¼ˆæœ€æ¥è¿‘è¡¨ç¤ºä¸¤è€…ä¹‹å·®çš„ç»å¯¹å€¼æœ€å°ï¼‰ã€‚ä¼˜å…ˆè¿”å›æœ€å°çš„è§£ã€‚ åŒé‡äºŒåˆ†ã€‚1. åœ¨[0, max(arr)]äºŒåˆ†æœç´¢å‡ºä¸€ä¸ªvalueï¼Œä½¿å¾—sum(arr, val)&lt;=target&lt;=sum(arr, val+1)ï¼›2. è®¡ç®—sum(arr, val)æ—¶ï¼Œå…ˆå°†arræ’åºï¼Œç„¶åæ‰¾åˆ°ç¬¬ä¸€ä¸ªæ¯”valçš„å¤§çš„æ•°çš„ä¸‹æ ‡idï¼Œåˆ™sum(arr, val)=prefix_sum[id] + (n-id)*val Pythonå¯ä»¥ä½¿ç”¨bisect.bisect_left(arr, x)äºŒåˆ†æŸ¥æ‰¾å¹¶è¿”å›ç¬¬ä¸€ä¸ªæ¯”xå¤§çš„æ•°çš„ä¸‹æ ‡ï¼›äºŒåˆ†æœç´¢æ¨¡æ¿ã€‚ï¼ˆè§æ¶¨å§¿åŠ¿éƒ¨åˆ†ï¼‰æ³¨æ„valueå¯¹targetçš„é€’å¢ä½œç”¨ï¼›å·®çš„ç»å¯¹å€¼æœ€å°åŒ–+é€’å¢ï¼šæ±‚ä¸ªå¤§ä¸€ç‚¹çš„å’Œå°ä¸€ç‚¹çš„ï¼Œç„¶åæ¯”è°çš„ç»å¯¹å€¼æ›´å° 1465. ä¸€æ¬¡ç¼–è¾‘ ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸²aå’Œbï¼Œåˆ¤æ–­æ˜¯å¦èƒ½é€šè¿‡ä¸€æ¬¡ç¼–è¾‘ï¼ˆå¢åˆ æ”¹ï¼‰ç”±aå¾—åˆ°b åŒæŒ‡é’ˆé€ä¸ªéå†å­—ç¬¦ï¼Œä¸ç›¸åŒæ—¶æ¯”è¾ƒè¯¥å­—ç¬¦ä¹‹åçš„å­—ç¬¦ä¸² 1476.æ—‹è½¬çŸ©é˜µ åœ¨ä¸ç”¨é¢å¤–çš„ç©ºé—´å°†çŸ©é˜µï¼ˆæ­£æ–¹å½¢ï¼‰æ—‹è½¬90Â° æ¯ä¸€å±‚å››å‘¨äº¤æ¢æˆ–æ°´å¹³ç¿»è½¬+å¯¹è§’ç¿»è½¬ ä¸‹æ ‡æ•°é‡å…³ç³»éœ€è¦ç°åœºæ¨å¯¼ 1477.é›¶çŸ©é˜µ è‹¥M Ã— NçŸ©é˜µä¸­æŸä¸ªå…ƒç´ ä¸º0ï¼Œåˆ™å°†å…¶æ‰€åœ¨çš„è¡Œä¸åˆ—æ¸…é›¶ ç¬¬ä¸€æ¬¡æ‰«ææ ‡è®°éœ€è¦æ¸…é›¶çš„ä½ç½®ï¼Œç¬¬äºŒæ¬¡æ‰«ææ¸…é›¶ å¿…é¡»åˆ†ä¸¤æ¬¡æ‰«æ 1482.åˆ†å‰²é“¾è¡¨ ç»™å®šé“¾è¡¨å’Œæ•°xï¼Œè¿”å›æ–°é“¾è¡¨ï¼Œå‰åŠéƒ¨åˆ†éƒ½æ˜¯æ¯”xå°çš„æ•°ï¼ŒååŠéƒ¨åˆ†éƒ½æ˜¯ä¸å°äºxçš„æ•° åŒå¤´é“¾è¡¨ï¼Œå°çš„æ’å‰é¢ï¼Œå¤§çš„æ’åé¢ 1583.é‡å»ºäºŒå‰æ ‘ ç»™å‡ºäºŒå‰æ ‘çš„å‰åºéå†å’Œä¸­åºéå†ï¼Œé‡å»ºäºŒå‰æ ‘ æ³•ä¸€ï¼šé€’å½’ã€‚åœ¨preorderä¸­æ‰¾åˆ°æ ¹ï¼Œç„¶åæ‹†åˆ†éå†ç»“æœï¼Œé€’å½’é‡å»ºå·¦å³å­æ ‘ï¼›æ³•äºŒï¼šè¿­ä»£ã€‚æ ˆç»“æ„å­˜å‚¨preorderä¸­çš„æ ¹åŠå·¦å­æ ‘èŠ‚ç‚¹ï¼Œé‡åˆ°ç¬¬ä¸€ä¸ªå³å­æ ‘èŠ‚ç‚¹æ—¶é€€æ ˆ æ³¨æ„ç©ºäºŒå‰æ ‘ï¼›é€’å½’å’Œè¿­ä»£éƒ½å¯ä»¥ 1489.å †ç›˜å­ å¤šä¸ªæ ˆï¼Œä¸€ä¸ªæ ˆæ”¾æ»¡äº†å°±æ”¾è¿›ä¸‹ä¸€ä¸ªæ ˆï¼›è¦æ±‚pushå’Œpopå’Œä¸€ä¸ªæ ˆæ—¶è¡¨ç°ç›¸åŒï¼Œä¸”å¯ä»¥æŒ‡å®špopå“ªä¸ªæ ˆçš„å†…å®¹ æ¨¡æ‹Ÿã€‚é—­ç€çœ¼ç›å†™ popæŒ‡å®šæ ˆæ—¶ä¸€ä¸ªæ ˆpopç©ºäº†è¦å°†å®ƒåˆ å» 1498.èŠ‚ç‚¹é—´é€šè·¯ ç»™å®šæœ‰å‘å›¾ï¼Œè®¾è®¡ä¸€ä¸ªç®—æ³•ï¼Œæ‰¾å‡ºä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´æ˜¯å¦å­˜åœ¨ä¸€æ¡è·¯å¾„ã€‚ DFS/BFSã€‚è¾“å…¥çš„é‚»æ¥çŸ©é˜µè½¬åŒ–ä¸ºé‚»æ¥é“¾è¡¨ï¼Œç„¶ådfs/bfs å…ˆå°†è¾“å…¥çš„é‚»æ¥çŸ©é˜µè½¬æ¢æˆé‚»æ¥é“¾è¡¨ 1502.åˆæ³•äºŒå‰æœç´¢æ ‘ æ£€æŸ¥ä¸€æ£µäºŒå‰æ ‘æ˜¯å¦ä¸ºäºŒå‰æœç´¢æ ‘ 1.ä¸­åºéå†ï¼Œå¯¹æ¯ä¸ªèŠ‚ç‚¹ç»´æŠ¤ä¸Šä¸‹ç•Œå¹¶åˆ¤æ–­èŠ‚ç‚¹å€¼æ˜¯å¦å¤„äºä¸Šä¸‹ç•Œä¹‹é—´ï¼›2.ä¸­åºéå†æˆæ•°ç»„ï¼Œåˆ¤æ–­æ•°ç»„æ˜¯å¦å‡åºæ’åˆ— 1505.äºŒå‰æœç´¢æ ‘åºåˆ— ç»™å®šä¸€ä¸ªç”±ä¸åŒèŠ‚ç‚¹ç»„æˆçš„BSTï¼Œè¾“å‡ºæ‰€æœ‰å¯èƒ½ç”Ÿæˆæ­¤æ ‘çš„æ•°ç»„ã€‚ é˜Ÿåˆ—ã€‚æ ¹å¿…é¡»å‡ºç°åœ¨å…¶æ‰€æœ‰å­èŠ‚ç‚¹ä¹‹å‰ï¼›ç”¨ä¸€ä¸ªé˜Ÿåˆ—ç»´æŠ¤æŸä¸ªæ—¶åˆ»èƒ½å¤Ÿæˆä¸ºä¸‹ä¸ªèŠ‚ç‚¹çš„æ‰€æœ‰æ•°å€¼ï¼ˆå³å½“æ ¹è¿›é˜Ÿåå°†å…¶å­èŠ‚ç‚¹å‹å…¥é˜Ÿåˆ—ï¼‰ï¼Œå¾ªç¯è¾“å‡ºæ‰€æœ‰å¯èƒ½çš„æ•°ç»„ã€‚ ç”¨é˜Ÿåˆ—ç»´æŠ¤å¯è¡Œçš„ä¸‹ä¸ªèŠ‚ç‚¹ é¢è¯•é¢˜19.æ­£åˆ™è¡¨è¾¾å¼åŒ¹é… åˆ¤æ–­å­—ç¬¦ä¸²sæ˜¯å¦ä¸åŒ…å«&#39;. &#39;å’Œ&#39;*&#39;çš„æ­£åˆ™è¡¨è¾¾å¼pç›¸åŒ¹é… dpã€‚ç”¨f[i][j]è¡¨ç¤ºsçš„å‰iä½ä¸pçš„å‰jä½æ˜¯å¦åŒ¹é…ã€‚è‹¥s[i-1]==p[j-1] or p[j-1]==&#39;.&#39;ï¼Œåˆ™f[i][j]=f[i-1][j-1]ï¼›è‹¥p[j-1]==&#39;*&#39;ï¼Œå¦‚æœä¹‹å‰çš„å­—ç¬¦åªå‡ºç°0æ¬¡ï¼Œåªéœ€å»æ‰æœ€åä¸¤ä¸ªå­—ç¬¦ï¼ˆf[i][j]=f[i][j-2]ï¼‰ï¼Œå¦åˆ™å›æº¯sä¸²è€ƒå¯Ÿè¯¥å­—ç¬¦æ˜¯å¦å‡ºç°äº†å¤šæ¬¡ï¼Œå³if(s[i-1]==p[j-2] or p[j-2]==&#39;.&#39;) f[i][j] or= f[i-1][j] åŠ¨æ€è§„åˆ’ï¼›è¾¹ç•Œæ¡ä»¶ é¢è¯•é¢˜12.çŸ©é˜µä¸­çš„è·¯å¾„ åˆ¤æ–­åœ¨ä¸€ä¸ªçŸ©é˜µä¸­æ˜¯å¦å­˜åœ¨ä¸€æ¡åŒ…å«æŸå­—ç¬¦ä¸²æ‰€æœ‰å­—ç¬¦çš„è·¯å¾„ï¼ŒåŒä¸€ä¸ªæ ¼å­ä¸å¯é‡å¤èµ° dfsï¼ˆå› ä¸ºåªè¦æ‰¾åˆ°ä¸€æ¡è·¯å¾„æ‰€ä»¥ä¸æ˜¯bfsï¼‰+å‰ªæï¼›äºŒé‡å¾ªç¯éå†å¯»æ‰¾å¼€å§‹ç‚¹ï¼Œå½“å¼€å§‹ç‚¹é‚»åŸŸå†…å­˜åœ¨ä¸‹ä¸ªç›¸åº”çš„å­—ç¬¦æ—¶ç»§ç»­å¾€ä¸‹éå†ï¼›ä¸å­˜åœ¨ä¸‹ä¸ªå­—ç¬¦æ—¶æˆ–è·¯å¾„é•¿åº¦è¶…è¿‡å­—ç¬¦ä¸²é•¿åº¦æ—¶è¿”å›ã€‚ å›é€€æ—¶å°†èµ°è¿‡çš„æ ¼å­è®¿é—®çŠ¶æ€è¿˜åŸï¼›æ ‡è®°è®¿é—®çŠ¶æ€å¯ä»¥ä¸å¼€æ•°ç»„ç›´æ¥åœ¨åŸçŸ©é˜µå†…æ“ä½œ é¢è¯•é¢˜13.æœºå™¨äººçš„è¿åŠ¨èŒƒå›´ mè¡Œnåˆ—çš„æ–¹æ ¼ï¼Œä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’ï¼Œåªèƒ½èµ°åæ ‡æ•°ä½å’Œä¸è¶…è¿‡kçš„æ ¼å­ï¼Œæ±‚å¯è¾¾æ ¼å­æ•° dfs/bfsã€‚ç”±äºæ•°ä½å’Œçš„å¢å‡ç‰¹æ€§ï¼Œå¯ä»¥åªå‘å³ã€ä¸‹ä¸¤ä¸ªæ–¹å‘æœç´¢ã€‚ é¢è¯•é¢˜16. æ•°å€¼çš„æ•´æ•°æ¬¡æ–¹ å®ç°å‡½æ•°double Power(double base, int exponent)ï¼Œæ±‚baseçš„exponentæ¬¡æ–¹ã€‚ä¸å¾—ä½¿ç”¨åº“å‡½æ•°ï¼ŒåŒæ—¶ä¸éœ€è¦è€ƒè™‘å¤§æ•°é—®é¢˜ã€‚ å¿«é€Ÿå¹‚ã€‚ æ³¨æ„å¿«é€Ÿå¹‚çš„æ¿å­ã€‚ é¢è¯•é¢˜26.æ ‘çš„å­ç»“æ„ è¾“å…¥ä¸¤æ£µäºŒå‰æ ‘Aå’ŒBï¼Œåˆ¤æ–­Bæ˜¯ä¸æ˜¯Açš„å­ç»“æ„ åŒé‡dfsã€‚ç¬¬ä¸€é‡ï¼šå¯»æ‰¾Aä¸­å¯ä»¥ä½œä¸ºBçš„æ ¹èŠ‚ç‚¹çš„ç‚¹ï¼›ç¬¬äºŒé‡ï¼šåˆ¤æ–­ä»è¯¥ç‚¹å¼€å§‹æ˜¯å¦å­˜åœ¨ä¸Bç›¸åŒçš„ç»“æ„ã€‚ Aå¯ä»¥æœ‰å¤šä½™çš„å­èŠ‚ç‚¹ï¼Œåªéœ€è¦åŒ…å«Bå³å¯ï¼›å¯¹èŠ‚ç‚¹ä¸ºç©ºçš„å¤„ç† 1613.æ ˆçš„å‹å…¥ã€å¼¹å‡ºåºåˆ— è¾“å…¥ä¸¤ä¸ªæ•´æ•°åºåˆ—ï¼Œç¬¬ä¸€ä¸ªåºåˆ—è¡¨ç¤ºæ ˆçš„å‹å…¥é¡ºåºï¼Œåˆ¤æ–­ç¬¬äºŒä¸ªåºåˆ—æ˜¯å¦ä¸ºè¯¥æ ˆçš„å¼¹å‡ºé¡ºåº æ¨¡æ‹Ÿã€‚æ ¹æ®å‡ºå…¥æ ˆåºåˆ—æ¨¡æ‹Ÿæ ˆçš„è¡Œä¸ºï¼Œè‹¥èƒ½æ¨¡æ‹ŸæˆåŠŸå³ä¸ºåˆæ³•å‡ºæ ˆåºåˆ—ã€‚æ¨¡æ‹Ÿæ–¹æ³•ï¼šå…¥æ ˆç›´åˆ°æ ˆé¡¶å…ƒç´ ä¸ºå½“å‰å‡ºæ ˆåºåˆ—ä¸­è¢«æŒ‡å‘çš„å…ƒç´ ï¼Œæ— å…ƒç´ å¯å…¥æ ˆä½†å‡ºæ ˆåºåˆ—æœªè¿‡å®Œæ—¶æ¨¡æ‹Ÿå¤±è´¥ã€‚ æ¨¡æ‹Ÿåªè¦$O(N)$ï¼Œæ•°å­¦åˆ¤æ–­è¦$O(N^3)$ï¼›å†™pyå¤šç”¨for elem in list è€Œé for i in range(0, len): list[i] 1614.ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ ä»ä¸Šåˆ°ä¸‹æ‰“å°å‡ºäºŒå‰æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹ï¼ŒåŒä¸€å±‚çš„èŠ‚ç‚¹æŒ‰ç…§ä»å·¦åˆ°å³çš„é¡ºåºæ‰“å° BFSã€‚ å¯¹æ ‘bfså¾—åˆ°çš„å°±æ˜¯â€œä»ä¸Šåˆ°ä¸‹ã€ä»å·¦åˆ°å³â€çš„è¾“å‡ºé¡ºåºï¼›æ³¨æ„å¤„ç†ç©ºæ ‘ï¼›dequeçš„åŒç«¯æ’å…¥åˆ é™¤æ“ä½œæ›´å¿« é¢è¯•é¢˜32-3.ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ III ä¹‹å­—å½¢é¡ºåºæ‰“å°äºŒå‰æ ‘ BFS+å¥‡å¶åˆ†åˆ«åˆ¤æ–­ã€‚bfsçš„é˜Ÿåˆ—ç”¨dequeã€‚ä»¥å±‚ä¸ºå•ä½è¿›è¡Œå‡ºé˜Ÿå’Œå…¥é˜Ÿï¼ˆäºŒé‡å¾ªç¯ï¼Œæ¯æ¬¡é‡Œå±‚å¾ªç¯å¼€å§‹æ—¶bfsé˜Ÿåˆ—ä¸­åªæœ‰åŒä¸€å±‚çš„èŠ‚ç‚¹ï¼Œå°†è¿™ä¸€å±‚çš„èŠ‚ç‚¹æŒ‰ç…§å±‚æ•°å¥‡å¶æ€§æ­£åºæˆ–å€’åºæ”¾å…¥è¾“å‡ºé˜Ÿåˆ—ï¼Œç„¶åæŠŠè¿™äº›èŠ‚ç‚¹çš„å­èŠ‚ç‚¹åŠ å…¥bfsé˜Ÿåˆ—ã€‚ä¿è¯é‡Œå±‚å¾ªç¯è¿›è¡Œçš„æ¬¡æ•°ä¸ºå¾ªç¯å¼€å§‹å‰bfsé˜Ÿåˆ—çš„å¤§å°ã€‚ï¼‰ ç©ºæ ‘ã€‚ é¢è¯•é¢˜29.é¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µ æŒ‰ç…§ä»å¤–å‘é‡Œä»¥é¡ºæ—¶é’ˆçš„é¡ºåºä¾æ¬¡æ‰“å°å‡ºçŸ©é˜µä¸­çš„æ¯ä¸€ä¸ªæ•°å­—ã€‚ï¼ˆèºæ—‹æ‰“å°ï¼‰ æ¨¡æ‹Ÿã€‚æ³¨æ„å‰è¿›æ–¹å‘çš„ç»´æŠ¤å³å¯ã€‚ é¢è¯•é¢˜33. äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ— è¾“å…¥ä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œåˆ¤æ–­è¯¥æ•°ç»„æ˜¯ä¸æ˜¯æŸäºŒå‰æœç´¢æ ‘çš„ååºéå†ç»“æœã€‚ 1.é€’å½’ï¼šé€’å½’åˆ¤æ–­æŸä¸€æ®µåºåˆ—æ˜¯å¦æ»¡è¶³â€œæ¯”æ ¹å°â€ï¼ˆå·¦å­æ ‘ï¼‰+â€œæ¯”æ ¹å¤§ï¼ˆå³å­æ ‘ï¼‰â€+æ ¹ã€‚2. è¾…åŠ©æ ˆè¿˜åŸBSTï¼šé‡åˆ°é€’å‡èŠ‚ç‚¹ï¼ˆå·¦å­æ ‘èŠ‚ç‚¹ï¼‰å‰å°†æ‰€æœ‰èŠ‚ç‚¹ä½œä¸ºå€™é€‰æ ¹èŠ‚ç‚¹å‹æ ˆï¼Œé‡åˆ°é€’å‡èŠ‚ç‚¹å°±é€€æ ˆç›´åˆ°æ ˆé¡¶ä¸ºå½“å‰å­æ ‘çš„æ ¹ã€‚è‹¥èƒ½è¿˜åŸæˆåŠŸå°±æ»¡è¶³è¦æ±‚ã€‚ ä¸€æ­¥èƒ½åšå®Œçš„äº‹å°½é‡ä¸è¦é é€’å½’ï¼›BSTä¸æ ˆï¼› é¢è¯•é¢˜34. äºŒå‰æ ‘ä¸­å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„ æ‰“å°å‡ºäºŒå‰æ ‘ä¸­èŠ‚ç‚¹å€¼çš„å’Œç­‰äºè¾“å…¥æ•´æ•°çš„æ‰€æœ‰è·¯å¾„ã€‚ï¼ˆæ ¹â†’å¶å­ç®—è·¯å¾„ï¼‰ dfsæ‰€æœ‰è·¯å¾„ï¼Œæ»¡è¶³è¦æ±‚çš„åŠ å…¥è¾“å‡º è·¯å¾„èŠ‚ç‚¹å€¼å¯èƒ½ä¸ºè´Ÿæ•°ï¼Œä¸èƒ½å‰ªæ é¢è¯•é¢˜35. å¤æ‚é“¾è¡¨çš„å¤åˆ¶ æ·±æ‹·è´ã€‚å¤æ‚é“¾è¡¨ï¼šæ¯ä¸ªèŠ‚ç‚¹é™¤äº†nextè¿˜æœ‰randomï¼ˆéšæœºæŒ‡å‘ä¸€ä¸ªèŠ‚ç‚¹æˆ–nullï¼‰ å“ˆå¸Œè¡¨å­˜æ”¾æ·±æ‹·è´å‰åèŠ‚ç‚¹çš„æ˜ å°„å…³ç³»ã€‚ï¼ˆä¼˜åŒ–ï¼šæ‹·è´çš„èŠ‚ç‚¹æ”¾åœ¨åŸèŠ‚ç‚¹çš„nextï¼Œè¿™æ ·å¯ä»¥ç›´æ¥é€šè¿‡nextè®¿é—®å¯¹åº”çš„æ‹·è´èŠ‚ç‚¹ï¼‰ é“¾è¡¨éå†ä¸€å®šè¦å†™node = node.nextï¼ï¼ï¼ï¼ é¢è¯•é¢˜36.BSTä¸åŒå‘é“¾è¡¨ æŠŠBSTæ”¹æˆåŒå‘å¾ªç¯é“¾è¡¨ã€‚å·¦å­©å­æŒ‡é’ˆæŒ‡å‘å‰é©±ï¼Œå³å­©å­æŒ‡é’ˆæŒ‡å‘åç»§ã€‚ ä¸­åºéå†ã€‚å› ä¸ºä¸­åºéå†çš„é¡ºåºå°±æ˜¯æ’åºçš„é¡ºåºï¼Œä½¿ç”¨å…¨å±€å˜é‡è®°å½•ä¸€ä¸ªå‰é©±preã€‚å¯¹äºæ¯ä¸ªèŠ‚ç‚¹å…ˆéå†å·¦å­æ ‘ï¼Œç„¶åå°†å‰é©±çš„å³æŒ‡é’ˆæ”¹ä¸ºå½“å‰èŠ‚ç‚¹ï¼Œå½“å‰èŠ‚ç‚¹çš„å·¦æŒ‡é’ˆæ”¹ä¸ºå‰é©±ã€‚å…¨éƒ¨éå†å®Œåå°†é¦–å°¾ç›¸æ¥å½¢æˆå¾ªç¯ã€‚ Pythonä¸­å¯ä»¥ä½¿ç”¨self.xxå½“æˆå…¨å±€å˜é‡ï¼›å¼ºåŒ–è®°å¿†ï¼šBSTçš„ä¸­åºéå†å°±æ˜¯æ’åºåºåˆ— é¢è¯•é¢˜37. åºåˆ—åŒ–äºŒå‰æ ‘ å®ç°ä¸¤ä¸ªå‡½æ•°ï¼Œåˆ†åˆ«ç”¨æ¥åºåˆ—åŒ–å’Œååºåˆ—åŒ–äºŒå‰æ ‘ã€‚ï¼ˆåºåˆ—åŒ–ï¼šæŠŠæ•°æ®ç»“æ„å˜æˆå­—ç¬¦ä¸²ï¼‰ BFSã€‚åºåˆ—åŒ–å’Œååºåˆ—åŒ–éƒ½é€šè¿‡é˜Ÿåˆ—ä¿å­˜å€™é€‰æ ¹èŠ‚ç‚¹ï¼ŒBFSéå†æ•´æ£µæ ‘ã€‚ä¸å¿…é¡»åºåˆ—åŒ–æˆleetcodeçš„è§„èŒƒã€‚ Pythonå­—ç¬¦ä¸²æ ¼å¼åŒ–åˆå¹¶joinä¸åˆ†å‰²splitï¼›ä½¿ç”¨if xåˆ¤æ–­xéç©ºæ—¶æ³¨æ„xå¯èƒ½ä¼šæœ‰éç©ºä½†å€¼ä¸º0çš„æƒ…å†µï¼›ï¼ˆleetcodeè§„èŒƒï¼‰ååºåˆ—åŒ–æ—¶æ³¨æ„å³å­æ ‘å¯èƒ½æ— ï¼› é¢è¯•é¢˜38.å­—ç¬¦ä¸²çš„æ’åˆ— è¾“å‡ºç»™å®šå­—ç¬¦ä¸²çš„å…¨æ’åˆ—ã€‚ï¼ˆåŒæ ·çš„å­—ç¬¦è§†ä¸ºåŒä¸€ä¸ªå¦‚â€aabâ€å‰ä¸¤ä¸ªâ€aâ€è§†ä¸ºç›¸åŒï¼‰ å›æº¯ã€‚é€’å½’ç¡®å®šæ¯ä¸€ä½ä¸Šçš„å­—ç¬¦ï¼Œå·²ç»åœ¨è¯¥ä½ä¸Šå‡ºç°è¿‡çš„å­—ç¬¦ä¸å†è€ƒè™‘ï¼ˆä½¿ç”¨setï¼‰ã€‚å½“ç¡®å®šäº†å‰len(s)-1ä½æ—¶è®°å½•ç­”æ¡ˆå¹¶è¿”å›ã€‚ æ³¨æ„ç›¸åŒå­—ç¬¦å»é‡ï¼›pythonæœ‰itertools.permutations() é¢è¯•é¢˜41. æ•°æ®æµä¸­çš„ä¸­ä½æ•° è®¾è®¡ä¸€ä¸ªæ”¯æŒâ€œæ’å…¥å…ƒç´ â€ä¸â€œè¿”å›æ‰€æœ‰å…ƒç´ ä¸­ä½æ•°â€æ“ä½œçš„æ•°æ®ç»“æ„ã€‚ å †ã€‚ç»´æŠ¤ä¸¤ä¸ªå †ï¼Œå°å †Aç»´æŠ¤è¾ƒå¤§çš„ä¸€åŠå…ƒç´ ï¼Œå¤§å †Bç»´æŠ¤è¾ƒå°çš„ä¸€åŠå…ƒç´ ï¼ˆå¥‡æ•°ä¸ªå…ƒç´ æ—¶Aå¤šä¸€ä¸ªï¼‰ã€‚æ’å…¥å…ƒç´ ï¼šè‹¥ABå¤§å°ç›¸ç­‰ï¼Œåˆ™å‘Aæ’å…¥å…ƒç´ ï¼ˆå…ˆå‘Bæ’å…¥å…ƒç´ ï¼Œç„¶åå°†Bçš„å †é¡¶å¼¹å‡ºæ’å…¥Aä¸­ï¼‰ï¼›å¦åˆ™å‘Bæ’å…¥å…ƒç´ ï¼ˆæ–¹æ³•åŒå‰ï¼‰ã€‚è¿”å›ä¸­ä½æ•°ï¼šæ ¹æ®ABå¤§å°ï¼Œè¿”å›Açš„å †é¡¶æˆ–ABå †é¡¶çš„å¹³å‡æ•°ã€‚ Pythonçš„listçš„insertæ“ä½œä¸æ˜¯O(1)çš„ï¼›æ’å…¥å…ƒç´ æ—¶è¦å…ˆæ’å…¥å¦ä¸€ä¸ªå †ä¸­ç„¶åè¿ç§»å †é¡¶ï¼› é¢è¯•é¢˜43.1å‡ºç°çš„æ¬¡æ•° è¾“å…¥nï¼Œæ±‚å‡º1~nåè¿›åˆ¶æ•´æ•°ä¸­1åœ¨æ•°ä½ä¸Šå‡ºç°çš„æ¬¡æ•°ã€‚ æ¨¡æ‹Ÿï¼ˆï¼Ÿï¼‰ã€‚è¿­ä»£è®¡ç®—1åœ¨æ¯ä¸ªæ•°ä½ä¸Šå‡ºç°çš„æ¬¡æ•°ã€‚ç»´æŠ¤åŸºæ•°baseå’Œä½ä½æ•°lowã€‚æ¯æ¬¡å¾ªç¯åˆ¤æ–­nçš„æœ€ä½ä½ï¼Œè‡³å°‘ans+=(n/10)*baseï¼›è‹¥æœ€ä½ä½ä¸º1åˆ™ans+=(low+1)ï¼›è‹¥æœ€ä½ä½å¤§äº1åˆ™ans+=baseã€‚ç„¶åæ›´æ–°ä½¿low=low+base*(n%10), base*=10, n/=10ã€‚ æ³¨æ„lowçš„æ›´æ–°ï¼›æ³¨æ„æœ€ä½ä½ä¸º1çš„æƒ…å†µï¼› é¢è¯•é¢˜44. æ•°å­—åºåˆ—ä¸­æŸä¸€ä½çš„æ•°å­— æ•°å­—ä»¥0123456789101112131415â€¦çš„æ ¼å¼åºåˆ—åŒ–åˆ°ä¸€ä¸ªå­—ç¬¦åºåˆ—ä¸­ã€‚åœ¨è¿™ä¸ªåºåˆ—ä¸­ï¼Œå¦‚ç¬¬5ä½ï¼ˆä»ä¸‹æ ‡0å¼€å§‹è®¡æ•°ï¼‰æ˜¯5ï¼Œç¬¬13ä½æ˜¯1ï¼Œç¬¬19ä½æ˜¯4 æ¨¡æ‹Ÿï¼ˆæ‰¾è§„å¾‹ï¼‰ã€‚å…ˆæ±‚å‡ºç›®æ ‡æ•°ä½å±äºå‡ ä½æ•°çš„èŒƒç•´ï¼Œç„¶åè®¡ç®—å‡ºç›®æ ‡æ•°ä½æ˜¯è¿™ä¸ªåŒºé—´çš„ç¬¬å‡ ä¸ªæ•°çš„ç¬¬å‡ ä½ã€‚ æ³¨æ„ä¸‹æ ‡ä»0å¼€å§‹ã€‚ é¢è¯•é¢˜45. æŠŠæ•°ç»„æ’æˆæœ€å°çš„æ•° è¾“å…¥ä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„ï¼ŒæŠŠæ•°ç»„é‡Œæ‰€æœ‰æ•°å­—æ‹¼æ¥èµ·æ¥æ’æˆä¸€ä¸ªæ•°ï¼Œæ‰“å°èƒ½æ‹¼æ¥å‡ºçš„æ‰€æœ‰æ•°å­—ä¸­æœ€å°çš„ä¸€ä¸ªã€‚ æ’åºã€‚æ¯”è¾ƒè§„åˆ™ï¼šå¯¹äºæ•°$a,b$ï¼Œ$a$åº”å¸¦æ’åœ¨$b$å‰é¢å½“ä¸”ä»…å½“$\\overline{ab}&lt;\\overline{ba}$ã€‚ Python3é‡Œä½¿ç”¨sorted(str_list, key=functools.cmp_to_key(cmp))å®ç°è‡ªå®šä¹‰æ’åºã€‚ é¢è¯•é¢˜46.æŠŠæ•°å­—ç¿»è¯‘æˆå­—ç¬¦ä¸² æ•°å­—0~25ç¼–ç ä¸ºå­—ç¬¦a~zï¼Œç»™å®šä¸€ä¸²æ•°å­—ï¼Œæ±‚ç¼–ç æˆå­—ç¬¦ä¸²çš„æ–¹æ¡ˆæ•° DPã€‚dp[i]è¡¨ç¤º[0..i]ä½çš„æ•°çš„ç¼–ç æ–¹æ¡ˆæ•°ã€‚è½¬ç§»æ–¹ç¨‹ï¼š$dp[i]=dp[i-1]+dp[i-2]$ if $10n{i-1}+n[i]\\in [10,25]$; $dp[i-1]$ o.w.ã€‚ç”±äºåªç”¨åˆ°å‰ä¸¤ä½çš„ä¿¡æ¯å› æ­¤è®¡ç®—è¿‡ç¨‹ä¸­å¯ä»¥åªç»´æŠ¤ä¸¤ä¸ªå˜é‡ã€ 0çš„å¤„ç†ï¼Œ00ä¸è¡¨ç¤ºå­—æ¯aï¼› é¢è¯•é¢˜47. ç¤¼ç‰©çš„æœ€å¤§ä»·å€¼ ç»™å®šä¸€ä¸ªçŸ©é˜µï¼Œæ±‚ä»å·¦ä¸Šè§’èµ°åˆ°å³ä¸‹è§’ï¼ˆåªèƒ½å‘ä¸‹å’Œå‘å³ï¼‰ç»è¿‡è·¯çº¿ä¸Šæ•°å­—ä¹‹å’Œçš„æœ€å¤§å€¼ DPã€‚dp[i][j]è¡¨ç¤ºèµ°åˆ°åæ ‡ä¸º(i,j)çš„ç‚¹ç»è¿‡è·¯çº¿ä¸Šæ•°å­—ä¹‹å’Œçš„æœ€å¤§å€¼ã€‚éè¾¹ç•Œæƒ…å†µé€’æ¨å¼ï¼šdp[i][j]=max(dp[i-1][j] +dp[i][j-1])ã€‚è¾¹ç•Œæƒ…å†µä¸ºi=0æˆ–j=0çš„æƒ…å†µã€‚ è®°å¿†åŒ–æœç´¢ä¼šè¶…æ—¶ï¼Œå› ä¸ºåªéœ€è¦è€ƒè™‘å‘å³å’Œå‘ä¸‹çš„è·¯å¾„æ‰€ä»¥å¯ä»¥dpï¼›å¯ä»¥ç›´æ¥åœ¨è¾“å…¥listä¸Šåšdp é¢è¯•é¢˜49.ä¸‘æ•° ä¸‘æ•°æ˜¯è´¨å› å­åªæœ‰2,3,5çš„æ•°ã€‚1æ˜¯ç¬¬ä¸€ä¸ªä¸‘æ•°ï¼Œæ±‚ç¬¬$n$ä¸ªä¸‘æ•°ã€‚ DPã€‚dp[i]è¡¨ç¤ºç¬¬i+1ä¸ªä¸‘æ•°ã€‚é€’æ¨å¼å½¢å¼ä¸ºdp[i]=min(dp[a]*2, dp[b]*3, dp[c]*5)ã€‚a,b,cåœ¨ä¹‹å‰çš„é€’æ¨ä¸­ç»´æŠ¤ï¼Œå½“dp[j]&gt;=dp[a]*2æ—¶ï¼Œa=jã€‚ï¼ˆ3å’Œ5åŒç†ï¼‰åˆå§‹æ¡ä»¶dp[0]=1, a=b=c=0 æ­¤é¢˜é€’æ¨æ—¶åŒæ—¶éœ€è¦ç»´æŠ¤ï¼› é¢è¯•é¢˜51. æ•°ç»„ä¸­çš„é€†åºå¯¹ æ±‚ç»™å®šæ•°ç»„ä¸­é€†åºå¯¹çš„ä¸ªæ•°ã€‚ æ³•ä¸€ï¼šå½’å¹¶æ’åºã€‚å½“å³ä¾§æŒ‡é’ˆç§»åŠ¨æ—¶èµ°è¿‡çš„å°±æ˜¯é€†åºå¯¹ã€‚æ³•äºŒï¼šæ ‘çŠ¶æ•°ç»„ã€‚å°†è¾“å…¥æ•°ç»„ç¦»æ•£åŒ–ï¼Œç”¨ä¸€ä¸ªæ¡¶ç»Ÿè®¡æ¯ä¸ªæ•°å‡ºç°çš„æ¬¡æ•°ã€‚åå‘æ‰«æåŸæ•°ç»„ï¼ŒæŸæ•°è¢«æ‰«æåˆ°æ—¶åœ¨æ¡¶ä¸­çš„å‰ç¼€å’Œå°±æ˜¯ä»¥è¯¥æ•°ä¸ºé¦–çš„é€†åºå¯¹çš„ä¸ªæ•°ã€‚ï¼ˆè¿™ä¸ªæ•°ä¹‹åæ¯”å®ƒå°çš„æ•°çš„ä¸ªæ•°ï¼‰ ç¦»æ•£åŒ–ï¼šæ’åºåä½¿ç”¨äºŒåˆ†æ³•ä¸ºæ¯ä¸ªæ•°åˆ†é…ä¸€ä¸ªIndexï¼Œä¹‹åä½¿ç”¨indexä»£è¡¨è¿™ä¸ªæ•°ã€‚Pythonæ ‘çŠ¶æ•°ç»„å®ç°è§æ¶¨å§¿åŠ¿éƒ¨åˆ†ã€‚ é¢è¯•é¢˜56 - I. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•° ä¸€ä¸ªæ•´å‹æ•°ç»„ nums é‡Œé™¤ä¸¤ä¸ªæ•°å­—ä¹‹å¤–ï¼Œå…¶ä»–æ•°å­—éƒ½å‡ºç°äº†ä¸¤æ¬¡ã€‚æ‰¾å‡ºè¿™ä¸¤ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ã€‚è¦æ±‚æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯O(1)ã€‚ ä½è¿ç®—ï¼ˆå¼‚æˆ–ï¼‰ã€‚å¦‚æœåªæœ‰ä¸€ä¸ªæ•°å­—åªå‡ºç°ä¸€æ¬¡ï¼Œæ•´ä¸ªæ•°ç»„çš„å¼‚æˆ–å’Œå°±æ˜¯ç­”æ¡ˆã€‚æ­¤æ—¶æœ‰ä¸¤ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ï¼Œå› æ­¤éœ€è¦å°†æ•°ç»„åˆ†ç»„ã€‚åˆ†ç»„ä¾æ®ä¸ºå–æ•´ä¸ªæ•°ç»„çš„å¼‚æˆ–ä¸­ä¸º1çš„æŸä½ï¼Œç„¶åæ ¹æ®è¯¥ä½æ˜¯å¦ä¸º1å°†æ•´ä¸ªæ•°ç»„åˆ†æˆä¸¤ç»„åˆ†åˆ«æ±‚å¼‚æˆ–å’Œï¼Œå°±èƒ½å¾—åˆ°ç­”æ¡ˆã€‚ å¼‚æˆ–å’Œå¯ä»¥ç”¨æ¥å¯»æ‰¾åªå‡ºç°äº†ä¸€æ¬¡çš„æ•°ï¼›Pythonæ±‚å¼‚æˆ–å’Œå¯ä»¥ä½¿ç”¨functools.reduce é¢è¯•é¢˜56 - II. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•° II åœ¨ä¸€ä¸ªæ•°ç»„ nums ä¸­é™¤ä¸€ä¸ªæ•°å­—åªå‡ºç°ä¸€æ¬¡ä¹‹å¤–ï¼Œå…¶ä»–æ•°å­—éƒ½å‡ºç°äº†ä¸‰æ¬¡ã€‚æ‰¾å‡ºé‚£ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ã€‚ ä½è¿ç®—ã€‚å¯¹äºå‡ºç°3æ¬¡çš„æ•°ï¼Œå…¶æ¯ä¸ªäºŒè¿›åˆ¶ä½ä¸Š1å‡ºç°çš„æ¬¡æ•°ä¸º3çš„å€æ•°ï¼Œå› æ­¤åªè¦æ‰¾å‡º1å‡ºç°æ¬¡æ•°æ¨¡3ä½™1çš„ä½å³å¯ã€‚å®ç°é‡‡ç”¨çŠ¶æ€æœºæ€æƒ³ï¼Œå¯ä»¥æ¨å‡ºçŠ¶æ€ï¼ˆtwo, oneï¼‰è½¬ç§»æ–¹ç¨‹ä¸ºone=one^n&amp;~two, two=two^n&amp;~oneã€‚ å¯ä»¥é€šè¿‡è§‚å¯ŸäºŒè¿›åˆ¶æŸä¸€ä½ä¸Š1å‡ºç°çš„æ¬¡æ•°æ¥ç¡®å®šä¸€ä¸ªæ•°å‡ºç°çš„æ¬¡æ•°ã€‚ é¢è¯•é¢˜63. è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦ æŠŠæŸè‚¡ç¥¨çš„ä»·æ ¼æŒ‰ç…§æ—¶é—´å…ˆåé¡ºåºå­˜å‚¨åœ¨æ•°ç»„ä¸­ï¼Œæ±‚ä¹°å–è¯¥è‚¡ç¥¨ä¸€æ¬¡å¯èƒ½è·å¾—çš„æœ€å¤§åˆ©æ¶¦ã€‚ï¼ˆæ‰¾å‡ºä¸€å‰ä¸€åä¸¤ä¸ªæ•°å·®å€¼æœ€å¤§ï¼‰ DPã€‚ï¼ˆä¼˜åŒ–åˆ°ä¸åƒdpï¼‰éå†ä»·æ ¼æ•°ç»„ï¼Œä½¿ç”¨å˜é‡min_priceå­˜å‚¨å‰iå¤©ä¸­çš„æœ€ä½ä»·æ ¼å¹¶ç»´æŠ¤ï¼Œæ›´æ–°å½“å‰æœ€å¤§åˆ©æ¶¦ans=max(ans, prices[i]-min_price)ï¼Œç„¶åæ›´æ–°min_price=min(min_price, prices[i]) é¢è¯•é¢˜64.æ±‚1+2+â€¦+n æ±‚ 1+2+...+n ï¼Œè¦æ±‚ä¸èƒ½ä½¿ç”¨ä¹˜é™¤æ³•ã€forã€whileã€ifã€elseã€switchã€caseç­‰å…³é”®å­—åŠæ¡ä»¶åˆ¤æ–­è¯­å¥ï¼ˆA?B:Cï¼‰ã€‚ æ³•ä¸€ï¼šæ±‚å’Œå…¬å¼ã€‚æ— æ³•ä½¿ç”¨å¾ªç¯å’Œåˆ†æ”¯æ‰€ä»¥ç”¨ä½è¿ç®—ä»£æ›¿ä¹˜æ³•ï¼š(b&amp;1) &amp;&amp; ans += a; b &lt;&lt;= 1; a &gt;&gt;= 1;ã€‚$n$æœ€å¤§ä¸º10000(14ä½)ï¼Œæ•…æ‰‹åŠ¨å±•å¼€14æ¬¡å³å¯ã€‚æ³•äºŒï¼šè¿­ä»£ã€‚ç¦æ­¢å¾ªç¯ï¼Œæ”¹ä¸ºé€’å½’ã€‚ç”¨boolè¿ç®—çš„çŸ­è·¯å®ç°æ¡ä»¶åˆ†æ”¯ï¼Œ(n &gt; 1) &amp;&amp; sum(n-1); ans += n; boolè¿ç®—çš„çŸ­è·¯å¯ä»¥å®ç°æ¡ä»¶åˆ†æ”¯ï¼ˆç¼–è¯‘å®éªŒç™½å†™äº†ï¼‰ é¢è¯•é¢˜67. æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæ•´æ•° é€ è½®å­ã€‚ æ²¡ä»€ä¹ˆç‰¹åˆ«çš„ç®—æ³•ï¼Œç›´æ¥å†™å°±è¡Œäº†ã€‚ æ¶¨å§¿åŠ¿ abs(str1.size()-str2.size())ä¼šæŠ¥é”™ï¼Œå› ä¸ºC++stringç±»çš„size()å‡½æ•°ä¸ºäº†ä¸åŒå¹³å°ä¸Šçš„å…¼å®¹æ€§è¿”å›çš„æ˜¯string::size_typeçš„ç±»å‹ã€‚è€Œabs()å‡½æ•°å¯ä»¥æ¥å—å¤šç§å‚æ•°ï¼Œä½†ç¼–è¯‘æ—¶æ— æ³•ç¡®å®šåº”è¯¥ä½¿ç”¨å“ªä¸ªabs()æ‰€ä»¥ä¼šæŠ¥ambiguousã€‚â€”â€”ä½¿ç”¨stringç±»çš„size()å‡½æ•°å…ˆç¡®å®šç±»å‹ C++çš„new [struct name]è¿”å›çš„æ˜¯æŒ‡é’ˆï¼ˆå°±ç›¸å½“äºCçš„mallocï¼‰ï¼Œæˆ‘æ€ä¹ˆè¿è¿™ä¸ªéƒ½ä¸çŸ¥é“â€¦â€¦ C++çš„boolè¡¨è¾¾å¼å‹¤åŠ æ‹¬å· C++å®šä¹‰åŠ¨æ€å¤§å°çš„äºŒç»´æ•°ç»„ï¼š 1vector&lt;vector&lt;int&gt;&gt; a(n, vector&lt;int&gt;(m, 0)); Pythonå®šä¹‰åŠ¨æ€å¤§å°çš„äºŒç»´æ•°ç»„ 1a = [[0 for _ in range(n)] for _ in range(m)] åœ¨è®¿é—®ä»»ä½•å¯¹è±¡çš„æˆå‘˜å‰æ£€æŸ¥å¯¹è±¡æ˜¯å¦éç©º pythonå®ç°é˜Ÿåˆ—å’Œæ ˆæ—¶ä¼˜å…ˆä½¿ç”¨dequeï¼Œå› ä¸ºä¸¤ç«¯çš„æ’å…¥å’Œåˆ é™¤æ“ä½œéƒ½æ˜¯$O(1)$ï¼Œè€Œæ™®é€šçš„Listæ˜¯$O(N)$ Pythonè®¾ç½®æœ€å¤§å€¼ï¼šfloat(&quot;+inf&quot;) å€ŸåŠ©æ ˆå¯ä»¥å°†éå†åºåˆ—è¿˜åŸä¸ºBST Pythonåè½¬å­—ç¬¦ä¸²s[::-1] PythonåŒæ—¶è¿­ä»£å…ƒç´ å’Œä¸‹æ ‡ï¼šfor i, x in enumerate(a) Pythonè‡ªå®šä¹‰æ’åºï¼š å®šä¹‰ä¸€ä¸ªå‡½æ•°cmp(a, b)ï¼Œæ»¡è¶³aæ’åœ¨bå‰é¢æ—¶è¿”å›-1ï¼ˆä»»æ„è´Ÿæ•°ï¼‰,å¦åˆ™è¿”å›1ï¼ˆä»»æ„æ­£æ•°ï¼‰ å¯¹å¾…æ’åºåˆ—è¡¨ä½¿ç”¨sorted(list_to_sort, key=functools.cmp_to_key(cmp)) åŸç†cmp_to_key(cmp)é‡Œé¢å®šä¹‰äº†ä¸€ä¸ªç±»ï¼Œè¯¥ç±»çš„__lt__()æ–¹æ³•è¿”å›Trueå½“ä¸”ä»…å½“cmp(self.obj, other.obj)&lt;0 äºŒåˆ†æœç´¢æ¨¡æ¿ï¼ˆ+1-1å‚»å‚»åˆ†ä¸æ¸…ï¼‰ 12345678# find the largest &#x27;x&#x27; that f(x) &lt;= targetwhile l &lt; r: m = (l + r + 1) // 2 if f(m) &lt;= target: l = m else: r = m - 1return l # return r is the same Pythonæ ‘çŠ¶æ•°ç»„æ¨¡æ¿ class BIT: def __init__(self, n): self.n = n self.tree = [0] * (n + 1) @staticmethod def lowbit(x): return x &amp; (-x) def query(self, x): ret = 0 while x &gt; 0: ret += self.tree[x] x -= BIT.lowbit(x) return ret def update(self, x, delta): while x &lt;= self.n: self.tree[x] += delta x += BIT.lowbit(x) Pythonè¯­è¨€ç›¸å…³å…¨å±€è§£é‡Šå™¨é”GIL Pythonçš„å¤šçº¿ç¨‹ç¨‹åºå¹¶ä¸èƒ½åˆ©ç”¨å¤šæ ¸CPUçš„ä¼˜åŠ¿ï¼Œå¦‚ä¸€ä¸ªä½¿ç”¨äº†å¤šä¸ªçº¿ç¨‹çš„è®¡ç®—å¯†é›†å‹ç¨‹åºåªä¼šåœ¨ä¸€ä¸ªå•CPUä¸Šé¢è¿è¡Œ GILåªä¼šå½±å“åˆ°é‚£äº›ä¸¥é‡ä¾èµ–CPUçš„ç¨‹åºï¼ˆæ¯”å¦‚è®¡ç®—å‹çš„ï¼‰ã€‚ å¦‚æœä½ çš„ç¨‹åºå¤§éƒ¨åˆ†åªä¼šæ¶‰åŠåˆ°I/Oï¼Œæ¯”å¦‚ç½‘ç»œäº¤äº’ï¼Œé‚£ä¹ˆä½¿ç”¨å¤šçº¿ç¨‹å°±å¾ˆåˆé€‚ï¼Œå› ä¸ºå®ƒä»¬å¤§éƒ¨åˆ†æ—¶é—´éƒ½åœ¨ç­‰å¾… çº¿ç¨‹ä¸æ˜¯ä¸“é—¨ç”¨æ¥ä¼˜åŒ–æ€§èƒ½çš„ã€‚ä¼˜åŒ–æ€§èƒ½åº”è¯¥ï¼šä¼˜åŒ–åº•å±‚ç®—æ³•ï¼Œæ€§èƒ½ç“¶é¢ˆä»£ç ç§»åˆ°Cè¯­è¨€æ‰©å±•æ¨¡å—ï¼ˆæ“ä½œæ•°ç»„ä½¿ç”¨Numpyï¼‰ï¼ŒPypyä½¿ç”¨JITç¼–è¯‘å™¨ä¼˜åŒ–æ‰§è¡Œæ•ˆç‡ è§£å†³ï¼š è¿›ç¨‹æ± ï¼ˆmultiprocessing.Pool()ï¼‰ã€‚è¿›ç¨‹æ± åœ¨å¦ä¸€ä¸ªè¿›ç¨‹ä¸­å¯åŠ¨ä¸€ä¸ªå•ç‹¬çš„Pythonè§£é‡Šå™¨å·¥ä½œ Cæ‰©å±•ï¼šè®¡ç®—å¯†é›†å‹ä»»åŠ¡è½¬ç§»ç»™Cï¼Œåœ¨Cä»£ç ä¸­é‡Šæ”¾GILã€‚Cpythonçš„ctypesåº“ä¼šåœ¨è°ƒç”¨Cæ—¶è‡ªåŠ¨é‡Šæ”¾GIL","categories":[],"tags":[]},{"title":"è®¡ç®—æœºç½‘ç»œ-æœŸæœ«å¤ä¹ ","slug":"network-review","date":"2019-12-29T02:37:19.000Z","updated":"2020-01-01T12:22:44.694Z","comments":true,"path":"2019/12/29/network-review/","link":"","permalink":"https://mengzelev.github.io/2019/12/29/network-review/","excerpt":"","text":"Ch1 è®¡ç®—æœºç½‘ç»œå’Œå› ç‰¹ç½‘1.1 ä»€ä¹ˆæ˜¯å› ç‰¹ç½‘1.1.1 å…·ä½“æ„æˆæè¿° å› ç‰¹ç½‘ï¼šä¸–ç•ŒèŒƒå›´çš„è®¡ç®—æœºç½‘ç»œï¼Œä¸€ä¸ªäº’è”äº†éå†å…¨ä¸–ç•Œçš„æ•°ä»¥äº¿è®¡çš„è®¡ç®—è®¾å¤‡çš„ç½‘ç»œã€‚ è¿æ¥åˆ°å› ç‰¹ç½‘çš„è®¾å¤‡ä¸€èˆ¬ç§°ä¸ºä¸»æœºï¼ˆhostï¼‰æˆ–ç«¯ç³»ç»Ÿï¼ˆend systemï¼‰ï¼Œç«¯ç³»ç»Ÿé€šè¿‡é€šä¿¡é“¾è·¯ï¼ˆcommunication linkï¼‰å’Œåˆ†ç»„äº¤æ¢æœºï¼ˆpacket switchï¼‰è¿æ¥åˆ°ä¸€èµ·ã€‚ é“¾è·¯çš„ä¼ è¾“é€Ÿç‡ä»¥æ¯”ç‰¹/ç§’åº¦é‡ï¼ˆbit/sæˆ–bpsï¼‰ åˆ†ç»„ï¼ˆpacketï¼‰æ˜¯å‘é€ç«¯ç³»ç»Ÿå°†æ•°æ®åˆ†æ®µï¼Œå¹¶ä¸ºæ¯æ®µåŠ ä¸Šé¦–éƒ¨å­—èŠ‚ï¼Œç”±æ­¤å½¢æˆçš„ä¿¡æ¯åŒ…ã€‚ è·¯ç”±å™¨ï¼ˆrouterï¼‰å’Œé“¾è·¯å±‚äº¤æ¢æœºï¼ˆlink-layer switchï¼‰æ˜¯ä¸¤ç§è‘—åçš„åˆ†ç»„äº¤æ¢æœºï¼Œå®ƒä»¬æœç€æœ€ç»ˆç›®çš„åœ°è½¬å‘åˆ†ç»„ã€‚ è·¯å¾„ï¼ˆrouteæˆ–pathï¼‰ï¼šä»å‘é€ç«¯ç³»ç»Ÿåˆ°æ¥æ”¶ç«¯ç³»ç»Ÿï¼Œä¸€ä¸ªåˆ†ç»„æ‰€ç»å†çš„ä¸€ç³»åˆ—é€šä¿¡é“¾è·¯å’Œåˆ†ç»„äº¤æ¢æœºã€‚ ç«¯ç³»ç»Ÿé€šè¿‡å› ç‰¹ç½‘æœåŠ¡æä¾›å•†ï¼ˆInternet service providerï¼ŒISPï¼‰æ¥å…¥å› ç‰¹ç½‘ã€‚ TCPï¼ˆä¼ è¾“æ§åˆ¶åè®®ï¼‰å’ŒIPï¼ˆç½‘é™…æ§åˆ¶åè®®ï¼‰åè®®æ˜¯å› ç‰¹ç½‘ä¸­ä¸¤ä¸ªæœ€ä¸ºé‡è¦çš„åè®®ï¼Œåè€…å®šä¹‰äº†åœ¨è·¯ç”±å™¨å’Œç«¯ç³»ç»Ÿä¹‹é—´å‘é€å’Œæ¥æ”¶çš„åˆ†ç»„æ ¼å¼ã€‚å› ç‰¹ç½‘çš„ä¸»è¦åè®®ç»Ÿç§°ä¸ºTCP/IPã€‚ å› ç‰¹ç½‘æ ‡å‡†ç”±å› ç‰¹ç½‘å·¥ç¨‹ä»»åŠ¡ç»„ï¼ˆIETFï¼‰ç ”å‘ï¼ŒIETFçš„æ ‡å‡†æ–‡æ¡£ç§°ä¸ºè¯·æ±‚è¯„è®ºï¼ˆRFCï¼‰ 1.1.2 æœåŠ¡æè¿° åˆ†å¸ƒå¼åº”ç”¨ç¨‹åºï¼šæ¶‰åŠå¤šå°ç›¸äº’äº¤æ¢æ•°æ®çš„ç«¯ç³»ç»Ÿçš„åº”ç”¨ç¨‹åºã€‚ å¥—æ¥å­—æ¥å£ï¼šä¸å› ç‰¹ç½‘ç›¸è¿çš„ç«¯ç³»ç»Ÿæä¾›ï¼Œè§„å®šäº†ç«¯ç³»ç»Ÿä¸Šçš„ç¨‹åº è¯·æ±‚å› ç‰¹ç½‘åŸºç¡€è®¾æ–½ å‘å¦ä¸€ä¸ªç«¯ç³»ç»Ÿä¸Šç¨‹åº äº¤ä»˜æ•°æ®çš„æ–¹å¼ 1.1.3 åè®® åè®®ï¼ˆprotocolï¼‰å®šä¹‰äº†åœ¨ä¸¤ä¸ªæˆ–å¤šä¸ªé€šä¿¡å®ä½“ä¹‹é—´äº¤æ¢çš„æŠ¥æ–‡æ ¼å¼å’Œæ¬¡åºï¼Œä»¥åŠæŠ¥æ–‡å‘é€å’Œ/æˆ–æ¥æ”¶ä¸€æ¡æŠ¥æ–‡æˆ–å…¶å®ƒäº‹ä»¶æ‰€é‡‡å–çš„åŠ¨ä½œã€‚ 1.2 ç½‘ç»œè¾¹ç¼˜ å› ç‰¹ç½‘çš„è¾¹ç¼˜ï¼šç«¯ç³»ç»Ÿï¼ˆ=ä¸»æœºï¼‰ ä¸»æœºå¯ä»¥åˆ’åˆ†ä¸ºå®¢æˆ·å’ŒæœåŠ¡å™¨ä¸¤ç±» P2Sæ¨¡å‹ å®¢æˆ·ç«¯: å‘é€è¯·æ±‚, æ¥å—æœåŠ¡ æœåŠ¡å™¨: å“åº”è¯·æ±‚, æä¾›æœåŠ¡, å§‹ç»ˆåœ¨çº¿, æ€§èƒ½æ›´å¼º P2Pæ¨¡å‹ æ— ä¸“ç”¨æœåŠ¡å™¨, æ¯è®¾å¤‡æ—¢æ˜¯å®¢æˆ·ç«¯ä¹Ÿæ˜¯æœåŠ¡å™¨ 1.2.1 æ¥å…¥ç½‘ æ¥å…¥ç½‘ï¼šå°†ç«¯ç³»ç»Ÿç‰©ç†è¿æ¥åˆ°å…¶è¾¹ç¼˜è·¯ç”±å™¨çš„ç½‘ç»œ è¾¹ç¼˜è·¯ç”±å™¨ï¼šç«¯ç³»ç»Ÿåˆ°ä»»ä½•å…¶ä»–ç«¯ç³»ç»Ÿçš„è·¯å¾„ä¸Šçš„ç¬¬ä¸€å°è·¯ç”±å™¨ å®¶åº­æ¥å…¥ï¼šDSLã€ç”µç¼†ã€FTTHã€æ‹¨å·å’Œå«æ˜Ÿï¼ˆMaxwellæ›´è¯¦ç»†ï¼‰ å®½å¸¦ä½å®…æ¥å…¥ï¼šæ•°å­—ç”¨æˆ·çº¿ï¼ˆDSLï¼‰å’Œç”µç¼† DSLï¼šç”¨æˆ·çš„æœ¬åœ°ç”µè¯å…¬å¸ä¹Ÿæ˜¯å®ƒçš„ISPï¼›è°ƒåˆ¶è§£è°ƒå™¨ä½¿ç”¨ç°æœ‰ç”µè¯çº¿ï¼›FDMï¼›ä¸‹è¡Œä¿¡é“æ¯”ä¸Šè¡Œä¿¡é“å¿«ï¼› ç”µç¼†å› ç‰¹ç½‘æ¥å…¥ï¼šåˆ©ç”¨æœ‰çº¿ç”µè§†å…¬å¸ç°æœ‰åŸºç¡€è®¾æ–½ï¼›ç”µç¼†è°ƒåˆ¶è§£è°ƒå™¨ï¼›ä¸‹è¡Œä¿¡é“æ¯”ä¸Šè¡Œä¿¡é“å¿«ï¼›é‡è¦ç‰¹å¾ï¼šå…±äº«å¹¿æ’­åª’ä½“ å…‰çº¤åˆ°æˆ·ï¼ˆFTTHï¼‰ï¼šä»æœ¬åœ°ä¸­å¿ƒå±€ç›´æ¥åˆ°å®¶åº­æä¾›ä¸€æ¡å…‰çº¤è·¯å¾„ï¼›ä¸»åŠ¨å…‰çº¤ç½‘ç»œAONv.s.è¢«åŠ¨å…‰çº¤ç½‘ç»œPON å«æ˜Ÿé“¾è·¯ï¼šè¶…è¿‡1Mbps æ‹¨å·ï¼šç”µè¯çº¿æ¥å…¥ISPï¼Œæ…¢çš„ä¸€æ¯”ï¼ˆ56kbpsï¼‰ ä¼ä¸š(å®¶åº­)æ¥å…¥ LAN ä»‹è´¨: åŒç»çº¿ æ‹“æ‰‘: è®¾å¤‡æ¥å…¥ä»¥å¤ªç½‘äº¤æ¢æœº, é€šè¿‡è·¯ç”±å™¨æ¥å…¥å› ç‰¹ç½‘ é€Ÿç‡: 10Mbps 100Mbps, 1Gbps, 10Gbps WiFi(802.11b/g/ac) 11Mbps, 54Mbps, 100Mbps+ ç”¨æˆ·éœ€ä½äºæ¥å…¥ç‚¹çš„å‡ åç±³èŒƒå›´å†… å¹¿åŸŸæ— çº¿æ¥å…¥: é€šä¿¡è¿è¥å•† åº”ç”¨ä¸èœ‚çªç§»åŠ¨ç”µè¯ç›¸åŒçš„æ— çº¿åŸºç¡€è®¾æ–½ï¼Œèœ‚çªç½‘æä¾›å•†è¿è¥çš„åŸºç«™ ä¸WiFiçš„ä¸åŒï¼šç”¨æˆ·ä»…éœ€è¦è·ç¦»åŸºç«™æ•°ä¸‡ç±³å†… 3G: 1Mbps 4G LTEï¼ˆé•¿æœŸæ¼”è¿›ï¼‰ / WiMAX(æ·˜æ±°): 10Mbps+ 5G: 20Gbps? 1.2.2 ç‰©ç†åª’ä½“ ç‰©ç†åª’ä½“ï¼ˆphysical mediumï¼‰ä¼ æ’­ç”µç£æ³¢æˆ–å…‰è„‰å†²æ¥å‘é€æ¯”ç‰¹ã€‚ åˆ†ä¸ºä¸¤ç±»ï¼šå¯¼å¼•å‹åª’ä½“å’Œéå¯¼å¼•å‹åª’ä½“ å¯¼å¼•å‹åª’ä½“ï¼šç”µæ³¢æ²¿å›ºä½“åª’ä½“å‰è¡Œï¼Œå¦‚å…‰ç¼†ã€åŒç»é“œçº¿ï¼ˆæœ€ä¾¿å®œä¸”ä½¿ç”¨æœ€ä¸ºæ™®éï¼‰æˆ–åŒè½´ç”µç¼†ï¼ˆå¯¼å¼•å‹å…±äº«åª’ä½“ï¼‰ éå¯¼å¼•å‹åª’ä½“ï¼šåœ¨ç©ºæ°”æˆ–å¤–å±‚ç©ºé—´ä¸­ä¼ æ’­ï¼Œå¦‚æ— çº¿å±€åŸŸç½‘æˆ–æ•°å­—å«æ˜Ÿé¢‘é“ã€‚é™†åœ°æ— çº¿ç”µä¿¡é“ã€å«æ˜Ÿæ— çº¿ç”µä¿¡é“ã€‚ 1.3 ç½‘ç»œæ ¸å¿ƒ ç½‘ç»œæ ¸å¿ƒï¼šç”±äº’è”å› ç‰¹ç½‘ç«¯ç³»ç»Ÿçš„åˆ†ç»„äº¤æ¢æœºå’Œé“¾è·¯æ„æˆçš„ç½‘çŠ¶ç½‘ç»œã€‚ åˆ†ç»„ä»¥ç­‰äºè¯¥é“¾è·¯æœ€å¤§ä¼ è¾“é€Ÿç‡çš„é€Ÿåº¦ä¼ è¾“é€šè¿‡é€šä¿¡é“¾è·¯ã€‚è‹¥æŸæºç«¯ç³»ç»Ÿæˆ–åˆ†ç»„äº¤æ¢æœºç»è¿‡ä¸€æ¡é“¾è·¯å‘é€ä¸€ä¸ªLæ¯”ç‰¹çš„åˆ†ç»„ï¼Œé“¾è·¯çš„ä¼ è¾“é€Ÿç‡ä¸ºRæ¯”ç‰¹/ç§’ï¼Œåˆ™ä¼ è¾“è¯¥åˆ†ç»„çš„æ—¶é—´ä¸ºL/Rç§’ã€‚ åˆ†ç»„äº¤æ¢ï¼šå¤šæ•°åˆ†ç»„äº¤æ¢æœºåœ¨é“¾è·¯çš„è¾“å…¥ç«¯ä½¿ç”¨å­˜å‚¨è½¬å‘ä¼ è¾“ï¼ˆstore-and-forward transmissionï¼‰æœºåˆ¶ã€‚åœ¨äº¤æ¢æœºèƒ½å¤Ÿå¼€å§‹å‘è¾“å‡ºé“¾è·¯ä¼ è¾“è¯¥åˆ†ç»„çš„ç¬¬ä¸€ä¸ªæ¯”ç‰¹ä¹‹å‰ï¼Œå¿…é¡»æ¥æ”¶åˆ°æ•´ä¸ªåˆ†ç»„ã€‚é€šè¿‡ç”±$N$æ¡é€Ÿç‡å‡ä¸º$R$çš„é“¾è·¯ç»„æˆçš„è·¯å¾„ï¼ˆå³ä»æºåˆ°ç›®çš„åœ°æœ‰$N-1$å°è·¯ç”±å™¨ï¼‰ï¼Œä»æºåˆ°ç›®çš„åœ°å‘é€ä¸€ä¸ªåˆ†ç»„ï¼Œç«¯åˆ°ç«¯æ—¶å»¶ä¸ºd_{ç«¯åˆ°ç«¯}=N\\frac{L}{R} æ’é˜Ÿæ—¶å»¶å’Œåˆ†ç»„ä¸¢å¤±ï¼šå¯¹äºæ¯æ¡ç›¸è¿çš„é“¾è·¯ï¼Œåˆ†ç»„äº¤æ¢æœºå…·æœ‰ä¸€ä¸ªè¾“å‡ºç¼“å­˜ï¼Œç”¨äºå­˜å‚¨è·¯ç”±å™¨å‡†å¤‡å‘å¾€é‚£æ¡é“¾è·¯çš„åˆ†ç»„ã€‚é™¤äº†å­˜å‚¨è½¬å‘æ—¶å»¶ï¼Œåˆ†ç»„è¿˜è¦æ‰¿å—è¾“å‡ºç¼“å­˜çš„æ’é˜Ÿæ—¶å»¶ã€‚å› ä¸ºç¼“å­˜ç©ºé—´å¤§å°æœ‰é™ï¼Œä¸€ä¸ªåˆ°è¾¾çš„åˆ†ç»„å¯èƒ½å‘ç°è¯¥ç¼“å­˜å·²è¢«å…¶ä»–ç­‰å¾…ä¼ è¾“çš„åˆ†ç»„å®Œå…¨å……æ»¡äº†ã€‚åœ¨æ­¤æƒ…å†µä¸‹ï¼Œå°†å‡ºç°åˆ†ç»„ä¸¢å¤±ï¼ˆä¸¢åŒ…ï¼‰ï¼ˆpackage lostï¼‰ï¼Œåˆ°è¾¾çš„åˆ†ç»„æˆ–å·²ç»æ’é˜Ÿçš„åˆ†ç»„ä¹‹ä¸€å°†è¢«ä¸¢å¼ƒã€‚ è½¬å‘è¡¨å’Œè·¯ç”±é€‰æ‹©åè®®ï¼šæ¯ä¸ªç«¯ç³»ç»Ÿå…·æœ‰ä¸€ä¸ªç§°ä¸ºIPåœ°å€çš„åœ°å€ã€‚å½“æºä¸»æœºè¦å‘ç›®çš„ç«¯ç³»ç»Ÿå‘é€ä¸€ä¸ªåˆ†ç»„æ—¶ï¼Œæºåœ¨è¯¥åˆ†ç»„çš„é¦–éƒ¨ä¸­åŒ…å«äº†ç›®çš„åœ°çš„IPåœ°å€ã€‚æ¯å°è·¯ç”±å™¨å…·æœ‰ä¸€ä¸ªè½¬å‘è¡¨ï¼ˆforwarding tableï¼‰ï¼Œç”¨äºå°†ç›®çš„åœ°å€æ˜ å°„æˆä¸ºè¾“å‡ºé“¾è·¯ã€‚ é€šè¿‡ç½‘ç»œé“¾è·¯å’Œäº¤æ¢æœºç§»åŠ¨æ•°æ®çš„ä¸¤ç§åŸºæœ¬æ–¹æ³•ï¼šç”µè·¯äº¤æ¢å’Œåˆ†ç»„äº¤æ¢ã€‚ ç”µè·¯äº¤æ¢ç½‘ç»œä¸­ï¼Œé¢„ç•™äº†ç«¯ç³»ç»Ÿé—´é€šä¿¡æ²¿è·¯å¾„æ‰€éœ€è¦çš„èµ„æºï¼ˆç¼“å­˜ã€é“¾è·¯ä¼ è¾“é€Ÿç‡ï¼‰ï¼Œè€Œåˆ†ç»„äº¤æ¢ç½‘ç»œä¸­ä¸é¢„ç•™ã€‚å½“ç½‘ç»œåˆ›å»ºè¿™ç§ç”µè·¯æ—¶ï¼Œå®ƒä¹Ÿåœ¨è¿æ¥æœŸé—´åœ¨è¯¥ç½‘ç»œé“¾è·¯ä¸Šé¢„ç•™äº†æ’å®šçš„ä¼ è¾“é€Ÿç‡ï¼Œå¦‚æ­¤å‘é€æ–¹èƒ½å¤Ÿä»¥æ’å®šé€Ÿç‡å‘æ¥æ”¶æ–¹ä¼ é€æ•°æ®ã€‚ é“¾è·¯ä¸­çš„ç”µè·¯é€šè¿‡é¢‘åˆ†å¤ç”¨FDMæˆ–æ—¶åˆ†å¤ç”¨TDMæ¥å®ç°ã€‚FDMä¸­é“¾è·¯çš„é¢‘è°±ç”±è·¨è¶Šé“¾è·¯åˆ›å»ºçš„æ‰€æœ‰è¿æ¥æ‰€å…±äº«ã€‚åœ¨è¿æ¥æœŸé—´é“¾è·¯ä¸ºæ¯æ¡è¿æ¥ä¸“ç”¨ä¸€ä¸ªé¢‘æ®µï¼Œè¯¥é¢‘æ®µçš„å®½åº¦ç§°ä¸ºå¸¦å®½ã€‚å¯¹äºä¸€æ¡TDMé“¾è·¯ï¼Œæ—¶é—´è¢«åˆ†ä¸ºå›ºå®šåŒºé—´çš„å¸§ï¼Œæ¯å¸§è¢«åˆ’åˆ†ä¸ºå›ºå®šæ•°é‡çš„æ—¶éš™ã€‚ åˆ†ç»„äº¤æ¢ä¸é€‚åˆå®æ—¶æœåŠ¡å¦‚ç”µè¯å’Œè§†é¢‘ä¼šè®®ï¼Œå› ä¸ºå®ƒçš„ç«¯åˆ°ç«¯æ—¶å»¶æ˜¯å¯å˜è€Œä¸å¯é¢„æµ‹çš„ã€‚åˆ†ç»„äº¤æ¢æ¯”ç”µè·¯äº¤æ¢æœ‰æ›´å¥½çš„å¸¦å®½å…±äº«ï¼Œæ¯”ç”µè·¯äº¤æ¢æ›´ç®€å•ï¼Œå®ç°æˆæœ¬æ›´ä½ã€‚ å¯¹æ¯” ç”µè·¯: æ—¶å»¶å›ºå®šï¼Œæ’å®šé€Ÿç‡ï¼Œæ²¡æœ‰æ‹¥å¡ï¼› åˆ†ç»„: æ—¶å»¶ä¸å¯é¢„æµ‹, å…±äº«å¸¦å®½æ›´é«˜, æ›´ç®€å•æœ‰æ•ˆæˆæœ¬ä½ ç”µè·¯é¢„å…ˆåˆ†é…, åˆ†ç»„æŒ‰éœ€åˆ†é… 1.4 åˆ†ç»„äº¤æ¢ç½‘ä¸­çš„æ—¶å»¶ã€ä¸¢åŒ…å’Œååé‡ ç»“ç‚¹æ€»æ—¶å»¶ = ç»“ç‚¹å¤„ç†æ—¶å»¶ + æ’é˜Ÿæ—¶å»¶ + ä¼ è¾“æ—¶å»¶ + ä¼ æ’­æ—¶å»¶ å¤„ç†æ—¶å»¶ï¼šæ£€æŸ¥åˆ†ç»„é¦–éƒ¨å’Œå†³å®šå°†è¯¥åˆ†ç»„å¯¼å‘ä½•å¤„ã€æ£€æŸ¥æ¯”ç‰¹çº§åˆ«çš„å·®é”™ç­‰æ‰€éœ€è¦çš„æ—¶é—´ã€‚å¤„ç†ç»“æŸåï¼Œè·¯ç”±å™¨å°†è¯¥åˆ†ç»„å¼•å‘é€šå¾€è·¯ç”±å™¨Bé“¾è·¯ä¹‹å‰çš„é˜Ÿåˆ—ã€‚ æ’é˜Ÿæ—¶å»¶ï¼šåˆ†ç»„åœ¨é“¾è·¯ä¸Šç­‰å¾…ä¼ è¾“ï¼Œå–å†³äºå…ˆæœŸåˆ°è¾¾çš„æ­£åœ¨æ’é˜Ÿç­‰å¾…å‘é“¾è·¯ä¼ è¾“çš„åˆ†ç»„æ•°é‡ã€‚ ä¼ è¾“æ—¶å»¶ï¼šå½“è¯¥åˆ†ç»„åˆ°è¾¾é˜Ÿé¦–æ—¶ï¼Œè®¾Læ¯”ç‰¹è¡¨ç¤ºè¯¥åˆ†ç»„çš„é•¿åº¦ï¼Œç”¨R bpsè¡¨ç¤ºä»è·¯ç”±å™¨Aåˆ°è·¯ç”±å™¨Bçš„é“¾è·¯ä¼ è¾“é€Ÿç‡ã€‚ä¼ è¾“æ—¶å»¶æ˜¯L/Rã€‚è¿™æ˜¯å°†æ‰€æœ‰åˆ†ç»„çš„æ¯”ç‰¹æ¨å‘é“¾è·¯æ‰€éœ€çš„æ—¶é—´ã€‚ ä¼ æ’­æ—¶å»¶ï¼šä¸€ä¸ªæ¯”ç‰¹ä»é“¾è·¯çš„èµ·ç‚¹åˆ°è·¯ç”±å™¨Bä¼ æ’­æ‰€éœ€çš„æ—¶é—´ã€‚ç­‰äºä¸¤å°è·¯ç”±å™¨ä¹‹é—´çš„è·ç¦»é™¤ä»¥ä¼ æ’­é€Ÿç‡ï¼Œå³d/sã€‚ åˆ»ç”»æ’é˜Ÿæ—¶å»¶å¯ä»¥ç”¨æµé‡å¼ºåº¦ï¼ˆtraffic intensityï¼‰ã€‚è®¾æ‰€æœ‰åˆ†ç»„ç”±Læ¯”ç‰¹ç»„æˆï¼Œaè¡¨ç¤ºåˆ†ç»„åˆ°è¾¾é˜Ÿåˆ—çš„å¹³å‡é€Ÿç‡ï¼ŒRè¡¨ç¤ºä¼ è¾“é€Ÿç‡å³ä»é˜Ÿåˆ—ä¸­æ¨å‡ºæ¯”ç‰¹çš„é€Ÿç‡ã€‚åˆ™æµé‡å¼ºåº¦ä¸ºLa/Rã€‚æµé‡å·¥ç¨‹ä¸­æœ‰ä¸€æ¡é‡‘ç§‘ç‰å¾‹ï¼šè®¾è®¡ç³»ç»Ÿæ—¶æµé‡å¼ºåº¦ä¸å¤§äº1ï¼Œå¦åˆ™é˜Ÿåˆ—æ— ç©·å¢åŠ ã€‚éšç€æµé‡å¼ºåº¦æ¥è¿‘1ï¼Œå¹³å‡æ’é˜Ÿé•¿åº¦å˜å¾—è¶Šæ¥è¶Šé•¿ã€‚è§P28å›¾1-18ã€‚ å‡å®šåœ¨æºä¸»æœºå’Œç›®çš„ä¸»æœºä¹‹é—´æœ‰N-1å°è·¯ç”±å™¨ï¼Œæ­¤æ—¶ç½‘ç»œæ— é˜»å¡ï¼Œåœ¨æ¯å°è·¯ç”±å™¨å’Œæºä¸»æœºä¸Šçš„å¤„ç†æ—¶å»¶ä¸º$d{proc}$ï¼Œæ¯å°è·¯ç”±å™¨å’Œæºä¸»æœºçš„è¾“å‡ºé€Ÿç‡ä¸º$R$ bpsï¼Œæ¯æ¡é“¾è·¯çš„ä¼ æ’­æ—¶å»¶ä¸º$d{prop}$ï¼Œåˆ™ç«¯åˆ°ç«¯æ—¶å»¶ä¸ºd_{end-end} = N(d_{proc} + d_{trans} + d_{prop})å…¶ä¸­æœ‰$d_{trans} = L/R$ã€‚ ä»ä¸»æœºAåˆ°ä¸»æœºBè·¨è¶Šè®¡ç®—æœºç½‘ç»œä¼ é€ä¸€ä¸ªå¤§æ–‡ä»¶ï¼Œåœ¨ä»»ä½•æ—¶é—´ç¬é—´çš„ç¬æ—¶ååé‡æ˜¯ä¸»æœºBæ¥æ”¶åˆ°è¯¥æ–‡ä»¶çš„é€Ÿç‡ã€‚è‹¥è¯¥æ–‡ä»¶ç”±Fæ¯”ç‰¹ç»„æˆï¼Œä¸»æœºBæ¥æ”¶åˆ°æ‰€æœ‰Fæ¯”ç‰¹ç”¨äº†Tç§’ï¼Œåˆ™æ–‡ä»¶ä¼ é€çš„å¹³å‡ååé‡ä¸ºF/Tã€‚ 1.5 åè®®å±‚æ¬¡åŠæœåŠ¡æ¨¡å‹ å› ç‰¹ç½‘åè®®æ ˆå±‚æ¬¡ï¼šç‰©ç†å±‚ã€é“¾è·¯å±‚ã€ç½‘ç»œå±‚ã€è¿è¾“å±‚ã€åº”ç”¨å±‚ã€‚ åº”ç”¨å±‚ï¼šç½‘ç»œåº”ç”¨ç¨‹åºåŠå®ƒä»¬çš„åº”ç”¨å±‚åè®®å­˜ç•™çš„åœ°æ–¹ã€‚ä½äºåº”ç”¨å±‚çš„ä¿¡æ¯åˆ†ç»„ç§°ä¸ºæŠ¥æ–‡ï¼ˆmessageï¼‰ è¿è¾“å±‚ï¼šåœ¨åº”ç”¨ç¨‹åºç«¯ç‚¹ä¹‹é—´ä¼ é€åº”ç”¨å±‚æŠ¥æ–‡ã€‚è¿è¾“å±‚åˆ†ç»„ç§°ä¸ºæŠ¥æ–‡æ®µï¼ˆsegmentï¼‰ ç½‘ç»œå±‚ï¼šè´Ÿè´£å°†ç§°ä¸ºæ•°æ®æŠ¥ï¼ˆdatagramï¼‰çš„ç½‘ç»œå±‚åˆ†ç»„ä»ä¸€å°ä¸»æœºç§»åŠ¨åˆ°å¦ä¸€å°ä¸»æœº é“¾è·¯å±‚ï¼šå°†åˆ†ç»„ä»ä¸€ä¸ªç»“ç‚¹ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªç»“ç‚¹ã€‚åœ¨æ¯ä¸ªç»“ç‚¹ï¼Œç½‘ç»œå±‚å°†æ•°æ®æŠ¥ä¸‹ä¼ ç»™é“¾è·¯å±‚ï¼Œé“¾è·¯å±‚æ²¿ç€è·¯å¾„å°†æ•°æ®æŠ¥ä¼ é€’ç»™ä¸‹ä¸€ç»“ç‚¹ã€‚ä¸‹ä¸ªç»“ç‚¹ï¼Œé“¾è·¯å±‚å°†æ•°æ®æŠ¥ä¸Šä¼ ç»™ç½‘ç»œå±‚ã€‚é“¾è·¯å±‚åˆ†ç»„ç§°ä¸ºå¸§ï¼ˆframeï¼‰ ç‰©ç†å±‚ï¼šå°†å¸§ä¸­çš„ä¸€ä¸ªä¸ªæ¯”ç‰¹ä»ä¸€ä¸ªç»“ç‚¹ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªç»“ç‚¹ã€‚ OSIæ¨¡å‹ï¼šåº”ç”¨å±‚ã€è¡¨ç¤ºå±‚ã€ä¼šè¯å±‚ã€è¿è¾“å±‚ã€ç½‘ç»œå±‚ã€æ•°æ®é“¾è·¯å±‚å’Œç‰©ç†å±‚ã€‚è¡¨ç¤ºå±‚ï¼šä½¿é€šä¿¡çš„åº”ç”¨ç¨‹åºèƒ½å¤Ÿè§£é‡Šäº¤æ¢æ•°æ®çš„å«ä¹‰ã€‚ä¼šè¯å±‚ï¼šæä¾›æ•°æ®äº¤æ¢å®šç•Œå’ŒåŒæ­¥åŠŸèƒ½ï¼ŒåŒ…æ‹¬å»ºç«‹æ£€æŸ¥ç‚¹å’Œæ¢å¤æ–¹æ¡ˆçš„æ–¹æ³•ã€‚ ä¸»æœºå®ç°æ‰€æœ‰äº”ä¸ªå±‚æ¬¡ï¼Œé“¾è·¯å±‚äº¤æ¢æœºå®ç°ç¬¬ä¸€å±‚å’Œç¬¬äºŒå±‚ï¼Œè·¯ç”±å™¨å®ç°äº†ä¸€åˆ°ä¸‰å±‚ã€‚ 1.6 é¢å¯¹æ”»å‡»çš„ç½‘ç»œ æ”»å‡»ä¸ªäººç”µè„‘ æ¶æ„è½¯ä»¶ å¤§å¤šæ•°éƒ½æ˜¯è‡ªæˆ‘å¤åˆ¶çš„ ç—…æ¯’: éœ€è¦æŸç§å½¢å¼çš„ç”¨æˆ·äº¤äº’æ¥æ„ŸæŸ“ç”¨æˆ·è®¾å¤‡ è •è™«: æ— éœ€ä»»ä½•æ˜æ˜¾ç”¨æˆ·äº¤äº’å°±èƒ½è¿›å…¥è®¾å¤‡ æœ¨é©¬: ä¼ªè£…æˆæ— å®³ç¨‹åº, å¸å¼•ç”¨æˆ·ç‚¹å‡» åé—¨: ç»•è¿‡æˆæƒéªŒè¯ å¹¿å‘Šè½¯ä»¶: è®¿é—®å¼¹å‡ºå¹¿å‘Š é—´è°è½¯ä»¶: æ”¶é›†ç”¨æˆ·çš„è¾“å…¥, è®°å½•ç”¨æˆ·æ´»åŠ¨ æ”»å‡»æœåŠ¡å™¨å’Œç½‘ç»œåŸºç¡€è®¾æ–½ æ‹’ç»æœåŠ¡æ”»å‡»DoS ä½¿å¾—æœåŠ¡ä¸èƒ½ç”±åˆæ³•ç”¨æˆ·ä½¿ç”¨ å¼±ç‚¹æ”»å‡»: é’ˆå¯¹æ˜“å—æ”»å‡»çš„ç¨‹åºæˆ–æ“ä½œç³»ç»Ÿ, å¼•å‘åœæ­¢è¿è¡Œæˆ–å´©æºƒ å¸¦å®½æ´ªæ³›: å¤§é‡å‘é€åˆ†ç»„åˆ°ç›®æ ‡, ä½¿é“¾è·¯æ‹¥å¡ è¿æ¥æ´ªæ³›: åˆ›å»ºå¤§é‡åŠå¼€æˆ–å…¨å¼€çš„TCPè¿æ¥, è€—å°½èµ„æº åˆ†å¸ƒå¼DoS(DDoS) æ”»å‡»è€…æ§åˆ¶å¤šä¸ªæº åƒµå°¸ç½‘è·¯: æ”»å‡»è€…ç”¨æ¶æ„è½¯ä»¶æ§åˆ¶å¤§é‡è®¡ç®—æœº, ä½œä¸ºDDoSçš„æºå¤´ç­‰ å—…æ¢åˆ†ç»„ åˆ†ç»„å—…æ¢å™¨: è®°å½•æ¯ä¸ªæµç»çš„åˆ†ç»„å‰¯æœ¬çš„è¢«åŠ¨æ¥æ”¶æœº é˜²èŒƒ: åŠ å¯† ä¼ªè£… IPæ¬ºéª—: å°†å…·æœ‰è™šå‡æºåœ°å€çš„åˆ†ç»„æ³¨å…¥å› ç‰¹ç½‘ é‡æ”¾æ”»å‡» ä¸­é—´äººæ”»å‡» è¿æ¥åŠ«æŒ è§£å†³æ–¹æ¡ˆ: åŠ å¯†, æ•°å­—ç­¾å, MAC ç¬¬ä¸‰ç« Ch3 è¿è¾“å±‚è¿è¾“å±‚ä¸ºè¿è¡Œåœ¨ä¸åŒä¸»æœºä¸Šçš„åº”ç”¨ç¨‹åºä¹‹é—´æä¾›äº†é€»è¾‘é€šä¿¡åŠŸèƒ½ã€‚é€šè¿‡é€»è¾‘é€šä¿¡ï¼Œè¿è¡Œä¸åŒè¿›ç¨‹çš„ä¸»æœºå¥½åƒç›´æ¥ç›¸è¿ä¸€æ ·ã€‚åº”ç”¨è¿›ç¨‹ä½¿ç”¨è¿è¾“å±‚æä¾›çš„é€»è¾‘é€šä¿¡åŠŸèƒ½å½¼æ­¤å‘é€æŠ¥æ–‡ï¼Œè€Œæ— é¡»è€ƒè™‘æ‰¿è½½è¿™äº›æŠ¥æ–‡çš„ç‰©ç†åŸºç¡€è®¾æ–½çš„ç»†èŠ‚ã€‚ è¿è¾“å±‚åªå·¥ä½œåœ¨ç«¯ç³»ç»Ÿä¸­ã€‚åœ¨ç«¯ç³»ç»Ÿä¸­ï¼Œè¿è¾“å±‚åè®®å°†æ¥è‡ªåº”ç”¨è¿›ç¨‹çš„æŠ¥æ–‡ç§»åŠ¨åˆ°ç½‘ç»œè¾¹ç¼˜ï¼ˆå³ç½‘ç»œå±‚ï¼‰ã€‚è¿è¾“å±‚èƒ½å¤Ÿæä¾›çš„æœåŠ¡å¸¸å¸¸å—åˆ¶äºåº•å±‚ç½‘ç»œåè®®çš„æœåŠ¡æ¨¡å‹ï¼ˆå¸¦å®½æ—¶å»¶ç­‰ï¼‰ï¼Œä½†åº•å±‚ç½‘ç»œåè®®ä¸å¯é ã€éæœºå¯†æ€§çš„æƒ…å†µä¸‹ï¼Œè¿è¾“å±‚ä¹Ÿèƒ½æä¾›å¯é æ€§å’Œæœºå¯†æ€§ã€‚ UDPå’ŒTCPæœ€åŸºæœ¬çš„è´£ä»»æ˜¯ï¼šå°†ä¸¤ä¸ªç«¯ç³»ç»Ÿé—´IPçš„äº¤ä»˜æœåŠ¡æ‰©å±•ä¸ºè¿è¡Œåœ¨ç«¯ç³»ç»Ÿä¸Šçš„ä¸¤ä¸ªè¿›ç¨‹ä¹‹é—´çš„äº¤ä»˜æœåŠ¡ã€‚å°†ä¸»æœºé—´äº¤ä»˜æ‰©å±•åˆ°è¿›ç¨‹é—´äº¤ä»˜è¢«ç§°ä¸ºè¿è¾“å±‚çš„å¤šè·¯å¤ç”¨ä¸å¤šè·¯åˆ†è§£ç½‘ç»œå±‚ï¼šä¸»æœº$\\Leftrightarrow$ä¸»æœºè¿è¾“å±‚ï¼šè¿›ç¨‹$\\Leftrightarrow$è¿›ç¨‹ å¤šè·¯å¤ç”¨å’Œå¤šè·¯åˆ†è§£è¿›ç¨‹ä½¿ç”¨å¥—æ¥å­—ä½œä¸ºä¸ç½‘ç»œäº¤äº’æ•°æ®çš„é—¨æˆ·ï¼Œè¿è¾“å±‚å°†æ•°æ®äº¤ä»˜ç»™å¥—æ¥å­—ã€‚æ¯ä¸ªå¥—æ¥å­—æœ‰å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œæ ‡è¯†ç¬¦æ ¼å¼å–å†³äºå®ƒæ˜¯UDPè¿˜æ˜¯TCPå¥—æ¥å­—ã€‚ æ¯ä¸ªè¿è¾“å±‚æŠ¥æ–‡æ®µä¸­å…·æœ‰å‡ ä¸ªå­—æ®µã€‚å¤šè·¯åˆ†è§£ï¼šï¼ˆæ‹†åŒ…ï¼‰å°†è¿è¾“å±‚æŠ¥æ–‡æ®µä¸­çš„æ•°æ®äº¤ä»˜åˆ°æ­£ç¡®çš„å¥—æ¥å­—å¤šè·¯å¤ç”¨ï¼šï¼ˆæ‰“åŒ…ï¼‰ä»æºä¸»æœºçš„ä¸åŒå¥—æ¥å­—ä¸­æ”¶é›†æ•°æ®å—ï¼Œå¹¶ä¸ºæ¯ä¸ªæ•°æ®å—å°ä¸Šé¦–éƒ¨ä¿¡æ¯ä»è€Œç”ŸæˆæŠ¥æ–‡æ®µï¼Œç„¶åå°†æŠ¥æ–‡æ®µä¼ é€’åˆ°ç½‘ç»œå±‚ å¥—æ¥å­—è¦æœ‰å”¯ä¸€æ ‡è¯†ç¬¦ã€æ¯ä¸ªæŠ¥æ–‡æ®µæœ‰ç‰¹æ®Šå­—æ®µæ¥åªæ˜¯è¯¥æŠ¥æ–‡æ®µæ‰€è¦äº¤ä»˜åˆ°çš„å¥—æ¥å­—ï¼Œç‰¹æ®Šå­—æ®µå³æºç«¯å£å·å­—æ®µ&amp;ç›®çš„ç«¯å£å·å­—æ®µ ç«¯å£å· 16æ¯”ç‰¹æ•°ï¼Œå¤§å°åœ¨0~65535 0~1023ç§°ä¸ºå‘¨çŸ¥ç«¯å£å·ï¼Œä¿ç•™ç»™æ³¨å…¥HTTPï¼ˆ80ï¼‰å’ŒFTPï¼ˆ21ï¼‰ä¹‹ç±»çš„å‘¨çŸ¥åº”ç”¨å±‚åè®® å¼€å‘æ–°åº”ç”¨ç¨‹åºæ—¶å¿…é¡»ä¸ºå…¶åˆ†é…ä¸€ä¸ªç«¯å£å· UDPçš„å¤šè·¯å¤ç”¨ä¸å¤šè·¯åˆ†è§£åˆ›å»ºå¥—æ¥å­—æ—¶ï¼Œç«¯å£å·æœ‰ä¸¤ç§äº§ç”Ÿæ–¹å¼ï¼š è¿è¾“å±‚è‡ªåŠ¨ä¸ºå¥—æ¥å­—åˆ†é…ä¸€ä¸ªç«¯å£å·ï¼Œä»1024~65535å†…é€‰æ‹©ä¸€ä¸ªå½“å‰æœªè¢«è¯¥ä¸»æœºä¸­ä»»ä½•å…¶ä»–UDPç«¯å£ä½¿ç”¨çš„å· é€šè¿‡å¥—æ¥å­—bind()(Python)æ–¹æ³•ä¸ºè¿™ä¸ªUDPå¥—æ¥å­—å…³è”ä¸€ä¸ªç‰¹å®šçš„ç«¯å£å·é€šå¸¸åº”ç”¨ç¨‹åºè‡ªåŠ¨ï¼ŒæœåŠ¡å™¨æ‰‹åŠ¨ ä¸€ä¸ªUDPå¥—æ¥å­—æ˜¯ç”±ä¸€ä¸ªäºŒå…ƒç»„å…¨é¢æ ‡è¯†çš„ï¼Œè¯¥äºŒå…ƒç»„åŒ…å«ä¸€ä¸ªç›®çš„IPåœ°å€å’Œä¸€ä¸ªç›®çš„ç«¯å£å·ã€‚å› æ­¤åªè¦ä¸¤ä¸ªUDPæŠ¥æ–‡æ®µå…·æœ‰ç›¸åŒçš„ç›®çš„IPåœ°å€å’Œç›®çš„ç«¯å£å·ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªæŠ¥æ–‡æ®µå°†é€šè¿‡ç›¸åŒçš„ç›®çš„å¥—æ¥å­—è¢«å®šå‘åˆ°ç›¸åŒçš„ç›®çš„è¿›ç¨‹ã€‚ æºç«¯å£å·ç”¨äºæ¥æ”¶æ–¹å‘å›ç»™å‘é€æ–¹ TCPçš„å¤šè·¯å¤ç”¨ä¸å¤šè·¯åˆ†è§£TCPå¥—æ¥å­—ç”±å››å…ƒç»„ï¼ˆæºIPåœ°å€ã€æºç«¯å£å·ã€ç›®çš„IPåœ°å€ã€ç›®çš„ç«¯å£å·ï¼‰æ¥æ ‡è¯†ä¸UDPä¸åŒï¼Œä¸¤ä¸ªä¸åŒæºIPå’Œæˆ–æºç«¯å£å·çš„TCPæŠ¥æ–‡æ®µå°†è¢«å®šå‘åˆ°ä¸¤ä¸ªä¸åŒçš„å¥—æ¥å­—ï¼Œé™¤éTCPæŠ¥æ–‡æ®µæºå¸¦äº†åˆå§‹åˆ›å»ºè¿æ¥çš„è¯·æ±‚ TCPæœåŠ¡å™¨åº”ç”¨ç¨‹åºæœ‰ä¸€ä¸ªâ€œæ¬¢è¿å¥—æ¥å­—â€ï¼Œåœ¨æŸä¸ªç‰¹å®šç«¯å£ä¸Šç­‰å¾…æ¥è‡ªTCPå®¢æˆ·çš„è¿æ¥å»ºç«‹è¯·æ±‚ TCPå®¢æˆ·åˆ›å»ºä¸€ä¸ªå¥—æ¥å­—å¹¶å‘é€ä¸€ä¸ªè¿æ¥å»ºç«‹è¯·æ±‚æŠ¥æ–‡æ®µ ä¸€æ¡è¿æ¥å»ºç«‹è¯·æ±‚åªä¸è¿‡æ˜¯ä¸€ä¸ªç›®çš„ç«¯å£å·ä¸º12000ï¼ŒTCPé¦–éƒ¨çš„ç‰¹å®šâ€œè¿æ¥å»ºç«‹ä½â€ç½®ä½çš„TCPæŠ¥æ–‡æ®µï¼Œè¿™ä¸ªæŠ¥æ–‡æ®µä¹ŸåŒ…å«ä¸€ä¸ªç”±å®¢æˆ·é€‰æ‹©çš„æºç«¯å£å· å½“è¿è¡ŒæœåŠ¡å™¨è¿›ç¨‹çš„è®¡ç®—æœºçš„ä¸»æœºæ“ä½œç³»ç»Ÿæ¥æ”¶åˆ°å…·æœ‰ç›®çš„ç«¯å£å·ä¸º12000çš„å…¥è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µåï¼Œå®ƒå°±å®šä½æœåŠ¡å™¨è¿›ç¨‹ï¼Œè¯¥è¿›ç¨‹æ­£åœ¨ç«¯å£å·12000ç­‰å¾…æ¥æ”¶è¿æ¥ã€‚è¯¥æœåŠ¡å™¨è¿›ç¨‹ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å¥—æ¥å­—ã€‚ æ–°åˆ›å»ºçš„æŠ¥æ–‡è®¾ç½®å¥½4ä¸ªæ ‡è¯†ç¬¦ï¼Œä¹‹åçš„æŠ¥æ–‡æ®µæŒ‰ç…§è¿™4ä¸ªæ ‡è¯†ç¬¦æ¥å®šå‘ã€‚ æœåŠ¡å™¨ä¸»æœºæ”¯æŒå¾ˆå¤šå¹¶è¡Œçš„TCPå¥—æ¥å­—ï¼Œæ¯ä¸ªå¥—æ¥å­—ä¸ä¸€ä¸ªè¿›ç¨‹ç›¸è”ç³»ã€‚ è¿æ¥å¥—æ¥å­—ä¸è¿›ç¨‹ä¹‹é—´å¹¶éæ€»æ˜¯æœ‰ç€ä¸€ä¸€å¯¹åº”çš„å…³ç³»ï¼ˆçº¿ç¨‹ æ— è¿æ¥è¿è¾“ï¼šUDPå‘é€æ–¹å’Œæ¥æ”¶æ–¹çš„è¿è¾“å±‚å®ä½“ä¹‹é—´æ²¡æœ‰æ¡æ‰‹â€”â€”æ— è¿æ¥çš„ e.g.DNSé€šå¸¸ä½¿ç”¨UDPåº”ç”¨å±‚åè®® UDPçš„ä¼˜ç‚¹ å…³äºå‘é€ä»€ä¹ˆæ•°æ®ä»¥åŠä½•æ—¶å‘é€çš„åº”ç”¨å±‚æ§åˆ¶æ›´ä¸ºç²¾ç»†ã€‚ å®æ—¶åº”ç”¨é€šå¸¸è¦æ±‚æœ€å°å‘é€é€Ÿç‡ï¼Œä¸å¸Œæœ›è¿‡åˆ†åœ°å»¶è¿ŸæŠ¥æ–‡æ®µçš„ä¼ é€ï¼Œä¸”èƒ½å®¹å¿ä¸€äº›æ•°æ®ä¸¢å¤± æ— é¡»è¿æ¥å»ºç«‹ï¼Œä¸ä¼šå¼•å…¥å»ºç«‹è¿æ¥çš„æ—¶å»¶ æ— è¿æ¥çŠ¶æ€ï¼ŒèŠ‚çº¦å­˜å‚¨ç©ºé—´ï¼Œå¯ä»¥æ”¯æŒæ›´å¤šæ´»è·ƒç”¨æˆ·ã€‚ åˆ†ç»„é¦–éƒ¨å¼€é”€å°ï¼ŒTCP20å­—èŠ‚ï¼ŒUDP8è‡ªå·± UDPæŠ¥æ–‡æ®µç»“æ„ æºç«¯å£å·/ç›®çš„ç«¯å£å·ï¼ˆå„16æ¯”ç‰¹ï¼‰ é•¿åº¦ï¼ˆ16æ¯”ç‰¹ï¼‰ï¼šé¦–éƒ¨+æ•°æ®çš„å­—èŠ‚æ•° æ£€éªŒå’Œ åº”ç”¨æ•°æ® UDPæ£€éªŒå’Œå®é™…åŒ…æ‹¬ä¸€äº›IPé¦–éƒ¨å­—æ®µï¼Œæ­¤å¤„å¿½ç•¥ 16æ¯”ç‰¹å­—çš„åç è¿ç®—ï¼Œæ±‚å’Œæ—¶é‡åˆ°çš„ä»»ä½•æº¢å‡ºéƒ½è¢«å›å·ï¼ˆåŠ åˆ°æœ«å°¾å»ï¼‰è¯¦è§ä½œä¸šé¢˜CH6 P3 ç«¯åˆ°ç«¯åŸåˆ™ï¼šå¦‚æœç«¯åˆ°ç«¯ä¼ è¾“æœåŠ¡è¦æä¾›å·®é”™æ£€æµ‹ï¼ŒUDPå°±å¿…é¡»åœ¨ç«¯åˆ°ç«¯åŸºç¡€ä¸Šåœ¨è¿è¾“å±‚æä¾›å·®é”™æ£€æµ‹â€œä¸åœ¨è¾ƒé«˜çº§åˆ«æä¾›è¿™äº›åŠŸèƒ½çš„ä»£ä»·ç›¸æ¯”ï¼Œåœ¨è¾ƒä½çº§åˆ«ä¸Šè®¾ç½®çš„åŠŸèƒ½å¯èƒ½æ˜¯å†—ä½™çš„æˆ–å‡ ä¹æ²¡æœ‰ä»·å€¼çš„â€ ä¸è¿›è¡Œå·®é”™æ¢å¤ï¼Œåªèƒ½ä¸¢å¼ƒ/äº¤ç»™åº”ç”¨ç¨‹åºå¹¶å‘å‡ºè­¦å‘Š é¢å‘è¿æ¥çš„è¿è¾“ï¼šTCPTCPè¿æ¥ä¸¤ä¸ªè¿›ç¨‹åœ¨å‘é€æ•°æ®ä¹‹å‰å¿…é¡»å…ˆç›¸äº’â€œæ¡æ‰‹â€ï¼Œå³å®ƒä»¬å¿…é¡»äº’ç›¸å‘é€æŸäº›é¢„å¤‡æŠ¥æ–‡æ®µï¼Œä»¥å»ºç«‹ç¡®ä¿æ•°æ®ä¼ è¾“çš„å‚æ•° TCPè¿æ¥æ˜¯ä¸€æ¡é€»è¾‘è¿æ¥ï¼Œå…¶å…±åŒçŠ¶æ€ä»…ä¿ç•™åœ¨ä¸¤ä¸ªé€šä¿¡ç«¯ç³»ç»Ÿçš„TCPç¨‹åºä¸­ï¼Œä¸­é—´ç½‘ç»œå…ƒç´ ä¸ä¼šç»´æŒTCPè¿æ¥çŠ¶æ€ã€‚ å…¨åŒå·¥æœåŠ¡ï¼ˆfull-duplex serviceï¼‰ï¼šå¦‚æœè¿›ç¨‹Aä¸è¿›ç¨‹Bå­˜åœ¨ä¸€æ¡TCPè¿æ¥ï¼Œåˆ™åº”ç”¨å±‚æ•°æ®å¯ä»¥åœ¨è¿™ä¸¤å°ä¸»æœºé—´åŒå‘æµåŠ¨ ç‚¹å¯¹ç‚¹ï¼šå•ä¸ªå‘é€æ–¹ä¸å•ä¸ªæ¥æ”¶æ–¹ä¹‹é—´çš„è¿æ¥ å‘èµ·è¿æ¥çš„ç§°ä¸ºå®¢æˆ·è¿›ç¨‹ï¼Œå¦ä¸€ä¸ªè¿›ç¨‹è¢«ç§°ä¸ºæœåŠ¡å™¨è¿æ¥ å®¢æˆ·è¿›ç¨‹é€šè¿‡å¥—æ¥å­—ï¼ˆè¯¥è¿›ç¨‹ä¹‹é—¨ï¼‰ä¼ é€’æ•°æ®æµï¼ŒTCPå°†è¿™äº›æ•°æ®å¼•å¯¼åˆ°è¯¥è¿æ¥çš„å‘é€ç¼“å­˜é‡Œ TCPä¼šæ—¶ä¸æ—¶ä»å‘é€ç¼“å­˜é‡Œå–å‡ºä¸€å—æ•°æ®ï¼Œå¹¶å°†æ•°æ®ä¼ é€’åˆ°ç½‘ç»œå±‚ TCPå¯æ”¾å…¥æŠ¥æ–‡æ®µçš„æœ€å¤§æ•°æ®æ•°é‡å—é™äºæœ€å¤§æŠ¥æ–‡æ®µé•¿åº¦(MSS) MSSé€šå¸¸æ ¹æ®æœ€åˆç¡®å®šçš„ç”±æœ¬åœ°å‘é€ä¸»æœºçš„æœ€å¤§é“¾è·¯å±‚å¸§é•¿åº¦ï¼ˆæœ€å¤§ä¼ è¾“å•å…ƒMTUï¼‰æ¥è®¾ç½® MSSè¦ä¿è¯ä¸€ä¸ªTCPæŠ¥æ–‡æ®µ+TCP/IPé¦–éƒ¨é•¿åº¦ï¼ˆé€šå¸¸40å­—èŠ‚ï¼‰å°äºç­‰äºå•ä¸ªé“¾è·¯å±‚å¸§é•¿åº¦ MSSæŒ‡æŠ¥æ–‡æ®µé‡Œåº”ç”¨å±‚æ•°æ®çš„æœ€å¤§é•¿åº¦ï¼Œä¸åŒ…æ‹¬é¦–éƒ¨ TCPåœ¨å¦ä¸€ç«¯æ¥æ”¶åˆ°æŠ¥æ–‡æ®µåï¼Œè¯¥æŠ¥æ–‡æ®µçš„æ•°æ®å°±è¢«æ”¾å…¥è¯¥TCPè¿æ¥çš„æ¥æ”¶ç¼“å­˜ä¸­ TCPè¿æ¥ç»„æˆåŒ…æ‹¬ï¼šä¸¤å°ä¸»æœºä¸Šçš„ç¼“å­˜ã€å˜é‡ä¸è¿›ç¨‹è¿æ¥çš„å¥—æ¥å­— TCPæŠ¥æ–‡æ®µç»“æ„ æºç«¯å£å·å’Œç›®çš„ç«¯å£å·ï¼ˆå„16æ¯”ç‰¹ï¼‰ åºå·å’Œç¡®è®¤å·ï¼ˆå„32æ¯”ç‰¹ï¼‰ï¼šç”¨æ¥å®ç°å¯é æ•°æ®ä¼ è¾“æœåŠ¡ æ¥æ”¶çª—å£å­—æ®µï¼ˆ16æ¯”ç‰¹ï¼‰ï¼šç”¨äºæµé‡æ§åˆ¶ï¼Œè¡¨ç¤ºæ¥æ”¶æ–¹ æ„¿æ„æ¥æ”¶çš„å­—èŠ‚æ•°é‡ é¦–éƒ¨é•¿åº¦å­—æ®µï¼ˆ4æ¯”ç‰¹ï¼‰ï¼šæŒ‡ç¤ºäº†ä»¥32æ¯”ç‰¹ä¸ºå•ä½çš„TCPé¦–éƒ¨é•¿åº¦ã€‚TCPé¦–éƒ¨é•¿åº¦å¯å˜ï¼Œä½†é€šå¸¸æ˜¯20å­—èŠ‚ã€‚ æ ‡å¿—å­—æ®µï¼ˆ6æ¯”ç‰¹ï¼‰ï¼šä¸€äº›flag ACKï¼šç”¨äºæŒ‡ç¤ºç¡®è®¤å­—æ®µä¸­çš„å€¼æ˜¯æœ‰æ•ˆçš„ RSTã€SYNã€FINï¼šç”¨äºè¿æ¥çš„å»ºç«‹å’Œæ‹†é™¤ CERã€ECEï¼šæ˜ç¡®æ‹¥å¡é€šå‘Šä¸­ä½¿ç”¨ PSHï¼šæŒ‡ç¤ºæ¥æ”¶æ–¹åº”è¯¥ç«‹å³å°†æ•°æ®äº¤ç»™ä¸Šå±‚ URGï¼šæŒ‡ç¤ºæŠ¥æ–‡æ®µé‡Œå­˜åœ¨ç€è¢«å‘é€ç«¯çš„ä¸Šå±‚å®ä½“ç½®ä¸ºâ€œç´§æ€¥çš„æ•°æ®â€ï¼Œç´§æ€¥æ•°æ®æŒ‡é’ˆæŒ‡å‡ºç´§æ€¥æ•°æ®çš„æœ€åä¸€ä¸ªå­—èŠ‚ã€‚å½“ç´§æ€¥æ•°æ®å­˜åœ¨å¹¶ç»™å‡ºç´§æ€¥æ•°æ®æŒ‡é’ˆæ—¶ï¼ŒTCPå¿…é¡»é€šçŸ¥æ¥æ”¶ç«¯çš„ä¸Šå±‚å®ä½“ã€‚ å› ç‰¹ç½‘æ£€éªŒå’Œï¼ˆ16æ¯”ç‰¹ï¼‰ å¯é€‰ä¸å˜é•¿çš„é€‰é¡¹å­—æ®µï¼šç”¨äºå‘é€æ–¹ä¸æ¥æ”¶æ–¹åå•†MSSï¼Œæˆ–åœ¨é«˜é€Ÿç½‘ç»œç¯å¢ƒä¸‹ç”¨ä½œçª—å£è°ƒèŠ‚å› å­ åºå·å’Œç¡®è®¤å·TCPæŠŠæ•°æ®çœ‹æˆæ— ç»“æ„çš„ã€æœ‰åºçš„å­—èŠ‚æµã€‚ä¸€ä¸ªæŠ¥æ–‡æ®µçš„åºå·æ˜¯è¯¥æŠ¥æ–‡æ®µé¦–å­—èŠ‚çš„å­—èŠ‚æµç¼–å·ã€‚ ä¸»æœºAå¡«å……è¿›æŠ¥æ–‡æ®µçš„ç¡®è®¤å·æ˜¯ä¸»æœºAæœŸæœ›ä»ä¸»æœºBæ”¶åˆ°çš„ä¸‹ä¸€å­—èŠ‚çš„åºå·ã€‚ TCPåªç¡®è®¤æµä¸­è‡³ç¬¬ä¸€ä¸ªä¸¢å¤±å­—èŠ‚ä¸ºæ­¢çš„å­—èŠ‚ï¼Œè¿™ä¸ªç§°ä¸ºæä¾›ç´¯è®¡ç¡®è®¤ã€‚ ä¸»æœºåœ¨ä¸€æ¡TCPè¿æ¥ä¸­æ”¶åˆ°å¤±åºæŠ¥æ–‡æ®µè§†ä¸ºUBã€‚ ä¸€æ¡TCPè¿æ¥çš„åŒæ–¹å‡å¯éšæœºåœ°é€‰æ‹©åˆå§‹å·ã€‚ å’Œï¼ˆ16æ¯”ç‰¹ï¼‰ å¯é€‰ä¸å˜é•¿çš„é€‰é¡¹å­—æ®µï¼šç”¨äºå‘é€æ–¹ä¸æ¥æ”¶æ–¹åå•†MSSï¼Œæˆ–åœ¨é«˜é€Ÿç½‘ç»œç¯å¢ƒä¸‹ç”¨ä½œçª—å£è°ƒèŠ‚å› å­ä¸¾ä¾‹ï¼šTelnetçš„å›æ˜¾ ï¼ˆè§£é‡Šè§ä¹¦p157) å¯¹å®¢æˆ·åˆ°æœåŠ¡å™¨çš„æ•°æ®çš„ç¡®è®¤è¢«è£…è½½åœ¨ä¸€ä¸ªæ‰¿è½½æœåŠ¡å™¨åˆ°å®¢æˆ·çš„æ•°æ®çš„æŠ¥æ–‡æ®µï¼Œè¿™ç§ç¡®è®¤è¢«ç§°ä¸ºæ˜¯è¢«æå¸¦åœ¨æœåŠ¡å™¨åˆ°å®¢æˆ·çš„æ•°æ®æŠ¥æ–‡æ®µä¸­çš„ã€‚ å¾€è¿”æ—¶é—´ä¼°è®¡ä¸è¶…æ—¶ æŠ¥æ–‡æ®µçš„æ ·æœ¬RTT(SampleRTT)ï¼šä»æŸæŠ¥æ–‡æ®µè¢«å‘å‡ºå¤§å¤šæ•°TCPä»…åœ¨æŸä¸ªæ—¶åˆ»åšä¸€æ¬¡SampleRTTæµ‹é‡ åœ¨ä»»æ„æ—¶åˆ»ï¼Œä»…ä¸ºä¸€ä¸ªå·²å‘é€ä½†ç›®å‰å°šæœªè¢«ç¡®è®¤çš„æŠ¥æ–‡æ®µä¼°è®¡SampleRTTï¼Œä»è€Œäº§ç”Ÿä¸€ä¸ªæ¥è¿‘æ¯ä¸ªRTTå€¼çš„æ–°SampleRTT TCPç»ä¸ä¸ºå·²è¢«é‡ä¼ çš„æŠ¥æ–‡æ®µè®¡ç®—SampleRTTï¼Œä»…ä¸ºä¼ è¾“ä¸€æ¬¡çš„æŠ¥æ–‡æ®µæµ‹é‡ EstimatedRTTï¼šTCPç»´æŠ¤çš„SampleRTTçš„å‡å€¼ï¼Œä¸ºäº†åº”å¯¹SampleRTTçš„æ³¢åŠ¨ ä¸€æ—¦è·å¾—æ–°çš„SampleRTTï¼Œæ›´æ–°å…¬å¼ä¸º \\text{EstimatedRTT}=(1-\\alpha)\\cdot\\text{EstimatedRTT}+\\alpha\\cdot\\text{SampleRTT}ï¼Œ$\\alpha$çš„æ¨èå€¼ä¸º0.125(1/8) EstimatedRTTæ˜¯å¯¹SampleRTTçš„æŒ‡æ•°åŠ æƒç§»åŠ¨å¹³å‡ï¼ˆEWMAï¼ŒExponential Weighted Moving Averageï¼‰ï¼ŒæŒ‡ä¸€ä¸ªç»™å®šçš„SampleRTTçš„æƒå€¼åœ¨æ›´æ–°è¿‡ç¨‹ä¸­å‘ˆæŒ‡æ•°å‹å¿«é€Ÿè¡°å‡ DevRTTï¼šRTTåå·®ï¼Œç”¨äºä¼°ç®—SampleRTTä¸€èˆ¬ä¼šåç¦»EstimatedRTTçš„ç¨‹åº¦ è®¡ç®—å…¬å¼ä¸º\\text{DevRTT}=(1-\\beta)\\cdot\\text{DevRTT}+\\beta\\cdot|\\text{SampleRTT}-\\text{EstimatedRTT}|ï¼Œ$\\beta$çš„æ¨èå–å€¼ä¸º0.25 è¶…æ—¶é—´éš”TimeoutIntervalï¼šEstimatedRTTåŠ ä¸Šä¸€å®šä½™é‡ï¼Œä¸SampleRTTçš„æ³¢åŠ¨æ­£ç›¸å…³ è®¡ç®—å…¬å¼ä¸º\\text{TimeoutInterval}=\\text{EstimatedRTT}+4\\cdot\\text{DevRTT} æ¨èçš„TimeoutIntervalçš„åˆå§‹å€¼ä¸º1s å½“å‡ºç°è¶…æ—¶åï¼ŒTimeoutIntetvalå°†åŠ å€ï¼Œä»¥å…å³å°†è¢«ç¡®è®¤çš„åç»§æŠ¥æ–‡æ®µè¿‡æ—©å‡ºç°è¶…æ—¶ã€‚ åªè¦æ”¶åˆ°æŠ¥æ–‡æ®µå¹¶æ›´æ–°EstimatedRTTï¼Œå°±æ›´æ–°TimeoutInterval å¯é æ•°æ®ä¼ è¾“TCPçš„å·®é”™æ¢å¤æœºåˆ¶æ˜¯GBNå’ŒSRçš„æ··åˆä½“ å‘é€æ–¹ï¼šswitch(äº‹ä»¶) ä»ä¸Šé¢åº”ç”¨ç¨‹åºæ¥æ”¶åˆ°æ•°æ® ç”Ÿæˆå…·æœ‰åºå·NextSeqNumçš„TCPæŠ¥æ–‡æ®µ å¦‚æœå®šæ—¶å™¨æ²¡æœ‰è¿è¡Œï¼Œå¯åŠ¨å®šæ—¶å™¨ å‘IPä¼ é€’æŠ¥æ–‡æ®µ NextSeqNum=NextSeqNum+length(data) å®šæ—¶å™¨è¶…æ—¶ é‡ä¼ å…·æœ‰æœ€å°åºå·ä½†ä»æœªåº”ç­”çš„æŠ¥æ–‡æ®µ è¶…æ—¶é—´éš”è¶…çº§åŠ å€ å¯åŠ¨å®šæ—¶å™¨ æ”¶åˆ°ACKï¼ŒACKå­—æ®µå€¼ä¸ºy å¦‚æœ y&gt;SendBaseï¼Œåˆ™è¯¥ACKæ˜¯åœ¨ç¡®è®¤ä¸€ä¸ªæˆ–å¤šä¸ªå…ˆå‰æœªç¡®è®¤çš„æŠ¥æ–‡æ®µ æ›´æ–°SendBase å¦‚æœå½“å‰æœ‰æœªè¢«ç¡®è®¤çš„æŠ¥æ–‡æ®µï¼Œ é‡æ–°å¯åŠ¨å®šæ—¶å™¨ å¦‚æœ y&lt;=SendBaseï¼Œåˆ™è¯¥ACKæ˜¯å¯¹å·²ç»ç¡®è®¤çš„æŠ¥æ–‡æ®µçš„ä¸€ä¸ªå†—ä½™ACK å¦‚æœç´¯è®¡æ”¶åˆ°ç›¸åŒACKå€¼çš„3ä¸ªå†—ä½™ACKï¼ˆç´¯è®¡4ä¸ªç›¸åŒACKï¼‰ï¼Œåˆ™é‡æ–°å‘é€å…·æœ‰åºå·yçš„æŠ¥æ–‡æ®µï¼ˆå¿«é€Ÿé‡ä¼ ï¼‰ æ¥æ”¶æ–¹ï¼š è¶…æ—¶é—´éš”åŠ å€æä¾›äº†ä¸€ä¸ªå½¢å¼å—é™çš„æ‹¥å¡æ§åˆ¶ï¼Œå› ä¸ºå®šæ—¶å™¨è¿‡æœŸå¾ˆå¯èƒ½æ˜¯ç½‘ç»œæ‹¥å¡å¼•èµ·çš„ã€‚ å¿«é€Ÿé‡ä¼ å†—ä½™ACKï¼šå†æ¬¡ç¡®è®¤æŸä¸ªæŠ¥æ–‡æ®µçš„ACK å½“TCPæ¥æ”¶æ–¹æ¥æ”¶åˆ°ä¸€ä¸ªåºå·å¤§äºä¸‹ä¸€ä¸ªæ‰€æœŸæœ›æŒ‰åºæŠ¥æ–‡æ®µçš„æŠ¥æ–‡æ®µæ—¶ï¼Œå°±è¯´æ˜æœ‰æŠ¥æ–‡æ®µä¸¢å¤±ï¼Œå› æ­¤ä¼šäº§ç”Ÿä¸€ä¸ªå†—ä½™ACKå¯¹å·²ç»æ”¶åˆ°çš„æœ€åä¸€ä¸ªæŒ‰åºå­—èŠ‚æ•°æ®è¿›è¡Œé‡å¤ç¡®è®¤ã€‚ å¦‚æœå‘é€æ–¹æ¥æ”¶åˆ°å¯¹ç›¸åŒæ•°æ®çš„3ä¸ªå†—ä½™ACKï¼Œå°±å°†å…¶è§†ä¸ºä¸€ç§æŒ‡ç¤ºï¼Œè¯´æ˜è¿™ä¸ªè¢«ç¡®è®¤äº†3æ¬¡çš„æŠ¥æ–‡æ®µä¹‹åçš„æŠ¥æ–‡æ®µå·²ç»è¢«ä¸¢å¤±ã€‚å‘é€æ–¹ä¼šè¿›è¡Œå¿«é€Ÿé‡ä¼ ï¼Œå³åœ¨è¯¥æŠ¥æ–‡æ®µçš„å®šæ—¶å™¨è¿‡æœŸä¹‹å‰é‡ä¼ ä¸¢å¤±çš„æŠ¥æ–‡æ®µã€‚ æµé‡æ§åˆ¶æ¥æ”¶æ–¹å¦‚æœè¯»æ•°æ®ä¸å¤Ÿå¿«ï¼Œå°±ä¼šå¯¼è‡´æ¥æ”¶ç¼“å­˜æº¢å‡ºã€‚TCPæä¾›äº†æµé‡æ§åˆ¶æœåŠ¡ä»¥æ¶ˆé™¤å‘é€æ–¹ä½¿æ¥æ”¶æ–¹ç¼“å­˜æº¢å‡ºçš„å¯èƒ½æ€§ã€‚ï¼ˆåŒºåˆ†æµé‡æ§åˆ¶ä¸æ‹¥å¡æ§åˆ¶ï¼‰ TCPå‘é€æ–¹ç»´æŠ¤ä¸€ä¸ªç§°ä¸ºæ¥æ”¶çª—å£çš„å˜é‡ï¼ŒæŒ‡ç¤ºæ¥æ”¶æ–¹è¿˜æœ‰å¤šå°‘å¯ç”¨ç©ºé—´ï¼Œéœ€è¦æ»¡è¶³ \\text{LastByteRcvd}-\\text{LastByteRead}\\le \\text{RcvBuffer} æ¥æ”¶çª—å£é•¿åº¦ç”¨rwndè¡¨ç¤ºï¼Œ\\text{rwnd}=\\text{RcvBuffer}-[\\text{LastByteRcvd}-\\text{LastByteRead}] \\text{LastByteSent}-\\text{LastByteAcked}\\le\\text{rwnd} äººè¯ï¼šä¸»æœºï¼¡å‘é€ä½†æœªè¢«ç¡®è®¤çš„æ•°æ®å¤§å° ä¸ä¼šè¶…è¿‡ ä¸»æœºï¼¢æ¥æ”¶ç¼“å­˜çš„å‰©ä½™å¯ç”¨ç©ºé—´ ä¸ºäº†é˜²æ­¢ä¸»æœºAè¢«é˜»å¡ï¼Œå½“ä¸»æœºBçš„æ¥æ”¶çª—å£ä¸º0æ—¶ï¼Œä¸»æœºAç»§ç»­å‘é€åªæœ‰ä¸€ä¸ªå­—èŠ‚æ•°æ®çš„æŠ¥æ–‡æ®µã€‚è¿™äº›æŠ¥æ–‡æ®µå°†ä¼šè¢«æ¥æ”¶æ–¹ç¡®è®¤ã€‚æœ€ç»ˆç¼“å­˜å¼€å§‹æ¸…ç©ºï¼Œå¹¶ä¸”ç¡®è®¤æŠ¥æ–‡é‡ŒåŒ…å«ä¸€ä¸ªé0çš„rwndå€¼ã€‚ TCPè¿æ¥ç®¡ç†å»ºç«‹TCPè¿æ¥ï¼šä¸‰æ¬¡æ¡æ‰‹ ç¬¬ä¸€æ­¥ï¼šå®¢æˆ·ç«¯çš„TCPå‘æœåŠ¡å™¨çš„TCPå‘é€ä¸€ä¸ªSYNæŠ¥æ–‡æ®µã€‚é¦–éƒ¨ä¸­SYNæ ‡å¿—ä½è¢«ç½®ä¸º1ã€‚å®¢æˆ·éšæœºé€‰æ‹©ä¸€ä¸ªåˆå§‹åºå·ï¼ˆclient_isnï¼‰ï¼Œå¹¶å°†æ­¤åºå·æ”¾ç½®äºSYNæŠ¥æ–‡æ®µçš„åºå·å­—æ®µã€‚è¯¥æŠ¥æ–‡æ®µä¸åŒ…å«åº”ç”¨å±‚æ•°æ®ã€‚ ç¬¬äºŒæ­¥ï¼šæœåŠ¡å™¨ä¸»æœºæ”¶åˆ°è¯¥TCP SYNæŠ¥æ–‡æ®µï¼Œä¸ºè¯¥TCPè¿æ¥åˆ†é…TCPç¼“å­˜å’Œå˜é‡ï¼Œå¹¶å‘è¯¥å®¢æˆ·TCPå‘é€å…è®¸è¿æ¥çš„æŠ¥æ–‡æ®µï¼ˆSYNACKæŠ¥æ–‡æ®µï¼‰ã€‚è¯¥æŠ¥æ–‡æ®µä¸åŒ…å«åº”ç”¨å±‚æ•°æ®ã€‚SYNæ¯”ç‰¹è¢«ç½®ä¸º1ã€‚é¦–éƒ¨ç¡®è®¤å·å­—æ®µä¸ºclient_isn+1ã€‚æœåŠ¡å™¨é€‰æ‹©è‡ªå·±çš„åˆå§‹åºå·ï¼ˆserver_isnï¼‰ï¼Œå¹¶å°†å…¶æ”¾åˆ°åºå·å­—æ®µä¸­ã€‚ ç¬¬ä¸‰æ­¥ï¼šåœ¨æ”¶åˆ°SYNACKæŠ¥æ–‡æ®µåï¼Œå®¢æˆ·ä¹Ÿè¦ç»™è¯¥è¿æ¥åˆ†é…ç¼“å­˜å’Œå˜é‡ã€‚å®¢æˆ·ä¸»æœºå‘æœåŠ¡å™¨å‘é€å¦ä¸€ä¸ªæŠ¥æ–‡æ®µï¼Œå°†server_isn+1æ”¾åˆ°é¦–éƒ¨çš„ç¡®è®¤å­—æ®µï¼Œæ¥å¯¹æœåŠ¡å™¨çš„å…è®¸è¿æ¥çš„æŠ¥æ–‡æ®µè¿›è¡Œç¡®è®¤ã€‚è¿æ¥å·²ç»å»ºç«‹äº†ï¼Œæ‰€ä»¥SYNæ¯”ç‰¹è¢«ç½®ä¸º0ï¼Œä¸”ä¹‹åçš„æ¯ä¸€ä¸ªæŠ¥æ–‡æ®µçš„SYNæ¯”ç‰¹éƒ½ä¸º0ã€‚è¯¥æŠ¥æ–‡æ®µå¯ä»¥æºå¸¦åº”ç”¨å±‚æ•°æ®ã€‚ å…³é—­TCPè¿æ¥ å®¢æˆ·è¿›ç¨‹å‘å‡ºä¸€ä¸ªå…³é—­è¿æ¥å‘½ä»¤ï¼Œå¼•èµ·å®¢æˆ·TCPå‘æœåŠ¡å™¨è¿›ç¨‹å‘é€ä¸€ä¸ªç‰¹æ®Šçš„TCPæŠ¥æ–‡æ®µã€‚è¯¥æŠ¥æ–‡æ®µé¦–éƒ¨FINæ¯”ç‰¹è¢«ç½®ä¸º1ã€‚ æœåŠ¡å™¨æ¥æ”¶åˆ°è¯¥æŠ¥æ–‡æ®µåï¼Œå‘å‘é€æ–¹å›é€ä¸€ä¸ªACKæŠ¥æ–‡æ®µã€‚ ç„¶åï¼ŒæœåŠ¡å™¨å‘é€è‡ªå·±çš„ç»ˆæ­¢æŠ¥æ–‡æ®µï¼ŒFINç½®ä¸º1ã€‚ æœ€åï¼Œå®¢æˆ·å¯¹è¿™ä¸ªæœåŠ¡å™¨çš„ç»ˆæ­¢æŠ¥æ–‡æ®µè¿›è¡Œç¡®è®¤ã€‚æ­¤æ—¶ï¼Œä¸¤å°ä¸»æœºä¸Šç”¨äºè¯¥è¿æ¥çš„æ‰€æœ‰èµ„æºéƒ½è¢«é‡Šæ”¾äº†ã€‚ TCPçŠ¶æ€ å¦‚æœä¸€å°ä¸»æœºæ¥æ”¶åˆ°çš„ä¸€ä¸ªTCPæŠ¥æ–‡æ®µç«¯å£å·æˆ–æºIPåœ°å€ä¸è¯¥ä¸»æœºä¸Šè¿›è¡Œä¸­çš„å¥—æ¥å­—éƒ½ä¸åŒ¹é…ï¼Œåˆ™è¯¥ä¸»æœºå‘æºå‘é€ä¸€ä¸ªç‰¹æ®Šé‡ç½®æŠ¥æ–‡æ®µï¼ŒRSTæ ‡å¿—è¢«ç½®ä¸º1ã€‚ï¼ˆâ€œæˆ‘æ²¡æœ‰é‚£ä¸ªæŠ¥æ–‡æ®µçš„å¥—æ¥å­—ï¼Œè¯·ä¸è¦å†å‘äº†ã€‚â€ï¼‰ nmapç«¯å£æ‰«æå·¥å…·nmapå¯¹ç›®æ ‡ä¸»æœºçš„æŸä¸ªç«¯å£å‘é€ä¸€ä¸ªç‰¹æ®Šçš„TCP SYNæ•°æ®æŠ¥ï¼Œæœ‰3ç§å¯èƒ½ æºä¸»æœºä»ç›®æ ‡ä¸»æœºæ¥æ”¶åˆ°ä¸€ä¸ªTCP SYNACKæŠ¥æ–‡æ®µã€‚è¿™æ„å‘³ç€ç›®æ ‡ä¸»æœºä¸Šä¸€ä¸ªåº”ç”¨ç¨‹åºä½¿ç”¨è¯¥TCPç«¯å£è¿è¡Œï¼Œnmapè¿”å›â€œæ‰“å¼€â€ã€‚ æºä¸»æœºä»ç›®æ ‡ä¸»æœºæ¥æ”¶åˆ°ä¸€ä¸ªTCP RSTæŠ¥æ–‡æ®µã€‚è¿™æ„å‘³ç€ç›®æ ‡ä¸»æœºä¸Šæ²¡æœ‰ä¸€ä¸ªåº”ç”¨ç¨‹åºä½¿ç”¨è¯¥TCPç«¯å£è¿è¡Œï¼Œä½†è‡³å°‘å‘é€å‘è¯¥ç«¯å£çš„æŠ¥æ–‡æ®µæ²¡æœ‰è¢«é˜²ç«å¢™é˜»æ‹¦ã€‚ æºä»€ä¹ˆä¹Ÿæ²¡æœ‰æ”¶åˆ°ã€‚é˜²ç«å¢™GGã€‚ TCPæ‹¥å¡æ§åˆ¶è®©æ¯ä¸€ä¸ªå‘é€æ–¹æ ¹æ®æ‰€æ„ŸçŸ¥åˆ°çš„ç½‘ç»œæ‹¥å¡æˆéƒ½æ¥é™åˆ¶å…¶å‘é€æµé‡çš„é€Ÿç‡ã€‚ å‘é€æ–¹TCPè·Ÿè¸ªä¸€ä¸ªæ‹¥å¡çª—å£å˜é‡cwndï¼Œå®ƒå¯¹ä¸€ä¸ªTCPå‘é€æ–¹èƒ½å‘ç½‘ç»œä¸­å‘é€æµé‡çš„é€Ÿç‡è¿›è¡Œäº†é™åˆ¶ã€‚ \\text{LastByteSent}-\\text{LastByteAcked}\\le\\min\\{\\text{cwnd},\\text{rwnd}\\}å‘é€æ–¹çš„é€Ÿç‡å¤§æ¦‚æ˜¯cwnd/RTTå­—èŠ‚/ç§’ã€‚ ä¸¢åŒ…äº‹ä»¶ï¼šå‡ºç°è¶…æ—¶ï¼Œæˆ–æ”¶åˆ°æ¥è‡ªæ¥æ”¶æ–¹çš„3ä¸ªå†—ä½™ACKã€‚æ­¤æ—¶å‘é€æ–¹è®¤ä¸ºå‡ºç°äº†æ‹¥å¡æŒ‡ç¤ºã€‚ è‡ªè®¡æ—¶ï¼šTCPä½¿ç”¨æ”¶åˆ°çš„ACKï¼ˆæˆ–è®¡æ—¶ï¼‰å¢å¤§å®ƒçš„æ‹¥å¡çª—å£é•¿åº¦ã€‚ TCPæ‹¥å¡æ§åˆ¶ç®—æ³•å…·ä½“çœ‹å›¾ æ…¢å¯åŠ¨ å½“ä¸€æ¡TCPè¿æ¥å¼€å§‹æ—¶ï¼Œcwndé€šå¸¸è®¾ä¸ºä¸€ä¸ªMSSçš„è¾ƒå°å€¼ï¼Œåˆå§‹å‘é€é€Ÿç‡å¤§çº¦ä¸ºMSS/RTTã€‚ æ¯å½“ä¼ è¾“çš„æŠ¥æ–‡æ®µé¦–æ¬¡è¢«ç¡®è®¤ï¼Œcwndå¢åŠ ä¸€ä¸ªMSSï¼ˆæŒ‡æ•°å¢é•¿ ç»“æŸæ–¹å¼ å½“cwnd==ssthreshæ—¶ï¼Œç»“æŸæ…¢å¯åŠ¨å¹¶è½¬ç§»åˆ°æ‹¥å¡é¿å…æ¨¡å¼ã€‚cwndæœ€å¤šåªèƒ½å–åˆ°ssthreshï¼Œå³ä½¿ä¸æ˜¯2çš„å¹‚æ¬¡ è¶…æ—¶ä¸¢åŒ…ï¼ˆæ‹¥å¡ï¼‰ï¼šcwndé‡ç½®ä¸º1å¹¶é‡æ–°å¼€å§‹æ…¢å¯åŠ¨è¿‡ç¨‹ï¼Œssthresh(æ…¢å¯åŠ¨é˜ˆå€¼)å˜ä¸ºcwnd/2 æ£€æµ‹åˆ°3ä¸ªå†—ä½™ACKï¼šæ‰§è¡Œä¸€æ¬¡å¿«é€Ÿé‡ä¼ å¹¶è¿›å…¥å¿«é€Ÿæ¢å¤çŠ¶æ€ æ‹¥å¡é¿å… æ¯ä¸ªRTTåªå°†cwndçš„å€¼å¢åŠ MSSã€‚ä¸€ç§é€šç”¨å®ç°æ–¹æ³•ï¼šå‘é€æ–¹æ— è®ºä½•æ—¶æ”¶åˆ°ä¸€ä¸ªæ–°çš„ç¡®è®¤ï¼Œå°±å°†cwndå¢åŠ ä¸€ä¸ª$\\text{MSS}\\frac{\\text{MSS}}{\\text{cwnd}}$å­—èŠ‚ã€‚ ç»“æŸæ–¹å¼ è¶…æ—¶ï¼šcwndé‡ç½®ä¸º1å¹¶é‡æ–°å¼€å§‹æ…¢å¯åŠ¨è¿‡ç¨‹ï¼Œssthresh(æ…¢å¯åŠ¨é˜ˆå€¼)å˜ä¸ºcwnd/2 3ä¸ªå†—ä½™ACKï¼šcwndå‡åŠï¼Œå¯¹æ”¶åˆ°çš„3ä¸ªå†—ä½™ACKå†åŠ ä¸Š3ä¸ªMSSï¼›å°†ssthreshçš„å€¼æ”¹ä¸ºcwnd/2ï¼›è¿›å…¥å¿«é€Ÿæ¢å¤çŠ¶æ€ å¿«é€Ÿæ¢å¤ å¯¹äºå¼•èµ·TCPè¿›å…¥å¿«é€Ÿæ¢å¤çŠ¶æ€çš„ç¼ºå¤±æŠ¥æ–‡æ®µï¼Œå¯¹æ¯ä¸ªæ”¶åˆ°çš„å†—ä½™ACKï¼Œcwndå¢åŠ ä¸€ä¸ªMSS å½“æœ€ç»ˆå¯¹ä¸¢å¤±æŠ¥æ–‡æ®µçš„ä¸€ä¸ªACKåˆ°è¾¾æ—¶ï¼ŒTCPåœ¨é™ä½cwndåè¿›å…¥æ‹¥å¡é¿å…çŠ¶æ€ è¶…æ—¶ï¼šcwndé‡ç½®ä¸º1å¹¶é‡æ–°å¼€å§‹æ…¢å¯åŠ¨è¿‡ç¨‹ï¼Œssthresh(æ…¢å¯åŠ¨é˜ˆå€¼)å˜ä¸ºcwnd/2ï¼Œè¿›å…¥æ…¢å¯åŠ¨çŠ¶æ€ å¿½ç•¥æ…¢å¯åŠ¨ï¼ŒTCPçš„æ‹¥å¡æ§åˆ¶ï¼šæ¯ä¸ªRTTå†…çº¿æ€§å¢åŠ 1MSSï¼Œå‡ºç°3ä¸ªå†—ä½™ACKæ—¶cwndå‡åŠâ€”â€”åŠ æ€§å¢ï¼Œä¹˜æ€§å‡ï¼ˆAIMDï¼‰ ååé‡ä¸€æ¡è¿æ¥çš„å¹³å‡ååé‡=\\frac{0.75\\times W}{\\text{RTT}} $W$ï¼šä¸¢åŒ…äº‹ä»¶å‘ç”Ÿæ—¶çš„çª—å£é•¿åº¦ TCPçš„å‘é€é€Ÿç‡å¤§çº¦æ˜¯$w/RTT$,$w$ä¸ºçª—å£é•¿åº¦ TCPçš„ä¼ è¾“é€Ÿç‡åœ¨$W/(2\\times\\text{RTT})$å’Œ$W/\\text{RTT}$ä¹‹é—´çº¿æ€§å˜åŒ– è€ƒè™‘ä¸¢åŒ…ç‡ï¼ˆ$L$ï¼‰å’ŒMSSï¼Œä¸€æ¡è¿æ¥çš„å¹³å‡ååé‡=\\frac{1.22\\times\\text{MSS}}{\\text{RTT}\\sqrt{L}} å…¬å¹³æ€§å¦‚æœæ¯æ¡è¿æ¥éƒ½å¾—åˆ°ç›¸åŒä»½é¢çš„å¸¦å®½ï¼Œåˆ™è®¤ä¸ºè¯¥æ‹¥å¡æ§åˆ¶æœºåˆ¶æ˜¯å…¬å¹³çš„ã€‚ å®é™…æƒ…å†µä¸‹å…·æœ‰è¾ƒå°RTTçš„è¿æ¥èƒ½å¤Ÿæ›´å¿«åœ°æŠ¢åˆ°å¯ç”¨å¸¦å®½ã€‚ UDPæ˜¯æ— æ³•æ— å¤©çš„ï¼Œå¹¶è¡ŒTCPè¿æ¥æ˜¯â€œä½œå¼Šâ€ CH4 ç½‘ç»œå±‚ï¼šæ•°æ®å¹³é¢æ¦‚è¿°æ•°æ®å¹³é¢ï¼šä»è¾“å…¥é“¾è·¯å‘è¾“å‡ºé“¾è·¯è½¬å‘æ•°æ®æŠ¥æ§åˆ¶å¹³é¢ï¼šåè°ƒæœ¬åœ°çš„æ¯ä¸ªè·¯ç”±å™¨çš„è½¬å‘åŠ¨ä½œï¼Œä½¿å¾—æ•°æ®æŠ¥æ²¿ç€æºå’Œç›®çš„åœ°ä¸»æœºä¹‹é—´çš„è·¯ç”±å™¨è·¯å¾„æœ€ç»ˆè¿›è¡Œç«¯åˆ°ç«¯ä¼ é€ è½¬å‘ è·¯ç”±é€‰æ‹© å°†åˆ†ç»„ä»ä¸€ä¸ªè¾“å…¥é“¾è·¯æ¥å£è½¬ç§»åˆ°é€‚å½“çš„è¾“å‡ºé“¾è·¯æ¥å£çš„è·¯ç”±å™¨æœ¬åœ°åŠ¨ä½œ åˆ†ç»„ä»æºåˆ°ç›®çš„åœ°æ‰€é‡‡å–çš„ç«¯åˆ°ç«¯è·¯å¾„çš„ç½‘ç»œèŒƒå›´ æ—¶é—´å°ºåº¦çŸ­(ns) æ—¶é—´å°ºåº¦é•¿(s) é€šå¸¸ç¡¬ä»¶å®ç° é€šå¸¸è½¯ä»¶å®ç° è·¯ç”±é€‰æ‹©ç®—æ³•å†³å®šæ’å…¥è¯¥è·¯ç”±å™¨è½¬å‘è¡¨çš„å†…å®¹ è½¯ä»¶å®šä¹‰ç½‘ç»œ(SDN): è·¯ç”±é€‰æ‹©è®¾å¤‡ä»…æ‰§è¡Œè½¬å‘ï¼Œè¿œç¨‹æ§åˆ¶å™¨è®¡ç®—å¹¶åˆ†å‘è½¬å‘è¡¨(è½¯ä»¶å®ç°) ç½‘ç»œæœåŠ¡æ¨¡å‹ï¼šå°½åŠ›è€Œä¸ºæœåŠ¡ è·¯ç”±å·¥ä½œåŸç†å‡è®¾ï¼šè½¬å‘å†³å®šä»…åŸºäºåˆ†ç»„çš„ç›®çš„åœ°å€ï¼Œè€ŒéåŸºäºé€šç”¨çš„åˆ†ç»„é¦–éƒ¨å­—æ®µ è·¯ç”±å™¨ç»„æˆéƒ¨åˆ†ï¼šè¾“å…¥ç«¯å£ï¼Œäº¤æ¢ç»“æ„ã€è¾“å‡ºç«¯å£ã€è·¯ç”±é€‰æ‹©å¤„ç†å™¨ è¾“å…¥ç«¯å£å¤„ç†æ•°æ®æŠ¥-&gt;çº¿è·¯ç«¯æ¥-&gt;æ•°æ®é“¾è·¯å¤„ç†(åè®®ã€æ‹†å°)-&gt;æŸ¥æ‰¾ã€è½¬å‘ã€æ’é˜Ÿ-&gt;äº¤æ¢ç»“æ„ ä½¿ç”¨è½¬å‘è¡¨æŸ¥æ‰¾è¾“å‡ºç«¯å£ï¼Œè½¬å‘è¡¨ç”±è·¯ç”±é€‰æ‹©å¤„ç†å™¨è®¡ç®—å’Œæ›´æ–°ï¼Œä»è·¯ç”±é€‰æ‹©å¤„ç†å™¨ç»è¿‡ç‹¬ç«‹æ€»çº¿å¤åˆ¶åˆ°çº¿è·¯å¡ã€‚ä½¿ç”¨æ¯ä¸ªè¾“å…¥ç«¯å£çš„å½±å­å‰¯æœ¬ï¼Œè½¬å‘å†³ç­–èƒ½åœ¨æ¯ä¸ªè¾“å…¥ç«¯å£æœ¬åœ°åšå‡ºï¼Œæ— é¡»åŸºäºæ¯ä¸ªåˆ†ç»„è°ƒç”¨é›†ä¸­å¼è·¯ç”±é€‰æ‹©å¤„ç†å™¨ï¼Œé¿å…é›†ä¸­å¼å¤„ç†çš„ç“¶é¢ˆã€‚ è½¬å‘è¡¨ï¼šå‰ç¼€åŒ¹é…ï¼Œæœ€é•¿å‰ç¼€åŒ¹é…è§„åˆ™ åœ¨æŸäº›è®¾è®¡ä¸­ï¼Œä¸€ä¸ªåˆ†ç»„å¯èƒ½ä¼šåœ¨è¿›å…¥äº¤æ¢ç»“æ„æ—¶è¢«æš‚æ—¶é˜»å¡ æŸ¥æ‰¾å¤–å¿…é¡»é‡‡å–è®¸å¤šå…¶ä»–åŠ¨ä½œ å¿…é¡»å‡ºç°ç‰©ç†å±‚å’Œé“¾è·¯å±‚å¤„ç† å¿…é¡»æ£€æŸ¥åˆ†ç»„çš„ç‰ˆæœ¬å·ã€æ£€éªŒä»¥åŠå¯¿å‘½å­—æ®µï¼Œå¹¶ä¸”é‡å†™åä¸¤ä¸ªå­—æ®µ å¿…é¡»æ›´æ–°ç”¨äºç½‘ç»œç®¡ç†çš„è®¡æ•°å™¨ â€œåŒ¹é…åŠ åŠ¨ä½œâ€ äº¤æ¢ ç»å†…å­˜äº¤æ¢ ç±»ä¼¼ä¼ ç»Ÿè®¡ç®—æœº åœ¨CPU(è·¯ç”±é€‰æ‹©å¤„ç†å™¨)çš„ç›´æ¥æ§åˆ¶ä¸‹å®Œæˆ è¾“å…¥ä¸è¾“å‡ºç«¯å£çš„åŠŸèƒ½åƒä¼ ç»ŸI/Oè®¾å¤‡ åˆ†ç»„åˆ°è¾¾è¾“å…¥ç«¯å£-&gt;ä¸­æ–­-&gt;åˆ†ç»„è¢«å¤åˆ¶åˆ°å¤„ç†å™¨å†…å­˜-&gt;CPUæå–ç›®çš„åœ°å€ï¼Œåœ¨è½¬å‘è¡¨ä¸­æ‰¾åˆ°é€‚å½“çš„è¾“å‡ºç«¯å£-&gt;CPUå°†åˆ†ç»„å¤åˆ¶åˆ°è¾“å‡ºç«¯å£çš„ç¼“å­˜ä¸­ è‹¥å†…å­˜å¸¦å®½ä¸º$B$ä¸ªåˆ†ç»„/ç§’ï¼Œåˆ™æ€»çš„è½¬å‘ååé‡å¿…ç„¶å°äº$B/2$ ä¸èƒ½åŒæ—¶è½¬å‘ä¸¤ä¸ªåˆ†ç»„ ç»æ€»çº¿äº¤æ¢ è¾“å…¥ç«¯å£ç»å…±äº«æ€»çº¿å°†åˆ†ç»„ç›´æ¥ä¼ é€åˆ°è¾“å‡ºç«¯å£ï¼Œä¸éœ€è¦è·¯ç”±é€‰æ‹©å¤„ç†å™¨çš„å¹²é¢„ è¾“å…¥ç«¯å£ä¸ºåˆ†ç»„é¢„å…ˆè®¡åˆ’ä¸€ä¸ªäº¤æ¢æœºå†…éƒ¨æ ‡ç­¾(é¦–éƒ¨)ï¼ŒæŒ‡ç¤ºæœ¬åœ°è¾“å‡ºç«¯å£-&gt;åˆ†ç»„èƒ½è¢«æ‰€æœ‰è¾“å‡ºç«¯å£æ”¶åˆ°ï¼Œä½†åªæœ‰æ ‡ç­¾åŒ¹é…çš„ç«¯å£æ‰èƒ½ä¿å­˜åˆ†ç»„-&gt;æ ‡ç­¾åœ¨è¾“å‡ºç«¯å£è¢«å»é™¤ ä¸€æ¬¡åªæœ‰ä¸€ä¸ªåˆ†ç»„èƒ½è·¨è¶Šæ€»çº¿ï¼Œå› æ­¤å¤šä¸ªåˆ†ç»„åŒæ—¶åˆ°è¾¾è·¯ç”±å™¨æ—¶ï¼Œé™¤äº†ä¸€ä¸ªåˆ†ç»„å¤–å…¶ä»–éƒ½å¿…é¡»ç­‰å¾… ç»äº’è”ç½‘ç»œäº¤æ¢ çºµæ¨ªå¼äº¤æ¢æœºï¼š$2N$æ¡æ€»çº¿ï¼Œè¿æ¥$N$ä¸ªè¾“å…¥ç«¯å£å’Œ$N$ä¸ªè¾“å‡ºç«¯å£ äº¤ç¼ ç‚¹é€šè¿‡äº¤æ¢ç»“æ„æ§åˆ¶å™¨å®ç°å¼€å¯é—­åˆ åˆ†ç»„åˆ°è¾¾è¾“å…¥ç«¯å£-&gt;äº¤å‰ç‚¹-&gt;è¾“å‡ºç«¯å£ éé˜»å¡ï¼šèƒ½å¤Ÿå¹¶è¡Œè½¬å‘å¤šä¸ªåˆ†ç»„ å¤šçº§äº¤æ¢å…ƒç´  è¾“å‡ºç«¯å£å¤„ç†äº¤æ¢ç»“æ„-&gt;æ’é˜Ÿ(ç¼“å­˜ç®¡ç†)-&gt;æ•°æ®é“¾è·¯å¤„ç†(åè®®ï¼Œå°è£…)-&gt;çº¿è·¯ç«¯æ¥-&gt; æ’é˜Ÿä¸¢åŒ…ï¼šæ’é˜Ÿå¯¼è‡´è·¯ç”±å™¨çš„ç¼“å­˜ç©ºé—´è€—å°½ è¾“å…¥æ’é˜Ÿ çº¿è·¯å‰éƒ¨(HOL)é˜»å¡ï¼šåœ¨ä¸€ä¸ªè¾“å…¥é˜Ÿåˆ—ä¸­æ’é˜Ÿçš„åˆ†ç»„å¿…é¡»ç­‰å¾…é€šè¿‡äº¤æ¢ç»“æ„å‘é€(å³ä½¿è¾“å‡ºç«¯å£æ˜¯ç©ºé—²çš„)ï¼Œå› ä¸ºå®ƒè¢«ä½äºçº¿è·¯å‰éƒ¨çš„å¦ä¸€ä¸ªåˆ†ç»„æ‰€é˜»å¡ â€” å¯¹çºµæ¨ªå¼äº¤æ¢ç»“æ„è€Œè¨€ è¾“å‡ºæ’é˜Ÿ ä¸»åŠ¨é˜Ÿåˆ—ç®¡ç†ï¼šåœ¨ç¼“å­˜å¡«æ»¡ä¹‹å‰ä¸¢å¼ƒä¸€ä¸ªåˆ†ç»„ï¼ˆæˆ–åœ¨é¦–éƒ¨åŠ ä¸Šæ ‡è®°ï¼‰ï¼Œå¯ä»¥å‘å‘é€æ–¹æä¾›ä¸€ä¸ªæ‹¥å¡ä¿¡å· ç¼“å­˜æ•°é‡$B$ä¸å¹³å‡å¾€è¿”æ—¶å»¶$RTT$ã€é“¾è·¯å®¹é‡$C$ã€TCPæµ$N$çš„å…³ç³»ï¼š$B=RTT\\cdot C$, ($N$è¾ƒå¤§æ—¶)$B=RTT\\cdot C/\\sqrt{N}$ åˆ†ç»„è°ƒåº¦ FIFO ä¼˜å…ˆæƒæ’é˜Ÿ æœ‰å¤šä¸ªä¼˜å…ˆæƒç±»ï¼Œåˆ†å¼€æ’é˜Ÿ æ¯æ¬¡é€‰æ‹©éç©ºçš„æœ€é«˜ä¼˜å…ˆæƒç±»é˜Ÿåˆ—ä¸­çš„åˆ†ç»„è¿›è¡Œä¼ è¾“ éæŠ¢å å¼ä¼˜å…ˆæƒæ’é˜Ÿï¼šä¸€æ—¦åˆ†ç»„å¼€å§‹ä¼ è¾“å°±ä¸èƒ½æ‰“æ–­ å¾ªç¯æ’é˜Ÿ æ²¡æœ‰æœåŠ¡ä¼˜å…ˆæƒï¼Œå¾ªç¯è°ƒåº¦å™¨åœ¨ç±»ä¹‹é—´è½®æµæä¾›æœåŠ¡ ä¿æŒå·¥ä½œæ’é˜Ÿè§„åˆ™ï¼šåœ¨æœ‰åˆ†ç»„æ’é˜Ÿç­‰å¾…ä¼ è¾“æ—¶ä¸å…è®¸é“¾è·¯ä¿æŒç©ºé—²â€”å½“å¯»æ‰¾ç»™å®šç±»çš„åˆ†ç»„ä½†æ²¡æœ‰æ‰¾åˆ°æ—¶ç«‹å³æ£€æŸ¥ä¸‹ä¸€ä¸ªç±» åŠ æƒå…¬å¹³æ’é˜Ÿ(WFQ) å¾ªç¯æ–¹å¼ æ¯ä¸ªç±»åœ¨ä»»ä½•æ—¶é—´é—´éš”éƒ½å¯èƒ½æ”¶åˆ°ä¸åŒæ•°é‡çš„æœåŠ¡ï¼Œæ¯ä¸ªç±»$i$è¢«åˆ†é…ä¸€ä¸ªæƒ$w_i$ ç¬¬$i$ç±» å°†ç¡®ä¿æ¥æ”¶åˆ°çš„æœåŠ¡éƒ¨åˆ†ç­‰äº$w_i/(\\sum w_i)$ æœ€åæƒ…å†µä¸‹ç¬¬$i$ç±»ä¹Ÿèƒ½åˆ†å¾—ä¸Šè¿°é‚£ä¹ˆå¤šå¸¦å®½ IPv4æ•°æ®æŠ¥æ ¼å¼ ç‰ˆæœ¬å·ï¼š4æ¯”ç‰¹ï¼Œè§„å®šäº†æ•°æ®æŠ¥çš„IPåè®®ç‰ˆæœ¬ï¼Œä¸åŒIPç‰ˆæœ¬ä½¿ç”¨ä¸åŒçš„æ•°æ®æŠ¥æ ¼å¼ã€‚ é¦–éƒ¨é•¿åº¦ï¼š4æ¯”ç‰¹ï¼ŒIPv4æ•°æ®æŠ¥åŒ…å«å¯å˜æ•°é‡çš„é€‰é¡¹ï¼Œæ‰€ä»¥éœ€è¦ç¡®å®šé¦–éƒ¨é•¿åº¦ã€‚å¤§å¤šæ•°IPæ•°æ®æŠ¥ä¸åŒ…å«é€‰é¡¹ï¼Œæ‰€ä»¥ä¸€èˆ¬å…·æœ‰20å­—èŠ‚çš„é¦–éƒ¨ã€‚ æœåŠ¡ç±»å‹(TOS)ï¼š8æ¯”ç‰¹ï¼Œä½¿ä¸åŒç±»å‹çš„IPæ•°æ®æŠ¥èƒ½ç›¸äº’åŒºåˆ«å¼€æ¥ã€‚ æ•°æ®æŠ¥é•¿åº¦ï¼š16æ¯”ç‰¹ï¼ŒIPæ•°æ®æŠ¥é¦–éƒ¨+æ•°æ®çš„æ€»é•¿åº¦ï¼Œå•ä½å­—èŠ‚ã€‚ç†è®ºæœ€å¤§é•¿åº¦ä¸º65535å­—èŠ‚ï¼Œä½†å®é™…ä¸Šå¾ˆå°‘æœ‰è¶…è¿‡1500çš„ã€‚è¿™ä¸ªé•¿åº¦ä½¿å¾—IPæ•°æ®æŠ¥èƒ½å®¹çº³æœ€å¤§é•¿åº¦ä»¥å¤ªç½‘å¸§çš„è½½è·å­—æ®µã€‚ æ ‡è¯†ã€æ ‡å¿—ã€ç‰‡åç§»ï¼šä¸IPåˆ†ç‰‡æœ‰å…³ã€‚ å¯¿å‘½(TTL)ï¼šç¡®ä¿æ•°æ®æŠ¥ä¸ä¼šæ°¸è¿œï¼ˆå¦‚ç”±äºé•¿æ—¶é—´çš„è·¯ç”±é€‰æ‹©ç¯è·¯ï¼‰åœ¨ç½‘ç»œä¸­å¾ªç¯ã€‚æ¯å½“ä¸€å°è·¯ç”±å™¨å¤„ç†æ—¶è¯¥å­—æ®µçš„å€¼-1ï¼Œä¸º0æ—¶è‡ªåŠ¨ä¸¢å¼ƒã€‚ åè®®ï¼šä»…å½“åˆ°è¾¾æœ€ç»ˆç›®çš„åœ°æ—¶æ‰ä¼šæœ‰ç”¨ï¼ŒæŒ‡ç¤ºäº†IPæ•°æ®æŠ¥éœ€è¦äº¤ç»™å“ªä¸ªç‰¹å®šçš„è¿è¾“å±‚åè®®ã€‚åè®®å·æ˜¯å°†ç½‘ç»œå±‚ä¸è¿è¾“å±‚ç»‘å®šåˆ°ä¸€èµ·çš„é»åˆå‰‚ã€‚ï¼ˆç«¯å£å·æ˜¯å°†è¿è¾“å±‚å’Œåº”ç”¨å±‚ç»‘å®šåˆ°ä¸€èµ·çš„é»åˆå‰‚ï¼‰ é¦–éƒ¨æ£€éªŒå’Œï¼šé¦–éƒ¨ä¸­çš„æ¯ä¸¤ä¸ªå­—èŠ‚å½“æˆä¸€ä¸ªæ•°ï¼Œç”¨åç ç®—æœ¯æ±‚å’Œã€‚æ¯å°è·¯ç”±å™¨ä¸Šå¿…é¡»é‡æ–°è®¡ç®—æ£€éªŒå’Œå¹¶å†æ¬¡å­˜æ”¾åˆ°è¿œå¤„ï¼Œå› ä¸ºTTLå­—æ®µä»¥åŠå¯èƒ½çš„é€‰é¡¹å­—æ®µä¼šæ”¹å˜ã€‚ã€ä¸ºä»€ä¹ˆTCP/IPéƒ½æ‰§è¡Œå·®é”™æ£€æµ‹ï¼Ÿâ€”å› ä¸ºTCPå’ŒIPå¯ä»¥åˆ†åˆ«è¿è¡Œåœ¨ä¸åŒçš„åè®®æ ˆä¸Š æºå’Œç›®çš„åœ°IPåœ°å€ï¼šæºä¸»æœºé€šè¿‡DNSæŸ¥æ‰¾æ¥å†³å®šç›®çš„åœ°å€ã€‚ é€‰é¡¹ï¼šå…è®¸IPé¦–éƒ¨è¢«æ‰©å±•ï¼Œå¾ˆå°‘ä½¿ç”¨ã€‚ æ•°æ®(æœ‰æ•ˆè½½è·)ï¼šå¤§å¤šæ•°æ—¶å€™æ‰¿è½½è¿è¾“å±‚æŠ¥æ–‡ï¼Œä¹Ÿå¯æ‰¿è½½å…¶ä»–ç±»å‹çš„æ•°æ®,e.g.ICMPæŠ¥æ–‡ 20å­—èŠ‚IPé¦–éƒ¨+20å­—èŠ‚TCPé¦–éƒ¨=40å­—èŠ‚æ•°æ®æŠ¥é¦–éƒ¨ æ•°æ®æŠ¥åˆ†ç‰‡åŸå› ï¼šå‘é€æ–¹ä¸ç›®çš„åœ°è·¯å¾„ä¸Šçš„æ¯æ®µé“¾è·¯å¯èƒ½ä½¿ç”¨ä¸åŒçš„é“¾è·¯å±‚åè®®æœ€å¤§ä¼ é€å•å…ƒ(MTU)ï¼šä¸€ä¸ªé“¾è·¯å±‚å¸§èƒ½æ‰¿è½½çš„æœ€å¤§æ•°æ®é‡æ¯ä¸ªè¾ƒå°çš„æ•°æ®æŠ¥ç§°ä¸ºç‰‡(fragment) å‘é€ä¸»æœºå°†å‘é€çš„æ¯ä¸ªæ•°æ®æŠ¥çš„æ ‡è¯†å·+1 è·¯ç”±å™¨å¯¹æ•°æ®æŠ¥åˆ†ç‰‡æ—¶ï¼Œæ¯ä¸ªç‰‡å…·æœ‰åˆå§‹æ•°æ®æŠ¥çš„æºåœ°å€ã€ç›®çš„åœ°å€å’Œæ ‡è¯†å· ç›®çš„åœ°ä¸»æœºèƒ½å¤Ÿæ£€æŸ¥æ•°æ®æŠ¥çš„æ ‡è¯†å·ä»¥ç¡®å®šå“ªäº›æ•°æ®æŠ¥å®é™…ä¸Šæ˜¯åŒä¸€è¾ƒå¤§æ•°æ®æŠ¥çš„ç‰‡ IPæ˜¯ä¸å¯é æœåŠ¡â€”åˆå§‹æ•°æ®æŠ¥çš„æœ€åä¸€ç¯‡æ ‡å¿—æ¯”ç‰¹ä¸º0ï¼Œå…¶ä»–ç‰‡ä¸º1 ä¸ºäº†è®©ç›®çš„ä¸»æœºç¡®å®šæ˜¯å¦ä¸¢äº†ä¸€ä¸ªç‰‡ä¸”æŒ‰æ­£ç¡®é¡ºåºç»„è£…ç‰‡ï¼Œä½¿ç”¨åç§»å­—æ®µåˆ¶å®šè¯¥ç‰‡åº”è¯¥æ”¾åœ¨åˆå§‹IPæ•°æ®æŠ¥çš„å“ªä¸ªä½ç½® ç¼–å€ä¸€å°ä¸»æœºé€šå¸¸åªæœ‰ä¸€æ¡é“¾è·¯è¿æ¥åˆ°ç½‘ç»œï¼Œä¸»æœºä¸ç‰©ç†é“¾è·¯ä¹‹é—´çš„è¾¹ç•Œå«ä½œæ¥å£ã€‚è·¯ç”±å¿…é¡»æ‹¥æœ‰å¤šæ¡é“¾è·¯ä¸ä¹‹ç›¸è¿æ¥ï¼Œè·¯ç”±å™¨ä¸å®ƒä»»æ„ä¸€æ¡é“¾è·¯ä¹‹é—´çš„è¾¹ç•Œä¹Ÿå«ä½œæ¥å£ã€‚ä¸€ä¸ªIPåœ°å€ä¸ä¸€ä¸ªæ¥å£ç›¸å…³è”ã€‚ IPåœ°å€é•¿32æ¯”ç‰¹ï¼Œé‡‡ç”¨ç‚¹åˆ†åè¿›åˆ¶è®°æ³•ä¹¦å†™æ ¼å¼ï¼š$a.b.c.d/x$ å­ç½‘æ©ç ï¼š32ä½ä¸­å‰$x$æ¯”ç‰¹å…¨å–1 æœ€é«˜$x$æ¯”ç‰¹æ„æˆäº†ç½‘ç»œéƒ¨åˆ†ï¼Œä¹Ÿç§°å‰ç¼€ ç»„ç»‡å†…éƒ¨çš„è®¾å¤‡çš„IPå…±äº«ç›¸åŒçš„å‰ç¼€ å‡å°‘äº†å­ç½‘å¤–è·¯ç”±å™¨ä¸­è½¬å‘è¡¨çš„é•¿åº¦ å­ç½‘ï¼šåˆ†å¼€ä¸»æœºå’Œè·¯ç”±å™¨çš„æ¯ä¸ªæ¥å£ï¼Œäº§ç”Ÿå‡ ä¸ªéš”ç¦»çš„ç½‘ç»œå­¤å²›ï¼Œä½¿ç”¨æ¥å£ç«¯æ¥è¿™äº›éš”ç¦»çš„ç½‘ç»œçš„ç«¯ç‚¹ã€‚è¿™äº›éš”ç¦»çš„ç½‘ç»œä¸­çš„æ¯ä¸€ä¸ªéƒ½å«ä½œä¸€ä¸ªå­ç½‘ã€‚åœ¨ç»™å®šå­ç½‘ä¸Šçš„æ‰€æœ‰è®¾å¤‡éƒ½å…·æœ‰ç›¸åŒçš„å­ç½‘åœ°å€ã€‚å› ç‰¹ç½‘åœ°å€çš„åˆ†é…ç­–ç•¥ç§°ä¸ºæ— ç±»åˆ«åŸŸé—´è·¯ç”±é€‰æ‹©(CIDR, Classless Interdomain Routing)å¯»å€ï¼šæœ€é•¿å‰ç¼€åŒ¹é…ï¼Œé€‰æ‹©ä¸ç›®çš„åœ°å€ç›¸åŒ¹é…çš„æœ€é•¿åœ°å€å‰ç¼€IPå¹¿æ’­åœ°å€ï¼š255.255.255.255ï¼Œå½“æŠ¥æ–‡çš„ç›®çš„åœ°å€æ˜¯å¹¿æ’­åœ°å€æ—¶ä¼šè¢«äº¤ä»˜ç»™åŒä¸€ä¸ªç½‘ç»œä¸­çš„æ‰€æœ‰ä¸»æœºï¼Œè·¯ç”±å™¨ä¹Ÿä¼šæœ‰é€‰æ‹©åœ°å‘ä¸´è¿‘çš„å­ç½‘è½¬å‘è¯¥æŠ¥æ–‡ è·å–ä¸€å—åœ°å€ISPä»è‡ªå·±çš„å¤§åœ°å€å—ä¸­æä¾›ä¸€äº›åœ°å€ç»™ç»„ç»‡IPåœ°å€ç”±å› ç‰¹ç½‘åå­—å’Œç¼–å·åˆ†é…æœºæ„(ICANN)ç®¡ç†ï¼ŒICANNè¿˜ç®¡ç†DNSæ ¹æœåŠ¡å™¨ è·å–ä¸»æœºåœ°å€ï¼šDHCP åŠ¨æ€ä¸»æœºé…ç½®åè®®(DHCP)å…è®¸ä¸»æœºè·å–ä¸€ä¸ªIPåœ°å€ï¼Œè¿˜å…è®¸ä¸»æœºå¾—çŸ¥å­ç½‘æ©ç ã€ç¬¬ä¸€è·³è·¯ç”±å™¨åœ°å€(é»˜è®¤ç½‘å…³)ã€æœ¬åœ°DNSæœåŠ¡å™¨çš„åœ°å€ å³æ’å³ç”¨åè®®/é›¶é…ç½®åè®® å®¢æˆ·-æœåŠ¡å™¨åè®® æ¯ä¸ªå­ç½‘å°†å…·æœ‰ä¸€å°DHCPæœåŠ¡å™¨ å¦‚æœæŸå­ç½‘ä¸­æ²¡æœ‰DHCPæœåŠ¡å™¨ï¼Œåˆ™éœ€è¦ä¸€ä¸ªDHCPä¸­ç»§ä»£ç†ï¼ˆé€šå¸¸æ˜¯ä¸€å°è·¯ç”±å™¨ï¼‰ï¼Œè¿™ä¸ªä»£ç†ç”¨äºçŸ¥é“è¯¥ç½‘ç»œçš„DHCPæœåŠ¡å™¨çš„åœ°å€ DHCPåè®®4æ­¥ DHCPæœåŠ¡å™¨å‘ç° ä½¿ç”¨DHCPå‘ç°æŠ¥æ–‡ æºåœ°å€ï¼š0.0.0.0(â€œæœ¬ä¸»æœºâ€)ï¼Œç›®çš„åœ°å€ï¼š255.255.255.255(å¹¿æ’­åœ°å€) ç”¨äºä¸€ä¸ªæ–°åˆ°è¾¾çš„ä¸»æœºå‘ç°ä¸€ä¸ªè¦ä¸å…¶äº¤äº’çš„DHCPæœåŠ¡å™¨ DHCPæœåŠ¡æä¾› DHCPæœåŠ¡å™¨æ”¶åˆ°DHCPå‘ç°æŠ¥æ–‡åå¯¹å®¢æˆ·åšå‡ºå“åº” ä½¿ç”¨DHCPæä¾›æŠ¥æ–‡ï¼ŒåŒ…å«å‘ç°æŠ¥æ–‡çš„äº‹ç‰©IDã€å‘å®¢æˆ·æ¨èçš„IPåœ°å€ã€ç½‘ç»œæ©ç ã€IPåœ°å€ç§Ÿç”¨æœŸ(å³IPåœ°å€çš„æœ‰æ•ˆæ—¶é—´é‡ï¼Œé€šå¸¸ä¸ºå‡ å°æ—¶æˆ–å‡ å¤©) æºåœ°å€ï¼šè‡ªå·±çš„IPåœ°å€ï¼Œç›®çš„åœ°å€ï¼š255.255.255.255(å¹¿æ’­åœ°å€) å­ç½‘ä¸­å¯èƒ½å­˜åœ¨å¤šä¸ªDHCPæœåŠ¡å™¨ï¼Œå®¢æˆ·éœ€è¦é€‰æ‹©ä¸€ä¸ª DHCPè¯·æ±‚ å®¢æˆ·å‘é€‰ä¸­çš„æœåŠ¡å™¨æä¾›DHCPè¯·æ±‚æŠ¥æ–‡è¿›è¡Œå“åº”ï¼Œå›æ˜¾é…ç½®çš„å‚æ•° æºåœ°å€ï¼š0.0.0.0.ï¼Œç›®çš„åœ°å€:255.255.255.255 DHCP ACK æœåŠ¡å™¨ç”¨DHCP ACKæŠ¥æ–‡å¯¹DHCPè¯·æ±‚æŠ¥æ–‡è¿›è¡Œå“åº”ï¼Œè¯å®æ‰€è¦æ±‚çš„å‚æ•° æºåœ°å€ï¼šDHCPæœåŠ¡å™¨è‡ªå·±çš„åœ°å€ï¼Œç›®çš„åœ°å€:255.255.255.255 å®¢æˆ·æ”¶åˆ°DHCP ACKåäº¤äº’å®Œæˆ ä¸èƒ½ç»´æŒä¸è¿œç¨‹åº”ç”¨ä¹‹é—´çš„TCPè¿æ¥ ç½‘ç»œåœ°å€è½¬æ¢(NAT) NATä½¿èƒ½è·¯ç”±å™¨ 4ä¸ªæ¥å£å…·æœ‰ç›¸åŒçš„ç½‘ç»œåœ°å€10.0.0/24 åœ°å€ç©ºé—´10.0.0.0/8æ˜¯åœ¨RFC 198ä¸­ä¿ç•™çš„ä¸‰éƒ¨åˆ†IPåœ°å€ç©ºé—´ä¹‹ä¸€ï¼Œç”¨äºå®¶åº­ç½‘ç»œç­‰ä¸“ç”¨ç½‘ç»œæˆ–å…·æœ‰ä¸“ç”¨åœ°å€çš„åœ°åŸŸï¼Œä»…åœ¨ç»™å®šçš„ç½‘ç»œä¸­æ‰æœ‰æ„ä¹‰ NATä½¿èƒ½è·¯ç”±å™¨å¯¹å¤–ç•Œçš„è¡Œä¸ºå¦‚åŒä¸€ä¸ªå…·æœ‰å•ä¸€IPåœ°å€çš„å•ä¸€è®¾å¤‡ æ‰€æœ‰æµå‘å¤–ç•Œ/è¿›å…¥å®¶åº­çš„æŠ¥æ–‡éƒ½æ‹¥æœ‰åŒä¸€ä¸ªæº/ç›®çš„IPåœ°å€ NATä½¿èƒ½è·¯ç”±å™¨å¯¹å¤–ç•Œéšè—äº†å®¶åº­ç½‘ç»œçš„ç»†èŠ‚ NATè½¬åŒ–è¡¨ NATæ”¶åˆ°å®¶åº­ä¸»æœºå‘é€å‘å¤–ç•Œçš„æ•°æ®æŠ¥åï¼Œä¸ºå…¶ç”Ÿæˆä¸€ä¸ªæ–°çš„æºç«¯å£å·ï¼Œå°†æºIPæ›¿ä»£ä¸ºå…¶å¹¿åŸŸç½‘ä¸€ä¾§æ¥å£çš„IPåœ°å€ï¼Œä¸”å°†æºç«¯å£å·æ›¿æ¢ä¸ºæ–°ç”Ÿæˆçš„ç«¯å£å· ç«¯å£å·å­—æ®µ16å­—èŠ‚ï¼ŒNATåè®®å¯æ”¯æŒè¶…è¿‡60000ä¸ªå¹¶è¡Œä½¿ç”¨è·¯ç”±å™¨å¹¿åŸŸç½‘ä¸€ä¾§å•ä¸ªIPåœ°å€çš„è¿æ¥ è·¯ç”±å™¨ä¸­çš„NATåœ¨å…¶NATè½¬æ¢è¡¨ä¸­å¢åŠ ä¸€ä¸ªè¡¨é¡¹ï¼Œè®°å½•WANç«¯å’ŒLANæ®µIPåœ°å€åŠç«¯å£çš„å¯¹åº”å…³ç³» IPv6æ•°æ®æŠ¥æ ¼å¼ å®šé•¿40å­—èŠ‚(320æ¯”ç‰¹)é¦–éƒ¨ ç‰ˆæœ¬(4æ¯”ç‰¹)ï¼šæ ‡è¯†IPç‰ˆæœ¬å·ï¼ŒIPv6å°†å…¶è®¾ç½®ä¸º6 è®¾ç½®ä¸º4ä¸èƒ½å¾—åˆ°åˆæ³•çš„IPv4æ•°æ®æŠ¥ æµé‡ç±»å‹(8æ¯”ç‰¹)ï¼šä¸IPv4çš„TOSç±»ä¼¼ï¼Œä½¿ä¸åŒç±»å‹çš„IPæ•°æ®æŠ¥èƒ½ç›¸äº’åŒºåˆ«å¼€æ¥ æµæ ‡ç­¾(20æ¯”ç‰¹)ï¼šæ ‡è¯†ä¸€æ¡æ•°æ®æŠ¥çš„æµ å¯¹ä¸€æ¡æµä¸­çš„æŸäº›æ•°æ®æŠ¥ç»™å‡ºä¼˜å…ˆæƒ ä¹Ÿèƒ½å¤Ÿç”¨æ¥å¯¹æ¥è‡ªæŸäº›åº”ç”¨çš„æ•°æ®æŠ¥ç»™å‡ºæ›´é«˜çš„ä¼˜å…ˆæƒ æœ‰æ•ˆè½½è·é•¿åº¦(16æ¯”ç‰¹æ— ç¬¦å·æ•´æ•°)ï¼šå®šé•¿40å­—èŠ‚æ•°æ®æŠ¥é¦–éƒ¨åçš„å­—èŠ‚æ•°é‡ ä¸‹ä¸€ä¸ªé¦–éƒ¨(8æ¯”ç‰¹)ï¼šè¡¨ç¤ºæ•°æ®æŠ¥ä¸­çš„å†…å®¹è¦äº¤ä»˜ç»™å“ªä¸ªåè®®(e.g.TCP or UDP)ï¼Œå–å€¼åŒIPv4 è·³é™åˆ¶(8æ¯”ç‰¹)ï¼šç›¸å½“äºIPv4çš„TTLï¼Œè½¬å‘çš„æ¯å°è·¯ç”±å™¨å¯¹è¯¥å­—æ®µçš„å€¼-1ï¼Œåˆ°0è‡ªåŠ¨ä¸¢å¼ƒ æºåœ°å€å’Œç›®çš„åœ°å€(å„128æ¯”ç‰¹) æ•°æ® ç›¸å¯¹IPv4çš„å˜åŒ–æ–°å¢äº†ï¼š æ‰©å¤§çš„åœ°å€å®¹é‡ åœ°å€é•¿åº¦ï¼š32 bits -&gt; 128 bits å¼•å…¥ä»»æ’­åœ°å€ï¼šå¯ä»¥ä½¿æ•°æ®æŠ¥äº¤ä»˜ç»™ä¸€ç»„ä¸»æœºä¸­çš„ä»»æ„ä¸€ä¸ª æµå®šä¹‰ åˆ å»äº†ï¼š åˆ†ç‰‡/é‡æ–°ç»„è£…ï¼šå› ä¸ºå¤ªè€—æ—¶äº† å¦‚æœè·¯ç”±å™¨æ”¶åˆ°çš„IPv6æ•°æ®æŠ¥å¤ªå¤§ä¸èƒ½è½¬å‘åˆ°å‡ºé“¾è·¯ä¸Šçš„è¯ï¼Œè·¯ç”±å™¨åªéœ€ä¸¢å¼ƒè¯¥æ•°æ®æŠ¥ï¼Œå¹¶å‘å‘é€æ–¹å‘å›ä¸€ä¸ªâ€œåˆ†ç»„å¤ªå¤§â€çš„ICMPå·®é”™æŠ¥æ–‡ å¤§å¤§åŠ å¿«äº†IPè½¬å‘é€Ÿåº¦ é¦–éƒ¨æ£€éªŒå’Œï¼šå› ä¸ºå¤ªè€—æ—¶äº†ï¼Œè€Œä¸”å¤šä½™ é€‰é¡¹ï¼šä¸å±äºé¦–éƒ¨çš„ä¸€éƒ¨åˆ†ï¼Œä½†æ²¡æœ‰æ¶ˆå¤±ï¼Œå¯èƒ½å‡ºç°åœ¨â€œä¸‹ä¸€ä¸ªé¦–éƒ¨â€æŒ‡å‡ºçš„ä½ç½®ä¸Š ä½¿å¾—IPv6çš„é¦–éƒ¨æ˜¯å®šé•¿çš„ IPv4åˆ°IPv6çš„è¿ç§»å»ºéš§é“ éš§é“ï¼šä¸¤å°IPv6è·¯ç”±å™¨ä¹‹é—´çš„ä¸­é—´IPv4è·¯ç”±å™¨é›†åˆ éš§é“å‘é€ç«¯çš„IPv6èŠ‚ç‚¹(B)å°†æ•´ä¸ªIPv6æ•°æ®æŠ¥æ”¾åˆ°ä¸€ä¸ªIPv4æ•°æ®æŠ¥ä¸­,å°†æºåœ°å€è®¾ä¸ºè‡ªå·±ï¼Œç›®çš„åœ°å€è®¾ä¸ºéš§é“æ¥æ”¶ç«¯çš„IPv6èŠ‚ç‚¹(E) ä¸­é—´çš„IPv4è·¯ç”±å™¨ç…§å¸¸è½¬å‘IPv4æ•°æ®æŠ¥ éš§é“æ¥æ”¶ç«¯é€šè¿‡è§‚å¯ŸIPv4æ•°æ®æŠ¥ä¸­åè®®å·å­—æ®µæ˜¯41ç¡®å®šè¯¥æ•°æ®æŠ¥å«æœ‰ä¸€ä¸ªIPv6æ•°æ®æŠ¥ï¼Œå¹¶å°†å…¶å–å‡º CH5 ç½‘ç»œå±‚ï¼šæ§åˆ¶å¹³é¢è·¯ç”±é€‰æ‹©ç®—æ³•ç›®çš„ï¼šä»å‘é€æ–¹åˆ°æ¥æ”¶æ–¹çš„è¿‡ç¨‹ä¸­ç¡®å®šä¸€æ¡é€šè¿‡è·¯ç”±å™¨ç½‘ç»œçš„å¥½çš„è·¯å¾„(ç­‰ä»·äºè·¯ç”±) é›†ä¸­å¼è·¯ç”±é€‰æ‹©ç®—æ³•ï¼šå…·æœ‰å…¨å±€çŠ¶æ€ä¿¡æ¯çš„ç®—æ³•ï¼Œå¿…é¡»çŸ¥é“æ¯æ¡é“¾è·¯çš„å¼€é”€ï¼Œå¸¸è¢«ç§°ä¸ºé“¾è·¯çŠ¶æ€(LS)ç®—æ³• åˆ†å¸ƒå¼è·¯ç”±é€‰æ‹©ç®—æ³•ï¼šä»¥è¿­ä»£ã€åˆ†å¸ƒå¼çš„æ–¹å¼è®¡ç®—æœ€å°å¼€é”€è·¯å¾„ï¼Œæ¯ä¸ªèŠ‚ç‚¹åªæœ‰ä¸å…¶ç›¸é‚»èŠ‚ç‚¹çš„ä¿¡æ¯ é™æ€è·¯ç”±é€‰æ‹©ç®—æ³•ï¼šè·¯ç”±éšæ—¶é—´å˜åŒ–ç¼“æ…¢ åŠ¨æ€è·¯ç”±é€‰æ‹©ç®—æ³•ï¼šéšç€ç½‘ç»œæµé‡è´Ÿè½½æˆ–æ‹“æ‰‘å‘ç”Ÿå˜åŒ–è€Œæ”¹å˜è·¯ç”±é€‰æ‹©è·¯å¾„ è´Ÿè½½æ•æ„Ÿç®—æ³•ï¼šé“¾è·¯å¼€é”€ä¼šåŠ¨æ€åœ°å˜åŒ–åæ˜ å‡ºåº•å±‚é“¾è·¯çš„å½“å‰æ‹¥å¡æ°´å¹³ è´Ÿè½½è¿Ÿé’ç®—æ³• é“¾è·¯çŠ¶æ€è·¯ç”±é€‰æ‹©ç®—æ³•è¾“å…¥ï¼šè®©æ¯ä¸ªèŠ‚ç‚¹å‘ç½‘ç»œä¸­æ‰€æœ‰å…¶ä»–èŠ‚ç‚¹å¹¿æ’­é“¾è·¯çŠ¶æ€åˆ†ç»„â€”â€”é“¾è·¯çŠ¶æ€å¹¿æ’­ç®—æ³•Dijksraç®—æ³•æœ€å·®æƒ…å†µä¸‹å¤æ‚æ€§ä¸º$O(n^2)$ é—®é¢˜ï¼šé“¾è·¯å¼€é”€éå¯¹ç§°ï¼Œå³é“¾è·¯å¼€é”€å¯¹åº”äºæ‰¿è½½çš„æµé‡ä¼šå‡ºç°æŒ¯è¡ï¼šæ‰€æœ‰çš„æµé‡éƒ½è¢«å¯¼å‘åŒä¸€ä¸ªæ–¹å‘è·¯ç”±å™¨çš„è‡ªåŒæ­¥ï¼šå³ä½¿å®ƒä»¬åœ¨åˆå§‹æ—¶ä»¥åŒä¸€å‘¨æœŸä½†åœ¨ä¸åŒæ—¶åˆ»æ‰§è¡Œç®—æ³•ï¼Œç®—æ³•æ‰§è¡Œæ—¶æœºæœ€ç»ˆä¼šåœ¨è·¯ç”±å™¨ä¸Šå˜ä¸ºåŒæ­¥å¹¶ä¿æŒè§£å†³æ–¹æ¡ˆï¼šè®©æ¯å°è·¯ç”±å™¨å‘é€é“¾è·¯é€šå‘Šçš„æ—¶é—´éšæœºåŒ– è·ç¦»å‘é‡(DV)è·¯ç”±é€‰æ‹©ç®—æ³•åˆ†å¸ƒå¼çš„ã€è¿­ä»£çš„ï¼ˆèƒ½è‡ªæˆ‘ç»ˆæ­¢ï¼‰ã€å¼‚æ­¥çš„è·ç¦»å‘é‡ï¼š$\\bf{D}_x$$=\\left[D_x(x), D_x(y), D_x(z) \\right]$Bellman-Fordç®—æ³•Bellman-Fordæ–¹ç¨‹ï¼š$d_x(y)=\\min_v{c(x,v)+d_v(y)}$ æ¯ä¸ªèŠ‚ç‚¹ç­‰å¾…æ¥è‡ªä»»ä½•é‚»å±…çš„æ›´æ–°ï¼Œå½“æ¥æ”¶åˆ°ä¸€ä¸ªæ›´æ–°æ—¶è®¡ç®—å®ƒçš„æ–°è·ç¦»å‘é‡å¹¶å‘å®ƒçš„é‚»å±…åˆ†å¸ƒå…¶æ–°è·ç¦»å‘é‡ å½“ä¸€ä¸ªèŠ‚ç‚¹æ£€æµ‹åˆ°ä»å®ƒè‡ªå·±åˆ°é‚»å±…çš„é“¾è·¯å¼€é”€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå®ƒå°±æ›´æ–°å…¶è·ç¦»å‘é‡â€”â€”å¯èƒ½ä¼šå‡ºç°è·¯ç”±é€‰æ‹©ç¯è·¯ï¼šyé€šè¿‡zåˆ°xï¼ŒåŒæ—¶zé€šè¿‡yåˆ°xå› ä¸ºå¼€é”€æ”¹å˜çš„é“¾è·¯åœ¨å…¶ä»–èŠ‚ç‚¹çš„è·ç¦»è¡¨ä¸­çš„ä¿¡æ¯ä»æ²¡æœ‰è¢«æŠ¹å» é“¾è·¯å¼€é”€çš„å¢åŠ ä¼šå¯¼è‡´åæ¶ˆæ¯ä¼ æ’­å¾—å¾ˆæ…¢â€”â€”æ— ç©·è®¡æ•°é—®é¢˜ æ¯’æ€§é€†è½¬ï¼šæ’’è°è®¾ç½®$D_z(x)=\\infty$ï¼Œè¿™æ ·yå°±æ°¸è¿œä¸ä¼šè¯•å›¾ç»ç”±zè·¯ç”±é€‰æ‹©åˆ°xWiki: In computer networking, split-horizon route advertisement is a method of preventing routing loops in distance-vector routing protocols by prohibiting a router from advertising a route back onto the interface from which it was learned.(ä»å“ªé‡Œå­¦ä¹ æ¥çš„ï¼Œå°±æ‹’ç»å‘å›åˆ°å“ªé‡Œå»)ä¾ç„¶æ— æ³•è§£å†³æ— ç©·è®¡æ•°é—®é¢˜ æ¯”è¾ƒ ç»´åº¦ LS DV æŠ¥æ–‡å¤æ‚æ€§ å‘é€$O(\\ NE\\ )$ä¸ªæŠ¥æ–‡ï¼Œæ¯æ¬¡æ”¹å˜å‘æ‰€æœ‰èŠ‚ç‚¹å‘é€æ–°å¼€é”€ æ¯æ¬¡è¿­ä»£é‚»å±…é—´äº¤æ¢æŠ¥æ–‡ æ”¶æ•›é€Ÿåº¦ è¿˜è¡Œ(?)ï¼Œå¤šé¡¹å¼æ—¶é—´ æ”¶æ•›è¾ƒæ…¢ï¼Œä¸”ä¼šå‡ºç°è·¯ç”±é€‰æ‹©ç¯è·¯ å¥å£®æ€§ è·¯ç”±å™¨æŸç§ç¨‹åº¦ä¸Šåˆ†ç¦» ä¸€ä¸ªä¸æ­£ç¡®èŠ‚ç‚¹çš„è®¡ç®—å€¼ä¼šæ‰©æ•£åˆ°æ•´ä¸ªç½‘ç»œ å› ç‰¹ç½‘è‡ªæ²»ç³»ç»Ÿå†…éƒ¨çš„è·¯ç”±é€‰æ‹©ï¼šOSPFè§„æ¨¡(æ— ç©·è®¡æ•°)å’Œç®¡ç†è‡ªæ²»(ISPæŒ‰è‡ªå·±æ„æ„¿è¿è¡Œè·¯ç”±å™¨)é—®é¢˜â€”â€”è§£å†³ï¼šè‡ªæ²»ç³»ç»Ÿ(AS)æ¯ä¸ªASç”±ä¸€ç»„é€šå¸¸å¤„åœ¨ç›¸åŒç®¡ç†æ§åˆ¶ä¸‹çš„è·¯ç”±å™¨ç»„æˆä¸€ä¸ªè‡ªæ²»ç³»ç»Ÿç”±å…¶å…¨å±€å”¯ä¸€çš„ASå·(ASN)æ‰€æ ‡è¯†ï¼ŒASNç”±ICANNåŒºåŸŸæ³¨å†Œæœºæ„å‘æ”¾ OSPFï¼šå¼€æ”¾æœ€çŸ­è·¯ä¼˜å…ˆï¼ŒOpen Shortest Path Firstå¼€æ”¾ï¼šå…¬ä¼—å¯ç”¨LSåè®®ï¼Œä½¿ç”¨æ´ªæ³›é“¾è·¯çŠ¶æ€ä¿¡æ¯å’ŒDijkstraæœ€çŸ­è·¯å¾„ç®—æ³•å„æ¡é“¾è·¯å¼€é”€ä¸ºç½‘ç»œç®¡ç†å‘˜æ‰‹åŠ¨é…ç½® è·¯ç”±å™¨å‘ASå†…æ‰€æœ‰å…¶ä»–è·¯ç”±å™¨å¹¿æ’­è·¯ç”±é€‰æ‹©ä¿¡æ¯ æ¯å½“ä¸€æ¡é“¾è·¯çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè·¯ç”±å™¨å°±ä¼šå¹¿æ’­é“¾è·¯çŠ¶æ€ä¿¡æ¯ï¼›å³ä½¿æœªå˜åŒ–ï¼Œä¹Ÿä¼šè‡³å°‘æ¯éš”30minä¸€æ¬¡å¹¿æ’­é“¾è·¯çŠ¶æ€â€”â€”å¢åŠ é²æ£’æ€§ OSPFæŠ¥æ–‡ç”±IPæ‰¿è½½ï¼Œå¯¹ä¸Šå±‚åè®®çš„å€¼ä¸º89ï¼Œå› æ­¤OSPFåè®®å¿…é¡»è‡ªå·±å®ç°è¯¸å¦‚å¯é æŠ¥æ–‡ä¼ è¾“ã€é“¾è·¯çŠ¶æ€å¹¿æ’­ç­‰åŠŸèƒ½ã€‚ è¿˜è¦æ£€æŸ¥é“¾è·¯æ­£åœ¨è¿è¡Œ(é€šè¿‡å‘é‚»å±…å‘é€HELLOæŠ¥æ–‡)ï¼Œå¹¶å…è®¸OSPFè·¯ç”±å™¨è·å¾—ç›¸é‚»è·¯ç”±å™¨çš„ç½‘ç»œèŒƒå›´é“¾è·¯çŠ¶æ€çš„æ•°æ®åº“ ä¼˜ç‚¹ï¼š å®‰å…¨ï¼šèƒ½é‰´åˆ«å’ŒåŠ å¯†(ç®€å•çš„orMD5) æ”¯æŒé€‰æ‹©å¤šæ¡ç›¸åŒå¼€é”€çš„è·¯å¾„ å¯¹å•æ’­ä¸å¤šæ’­è·¯ç”±é€‰æ‹©çš„ç»¼åˆæ”¯æŒ æ”¯æŒåœ¨å•ä¸ªASä¸­çš„å±‚æ¬¡ç»“æ„ åŒºåŸŸè¾¹ç•Œè·¯ç”±å™¨ï¼šä¸ºæµå‘è¯¥åŒºåŸŸä»¥å¤–çš„åˆ†ç»„æä¾›è·¯ç”±é€‰æ‹© ä¸»å¹²åŒºåŸŸï¼šä¸ºè¯¥ASä¸­å…¶ä»–åŒºåŸŸä¹‹é—´çš„æµé‡æä¾›è·¯ç”±é€‰æ‹©ï¼Œæ‰€æœ‰åŒºåŸŸè¾¹ç•Œè·¯ç”±å™¨+ä¸€äº›éè¾¹ç•Œè·¯ç”±å™¨ ASé—´çš„è·¯ç”±é€‰æ‹©åè®®ï¼šBGPBGPï¼šè¾¹ç•Œç½‘å…³åè®®, Broder Gateway Protocolåˆ†å¸ƒå¼ã€å¼‚æ­¥åˆ†ç»„ä¸æ˜¯è·¯ç”±åˆ°ç‰¹å®šåœ°å€ï¼Œè€Œæ˜¯è·¯ç”±åˆ°CIDRåŒ–çš„å‰ç¼€ï¼Œæ¯ä¸ªå‰ç¼€è¡¨ç¤ºä¸€ä¸ªå­ç½‘æˆ–ä¸€ä¸ªå­ç½‘çš„é›†åˆ BGPä¸ºæ¯å°è·¯ç”±å™¨æä¾›äº†ä¸€ç§å®Œæˆä»¥ä¸‹ä»»åŠ¡çš„æ‰‹æ®µï¼š ä»é‚»å±…ASè·å¾—å‰ç¼€çš„å¯è¾¾æ€§ä¿¡æ¯ ç¡®å®šåˆ°è¯¥å‰ç¼€çš„â€œæœ€å¥½çš„â€è·¯ç”± é€šå‘ŠBGPè·¯ç”±ä¿¡æ¯å¯¹äºæ¯ä¸ªASï¼Œæ¯å°è·¯ç”±å™¨è¦ä¹ˆæ˜¯ä¸€å°ç½‘å…³è·¯ç”±å™¨ï¼Œè¦ä¹ˆæ˜¯ä¸€å°å†…éƒ¨è·¯ç”±å™¨ã€‚ç½‘å…³è·¯ç”±å™¨ï¼šä½äºASè¾¹ç¼˜ï¼Œç›´æ¥è¿æ¥åˆ°åœ¨å…¶ä»–ASä¸­çš„è·¯ç”±å™¨å†…éƒ¨è·¯ç”±å™¨ï¼šä»…è¿æ¥åœ¨å®ƒè‡ªå·±ASä¸­çš„ä¸»æœºå’Œè·¯ç”±å™¨ æ¯å¯¹è·¯ç”±å™¨é€šè¿‡ä½¿ç”¨179ç«¯å£çš„åŠæ°¸ä¹…TCPè¿æ¥äº¤æ¢è·¯ç”±é€‰æ‹©ä¿¡æ¯ã€‚æ¯æ¡ç›´çº¿è¿æ¥ä»¥åŠæ‰€æœ‰é€šè¿‡è¯¥è¿æ¥å‘é€çš„BGPæŠ¥æ–‡ï¼Œç§°ä¸ºBGPè¿æ¥è·¨è¶Šä¸¤ä¸ªASçš„BGPè¿æ¥ç§°ä¸ºå¤–éƒ¨BGPè¿æ¥(eBGP)åœ¨ç›¸åŒASä¸­çš„ä¸¤å°è·¯ç”±å™¨ä¹‹é—´çš„BGPç§°ä¸ºå†…éƒ¨BGPè¿æ¥(iBGP)ç›´æ¥è¿æ¥åœ¨ä¸åŒASä¸­çš„ç½‘å…³è·¯ç”±å™¨çš„æ¯æ¡é“¾è·¯é€šå¸¸æœ‰ä¸€æ¡eBGPè¿æ¥ï¼Œåœ¨æ¯ä¸ªASä¸­çš„è·¯ç”±å™¨ä¹‹é—´è¿˜æœ‰å¤šæ¡iBGPè¿æ¥ï¼ŒiBGPè¿æ¥ä¸æ€»æ˜¯ä¸ç‰©ç†é“¾è·¯å¯¹åº” å‰ç¼€ä¸­åŒ…å«ä¸€äº›BGPå±æ€§å‰ç¼€+å…¶å±æ€§ç§°ä¸ºè·¯ç”± AS-PATHå±æ€§ï¼šåŒ…å«äº†é€šå‘Šå·²ç»é€šè¿‡çš„ASçš„åˆ—è¡¨ å½“ä¸€ä¸ªå‰ç¼€é€šè¿‡æŸASæ—¶ï¼Œè¯¥ASå°†å…¶ASNåŠ å…¥AS-PATHçš„ç°æœ‰åˆ—è¡¨ BGPè·¯ç”±å™¨è¿˜ä½¿ç”¨AS-PATHå±æ€§æ¥æ£€æµ‹å’Œé˜²æ­¢é€šå‘Šç¯è·¯ï¼Œå¦‚æœä¸€å°è·¯ç”±å™¨åœ¨è·¯å¾„åˆ—è¡¨ä¸­çœ‹åˆ°äº†åŒ…å«å®ƒè‡ªå·±çš„ASï¼Œåˆ™å®ƒå°†æ‹’ç»è¯¥é€šå‘Š NEXT-HOPå±æ€§ï¼šAS-PATHèµ·å§‹è·¯ç”±å™¨æ¥å£çš„IPåœ°å€ï¼ˆåˆ°è¾¾å‰ç¼€$x$è·¯å¾„ä¸Šçš„ç¬¬ä¸€å°è·¯ç”±å™¨çš„åœ°å€ çƒ­åœŸè±†è·¯ç”±é€‰æ‹©å®é™…ä¸Šæ˜æ˜æ˜¯çƒ«æ‰‹å±±èŠ‹ ä»æ‰€æœ‰å¯èƒ½çš„è·¯ç”±ä¸­é€‰æ‹©åˆ°å¼€å§‹è¯¥è·¯ç”±çš„NEXT-HOPè·¯ç”±å™¨å…·æœ‰æœ€å°å¼€é”€çš„è·¯ç”±è·¯ç”±å™¨å°½å¯èƒ½å¿«åœ°å°†åˆ†ç»„é€å‡ºå…¶ASï¼Œè€Œä¸æ‹…å¿ƒASå¤–éƒ¨åˆ°ç›®çš„åœ°çš„ä½™ä¸‹éƒ¨åˆ†çš„å¼€é”€å¯¹äºåœ¨ç›¸åŒASä¸­çš„ä¸¤å°è·¯ç”±å™¨ï¼Œå¯èƒ½å¯¹ç›¸åŒå‰ç¼€é€‰æ‹©ä¸¤æ¡ä¸åŒçš„ASè·¯å¾„ è·¯ç”±é€‰æ‹©ç®—æ³•è¾“å…¥ï¼šåˆ°æŸå‰ç¼€çš„æ‰€æœ‰è·¯ç”±çš„é›†åˆ å½“æœ‰å¤šæ¡è·¯ç”±æ—¶ï¼Œé¡ºåºè°ƒç”¨ä»¥ä¸‹æ¶ˆé™¤è§„åˆ™ï¼š è·¯ç”±è¢«æŒ‡æ´¾ä¸€ä¸ªæœ¬åœ°åå¥½å€¼å±æ€§ã€‚è¯¥å±æ€§ä¸ºç­–ç•¥å†³å®šï¼Œå–å†³äºç½‘ç®¡ï¼Œé«˜çš„è¢«ä¼˜å…ˆé€‰æ‹©ï¼ˆå¯èƒ½ä¼šæœ‰å¤šæ¡ï¼‰ã€‚ ä»ä½™ä¸‹çš„è·¯ç”±ä¸­é€‰æ‹©å…·æœ‰æœ€çŸ­AS-PATHçš„è·¯ç”±ã€‚å¦‚æœè¿™æ˜¯å”¯ä¸€è·¯ç”±é€‰æ‹©è§„åˆ™ï¼Œä½¿ç”¨DVç®—æ³•å†³å®šè·¯å¾„ï¼Œå…¶ä¸­è·ç¦»æµ‹åº¦ä¸ºASè·³çš„è·³æ•°ã€‚ ä»ä½™ä¸‹çš„è·¯ç”±ä¸­ä½¿ç”¨çƒ­åœŸè±†è·¯ç”±é€‰æ‹©ï¼Œå³æœ€é è¿‘NEXT-HOPè·¯ç”±å™¨çš„è·¯ç”± å¦‚æœä»ç•™ä¸‹å¤šæ¡è·¯ç”±ï¼Œä½¿ç”¨BGPæ ‡è¯†ç¬¦æ¥é€‰æ‹©è·¯ç”± IPä»»æ’­é€šå¸¸ç”¨äºDNSä¸­DNSæœåŠ¡å™¨ä¸ºå¤šå°æœåŠ¡å™¨æŒ‡æ´¾ç›¸åŒçš„IPåœ°å€ï¼Œå¹¶ä¸”ä½¿ç”¨æ ‡å‡†çš„BGPä»è¿™äº›æœåŠ¡å™¨æ¥é€šå‘Šè¯¥IPåœ°å€ã€‚å½“æŸå°BGPè·¯ç”±å™¨æ”¶åˆ°å¯¹äºè¯¥IPåœ°å€çš„å¤šä¸ªè·¯ç”±é€šå‘Šï¼Œå®ƒå°†è¿™äº›é€šå‘Šå¤„ç†ä¸ºå¯¹ç›¸åŒçš„ç‰©ç†ä½ç½®æä¾›ä¸åŒçš„è·¯å¾„ã€‚å½“é…ç½®å…¶è·¯ç”±è¡¨æ—¶ï¼Œæ¯å°è·¯ç”±å™¨å°†æœ¬åœ°åŒ–åœ°ä½¿ç”¨BGPè·¯ç”±é€‰æ‹©ç®—æ³•æ¥æŒ‘é€‰åˆ°è¯¥IPåœ°å€çš„â€œæœ€å¥½çš„â€è·¯ç”±ã€‚æ— è®ºå®¢æˆ·ä½äºä½•å¤„ï¼Œå½“æƒ³å‘DNSæœåŠ¡å™¨çš„æŸä¸ªIPåœ°å€å‘é€ä¸€ä¸ªè¯·æ±‚æ—¶ï¼Œå› ç‰¹ç½‘è·¯ç”±å™¨åˆ™å‘é‚£ä¸ªâ€œæœ€è¿‘çš„â€æœåŠ¡å™¨è½¬å‘è¯¥è¯·æ±‚åˆ†ç»„ï¼Œæœ€è¿‘çš„æœåŠ¡å™¨æ˜¯æœ‰BGPè·¯ç”±é€‰æ‹©ç®—æ³•æ‰€å®šä¹‰çš„ã€‚ è·¯ç”±é€‰æ‹©ç­–ç•¥å¤šå®¿æ¥å…¥ISPï¼šç»ç”±ä¸¤ä¸ªä¸åŒçš„ISPè¿æ¥åˆ°ç½‘ç»œçš„å…¶ä½™éƒ¨åˆ†çš„ç»éªŒæ³•åˆ™ï¼šä»»ä½•ç©¿è¶ŠæŸISPä¸»å¹²ç½‘çš„æµé‡å¿…é¡»æ˜¯å…¶æºæˆ–ç›®çš„ï¼ˆæˆ–ä¸¤è€…ï¼‰ä½äºè¯¥ISPçš„æŸä¸ªå®¢æˆ·ç½‘ç»œä¸­ 5.6 ICMPå› ç‰¹ç½‘æ§åˆ¶æŠ¥æ–‡åè®® ICMPæŠ¥æ–‡ ç”¨äºä¸»æœºå’Œè·¯ç”±å™¨å½¼æ­¤æ²Ÿé€šç½‘ç»œå±‚ä¿¡æ¯ æ‰¿è½½åœ¨IPåˆ†ç»„ä¸­ ç±»å‹å­—æ®µ+ç¼–ç å­—æ®µï¼Œå¹¶ä¸”åŒ…å«å¼•èµ·è¯¥ICMPæŠ¥æ–‡é¦–æ¬¡ç”Ÿæˆçš„IPæ•°æ®æŠ¥çš„é¦–éƒ¨å’Œå‰8ä¸ªå­—èŠ‚ ping å‘é€ä¸€ä¸ªICMPç±»å‹8ç¼–ç 0ï¼ˆå›æ˜¾è¯·æ±‚ï¼‰åˆ°æŒ‡å®šä¸»æœº ç›®çš„ä¸»æœºå‘å›ä¸€ä¸ªç±»å‹0ç¼–ç 0çš„ICMPå›æ˜¾åº”ç­” traceroute è·Ÿè¸ªä»ä¸€å°ä¸»æœºåˆ°ä¸–ç•Œä¸Šä»»æ„ä¸€å°ä¸»æœºä¹‹é—´çš„è·¯ç”± æºä¸»æœºå‘é€ä¸€äº›åˆ—æ•°æ®æŠ¥ï¼Œæ¯ä¸ªéƒ½æºå¸¦ä¸€ä¸ªå…·æœ‰ä¸å¯è¾¾UDPç«¯å£å·çš„UDPæŠ¥æ–‡æ®µï¼Œä¸”ç¬¬$n$ä¸ªæ•°æ®æŠ¥çš„TTLä¸º$n$ ç¬¬$n$å°è·¯ç”±å™¨ä¸¢å¼ƒè¯¥æ•°æ®æŠ¥å¹¶å‘é€ä¸€ä¸ªICMPå‘Šè­¦æŠ¥æ–‡ï¼ˆç±»å‹11ç¼–ç 0ï¼‰ç»™æºä¸»æœº ç›®çš„ä¸»æœºä¼šå‘æºä¸»æœºå‘é€ä¸€ä¸ªç«¯å£ä¸å¯è¾¾çš„ICMPæŠ¥æ–‡ï¼ˆç±»å‹3ç¼–ç 3ï¼‰ï¼Œæºä¸»æœºæ”¶åˆ°æ—¶å°±çŸ¥é“ä¸éœ€è¦å†å‘é€å¦å¤–çš„æ¢æµ‹åˆ†ç»„ã€‚ Ch6 é“¾è·¯å±‚å’Œå±€åŸŸç½‘6.3 å¤šè·¯è®¿é—®é“¾è·¯å’Œåè®® ç‚¹å¯¹ç‚¹é“¾è·¯ï¼šå•ä¸ªå‘é€æ–¹å’Œå•ä¸ªæ¥æ”¶æ–¹ å¹¿æ’­é“¾è·¯ï¼šå¤šä¸ªå‘é€æ–¹å’Œå¤šä¸ªæ¥æ”¶æ–¹ï¼Œè¿æ¥åˆ°ç›¸åŒã€å•ä¸€ã€å…±äº«çš„ä¿¡é“ä¸Š å¤šè·¯è®¿é—®åè®®ï¼šèŠ‚ç‚¹é€šè¿‡è¿™äº›åè®®æ¥è§„èŒƒå®ƒä»¬åœ¨å…±äº«çš„å¹¿æ’­ä¿¡é“ä¸Šçš„ä¼ è¾“è¡Œä¸º ä¿¡é“åˆ’åˆ†åè®®ã€éšæœºæ¥å…¥åè®®ã€è½®æµåè®® ç¢°æ’ï¼šèŠ‚ç‚¹åŒæ—¶æ”¶åˆ°å¤šä¸ªå¸§ å¤šè·¯è®¿é—®åè®®ç‰¹æ€§ï¼š å½“ä»…æœ‰ä¸€ä¸ªèŠ‚ç‚¹å‘é€æ•°æ®æ—¶ï¼Œè¯¥èŠ‚ç‚¹å…·æœ‰$R$ bpsçš„ååé‡ å½“æœ‰$M$ä¸ªèŠ‚ç‚¹å‘é€æ•°æ®æ—¶ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„å¹³å‡ä¼ è¾“é€Ÿç‡ä¸º$R/M$ bps åè®®æ˜¯åˆ†æ•£çš„ï¼šä¸ä¼šå› ä¸ºæŸä¸»èŠ‚ç‚¹æ•…éšœè€Œä½¿æ•´ä¸ªç³»ç»Ÿå´©æºƒ åè®®æ˜¯ç®€å•çš„ï¼Œä½¿å®ç°ä¸æ˜‚è´µ 6.3.1 ä¿¡é“åˆ’åˆ†åè®® æ—¶åˆ†å¤šè·¯å¤ç”¨ï¼ˆTDMï¼‰ å°†æ—¶é—´åˆ’åˆ†ä¸ºæ—¶é—´å¸§ï¼Œæ¯ä¸ªæ—¶é—´å¸§åˆ’åˆ†ä¸º$N$ä¸ªæ—¶éš™ ä¼˜ç‚¹ï¼šæ¶ˆé™¤ç¢°æ’ï¼›éå¸¸å…¬å¹³ ç¼ºç‚¹ï¼šèŠ‚ç‚¹è¢«é™åˆ¶äº$R/N$çš„å¹³å‡é€Ÿç‡ï¼›èŠ‚ç‚¹å¿…é¡»æ€»æ˜¯ç­‰å¾…å®ƒåœ¨ä¼ è¾“ç³»åˆ—ä¸­çš„è½®æ¬¡ é¢‘åˆ†å¤šè·¯å¤ç”¨ï¼ˆFDMï¼‰ å°†$R$bpsä¿¡é“åˆ’åˆ†ä¸º$N$ä¸ªä¸åŒçš„é¢‘æ®µï¼Œæ¯ä¸ªé¢‘æ®µçš„å¸¦å®½ä¸º$R/N$ ä¼˜ç‚¹ï¼šé¿å…ç¢°æ’ï¼›å¸¦å®½å…¬å¹³åˆ’åˆ† ç¼ºç‚¹ï¼šé™åˆ¶ä¸€ä¸ªèŠ‚ç‚¹çš„å¸¦å®½ï¼› ç åˆ†å¤šå€ï¼ˆCDMAï¼‰ å¯¹æ¯ä¸€ä¸ªèŠ‚ç‚¹åˆ†é…ä¸€ç§ä¸åŒçš„ä»£ç  ä¼˜ç‚¹ï¼ˆç‰¹æ€§ï¼‰ï¼šä¸åŒèŠ‚ç‚¹èƒ½å¤ŸåŒæ—¶ä¼ è¾“ï¼Œæ¥æ”¶æ–¹ä»èƒ½æ­£ç¡®æ¥æ”¶ 6.3.2 éšæœºæ¥å…¥åè®® ä¸€ä¸ªä¼ è¾“èŠ‚ç‚¹æ€»æ˜¯ä»¥ä¿¡é“å…¨éƒ¨é€Ÿç‡å‘é€ï¼Œæœ‰ç¢°æ’æ—¶ç­‰å¾…ä¸€ä¸ªéšæœºæ—¶å»¶ååå¤é‡å‘ã€‚ æ—¶éš™ALOHA æœ‰æ–°å¸§è¦å‘é€æ—¶ç­‰åœ¨ä¸‹ä¸€ä¸ªæ—¶éš™å¼€å§‹ä¼ è¾“ï¼Œå‘ç”Ÿç¢°æ’åˆ™ä¹‹åæ¯ä¸ªæ—¶éš™ä»¥æ¦‚ç‡$p$é‡ä¼  æœ‰ACK å‡è®¾ï¼šä¸€ä¸ªæ—¶éš™=ä¸€å¸§çš„ä¼ è¾“æ—¶é—´ï¼ŒèŠ‚ç‚¹åªåœ¨æ—¶éš™èµ·ç‚¹å¼€å§‹ä¼ è¾“ï¼ŒèŠ‚ç‚¹åŒæ­¥ï¼ŒèŠ‚ç‚¹åœ¨æ—¶éš™ç»“æŸä¹‹å‰èƒ½æ£€æµ‹åˆ°ç¢°æ’ ä¼˜ç‚¹ï¼šå”¯ä¸€æ´»è·ƒèŠ‚ç‚¹ç‹¬äº«å¸¦å®½ï¼›é«˜åº¦åˆ†æ•£ï¼Œæ¯ä¸ªèŠ‚ç‚¹ç‹¬ç«‹å†³å®šé‡ä¼ æ—¶æœºï¼ˆä½†æ˜¯éœ€è¦åŒæ­¥æ—¶éš™ï¼‰ ç¼ºç‚¹ï¼šæœ‰å¤šä¸ªèŠ‚ç‚¹æ—¶ï¼Œæ•ˆç‡ä¸º$Np(1-p)^{N-1}$ï¼ˆ$N\\to\\infty$æ—¶ä¸º$1/e$) æ•ˆç‡å®šä¹‰ï¼šå½“æœ‰å¤§é‡æ´»è·ƒèŠ‚ç‚¹ä¸”æ¯ä¸ªèŠ‚ç‚¹æ€»æœ‰å¤§é‡çš„å¸§è¦å‘é€æ—¶ï¼Œé•¿æœŸè¿è¡Œä¸­æˆåŠŸæ—¶éš™ï¼ˆåˆšå¥½åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ä¼ è¾“çš„æ—¶éš™ï¼‰çš„ä»½é¢ ALOHA å¸§é¦–æ¬¡åˆ°è¾¾èŠ‚ç‚¹ç«‹åˆ»ä¼ è¾“ï¼›è‹¥å‘ç”Ÿç¢°æ’ç«‹åˆ»ä»¥æ¦‚ç‡$p$é‡ä¼ ï¼Œå¦‚æœªé‡ä¼ åˆ™åœ¨æ¥ä¸‹æ¥æ¯ä¸€ä¸ªå¸§ä¼ è¾“æ—¶é—´ä»¥æ¦‚ç‡$p$é‡ä¼  æœ‰ACKï¼Œéæ—¶éš™ã€å®Œå…¨åˆ†æ•£ ä¸€ä¸ªç»™å®šèŠ‚ç‚¹æˆåŠŸä¼ è¾“ä¸€æ¬¡çš„æ¦‚ç‡$p(1-p)^{2(N-1)}$ï¼Œ$N\\to\\infty$æ—¶ä¸º$1/2e$ï¼ˆå®Œå…¨åˆ†æ•£çš„ä»£ä»·ï¼‰ è½½æ³¢ä¾¦å¬å¤šè·¯è®¿é—®ï¼ˆCSMAï¼‰ ï¼ˆè¯´è¯ä¹‹å‰å…ˆå¬ï¼‰èŠ‚ç‚¹ç­‰å¾…ç›´åˆ°æ£€æµ‹åˆ°ä¸€å°æ®µæ—¶é—´æ²¡æœ‰ä¼ è¾“æ‰å¼€å§‹ä¼ è¾“ ï¼ˆå¦‚æœä¸ä»–äººåŒæ—¶å¼€å§‹è¯´è¯ï¼Œåœæ­¢è¯´è¯ï¼‰æ£€æµ‹åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹åœ¨ä¼ è¾“å¹²æ‰°å¸§å°±åœæ­¢ä¼ è¾“ ç«¯åˆ°ç«¯ä¿¡é“ä¼ æ’­æ—¶å»¶ï¼ˆä¿¡å·ä»ä¸€ä¸ªèŠ‚ç‚¹åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹æ‰€èŠ±è´¹çš„æ—¶é—´ï¼‰æ˜¯å†³å®šæ€§èƒ½çš„å…³é”®ï¼›æ—¶å»¶è¶Šå¤§æ£€æµ‹ä¸åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹å¼€å§‹ä¼ è¾“çš„æœºä¼šè¶Šå¤§ã€‚ å…·æœ‰ç¢°æ’æ£€æµ‹çš„è½½æ³¢ä¾¦å¬å¤šè·¯è®¿é—®ï¼ˆCSMA/CDï¼‰ ç¢°æ’æ£€æµ‹ï¼šå¦‚æœæ£€æµ‹åˆ°å…¶ä»–é€‚é…å™¨çš„ä¿¡å·èƒ½é‡ï¼Œåœæ­¢ä¼ è¾“ï¼Œç­‰å¾…ä¸€ä¸ªéšæœºæ—¶é—´é‡åé‡æ–°å¼€å§‹ä¾¦å¬ä¿¡é“ç©ºé—²ã€‚ æ— ACKï¼Œä¸åŒæ­¥ äºŒè¿›åˆ¶æŒ‡æ•°åé€€ï¼šç»å†äº†ä¸€è¿ä¸²$n$æ¬¡ç¢°æ’åï¼Œéšæœºé€‰æ‹©æ•´æ•°$K\\in[0, 2^n-1]$ï¼Œä»¥å¤ªç½‘ä¸­ä¸€ä¸ªèŠ‚ç‚¹ç­‰å¾…çš„å®é™…æ—¶é—´é‡ä¸º$512K$æ¯”ç‰¹æ—¶é—´ï¼ˆå‘é€512æ¯”ç‰¹è¿›å…¥ä»¥å¤ªç½‘æ‰€éœ€æ—¶é—´çš„$K$å€ï¼‰ï¼Œ$n\\le 10$ã€‚ $K$çš„é€‰æ‹©é›†åˆéšç€ç¢°æ’æ¬¡æ•°å‘ˆæŒ‡æ•°å¢é•¿ï¼Œæ»¡è¶³ç¢°æ’èŠ‚ç‚¹è¶Šå¤šï¼Œæ—¶é—´é—´éš”è¶Šé•¿çš„éœ€æ±‚ã€‚ ä¸è€ƒè™‘è¿‘æœŸè¿‡å»çš„æ—¶é—´å†…å¯èƒ½å·²ç»å‘ç”Ÿçš„ä»»ä½•ç¢°æ’ã€‚ æ•ˆç‡ï¼šå¤§é‡èŠ‚ç‚¹å¤§é‡å¸§ï¼Œå¸§åœ¨ä¿¡é“ä¸­æ— ç¢°æ’åœ°ä¼ è¾“é‚£éƒ¨åˆ†æ—¶é—´åœ¨é•¿æœŸè¿è¡Œæ—¶é—´ä¸­æ‰€å ä»½é¢ã€‚ æ•ˆç‡è¿‘ä¼¼ä¸º \\frac{1}{1+5d_{prop}/d_{trans}} $d{prop}$ï¼šä¿¡å·èƒ½é‡åœ¨ä»»æ„ä¸¤ä¸ªé€‚é…å™¨ä¸­æ‰€å ä»½é¢ï¼›$d{trans}$ï¼šä¼ è¾“ä¸€ä¸ªæœ€å¤§é•¿åº¦çš„ä»¥å¤ªç½‘å¸§çš„æ—¶é—´ å…·ä½“è¿‡ç¨‹ï¼ˆBy Maxwellï¼‰ ç›‘å¬: ç›‘å¬ä¿¡é“æ˜¯å¦ç©ºé—², ç©ºé—²æ—¶æ‰å¼€å§‹ä¼ è¾“ï¼›ä¼ è¾“å‰è¦ç­‰96æ¯”ç‰¹æ—¶é—´ï¼ˆæœ€å°å¸§é—´éš”ï¼‰ ä¼ è¾“: ä¼ è¾“æ—¶ä¹Ÿä¸æ–­ç›‘å¬æ˜¯å¦æœ‰å…¶ä»–ç»“ç‚¹çš„ä¿¡å·èƒ½é‡ æˆåŠŸ: æœªå‘ç°å…¶ä»–èƒ½é‡, è®¤ä¸ºå‘é€æˆåŠŸ å¤±è´¥: å‘ç°å…¶ä»–èƒ½é‡, ç«‹åˆ»åœæ­¢; å‘é€48bitå¹²æ‰°ä¿¡å· ç­‰å¾…(éæŒç»­): ç­‰å¾…ä¸€ä¸ªéšæœºæ—¶é—´, å›åˆ°â€ç›‘å¬â€é‡ä¼  å›é€€(pæŒç»­): ä¹‹åçš„æ—¶é—´å½“ä¸­ä»¥æ¦‚ç‡pé‡ä¼  å›é€€(1æŒç»­, ä»¥å¤ªç½‘): ä½¿ç”¨äºŒè¿›åˆ¶æŒ‡æ•°åé€€ï¼šç»å†è¿‡äº†$n$æ¬¡ç¢°æ’, å°±ä»$[0,\\ldots,2^n-1]$ä¸­é€‰ä¸€ä¸ª$K$å€¼, ç­‰å¾…$512K$ä¸ªæ¯”ç‰¹æ—¶é—´ï¼›$n$æœ€å¤§ä¸º10ï¼›æœ€å¤šå°è¯•16æ¬¡å‘é€ æœ€å°å¸§é•¿: æ£€æµ‹å†²çªçš„æ—¶é•¿ä¸è¶…è¿‡ç«¯åˆ°ç«¯ä¼ æ’­æ—¶å»¶çš„2å€, å–è¿™ä¸€å€¼ä¸ºæœ€å°å¸§é•¿ï¼ˆä¸ç„¶è¿˜æ²¡æ£€æµ‹åˆ°ç¢°æ’ä¸€å¸§å°±å‘å®Œäº† ALOHAå’ŒCSMAå…·å¤‡ç‰¹æ€§ä¸€ï¼ˆç‹¬å ä¿¡é“ï¼‰ï¼Œä¸å…·å¤‡ç‰¹æ€§äºŒï¼ˆå¹³å‡ä¿¡é“ï¼‰ 6.3.3 è½®æµåè®® è½®è¯¢åè®® ä¸»èŠ‚ç‚¹å¾ªç¯è½®è¯¢æ¯ä¸ªèŠ‚ç‚¹ï¼Œå‘Šè¯‰æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šèƒ½å¤Ÿä¼ è¾“å¸§çš„æ•°é‡ï¼ˆä¸»èŠ‚ç‚¹èƒ½è§‚å¯Ÿä¿¡é“ä¸Šæ˜¯å¦ç¼ºä¹ä¿¡å·æ¥å†³å®šä¸€ä¸ªèŠ‚ç‚¹ä½•æ—¶å®Œæˆäº†å¸§çš„å‘é€ï¼‰ ä¼˜ç‚¹ï¼šæ¶ˆé™¤ç¢°æ’å’Œç©ºæ—¶éš™ï¼Œæ•ˆç‡é«˜ ç¼ºç‚¹ï¼šå¼•å…¥è½®è¯¢æ—¶å»¶ï¼ˆé€šçŸ¥ä¸€ä¸ªèŠ‚ç‚¹å¯ä»¥ä¼ è¾“æ‰€éœ€çš„æ—¶é—´ï¼‰ï¼Œä¸æ»¡è¶³ç‰¹æ€§ä¸€ï¼›ä¸åˆ†æ•£ï¼Œä¸»èŠ‚ç‚¹æŒ‚äº†å…¨æŒ‚ ä»¤ç‰Œä¼ é€’åè®® æ²¡æœ‰ä¸»èŠ‚ç‚¹ï¼Œä¸€ä¸ªç§°ä¸ºä»¤ç‰Œçš„å°çš„ç‰¹æ®Šå¸§åœ¨èŠ‚ç‚¹é—´ä»¥æŸç§å›ºå®šæ¬¡åºäº¤æ¢ å½“ä¸€ä¸ªèŠ‚ç‚¹æ”¶åˆ°ä»¤ç‰Œæ—¶ï¼Œä»…å½“å®ƒæœ‰ä¸€äº›å¸§è¦å‘é€æ—¶ï¼Œå®ƒæŒæœ‰ä»¤ç‰Œå¹¶å‘é€æœ€å¤§æ•°ç›®çš„å¸§ï¼Œå‘å®Œåå°†ä»¤ç‰Œè½¬å‘ç»™ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼›æ²¡æœ‰å¸§è¦å‘é€å°±ç«‹å³å°†ä»¤ç‰Œè½¬å‘ç»™ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚ ä¼˜ç‚¹ï¼šåˆ†æ•£çš„ï¼Œæ•ˆç‡é«˜ ç¼ºç‚¹ï¼šä¸€ä¸ªèŠ‚ç‚¹æ•…éšœå¯èƒ½ä¼šä½¿è¿™ä¸ªä¿¡é“å´©æºƒï¼›ä¸€ä¸ªèŠ‚ç‚¹å¿˜äº†é‡Šæ”¾ä»¤ç‰Œå°±éœ€è¦è°ƒç”¨æŸäº›æ¢å¤æ­¥éª¤ï¼›ä»¤ç‰Œä¼ æ’­æ—¶å»¶ 6.4 äº¤æ¢å±€åŸŸç½‘6.4.1 é“¾è·¯å±‚å¯»å€å’ŒARP MACåœ°å€ æ¯ä¸ªé€‚é…å™¨ï¼ˆç½‘ç»œæ¥å£ï¼‰éƒ½å…·æœ‰é“¾è·¯å±‚åœ°å€ï¼Œå³LANåœ°å€ã€ç‰©ç†åœ°å€æˆ–MACåœ°å€ã€‚ï¼ˆè·¯ç”±å™¨æœ‰å¤šä¸ªæ¥å£å°±æœ‰å¤šä¸ªMACåœ°å€ï¼‰ é“¾è·¯å±‚äº¤æ¢æœºçš„ä»»åŠ¡ï¼šåœ¨ä¸»æœºä¸è·¯ç”±å™¨ä¹‹é—´æ‰¿è½½æ•°æ®æŠ¥ï¼Œå› æ­¤ä¸å…·æœ‰MACåœ°å€ï¼Œä¸»æœºå’Œè·¯ç”±å™¨ä¹Ÿä¸å¿…æ˜ç¡®åœ°å°†å¸§å¯»å€åˆ°å…¶é—´çš„äº¤æ¢æœº MACåœ°å€é€šå¸¸ä¸º6å­—èŠ‚ï¼Œåå…­è¿›åˆ¶è¡¨ç¤ºï¼Œe.g.MACå¹¿æ’­åœ°å€ï¼šFF-FF-FF-FF-FF-FF æ‰å¹³ç»“æ„ï¼šæ¯å°é€‚é…å™¨çš„MACåœ°å€éƒ½ä¸åŒï¼Œä¸”ä¸ä¼šå› ä¸ºåœ¨å“ªé‡Œè€Œæ”¹å˜ å‘é€é€‚é…å™¨å°†MACåœ°å€æ’å…¥å‘é€çš„å¸§ï¼›é€‚é…å™¨æ¥æ”¶åˆ°å¸§ä½¿æ£€æŸ¥æ˜¯å¦ä¸æœ¬æœºMACåœ°å€åŒ¹é…ï¼Œä¸åŒ¹é…åˆ™ä¸¢å¼ƒ åœ°å€è§£æåè®®ï¼šåœ¨ç½‘ç»œå±‚åœ°å€å’Œé“¾è·¯å±‚åœ°å€ä¹‹é—´è¿›è¡Œè½¬æ¢çš„åè®® ä¸»æœºä¸­çš„ARPæ¨¡å—ï¼šå–åœ¨ç›¸åŒå­ç½‘ä¸Šçš„ä»»ä½•IPåœ°å€ä½œä¸ºè¾“å…¥ï¼Œç„¶åè¿”å›ç›¸åº”çš„MACåœ°å€ æ¯å°ä¸»æœºå’Œè·¯ç”±å™¨éƒ½ç»´æŠ¤ARPè¡¨ï¼šåŒ…å«IPåœ°å€åˆ°MACåœ°å€çš„æ˜ å°„å…³ç³»ï¼Œæ¯ä¸ªè¡¨é¡¹éƒ½æœ‰å¯¿å‘½ï¼ˆTLLï¼‰ è§£æä¸åœ¨è¡¨ä¸­çš„åœ°å€ï¼šå‘é€æ–¹å¹¿æ’­ARPæŸ¥è¯¢åˆ†ç»„ï¼ˆå¹¿æ’­å¸§ï¼‰$\\to$æ‰€æœ‰é€‚é…å™¨æ£€æŸ¥è‡ªèº«IPåœ°å€ï¼ŒåŒ¹é…è€…è¿”å›ä¸€ä¸ªå“åº”ARPåˆ†ç»„ï¼ˆæ ‡å‡†å¸§ï¼‰$\\to$æŸ¥è¯¢æ–¹æ›´æ–°ARPè¡¨ ARPè¡¨å³æ’å³ç”¨ï¼Œè‡ªåŠ¨å»ºç«‹ å‘é€æ•°æ®æŠ¥åˆ°å­ç½‘å¤– ä¸»æœºè·å¾—çš„å­ç½‘å¤–IPçš„MACåœ°å€æ˜¯å­ç½‘å†…è·¯ç”±å™¨æ¥å£çš„MACåœ°å€ï¼ˆç›´æ¥å‘çš„æ•°æ®æŠ¥ä¼šåˆ°è¾¾æ•°æ®æŠ¥å¤©å›½ï¼‰ è·¯ç”±å™¨åœ¨ç½‘ç»œå±‚æŸ¥è¯¢è½¬å‘è¡¨ï¼Œå°†æ•°æ®æŠ¥è½¬å‘åˆ°æ­£ç¡®çš„æ¥å£ï¼Œæ­¤æ—¶ç›®çš„MACåœ°å€æ˜¯æœ€ç»ˆç›®çš„åœ°çš„MACåœ°å€ 6.4.2 ä»¥å¤ªç½‘ é›†çº¿å™¨ï¼ˆhubï¼‰ï¼šç‰©ç†å±‚è®¾å¤‡ï¼Œå½“ä¸€ä¸ªæ¯”ç‰¹åˆ°è¾¾æ¥å£æ—¶é‡æ–°ç”Ÿæˆè¯¥æ¯”ç‰¹ï¼Œå¹¶å‘å…¶ä»–æ‰€æœ‰æ¥å£ä¼ å‡ºå»â€”â€”é‡‡ç”¨æ˜Ÿå½¢æ‹“æ‰‘çš„ä»¥å¤ªç½‘ä¹Ÿæ˜¯å¹¿æ’­å±€åŸŸç½‘ ä»¥å¤ªç½‘å¸§ç»“æ„ å‰åŒæ­¥ç |ç›®çš„åœ°å€|æºåœ°å€|ç±»å‹|æ•°æ®|CRC å‰åŒæ­¥ç ï¼ˆ8ï¼‰ï¼šå‰7å­—èŠ‚10101010ç”¨äºå”¤é†’æ¥æ”¶é€‚é…å™¨å¹¶åŒæ­¥æ¥æ”¶æ–¹å’Œå‘é€æ–¹çš„æ—¶é’Ÿï¼›æœ€åä¸€å­—èŠ‚10101011ï¼Œæœ€åä¸¤æ¯”ç‰¹è­¦å‘Šæ¥æ”¶é€‚é…å™¨ ç›®çš„åœ°å€ï¼ˆ6ï¼‰ï¼šç›®çš„åœ°å€æ˜¯è‡ªå·±çš„MACåœ°å€æˆ–å¹¿æ’­åœ°å€å°±ç›´æ¥å°†æ•°æ®å­—æ®µå†…å®¹ä¼ é€’ç»™ç½‘ç»œå±‚ï¼›å¦åˆ™ä¸¢å¼ƒ æºåœ°å€ï¼ˆ6ï¼‰ ç±»å‹ï¼ˆ2ï¼‰ï¼šå…è®¸ä»¥å¤ªç½‘å¤ç”¨å¤šç§ç½‘ç»œå±‚åè®®ã€‚ æ•°æ®ï¼ˆ46~1500ï¼‰ï¼šæ‰¿è½½IPæ•°æ®æŠ¥ï¼›æœ€å°é•¿åº¦46ï¼ˆä¸å¤Ÿå°±å¡«å……ï¼‰ï¼Œæœ€å¤§1500ï¼ˆå¤šäº†å°±åˆ†ç‰‡ï¼‰ï¼›ç½‘ç»œå±‚ä½¿ç”¨IPæ•°æ®æŠ¥é¦–éƒ¨ä¸­çš„é•¿åº¦å­—æ®µé™¤å»å¡«å……éƒ¨åˆ†ã€‚ CRCï¼ˆ4ï¼‰ï¼šå‡ºé”™çš„å¸§ç›´æ¥ä¸¢å¼ƒ æ— è¿æ¥æœåŠ¡ï¼šä¸éœ€è¦æ¡æ‰‹ ä¸å¯é æœåŠ¡ï¼šæ— ACKå’ŒNACKâ€”â€”ç®€å•å’Œä¾¿å®œï¼Œæ•°æ®æŠ¥æµå¯ä»¥æœ‰é—´éš™ ä»¥å¤ªç½‘æŠ€æœ¯ å‘½å: [é€Ÿç‡]BASE[è·ç¦» æˆ– ä»‹è´¨], TæŒ‡é“œåŒç»çº¿, FX/SX/BXæŒ‡å…‰çº¤ 10Mbps: 10BASE[%d], è·ç¦», ä½¿ç”¨åŒè½´ç”µç¼† 100Mbps: 100BASE-TX/T4/T2åŒç»çº¿, -FX/SX/BXå…‰çº¤ 1000Mbps: 1000BASE-Tç­‰, åˆå802.3z, åŒç»çº¿, å…¼å®¹æ—§æ ‡å‡†, ç‚¹å¯¹ç‚¹(äº¤æ¢æœº)ä¿¡é“å…¨åŒå·¥, å¦æœ‰å¹¿æ’­(é›†çº¿å™¨) 10Gbps: 10GBASE-T 6.4.3 é“¾è·¯å±‚äº¤æ¢æœº äº¤æ¢æœºå¯¹äºå­ç½‘ä¸­çš„ä¸»æœºå’Œè·¯ç”±å™¨æ˜¯é€æ˜çš„ äº¤æ¢æœºè¾“å‡ºæ¥å£è®¾æœ‰ç¼“å­˜ äº¤æ¢æœºè½¬å‘å’Œè¿‡æ»¤ è¿‡æ»¤ï¼šå†³å®šå¸§è½¬å‘åˆ°æŸä¸ªæ¥å£è¿˜æ˜¯ä¸¢å¼ƒ è½¬å‘ï¼šå†³å®šå¸§è¢«å¯¼å‘å“ªä¸ªæ¥å£ äº¤æ¢æœºè¡¨ï¼ˆåœ°å€-æ¥å£-æ—¶é—´ï¼‰ å·¥ä½œè¿‡ç¨‹ï¼šï¼ˆå¸§ä»æ¥å£$x$æ¥ï¼‰ å¯¹äºæ²¡æœ‰çš„è¡¨é¡¹ï¼Œäº¤æ¢æœºå‘$x$ä¹‹å¤–æ‰€æœ‰æ¥å£å¹¿æ’­ å­˜åœ¨è¡¨é¡¹å°†ç›®çš„åœ°å€ä¸$x$å¯¹åº”ï¼Œç›´æ¥ä¸¢å¼ƒ å­˜åœ¨æ­£å¸¸çš„ç›®çš„åœ°å€å¯¹åº”æ¥å£ï¼Œæ”¾åˆ°å¯¹åº”è¾“å‡ºç¼“å­˜é‡Œ è‡ªå­¦ä¹  äº¤æ¢æœºè¡¨åˆå§‹ä¸ºç©º å¯¹äºæ¯ä¸ªæ¥å£æ”¶åˆ°çš„æ¯ä¸ªå…¥å¸§ï¼Œå­˜å‚¨ï¼ˆæºåœ°å€-æ¥å£-å½“å‰æ—¶é—´ï¼‰ åœ¨è€åŒ–æœŸåï¼Œäº¤æ¢æœºæ²¡æœ‰æ”¶åˆ°è¿™ä¸ªåœ°å€å‘æ¥çš„å¸§å°±åˆ é™¤è¿™ä¸ªåœ°å€ å³æ’å³ç”¨ã€åŒå·¥ï¼ˆåŒæ—¶å‘é€å’Œæ¥æ”¶ï¼‰ é“¾è·¯å±‚äº¤æ¢æœºçš„æ€§è´¨ï¼ˆä¼˜ç‚¹ï¼‰ æ¶ˆé™¤ç¢°æ’ï¼šç»ä¸ä¼šåœ¨ç½‘æ®µä¸ŠåŒæ—¶ä¼ è¾“å¤šäºä¸€ä¸ªå¸§ï¼Œä¸æµªè´¹å¸¦å®½ï¼›æœ€å¤§èšåˆå¸¦å®½=æ‰€æœ‰æ¥å£é€Ÿç‡ä¹‹å’Œ å¼‚è´¨é“¾è·¯ï¼šä¸åŒé“¾è·¯èƒ½ä»¥ä¸åŒé€Ÿç‡è¿è¡Œåœ¨ä¸åŒçš„åª’ä½“ä¸Š ç®¡ç†ï¼šèƒ½æ£€æŸ¥å¹¶æ–­å¼€å¼‚å¸¸é€‚é…å™¨ äº¤æ¢æœºv.s.è·¯ç”±å™¨ è·¯ç”±å™¨ç½‘ç»œå±‚ï¼Œäº¤æ¢æœºé“¾è·¯å±‚ äº¤æ¢æœº ä¼˜ç‚¹ï¼šå³æ’å³ç”¨ï¼›ç›¸å¯¹é«˜çš„åˆ†ç»„è¿‡æ»¤å’Œè½¬å‘é€Ÿç‡ï¼› ç¼ºç‚¹ï¼šäº¤æ¢ç½‘ç»œæ´»è·ƒæ‹“æ‰‘é™åˆ¶ä¸ºä¸€é¢—ç”Ÿæˆæ ‘ï¼ˆé˜²æ­¢å¹¿æ’­å¸§å¾ªç¯ï¼‰ï¼›å¯¹å¹¿æ’­é£æš´ä¸æä¾›ä¿æŠ¤æªæ–½ è·¯ç”±å™¨ ä¼˜ç‚¹ï¼šç½‘ç»œå¯»å€åˆ†å±‚ï¼Œåˆ†ç»„ä¸ä¼šå¾ªç¯ï¼ˆé™¤éè·¯ç”±è¡¨é…é”™äº†ï¼‰ï¼Œä¸ä¼šé™åˆ¶äºç”Ÿæˆæ ‘ï¼›å¯¹é“¾è·¯å±‚å¹¿æ’­é£æš´æä¾›é˜²ç«å¢™ä¿æŠ¤ ç¼ºç‚¹ï¼šä¸å³æ’å³ç”¨ï¼›å¤„ç†åˆ†ç»„å“åº”æ—¶é—´é•¿ï¼›äº‰è®ºå•è¯å‘éŸ³ ç½‘æ¡¥ï¼ˆFrom pptï¼Œ By Maxwellï¼‰ åŠŸèƒ½: è¯»å–Aç½‘(æ€»çº¿)çš„æ‰€æœ‰å¸§, åœ¨B(æ€»çº¿)ä¸Šé‡å‘æ¯ä¸ªå¸§; B-&gt;AåŒç† ç‰¹ç‚¹: ä¸æ›´æ”¹å¸§, åŸæ ·è½¬å‘; å¸¦ç¼“å­˜; è·¯ç”±å¯»å€èƒ½åŠ›(åŸºäºMAC, åªè½¬å‘éœ€è¦è½¬å‘çš„å¸§) åè®®ä½“ç³» å±‚æ¬¡: æ•°æ®é“¾è·¯å±‚ - MACå±‚ é“¾æ¥æ¨¡å¼ å±€åŸŸç½‘ - ç½‘æ¡¥ - å±€åŸŸç½‘, åŸæ ·è½¬å‘ å±€åŸŸç½‘ - ç½‘æ¡¥ - [ç½‘ç»œæˆ–é“¾è·¯] - ç½‘æ¡¥ - å±€åŸŸç½‘, éœ€è¦é€‚å½“å°è£…, ä½†åŸå§‹MACå¸§ä¸ä¿®æ”¹ å›ºå®šè·¯ç”±é€‰æ‹© æ¯å¯¹ç‚¹å‡æœ‰ä¸€æ¡é€‰å®šçš„è·¯ç”±, è·³æ•°æœ€å°‘, ä»…åœ¨æ‹“æ‰‘å˜åŒ–æ—¶æ”¹å˜(ç”Ÿæˆæ ‘ç®—æ³•) ç”Ÿæˆæ ‘æ–¹æ³• å¸§è½¬å‘ xæ”¶åˆ°å¸§ æ£€æŸ¥ç›®çš„åœ°å€: è‹¥åœ¨æŸä¸€ç«¯å£çš„åˆ—è¡¨ä¸­, ä¸”éé˜»å¡, å‘é€; ä¸åœ¨ä»»ä½•åˆ—è¡¨, åˆ™xé™¤ä»¥å¤–çš„ç«¯å£å…¨éƒ¨è½¬å‘ åœ°å€æ¢ç´¢: åŒäº¤æ¢æœº æ”¶åˆ°å¸§, åˆ™å¸§æºåœ°å€MACä¸æ­¤ç«¯å£å…³è”, åŠ å…¥æ­¤ç«¯å£æ•°æ®åº“ æ•°æ®åº“é¡¹å¸¦è®¡æ—¶å™¨, è¶…æ—¶åˆ é™¤ æœ€å°ç”Ÿæˆæ ‘ç®—æ³•: Prim Primç®—æ³•æµç¨‹ é€‰å–èµ·å§‹ç‚¹(æ ¹ç½‘æ¡¥), åŠ å…¥é›†åˆS å¯¹äºSä¸­æ‰€æœ‰ç‚¹(ç½‘æ¡¥), åœ¨ä»–ä»¬æ‰€æœ‰é‚»å±…é‡Œé¢æ‰¾ç¦»Sä¸­ç‚¹æœ€çŸ­çš„è·ç¦», æŠŠè¿™ä¸ªé‚»å±…åŠ å…¥S, è¿™æ¡è¾¹(ç½‘æ¡¥é—´çš„æœ€çŸ­è·ç¦»)åŠ å…¥ç”Ÿæˆæ ‘ ç›´åˆ°æ‰€æœ‰ç‚¹éƒ½åŠ å…¥S, è¾¹é›†åˆæ„æˆç”Ÿæˆæ ‘ ç½‘æ¡¥é˜»å¡è§„åˆ™ é€‰æ‹©æ ¹ç½‘æ¡¥: IDæœ€å°çš„ç½‘æ¡¥ ä¸ºæ¯ä¸ªç½‘æ¡¥é€‰æ‹©root port: åˆ°æ ¹ç½‘æ¡¥æœ€ä½å¼€é”€çš„ç«¯å£ ä¸ºæ¯ä¸ªLANæŒ‡å®šç½‘æ¡¥: æ‹¥æœ‰åˆ°æ ¹ç½‘æ¡¥æœ€ä½å¼€é”€è·¯å¾„çš„, ä¸è¿™ä¸ªLANç›¸è¿çš„ç½‘æ¡¥ Designated port: è¿™ä¸ªæŒ‡å®šç½‘æ¡¥ä¸è¿™ä¸ªLANç›¸è¿çš„ç«¯å£ Designated port å’Œ root port ä¸é˜»å¡, åˆ«çš„éƒ½é˜»å¡ 6.4.4 è™šæ‹Ÿå±€åŸŸç½‘ æ ‘å½¢ï¼ˆç­‰çº§ç»“æ„ï¼‰å±€åŸŸç½‘çš„ç¼ºç‚¹ ç¼ºä¹æµé‡éš”ç¦»ï¼šå¹¿æ’­æ— æ³•éš”ç¦»ï¼Œæ‹‰ä½å±€åŸŸç½‘æ€§èƒ½ï¼Œç¼ºä¹å®‰å…¨éšç§ä¿æŠ¤ äº¤æ¢æœºæ— æ•ˆä½¿ç”¨ï¼šåˆ†ç»„é€ æˆäº¤æ¢æœºç«¯å£æµªè´¹ï¼Œå•ä¸€äº¤æ¢æœºä¸èƒ½æä¾›æµé‡éš”ç¦» ç®¡ç†ç”¨æˆ·ï¼šç”¨æˆ·åœ¨ç»„é—´ç§»åŠ¨æ—¶éœ€è¦æ”¹å˜ç‰©ç†å¸ƒçº¿ è™šæ‹Ÿå±€åŸŸç½‘ï¼ˆVLANï¼‰ï¼š æ”¯æŒVLANçš„äº¤æ¢æœºå…è®¸ç»ä¸€ä¸ªå•ä¸€çš„ç‰©ç†å±€åŸŸç½‘å®šä¹‰å¤šä¸ªè™šæ‹Ÿå±€åŸŸç½‘ äº¤æ¢æœºç«¯å£ç”±ç½‘ç®¡åˆ’åˆ†ä¸ºç»„ï¼Œæ¯ä¸ªç»„æ„æˆä¸€ä¸ªVLANï¼Œåœ¨æ¯ä¸ªVLANä¸­çš„ç«¯å£å½¢æˆä¸€ä¸ªå¹¿æ’­åŸŸ äº¤æ¢æœºç»´æŠ¤ç«¯å£-VLANæ˜ å°„è¡¨ è·¨VLANé€šè¿‡è·¯ç”±å™¨å®ç°é€šè®¯ VLANå¹²çº¿è¿æ¥ï¼šå±äºæ‰€æœ‰VLANï¼Œå‘é€åˆ°ä»»ä½•VLANéƒ½ç»å¹²çº¿é“¾è·¯è½¬å‘åˆ°å…¶ä»–äº¤æ¢æœº ä»¥å¤ªç½‘å¸§æ ¼å¼802.1Qï¼Œåœ¨æºåœ°å€ä¸ç±»å‹å­—æ®µé—´åŠ å…¥æ ‡ç­¾åè®®æ ‡è¯†ç¬¦ï¼ˆ2ï¼‰ã€æ ‡ç­¾æ§åˆ¶ä¿¡æ¯ï¼ˆ2ï¼‰ Ch7 æ— çº¿ç½‘ç»œå’Œç§»åŠ¨ç½‘ç»œ7.1 æ¦‚è¿°ï¼ˆéè€ƒç‚¹ï¼ŒBy hycï¼‰ æ— çº¿ä¸»æœºï¼šè¿è¡Œåº”ç”¨ç¨‹åºçš„ç«¯ç³»ç»Ÿè®¾å¤‡ï¼Œå¦‚ä¾¿æºæœºã€æŒä¸Šæœºã€æ™ºèƒ½æ‰‹æœºæˆ–æ¡Œé¢è®¡ç®—æœº æ— çº¿é“¾è·¯ï¼šè¿æ¥æ— çº¿ä¸»æœºæˆ–åŸºç«™æˆ–å¦ä¸€å°æ— çº¿ä¸»æœºçš„é“¾è·¯ åŸºç«™ï¼šæ— çº¿ç½‘ç»œåŸºç¡€è®¾æ–½çš„ä¸€ä¸ªå…³é”®éƒ¨åˆ†ï¼Œè´Ÿè´£å‘ä¸ä¹‹å…³è”çš„æ— çº¿ä¸»æœºå‘é€æ•°æ®å’Œä»ä¸»æœºé‚£é‡Œæ¥æ”¶æ•°æ®ï¼Œè´Ÿè´£åè°ƒä¸ä¹‹ç›¸å…³è”çš„å¤šä¸ªæ— çº¿ä¸»æœºçš„ä¼ è¾“ã€‚ ç›¸å…³è”ï¼šè¯¥ä¸»æœºä½äºè¯¥åŸºç«™çš„æ— çº¿é€šä¿¡è¦†ç›–èŒƒå›´å†…ï¼›è¯¥ä¸»æœºä½¿ç”¨è¯¥åŸºç«™ä¸­ç»§å®ƒå’Œæ›´å¤§ç½‘ç»œä¹‹é—´çš„æ•°æ®ã€‚ æ— çº¿ç½‘ç»œçš„åˆ†ç±»ä¾æ®ï¼šæ˜¯å¦è·¨è¶Šäº†ä¸€ä¸ªæ— çº¿è·³æˆ–å¤šä¸ªæ— çº¿è·³ï¼›ç½‘ç»œä¸­æ˜¯å¦æœ‰è¯¸å¦‚åŸºç«™è¿™æ ·çš„åŸºç¡€è®¾æ–½ã€‚ å•è·³ï¼ŒåŸºäºåŸºç¡€è®¾æ–½ï¼š802.11ç½‘ç»œã€3Gèœ‚çªç½‘ç»œ å•è·³ï¼Œæ— åŸºç¡€è®¾æ–½ï¼šè“ç‰™ç½‘ç»œã€å…·æœ‰è‡ªç»„ç»‡æ¨¡å¼çš„802.11ç½‘ç»œ å¤šè·³ï¼ŒåŸºäºåŸºç¡€è®¾æ–½ï¼šæ— çº¿ä¼ æ„Ÿç½‘ç»œã€æ— çº¿ç½‘çŠ¶ç½‘ç»œ å¤šè·³ï¼Œæ— åŸºç¡€è®¾æ–½ï¼šç§»åŠ¨è‡ªç»„ç»‡ç½‘ç»œï¼ˆå¦‚è½¦è½½è‡ªç»„ç»‡ç½‘ç»œï¼‰ 7.3 WiFi:802.11 æ— çº¿LAN7.3.1 802.11ä½“ç³»ç»“æ„ åŸºæœ¬æœåŠ¡é›†ï¼ˆBasic Service Setï¼ŒBSSï¼‰ï¼š802.11ä½“ç³»ç»“æ„çš„åŸºæœ¬æ„ä»¶æ¨¡å—ï¼Œä¸€ä¸ªBSSåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæ— çº¿ç«™ç‚¹å’Œä¸€ä¸ªç§°ä¸ºæ¥å…¥ç‚¹ï¼ˆAccess Pointï¼ŒAPï¼‰çš„ä¸­å¤®åŸºç«™ï¼ŒAPå¯ä»¥è¿æ¥åˆ°äº’è”è®¾å¤‡ï¼ˆå¦‚äº¤æ¢æœºæˆ–è·¯ç”±å™¨ï¼‰å¹¶è¿æ¥åˆ°å› ç‰¹ç½‘ä¸­ã€‚ ä¿¡é“ä¸å…³è” åœ¨802.11ä¸­æ¯ä¸ªæ— çº¿ç«™ç‚¹åœ¨èƒ½å¤Ÿå‘é€æˆ–è€…æ¥æ”¶ç½‘ç»œå±‚æ•°æ®ä¹‹å‰ï¼Œå¿…é¡»ä¸ä¸€ä¸ªAPç›¸å…³è”ã€‚ å½“å®‰è£…ä¸€ä¸ªAPæ—¶ï¼Œç½‘ç®¡ä¼šç»™è¯¥APåˆ†é…ä¸€ä¸ªå•å­—æˆ–åŒå­—çš„æœåŠ¡é›†æ ‡è¯†ç¬¦ï¼ˆService Set Identifierï¼ŒSSIDï¼‰ï¼Œå’Œä¸€ä¸ªä¿¡é“å·ã€‚ æ¯ä¸ªAPå‘¨æœŸæ€§åœ°å‘é€ä¿¡æ ‡å¸§ï¼ˆbeacon frameï¼‰ï¼Œæ¯ä¸ªä¿¡æ ‡å¸§åŒ…æ‹¬è¯¥APçš„SSIDå’ŒMACåœ°å€ï¼Œä¸€ä¸ªæ— çº¿ç«™ç‚¹æ‰«æ11ä¸ªä¿¡é“æ‰¾å‡ºå¯èƒ½æ¥è‡ªè¯¥åŒºåŸŸçš„ä¿¡æ ‡å¸§ã€‚é€šè¿‡ä¿¡æ ‡å¸§äº†è§£åˆ°å¯ç”¨APï¼Œé€‰æ‹©ä¸€ä¸ªä¸ä¹‹å…³è”ã€‚è¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¸ºè¢«åŠ¨æ‰«æã€‚ä¸»åŠ¨æ‰«ææ˜¯é€šè¿‡å‘ä½äºæ— çº¿ä¸»æœºèŒƒå›´å†…çš„æ‰€æœ‰APå¹¿æ’­æ¢æµ‹å¸§ã€‚ åœ¨é€‰å®šä¸ä¹‹å…³è”çš„APåï¼Œæ— çº¿ä¸»æœºå‘APå‘é€ä¸€ä¸ªå…³è”è¯·æ±‚å¸§ï¼Œå¹¶ä¸”è¯¥APä»¥ä¸€ä¸ªå…³è”å“åº”å¸§è¿›è¡Œå›åº”ã€‚ WiFiä¸›æ—ï¼šä¸€ä¸ªä»»æ„ç‰©ç†ä½ç½®ï¼Œåœ¨è¿™é‡Œæ— çº¿ç«™ç‚¹èƒ½ä»ä¸¤ä¸ªæˆ–å¤šä¸ªAPä¸­æ”¶åˆ°å¾ˆå¼ºçš„ä¿¡å· 7.3.2 802.11MACåè®® ç«™ç‚¹ï¼šæ— çº¿è®¾å¤‡æˆ–AP ä½¿ç”¨å¸¦ç¢°æ’é¿å…çš„CSMAï¼ˆCSMA/CAï¼‰ã€‚ä¸ä½¿ç”¨ç¢°æ’æ£€æµ‹ï¼Œä¸€æ—¦ç«™ç‚¹å¼€å§‹å‘é€å°±ä¸ä¼šåœä¸‹æ¥äº†ï¼ˆå¥¥å°”åŠ ç‹‚å–œï¼‰ ä¸åŒäºä»¥å¤ªç½‘ï¼Œä½¿ç”¨é“¾è·¯å±‚ç¡®è®¤/é‡ä¼ æ–¹æ¡ˆï¼ˆARQï¼‰ ç›®çš„ç«™ç‚¹æ”¶åˆ°ä¸€ä¸ªé€šè¿‡CRCæ ¡éªŒçš„å¸§åç­‰å¾…ä¸€ä¸ªçŸ­å¸§é—´é—´éš”ï¼ˆSIFSï¼‰ï¼Œç„¶åå‘å›ä¸€ä¸ªç¡®è®¤å¸§ã€‚ å¦‚æœå‘é€ç«™ç‚¹åœ¨ç»™å®šæ—¶é—´å†…æœªæ”¶åˆ°ACKå°±é‡ä¼ ï¼Œä½¿ç”¨CSMA/CAåè®®è®¿é—®è¯¥ä¿¡é“ è‹¥å¹²å›ºå®šæ¬¡é‡ä¼ åä»æ— ç¡®è®¤å°±ä¸¢å¼ƒè¯¥å¸§ ä¸å®ç°ç¢°æ’æ£€æµ‹çš„åŸå› ï¼š æ£€æµ‹ç¢°æ’çš„èƒ½åŠ›è¦æ±‚ç«™ç‚¹å…·æœ‰åŒæ—¶å‘é€å’Œæ¥æ”¶çš„èƒ½åŠ›ï¼Œåˆ¶é€ è¿™æ ·çš„ç¡¬ä»¶ä»£ä»·è¾ƒå¤§ï¼› éšè—ç»ˆç«¯é—®é¢˜å’Œè¡°å‡é—®é¢˜å¯¼è‡´é€‚é…å™¨æ— æ³•æ£€æµ‹åˆ°æ‰€æœ‰çš„ç¢°æ’ã€‚ CSMA/CAåè®® å¦‚æœç«™ç‚¹æœ€åˆç›‘å¬åˆ°ä¿¡é“ç©ºé—²ï¼Œåœ¨ä¸€ä¸ªåˆ†å¸ƒå¼å¸§é—´é—´éš”ï¼ˆDIFSï¼‰åå‘é€è¯¥å¸§ å¦åˆ™é€‰å–ä¸€ä¸ªéšæœºå›é€€å€¼ï¼Œå¹¶åœ¨ä¿¡é“ç©ºé—²æ—¶é€’å‡è¯¥å€¼ï¼Œä¿¡é“å¿™æ—¶ä¿æŒä¸å˜ã€‚ è®¡æ•°å€¼å‡ä¸º0æ—¶å‘é€æ•´ä¸ªæ•°æ®å¸§å¹¶ç­‰å¾…ç¡®è®¤ å¦‚æœæ”¶åˆ°ç¡®è®¤ï¼Œä»ç¬¬äºŒæ­¥é‡æ–°å¼€å§‹ï¼ˆç­‰å¾…ä¸€ä¸ªéšæœºå›é€€å€¼ï¼‰ï¼›å¦åˆ™ä»ä¸€ä¸ªæ›´å¤§çš„èŒƒå›´é€‰å–éšæœºå›é€€å€¼å¹¶è¿›å…¥ç¬¬äºŒæ­¥ä¸­çš„å›é€€é˜¶æ®µã€‚ åœ¨å€’è®¡æ•°æ—¶æŠ‘åˆ¶ä¼ è¾“çš„åŸå› ï¼šæ— è®ºå¦‚ä½•å°½å¯èƒ½é¿å…é«˜ä»£ä»·ç¢°æ’ å¤„ç†éšè—ç»ˆç«¯RTSå’ŒCTS éšè—ç»ˆç«¯ï¼šä¸¤ä¸ªæ— çº¿ç«™ç‚¹åœ¨APä¿¡å·è¦†ç›–èŒƒå›´å†…ï¼Œä½†å½¼æ­¤ä¹‹é—´æ— æ³•ä¿¡å·è¦†ç›– è¯·æ±‚å‘é€ï¼ˆRTSï¼‰æ§åˆ¶å¸§å’Œå…è®¸å‘é€ï¼ˆCTSï¼‰æ§åˆ¶å¸§æ¥é¢„çº¦å¯¹ä¿¡é“çš„è®¿é—® å‘é€æ–¹é¦–å…ˆå‘APå‘é€RTSå¸§ï¼ŒæŒ‡ç¤ºä¼ è¾“æ•°æ®å¸§å’ŒACKå¸§éœ€è¦çš„æ€»æ—¶é—´ï¼›APæ”¶åˆ°åå¹¿æ’­ä¸€ä¸ªCTSå¸§ä½œä¸ºå“åº”ï¼ˆç»™å‘é€æ–¹æ˜ç¡®çš„å‘é€è®¸å¯+åªæ˜¯å…¶ä»–ç«™ç‚¹åœ¨é¢„çº¦æœŸå†…ä¸è¦å‘é€ï¼‰ï¼›å…¶ä»–ç«™ç‚¹åœ¨CTSæœŸå†…å°†æŠ‘åˆ¶å‘é€ ä¼˜ç‚¹ï¼šè§£å†³éšè—ç»ˆç«¯é—®é¢˜ï¼›RTSå’ŒCTSè¾ƒçŸ­ï¼Œæ¶‰åŠè¿™ä¸¤è€…çš„ç¢°æ’æŒç»­è¾ƒçŸ­ï¼Œåªè¦æ­£ç¡®ä¼ è¾“ï¼Œåç»­çš„æ•°æ®å’ŒACKéƒ½èƒ½æ— ç¢°æ’å‘é€ã€‚ ç¼ºç‚¹ï¼šå¼•å…¥äº†æ—¶å»¶ï¼Œæ¶ˆè€—äº†ä¿¡é“èµ„æºã€‚ å®é™…æ— çº¿ç«™ç‚¹ä¼šè®¾ç½®RTSé—¨é™å€¼ï¼Œè¶…è¿‡è¯¥å€¼çš„å¸§æ‰ä½¿ç”¨RTS/CTSåºåˆ—ã€‚ ä½¿ç”¨802.11ä½œä¸ºä¸€ä¸ªç‚¹å¯¹ç‚¹é“¾è·¯ å®šå‘å¤©çº¿, æ²¡å…¶ä»–ç«™ç‚¹, ç›¸å½“äºæ˜¯APä¸ç«™ç‚¹çš„ç‚¹å¯¹ç‚¹ 7.3.3 IEEE 802.11å¸§ã€p353å›¾7-13ã€‘ æœ‰å››ä¸ªåœ°å€å­—æ®µã€‚ç¬¬å››ä¸ªåœ°å€åœ¨è‡ªç»„ç»‡æ¨¡å¼ä¸­äº’ç›¸è½¬å‘æ—¶ä½¿ç”¨ã€‚åœ°å€1ï¼šæ¥æ”¶è¯¥å¸§çš„æ— çº¿ç«™ç‚¹çš„MACåœ°å€ï¼›åœ°å€2:ä¼ è¾“è¯¥å¸§çš„ç«™ç‚¹çš„MACåœ°å€ï¼›åœ°å€3:åŒ…å«è·¯ç”±å™¨æ¥å£çš„MACåœ°å€ã€‚ åºå·ç”¨äºåŒºåˆ†æ–°ä¼ è¾“çš„å¸§å’Œä»¥å‰å¸§çš„é‡ä¼  ç±»å‹å’Œå­ç±»å‹ç”¨äºåŒºåˆ†å…³è”ã€RTAã€CTSã€ACKå’Œæ•°æ®å¸§ To, Fromå­—æ®µç”¨äºå®šä¹‰ä¸åŒåœ°å€å­—æ®µçš„å«ä¹‰ WEPå­—æ®µæŒ‡ç¤ºäº†æ˜¯å¦ä½¿ç”¨åŠ å¯† 7.3.5 802.11ä¸­çš„é«˜çº§ç‰¹è‰² é€Ÿç‡è‡ªé€‚åº”ï¼šåŸç†ç±»ä¼¼äºTCPæ‹¥å¡æ§åˆ¶ åŠŸç‡ç®¡ç†ï¼šä¸€ä¸ªç»“ç‚¹èƒ½å¤Ÿæ˜æ˜¾åœ°åœ¨ç¡çœ å’Œå”¤é†’çŠ¶æ€ä¹‹é—´äº¤æ›¿ 7.3.6è“ç‰™å’ŒZigBee è“ç‰™ï¼ˆIEEE 802.15.1ï¼‰ï¼šå°èŒƒå›´ã€ä½åŠŸç‡ã€ä½æˆæœ¬ï¼Œè‡ªç»„ç»‡ç½‘ç»œï¼Œæœ‰ä¸€ä¸ªä¸»ç»“ç‚¹æ§åˆ¶çš®å¯ç½‘å¹¶ç¡®å®šæ—¶é’Ÿ ZigBeeï¼ˆIEEE 802.14.5ï¼‰ Ch9 å¤šåª’ä½“ç½‘ç»œæ”¯æŒå¤šåª’ä½“çš„ç½‘ç»œæä¾›å¤šç§ç±»å‹çš„æœåŠ¡é“¾è·¯è°ƒåº¦è§„åˆ™ï¼šé€‰æ‹©åœ¨é“¾è·¯ä¸Šä¼ è¾“æ’é˜Ÿåˆ†ç»„çš„æ–¹å¼ ç›‘ç®¡ï¼šæ¼æ¡¶3ä¸ªå‡†åˆ™ï¼šå¹³å‡é€Ÿç‡ã€å³°å€¼é€Ÿç‡ã€çªå‘é•¿åº¦ æ¼æ¡¶ç”±ä¸€ä¸ªèƒ½å®¹çº³$b$ä¸ªä»¤ç‰Œçš„æ¡¶ç»„æˆ æ–°ä»¤ç‰Œæ€»æ˜¯ä»¥æ¯ç§’$r$ä¸ªé€Ÿç‡äº§ç”Ÿ å½“äº§ç”Ÿä¸€ä¸ªä»¤ç‰Œæ—¶ï¼Œå¦‚æœæ¡¶ä¸­å°‘äº$b$ä¸ªä»¤ç‰Œï¼Œåˆ™æ–°äº§ç”Ÿçš„ä»¤ç‰ŒåŠ å…¥åˆ°æ¡¶ä¸­ï¼Œå¦åˆ™å¿½ç•¥ ä¸€ä¸ªåˆ†ç»„å‘ç½‘ç»œä¼ è¾“ä¹‹å‰ï¼Œå¿…é¡»é¦–å…ˆä»ä»¤ç‰Œæ¡¶ä¸­å»é™¤ä¸€ä¸ªä»¤ç‰Œï¼Œå¦‚æœä»¤ç‰Œæ¡¶æ˜¯ç©ºçš„ï¼Œåˆ†ç»„å¿…é¡»ç­‰å¾…ä¸€ä¸ªä»¤ç‰Œã€‚ æ¼æ¡¶ç›‘ç®¡çš„æµçš„æœ€å¤§çªå‘é•¿åº¦æ˜¯$b$ä¸ªåˆ†ç»„ï¼Œä»»ä½•é•¿åº¦ä¸º$t$çš„æ—¶é—´é—´éš”å†…èƒ½å¤Ÿè¿›å…¥ç½‘ç»œä¸­çš„æœ€å¤§åˆ†ç»„æ•°ç›®ä¸º$rt+b$ï¼ˆå¹³å‡é€Ÿç‡ï¼‰ åœ¨åŸæ¼æ¡¶ä¸‹æ–¹å†åŠ ä¸€ä¸ªä»¤ç‰Œäº§ç”Ÿé€Ÿç‡ä¸º$p$æ¼æ¡¶å¯ä»¥å®ç°é™åˆ¶å³°å€¼é€Ÿç‡åˆ°$p$ æ¼æ¡¶+åŠ æƒå…¬å¹³æ’é˜Ÿ=é˜Ÿåˆ—ä¸­å¯è¯æ˜çš„æœ€å¤§æ—¶å»¶d_{max}=\\frac{b_i}{R\\cdot \\frac{w_i}{\\sum w_j}}","categories":[],"tags":[{"name":"notes","slug":"notes","permalink":"https://mengzelev.github.io/tags/notes/"}]},{"title":"æ‰˜ç¦é¦–è€ƒæ—¥è®°","slug":"tofel-1st-exp","date":"2019-11-03T03:38:49.000Z","updated":"2019-11-03T07:07:09.895Z","comments":true,"path":"2019/11/03/tofel-1st-exp/","link":"","permalink":"https://mengzelev.github.io/2019/11/03/tofel-1st-exp/","excerpt":"","text":"è€ƒåœºæƒ…å†µå¬åˆ«äººå®‰åˆ©é€‰äº†å—äº¬å¤§å­¦é¼“æ¥¼æ ¡åŒºCè€ƒåœºå°±åœ¨å¤©æ´¥è·¯æ ¡é—¨å£ï¼Œåœ°é“å‡ºå»æœ€è¿‘çš„ä¸€ä¸ªå°é—¨è¿›å»å°±æ˜¯è®¡ç®—ä¸­å¿ƒè™½ç„¶æ¥¼åœ¨å¤–é¢çœ‹ä¸Šå»æŒºç ´çš„ï¼Œä½†æ˜¯é‡Œé¢è¿˜è¡ŒCè€ƒåœºé‡Œé¢æ˜¯ä¸€äººä¸€ä¸ªå°éš”é—´è¿™æ ·å­ï¼Œæ„Ÿè§‰æŒºå®‰å¿ƒçš„ï¼Œè™½ç„¶æˆ´ä¸Šè€³æœºè¿˜æ˜¯èƒ½å¬åˆ°å…¶ä»–äººçš„å¬åŠ›å’Œå£è¯­å£°éŸ³ï¼Œä½†æ˜¯éŸ³é‡è°ƒåˆ°æœ€å¤§æˆ‘ä¸ªäººæ„Ÿè§‰å°±å®Œå…¨æ²¡æœ‰å½±å“äº†æ€»ä½“è§‰å¾—è€ƒåœºè¿˜ä¸é”™ è€ƒè¯•æµç¨‹ä¸Šè·¯å…­ç‚¹èµ·åºŠï¼Œä¸ƒç‚¹å‡ºå‘ä»å—å¤§ä»™æ—æ ¡åŒºå«äº†è¾†å‡ºç§Ÿè½¦ï¼Œä¸‰ä¸ªäººæ‹¼è½¦æ‰“äº†82å¤§æ´‹ï¼Œè¿˜è¡Œå§ï¼Œè‡³å°‘æ¯”è€ƒåœºæˆ¿ä¾¿å®œå¾ˆå¤šäº† è¿›åœºè¿›åœºå‰æœ‰ä¸ªå·¥ä½œäººå‘˜åœ¨å‘ä¸€å¼ çº¸è®©ä½ å¡«ä¸ªäººä¿¡æ¯ï¼Œå£°ç§°æ˜¯â€œå­¦æ ¡è¦å¡«çš„â€ï¼Œä½†é‚£å¼ å•å­éå¸¸éšä¾¿ï¼Œè€Œä¸”ETSå·²ç»æœ‰æˆ‘çš„å…¨éƒ¨æŠ¥åä¿¡æ¯äº†ï¼Œå¾ˆæ˜¾ç„¶æ˜¯åƒæŠŠæˆ‘ä»¬çš„ä¸ªäººä¿¡æ¯å–ç»™ä»€ä¹ˆç•™å­¦æœºæ„çš„ï¼Œæ‰€ä»¥æˆ‘å°±æ‹’ç»äº†ï¼Œå¥¹ä¹Ÿæ²¡æœ‰çº ç¼ ä¸è¿‡è¢«â€œå¿½æ‚ â€äº†å¡«çš„åŒå­¦çœŸçš„å¾ˆå¤šè¯¶ï¼Œå¤§å®¶å¯¹è‡ªå·±ä¸ªäººä¿¡æ¯çš„ä¿æŠ¤æ„è¯†ä¹Ÿå¤ªå·®äº†å§www å…«ç‚¹ä¸åˆ°å°±å¼€å§‹æ”¾äººè¿›å»äº†ï¼Œåœ¨ä¸€æ¥¼é—¨å£å°±è¦æŠŠèº«ä¸Šçš„ä¸œè¥¿æå¾—åªå‰©åƒçš„ã€å–çš„ã€èº«ä»½è¯ï¼Œå¥³å­©å­çš„è¯å«ç”Ÿå·¾ä¹Ÿæ˜¯å¯ä»¥å¸¦çš„ï¼Œé¤å·¾çº¸å’Œè¯ï¼ˆæˆ‘å½“å¤©å¸¦äº†æ­¢ç—›è¯ï¼‰æ˜¯ä¸è®©å¸¦çš„ã€‚ å‰©ä¸‹çš„ä¸œè¥¿éƒ½è¦è£…åˆ°ä¸€ä¸ªæ ‡æœ‰åºå·çš„å¤§éº»è¢‹(x)é‡Œé¢å»ï¼Œå¤§éº»è¢‹çš„é’¥åŒ™å¯ä»¥ï¼ˆè€Œä¸”å¿…é¡»ï¼‰å¸¦èµ° ç„¶åå°±æ˜¯æœèº«ï¼Œè¦æŠŠå£è¢‹é‡Œä¸œè¥¿éƒ½æå‡ºæ¥å…¨èº«é‡‘å±æ¢æµ‹å™¨ä¸€ä¸‹ã€‚æˆ‘ç©¿çš„è¡£æœä¸Šé‡‘å±é¥°å“å¤ªå¤šäº†è®©å·¥ä½œäººå‘˜å¾ˆæ— è¯­hhhhå§¨å¦ˆå·¾æ‹¿å¤šäº†è¿˜è¢«å‹’ä»¤æœ€å¤šå¸¦ä¸€ä¸ªï¼Œæ±‚äº†ä¸€ä¸‹æƒ…æ‰èƒ½å¸¦ä¿©è¿›å»ï¼ˆä¸­åœºä¼‘æ¯æ¢ä¸€ä¸ªä¸æ˜¯åˆæƒ…åˆç†å—ï¼‰ã€‚å·¥ä½œäººå‘˜è¿˜è®©æˆ‘æŠŠæ‰å¤´å‘çš„å¤§è´è¶ç»“æ‘˜ä¸‹æ¥ï¼ˆæˆ‘è§‰å¾—ä¹Ÿä¸æ˜¯å¾ˆå¤§å•Šï¼‰ï¼Œè¿™ä¹Ÿå¤ªä¸¥æ ¼äº†â€¦.. æœå®Œèº«ä¹‹åå°±è¦å¡«ä¸€ä¸ªä¿å¯†åè®®å•ï¼Œæ¡Œå­ä¸Šæœ‰æ¨¡æ¿ï¼Œç…§ç€å¡«å°±è¡Œäº†ï¼ˆæˆ‘ä¸€å¼€å§‹è¿˜æ²¡æ³¨æ„åˆ°æ¨¡æ¿çš„å­˜åœ¨ å¡«å®Œä¹‹åå¸¦ç€å•å­ä¸Šä¸‰æ¥¼ã€‚æ°´æ¯å’Œåƒçš„éƒ½è¦æ”¾åœ¨ä¸€å¼ å¤§æ¡Œå­ä¸Šï¼ˆå§¨å¦ˆå·¾ä¹Ÿè¦ï¼‰ï¼Œè¦ä¸Šå•æ‰€çš„è¯èµ¶ç´§ç°åœ¨å»ä¸Šä¸€ä¸ªã€‚ä¹‹åå°±è¦å»æ’é˜Ÿç­‰æ‹ç…§ï¼Œæ‹å®Œç…§å°±ä¸èƒ½ç¢°åƒçš„å–çš„ï¼Œä¹Ÿä¸èƒ½ä¸Šå•æ‰€äº†ï¼Œç›´æ¥è¿›è€ƒåœºåä¸‹ ä»¥ä¸Šå°±æ˜¯å—å¤§é¼“æ¥¼è€ƒåœºçš„è¿›åœºæµç¨‹äº†ï¼Œæˆ‘8ç‚¹10åˆ†è¿›çš„æ¥¼ï¼Œä¸­é—´å‡ºäº†ä¸å°‘å°æ„å¤–ï¼Œç­‰æ‹ç…§çš„æ—¶å€™å‰é¢ä¹Ÿæ­£å¥½äººæœ‰ç‚¹å¤šï¼Œæ‰€ä»¥æ˜¯8ç‚¹40å·¦å³æ‰è¿›çš„è€ƒåœºï¼Œç´¢æ€§ä¸å½±å“è€ƒè¯• å¼€è€ƒå‰å¼€è€ƒå‰ï¼Œè€ƒåœºé‡Œçš„ç›‘è€ƒè€å¸ˆä¼šè¯´ä¸€å †æ³¨æ„äº‹é¡¹ï¼Œæˆ‘è™½ç„¶éƒ½å¬äº†ï¼Œä½†æ˜¯è€ƒè¯•æ—¶å€™è¿˜æ˜¯æ²¡æœ‰å…¨è®°èµ·æ¥ï¼Œå¤§æ¦‚æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š è‰ç¨¿çº¸å’Œä¸¤åªé“…ç¬”ç”¨å®Œäº†è¦æ¢ï¼Œä½†æ˜¯è¦ä¿è¯æ¡Œä¸Šåªæœ‰3å¼ è‰ç¨¿çº¸ã€‚è‰ç¨¿çº¸è¦ä¸¤é¢éƒ½ç”¨å®Œäº†æ‰ç»™æ¢ æœ‰äº‹ä¸¾æ‰‹çš„æ—¶å€™ä¸¾é«˜ä¸€ç‚¹ï¼Œå› ä¸ºæ²¡äººä¸€ä¸ªéš”é—´è€å¸ˆå¯èƒ½ä¼šçœ‹ä¸è§ ä¸­åœºä¼‘æ¯ä¸€å®šè¦çœ‹è§å€’è®¡æ—¶äº†å†å‡ºå» ä¸­åœºä¼‘æ¯åªæœ‰ååˆ†é’Ÿï¼Œå¥³å•æ‰€å‘ä½æ¯”è¾ƒå°‘ï¼Œæ‰€ä»¥ä¸€å®šè¦å…ˆå»ä¸Šå•æ‰€ï¼Œæœ€å¥½ææ—©ä¸€ç‚¹å›æ¥ï¼Œå› ä¸ºè¿˜è¦æ‹ç…§ä»€ä¹ˆçš„ ä¸­åœºä¼‘æ¯å€’è®¡æ—¶è¿˜å‰©äºŒä¸‰åç§’çš„æ—¶å€™å°±è¦å«ç›‘è€ƒè€å¸ˆæ¥è¾“å…¥å¯†ç å¼€é”ï¼Œä¸ç„¶å¯èƒ½ä¼šè‡ªåŠ¨ç”Ÿæˆç¼ºè€ƒæŠ¥å‘Šï¼ˆæˆ‘å°±å¿˜äº†ï¼Œå¤šäºè€å¸ˆå‘ç°orz é˜…è¯»instructionçš„æ—¶é—´æœ‰æ—¶å€™ä¹Ÿç®—åœ¨è€ƒè¯•æ—¶é—´é‡Œé¢çš„ï¼ŒåŸºæœ¬æ¨¡è€ƒæ—¶å€™éƒ½çœ‹è¿‡äº†å°±ä¸è¦ç®¡äº†(x) ä¼‘æ¯èµ°çš„æ—¶å€™è¦æŠŠé—¨å¸¦ä¸Šï¼Œå› ä¸ºæ¯ä¸ªäººç»“æŸä¸ŠåŠåœºçš„æ—¶é—´ä¸ä¸€æ · P.S.åœ¨è€ƒåœºé‡Œè„±è¡£æœçš„è¯è€å¸ˆä¼šè¿‡æ¥æŠŠä½ çš„è¡£æœæ”¶èµ°ï¼Œä½ å†·äº†è¿˜å¾—ä¸¾æ‰‹è¦ï¼Œæ‰€ä»¥ä¸æ˜¯ç‰¹åˆ«çƒ­å°±å°½é‡è‡ªå·±å¿å¿å§(é‚£æˆ‘æ€€ç–‘å¤å¤©å»è€ƒè§‰å¾—ç©ºè°ƒå†·äº†è¿˜è¦ä¸¾æ‰‹é—®è€å¸ˆè¦å¤–å¥—) é˜…è¯»è€å¸ˆè¾“å®Œå¯†ç è§£é”åç¬¬ä¸€é¡¹å°±æ˜¯é˜…è¯» æˆ‘è¿™æ¬¡è€ƒè¯•çš„é˜…è¯»éš¾åº¦æ„Ÿè§‰æœ‰ä¸ªåˆ«ï¼ˆ3é“å·¦å³ï¼‰æ¯”è¾ƒéš¾ï¼Œå¯¹åº”åŸæ–‡è¯»ä¸å¤ªæ‡‚ï¼Œä¹Ÿå¯èƒ½æ˜¯å› ä¸ºä¸Šè€ƒåœºæœ‰ç‚¹ç®€å•ã€‚TPOé‡Œçš„é˜…è¯»é¢˜è¿˜æ˜¯åç®€å•çš„ã€‚ è¿˜æœ‰æˆ‘æœ€åä¸€å¤§é¢˜çœŸçš„å¾ˆè–„å¼±orzé€‰çš„ä¸‰é¡¹é‡Œéƒ½è‡³å°‘æœ‰ä¸€é¡¹å¾ˆä¸ç¡®å®š è¿˜æœ‰è€ƒè¯•ç¯å¢ƒé‡Œç«Ÿç„¶éƒ½ä¸èƒ½é¼ æ ‡é€‰ä¸­é«˜äº®ï¼Œä¸åƒåœ¨ç½‘é¡µä¸Šæ¨¡è€ƒé‚£æ ·ï¼Œç»å¸¸çœ‹çœ‹é¢˜ç›®å°±å¿˜äº†è‡ªå·±è€ƒåˆ°å“ªäº†ã€‚è¿™é˜…è¯»è€ƒè¯•ä¹Ÿå¤ªåäººç±»äº†ï¼Œæ›´åˆ«è¯´é«˜è€ƒé‚£å¥—è®°å·ç³»ç»Ÿå®Œå…¨åºŸäº†ã€‚ æˆ‘çš„æ—¶é—´åˆ†é…å¤§æ¦‚æ˜¯19+18+16+1minæ£€æŸ¥ï¼Œå› ä¸ºç¬¬ä¸€ç¯‡è¿˜æ²¡è¿›å…¥çŠ¶æ€ï¼Œæ¯”è¾ƒç´§å¼ ï¼Œè¯»èµ·æ¥å¾ˆæ…¢ã€‚ä¸è¿‡å¯èƒ½ä¹Ÿæ˜¯ä¾èµ–äºäºŒä¸‰éš¾åº¦æ¯”ä¸€ä½ä¸€ç‚¹ï¼Œä¸ç„¶å¯èƒ½è¦æ—¶é—´åœ°ç‹±äº†www ç´¢æ€§é˜…è¯»æ²¡è¢«åŠ è¯• å¬åŠ›è¿™æ¬¡å¬åŠ›æ€»ä½“æ¥è¯´æ„Ÿè§‰å¥½éš¾ï¼Œåˆ·TPOæˆ‘åŸºæœ¬èƒ½æ§åˆ¶åˆ°æœ€å¤š2é¢˜æ²¡å°è±¡ï¼Œä½†æ˜¯è¿™æ¬¡æ²¡å°è±¡çš„é¢˜æ¯”ä¾‹ç‰¹åˆ«é«˜ï¼Œæ„Ÿè§‰æ˜¯ä¸æ˜¯å‡ºé¢˜ç‚¹å‡ºç°åç§»äº†ï¼Œå¯¼è‡´æˆ‘ç•™æ„çš„æ²¡è€ƒåˆ°ï¼Œè€ƒåˆ°çš„æ²¡ç•™æ„orz(ç»™è‡ªå·±èœæ‰¾å€Ÿå£ing) æˆ‘å¬åŠ›è¢«åŠ è¯•äº†ï¼Œ1å¯¹è¯+1æˆè¯¾ï¼Œ11min å¬åŠ›æ—¶å€™ç”±äºæ¯ä¸ªsectionæ˜¯ç´§è¿ç€çš„ï¼Œæˆ‘è‰ç¨¿çº¸å†™å®Œäº†ï¼Œç‚¹äº†ä¸‹ä¸€é¢˜ä¸‹ä¸€ç¯‡å¬åŠ›ç›´æ¥å¼€å§‹äº†ï¼Œç»“æœå¿˜äº†ä¸¾æ‰‹æ¢è‰ç¨¿çº¸äº†ï¼Œå”‰â€¦æœ€åä¸€é¢˜çœŸçš„æ˜¯æ’ç©ºå¼åˆ°å¤„æœåˆ®ç©ºé—´è®°ç¬”è®°ï¼Œè®°å¾—ä¸ƒé›¶å…«è½çš„ï¼Œä¸‹æ¬¡ä¸€å®šè¦è®°å¾— æˆ‘å¬åˆ°ç­”æ¡ˆçš„é¢˜åŸºæœ¬éƒ½æ˜¯ç§’é€‰ï¼Œä¸ç¡®å®šçš„é¢˜æœ€å¤šçº ç»“1åˆ†é’Ÿï¼Œæ—¶é—´è¿˜æ˜¯æ¯”è¾ƒå……è£•çš„ã€‚å¤§å®¶å®‰æ’æ—¶é—´çš„æ—¶å€™æœ€å¥½æŠŠæ‰¾è€å¸ˆæ¢çº¸çš„æ—¶é—´ç®—è¿›å»å‘€ ä¸­åœºä¼‘æ¯è¦æŠŠèº«ä»½è¯å¸¦èµ°ï¼Œä¸€ä¼šå„¿è¿˜è¦æ‹ç…§å¥³å•æœç„¶æ’é˜Ÿæˆ‘ä¸Šä¸ªå•æ‰€å›æ¥å–äº†ä¸¤å£æ°´åƒäº†ç‚¹ä¸œè¥¿å†æ‹ç…§å›å»ï¼Œå°±å·²ç»åªå‰©40säº†ï¼Œæ—¶é—´è¿˜æ˜¯æœ‰ç‚¹å±€ä¿ƒçš„å‘€sbå¦‚æˆ‘å¿˜äº†åœ¨è®¡æ—¶å™¨è¿˜å‰©å‡ åç§’çš„æ—¶å€™å«è€å¸ˆè§£é”äº†ï¼Œå¹¸å¥½è€å¸ˆå‘ç°äº† å£è¯­æœ¬æ¥å¯¹è¿™éƒ¨åˆ†å°±æ²¡ä»€ä¹ˆä¿¡å¿ƒâ€¦ Task1ç‹¬ç«‹å£è¯­é—®çš„æ˜¯â€¦.æˆ‘å¿˜äº†orzTask2æ˜¯æƒ³è®©å­¦ç”Ÿå’Œè€å¸ˆçš„é£Ÿå ‚åˆå¹¶èµ·æ¥ã€‚è¿™é‡Œæœ‰ä¸ªå¥‡æ€ªçš„åœ°æ–¹æ˜¯ï¼Œmain speakerç¬¬ä¸€ä¸ªç†ç”±æ˜¯èµåŒçš„ï¼Œè§‰å¾—è¿™æ ·å¯ä»¥è…¾å‡ºç©ºé—´ç¼“è§£æ‹¥æŒ¤ï¼Œå› ä¸ºè€å¸ˆä¸æ€ä¹ˆåƒé£Ÿå ‚ï¼›ç¬¬äºŒä¸ªç†ç”±å´è¯´å­¦ç”Ÿä¼šåœ¨åƒé¥­æ—¶è¢«è€å¸ˆé—®å­¦ä¹ ï¼Œè€å¸ˆå¯èƒ½ä¹Ÿä¸æƒ³å’Œå­¦ç”ŸèŠå¤©ï¼Œåè€Œæœ‰ç‚¹åå¯¹çš„æ„æ€äº†Task3å¤§æ¦‚æ˜¯ç”Ÿæ€å¤§åï¼Œå¾ˆå¸¸è§„çš„é¢˜ç›®ã€‚å¯æƒœæˆ‘æ²¡æ§åˆ¶å¥½æ—¶é—´ï¼Œæ²¡è¯´å®Œï¼ˆè‡ªå‘Task4ä¹Ÿå¾ˆå…¸å‹ï¼Œæ²¡ä»€ä¹ˆå°è±¡äº†â€¦. æ€»çš„æ¥è¯´æ„Ÿè§‰è‡ªå·±ä¸€æ—¦ä¸“æ³¨äºå†…å®¹å°±é¡¾åŠä¸äº†è¯­éŸ³è¯­è°ƒäº†ï¼Œè¿˜æ˜¯ç¼ºä¹ç»ƒä¹ ï¼ŒäºŒåˆ·ä¹‹å‰è¦ä¸“æ”»å£è¯­äº† å†™ä½œç»¼åˆå†™ä½œä¹Ÿå¾ˆå¸¸è§„ï¼Œå…³äºå¤©ç„¶æ°”ï¼Œé˜…è¯»è¯´å®ƒä¸å¥½ï¼Œå¬åŠ›è¯´å¥½ï¼Œæ²¡å¤ªå¤§é—®é¢˜ ç»¼åˆå†™ä½œè¿™æ¬¡çš„é¢˜ç›®æˆ‘ä½›äº†è€ƒå‰å‡†å¤‡äº†å¾ˆå¤šä¸ªäººä¸ç¤¾ä¼šæ–¹é¢çš„å¸¸ç”¨è®ºç‚¹ï¼Œèº«ä½“å¥åº·ã€ç¤¾ä¼šå¹³ç­‰ä»€ä¹ˆçš„ï¼Œç»“æœè¿™æ¬¡ç»™æˆ‘æ¥äº†ä¸€ä¸ªåäººè¯¥ä¸è¯¥è¡¨æ˜è‡ªå·±çš„æ”¿æ²»è§‚ç‚¹æˆ‘æ€ä¹ˆè§‰å¾—è¿™ä¸ªå¥½é’ˆå¯¹å•Šï¼ŒN*Açš„äº‹æƒ…æ‰åˆšåˆšè¿‡å»ï¼Œå¥½å§å…¶å®å›½å¤–ä¹Ÿæ˜¯è¿™æ ·çš„é€éœ²ç€å‡ºé¢˜ç»„æ»¡æ»¡çš„æ¶æ„â€¦â€¦æˆ‘æ˜¯å†™äº†ä¸åº”è¯¥ï¼Œä¸€ä¸ªæ˜¯ä¼šç…½åŠ¨æ— çŸ¥ç¾¤ä¼—ï¼Œä¸€ä¸ªæ˜¯ä¼šé€ æˆè¡¨è¾¾æ”¿æ²»ç«‹åœºè¹­çƒ­åº¦çš„é£æ°”ï¼ˆè¿™ä¸ªå¥½éš¾å†™ï¼‰ï¼Œä¸å¯å¦è®¤çš„æ˜¯å¯¹å®£ä¼ å¥½çš„ä¸»å¼ æœ‰å¸®åŠ©ã€‚ç„¶åï¼Œçªç„¶æƒ³ä¸èµ·æ¥ä¸»å¼ æ€ä¹ˆè¯´(è‡ªè£)æ—¶é—´è¿˜æ˜¯ç´§ï¼Œæœ‰ä¸€æ®µæ²¡å†™å®Œè‰è‰æ”¶å°¾äº†ï¼Œä¹Ÿæ²¡æ¥å¾—åŠæ£€æŸ¥æ‹¼å†™(å†æ¬¡è‡ªè£) å†™ä½œä¹Ÿæ˜¯ä¸‹æ¬¡æ¥ä¹‹å‰è¦æ¶è¡¥çš„é¡¹ç›®äº†â€¦â€¦ è€ƒå®Œæˆ‘æ˜¯åäºŒç‚¹å¤šå‡ºè€ƒåœºçš„ï¼Œè€ƒè¯•æ—¶é—´ç¼©çŸ­è¿˜æ˜¯å¥½ï¼ˆå˜¿å˜¿å‡ºè€ƒåœºæ‰æ„è¯†åˆ°è‡ªå·±æœ‰ç‚¹é¥¿äº†ï¼Œè¦æ˜¯è·ŸåŸæ¥ä¸€æ ·è€ƒåˆ°ä¸€ç‚¹ä¼°è®¡è¦é¥¿ç˜«äº†åœ¨æ–°è¡—å£æµªäº†ä¸€æ•´å¤©ï¼ˆå…¶å®åªæœ‰å¤§åŠå¤© æ€»ç»“æ€»ä¹‹æ„Ÿè§‰å°±æ˜¯éå¸¸ä¸¥æ ¼ï¼Œé«˜è€ƒéƒ½ç›¸å½¢è§ç»Œï¼Œçœ‹æ¥å¤©æœè¿˜æ˜¯æ¯”è€ç¾ç›¸ä¿¡è‡ªå·±äººçš„(é›¾)è€ƒåœºé‡Œä¸è®©å–æ°´realéš¾å—ï¼Œæ€è€ƒå¾ˆæ¶ˆè€—æ°´åˆ†çš„å•Škoraæœ¬æ¥æœ‰æŠŠæ¡çš„é˜…è¯»å¬åŠ›æ²¡å‘æŒ¥å¥½ï¼Œå£è¯­å†™ä½œåˆä¸å‡ºæ‰€æ–™çš„çƒ‚ï¼Œè¿™æ¬¡å°±æƒå½“ä½“éªŒç”Ÿæ´»äº†ï¼Œä¸Šäº¤2kå¤§æ´‹ä¸‹æ¬¡å†æ¥","categories":[],"tags":[]},{"title":"è®¡ç®—æœºç½‘ç»œ-è¯¾ç¨‹ç¬”è®°","slug":"network-notes","date":"2019-10-12T03:25:20.000Z","updated":"2020-01-01T10:22:45.880Z","comments":true,"path":"2019/10/12/network-notes/","link":"","permalink":"https://mengzelev.github.io/2019/10/12/network-notes/","excerpt":"","text":"ã€å·¥äº‹ä¸­ã€‘ Introduction ISPï¼šå› ç‰¹ç½‘æœåŠ¡æä¾›å•† åè®®ï¼šå®šä¹‰äº†ä¸¤ä¸ªæˆ–å¤šä¸ªé€šä¿¡å®ä½“ä¹‹é—´äº¤æ¢çš„æŠ¥æ–‡çš„æ ¼å¼å’Œé¡ºåºï¼Œä»¥åŠæŠ¥æ–‡å‘é€å’Œ/æˆ–æ¥å—ä¸€æ¡æŠ¥æ–‡æˆ–å…¶ä»–äº‹ä»¶æ‰€é‡‡å–çš„åŠ¨ä½œ ä¸»æœº=ç«¯ç³»ç»Ÿ ä»¥å¤ªç½‘ï¼šä»¥å¤ªç½‘äº¤æ¢æœº-æœºæ„è·¯ç”±å™¨-ISP WiFi:æ¥å…¥ç‚¹-ä¼ä¸šç½‘-æœ‰é™å› ç‰¹ç½‘ åˆ†ç»„äº¤æ¢ åˆ†ç»„äº¤æ¢æœºï¼šè·¯ç”±å™¨/é“¾è·¯äº¤æ¢æœº å­˜å‚¨è½¬å‘ä¼ è¾“ï¼šäº¤æ¢æœºèƒ½å¤Ÿå¼€å§‹å‘è¾“å‡ºé“¾è·¯ä¼ è¾“è¯¥åˆ†ç»„çš„ç¬¬ä¸€ä¸ªæ¯”ç‰¹é’±ï¼Œå¿…é¡»æ¥æ”¶åˆ°æ•´ä¸ªåˆ†ç»„ æ—¶å»¶ï¼š$2L/R$ï¼Œä¸å­˜å‚¨æ˜¯$L/R$ é€šè¿‡$N$æ¡é€Ÿç‡å‡ä¸º$R$çš„é“¾è·¯ç»„æˆçš„è·¯å¾„ï¼Œç«¯åˆ°ç«¯æ—¶å»¶$d_{\\text{ç«¯åˆ°ç«¯}}=N\\frac{L}{R}$ è¾“å‡ºç¼“å­˜/è¾“å‡ºé˜Ÿåˆ—ï¼šé“¾è·¯ä¸Šè¿›å…¥äº¤æ¢æœºå‰åˆ†ç»„ç­‰å¾…çš„åœ°æ–¹ æ’é˜Ÿæ—¶å»¶ï¼Œä¸¢åŒ… è½¬å‘è¡¨ï¼šå°†ç›®çš„åœ°å€ï¼ˆæˆ–ä¸€éƒ¨åˆ†ï¼‰æ˜ å°„ä¸ºè¾“å‡ºé“¾è·¯ è·¯ç”±é€‰æ‹©åè®®ï¼šè‡ªåŠ¨è®¾ç½®è½¬å‘è¡¨ ç”µè·¯äº¤æ¢ é¢„ç•™èµ„æºï¼ŒæŒ‰éœ€ä½¿ç”¨ é¢‘åˆ†å¤ç”¨FDMï¼Œæ—¶åˆ†å¤ç”¨TDM å¸¦å®½ï¼šé¢‘åˆ†å¤ç”¨çš„å®½åº¦ æ—¶å»¶ å¤„ç†æ—¶å»¶$d_{proc}$ï¼šæ£€æŸ¥åˆ†ç»„é¦–éƒ¨å†³å®šè®²è¯¥åˆ†ç»„å¯¼å‘ä½•å¤„æ‰€éœ€è¦çš„æ—¶é—´ ä¹ŸåŒ…æ‹¬æ£€æŸ¥æ¯”ç‰¹çº§åˆ«çš„å·®é”™éœ€è¦çš„æ—¶é—´ å¾®ç§’æˆ–æ›´ä½æ•°é‡çº§ æ’é˜Ÿæ—¶å»¶$d_{queue}$ï¼šåœ¨é˜Ÿåˆ—ä¸­ï¼Œåˆ†ç»„åœ¨é“¾è·¯ä¸Šç­‰å¾…ä¼ è¾“çš„æ—¶é—´ å–å†³äºå…ˆæœŸåˆ°è¾¾çš„æ­£åœ¨æ’é˜Ÿç­‰å¾…å‘é“¾è·¯ä¼ è¾“çš„åˆ†ç»„æ•°é‡ åˆ°è¾¾åˆ†ç»„æœŸæœ›å‘ç°çš„åˆ†ç»„æ•°é‡æ˜¯åˆ°è¾¾è¯¥é˜Ÿåˆ—çš„æµé‡çš„å¼ºåº¦å’Œæ€§è´¨çš„å‡½æ•° æ¯«ç§’åˆ°å¾®ç§’é‡çº§ ä¼ è¾“æ—¶å»¶$d_{trans}$ï¼šå°†æ‰€æœ‰åˆ†ç»„çš„æ¯”ç‰¹æ¨å‘é“¾è·¯æ‰€éœ€è¦çš„æ—¶é—´ æ¯«ç§’åˆ°å¾®ç§’é‡çº§ ä¼ æ’­æ—¶å»¶$d_{prop}$ï¼šä¸€ä¸ªæ¯”ç‰¹ä»è¯¥é“¾è·¯çš„èµ·ç‚¹åˆ°è·¯ç”±å™¨Bçš„ä¼ æ’­æ‰€éœ€è¦çš„æ—¶é—´ ä¸éœ€è¦ç­‰æ¨å®Œäº†å†ä¸Šè·¯ï¼Œæœ‰ä¸€ä¸ªæ¯”ç‰¹ä¼ ä¸€ä¸ªæ¯”ç‰¹ ä¸¤å°è·¯ç”±å™¨ä¹‹é—´çš„è·ç¦»/ä¼ æ’­é€Ÿç‡ æ¯«ç§’é‡çº§ èŠ‚ç‚¹æ€»æ—¶å»¶$d{nodal}=d{proc}+d{queue}+d{trans}+d_{prop}$ æ—¶å»¶æˆåˆ†æ‰€èµ·çš„ä½œç”¨å¯èƒ½ä¼šæœ‰å¾ˆå¤§ä¸åŒ æ’é˜Ÿæ—¶å»¶ $a$:åˆ†ç»„çš„åˆ°è¾¾é˜Ÿåˆ—çš„å¹³å‡é€Ÿç‡(pkt/s) æµé‡å¼ºåº¦=$La/R$ $La/R&gt;1$ï¼šåˆ°è¾¾å¾—æ¯”ä¼ è¾“å¾—å¿«ï¼Œé˜Ÿåˆ—æ— é™å¢åŠ ï¼Œæ’é˜Ÿæ—¶å»¶è¶‹å‘æ— ç©·å¤§ æµé‡å¼ºåº¦è¶Šå¤§ï¼Œä¸¢åŒ…çš„æ¯”ä¾‹è¶Šå¤§ å‡è®¾æ²¡æœ‰æ’é˜Ÿæ—¶å»¶çš„ç«¯åˆ°ç«¯æ—¶å»¶ï¼š$d{end-to-end}=N(d{proc}+d{trans}+d{prop})$ ååé‡ ç“¶é¢ˆé“¾è·¯ ååé‡å–å†³äºæ•°æ®æµè¿‡çš„é“¾è·¯çš„ä¼ è¾“é€Ÿç‡ ååé‡ï¼šæ¯ç§’èƒ½å¤Ÿä¼ é€çš„æ•°æ®é‡ åè®®åˆ†å±‚æœåŠ¡æ¨¡å‹ï¼šå‘ä¸Šä¸€å±‚æä¾›çš„æœåŠ¡åè®®æ ˆï¼šå„å±‚çš„æ‰€æœ‰åè®®ã€ åº”ç”¨å±‚ ç½‘ç»œåº”ç”¨ç¨‹åºåŠå®ƒä»¬çš„åº”ç”¨å±‚åè®®å­˜ç•™çš„åœ°æ–¹ ä¸€ä¸ªç«¯ç³»ç»Ÿçš„åº”ç”¨ç¨‹åºä¸å¦ä¸€ä¸ªç«¯ç³»ç»Ÿä¸­çš„åº”ç”¨ç¨‹åºäº¤æ¢ä¿¡æ¯åˆ†ç»„ HTTP,SMTP,FTP,DNS æŠ¥æ–‡(message) è¿è¾“å±‚ åœ¨åº”ç”¨ç¨‹åºç«¯ç‚¹ä¹‹é—´ä¼ é€åº”ç”¨å±‚æŠ¥æ–‡ TCP, UDP æŠ¥æ–‡æ®µ(segment) ç½‘ç»œå±‚ å°†æ•°æ®æŠ¥ä»ä¸€å°ä¸»æœºç§»åŠ¨åˆ°å¦ä¸€å°ä¸»æœº æ•°æ®æŠ¥(datagram) ç½‘é™…åè®®IP é“¾è·¯å±‚ å°†åˆ†ç»„ä»ä¸€ä¸ªèŠ‚ç‚¹(ä¸»æœºæˆ–è·¯ç”±å™¨)ç§»åŠ¨åˆ°è·¯å¾„ä¸Šçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ ä»¥å¤ªç½‘ã€WiFiã€ç”µç¼†æ¥å…¥ç½‘DOCSISã€PPP å¸§(frame) ç‰©ç†å±‚ å°†å¸§ä¸­çš„ä¸€ä¸ªä¸ªæ¯”ç‰¹ä»ä¸€ä¸ªèŠ‚ç‚¹ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ åè®®æ˜¯é“¾è·¯ç›¸å…³çš„ï¼Œå¹¶è¿›ä¸€æ­¥ä¸å®é™…ä¼ è¾“åª’ä½“ç›¸å…³ OSIæ¨¡å‹è¿è¾“å±‚å’Œåº”ç”¨å±‚ä¹‹é—´å¤šäº†è¡¨ç¤ºå±‚å’Œä¼šè¯å±‚ è¡¨ç¤ºå±‚ï¼šä½¿é€šä¿¡çš„åº”ç”¨ç¨‹åºèƒ½å¤Ÿè§£é‡Šäº¤æ¢æ•°æ®çš„å«ä¹‰ æ•°æ®å‹ç¼©ã€æ•°æ®åŠ å¯†ã€æ•°æ®æè¿° ä¼šè¯å±‚ï¼šæ•°æ®äº¤æ¢çš„å®šç•Œå’ŒåŒæ­¥åŠŸèƒ½ å»ºç«‹æ£€æŸ¥ç‚¹å’Œæ¢å¤æ–¹æ¡ˆ å°è£… é“¾è·¯äº¤æ¢æœºåªå®ç°é“¾è·¯å±‚å’Œç‰©ç†å±‚ è·¯ç”±å™¨åªå®ç°ç½‘ç»œå±‚ã€é“¾è·¯å±‚å’Œç‰©ç†å±‚ è·¯ç”±å™¨èƒ½å®ç°IPåè®®ï¼Œé“¾è·¯äº¤æ¢æœºä¸è¡Œ åˆ†ç»„=é¦–éƒ¨å­—æ®µ+æœ‰æ•ˆè½½è·å­— ç½‘ç»œæ”»å‡» æ¶æ„è½¯ä»¶ï¼šè¿›å…¥è®¾å¤‡å¹²åäº‹ åƒµå°¸ç½‘ç»œï¼šå—å®³è®¾å¤‡ç½‘ç»œ ç—…æ¯’ï¼šéœ€è¦æŸç§å½¢å¼çš„ç”¨æˆ·äº¤äº’æ¥æ„ŸæŸ“ç”¨æˆ·è®¾å¤‡çš„æ¶æ„è½¯ä»¶ è •è™«ï¼šæ— é¡»ä»»ä½•æ˜æ˜¾ç”¨æˆ·äº¤äº’å°±èƒ½è¿›å…¥è®¾å¤‡çš„æ¶æ„è½¯ä»¶ DoSï¼šæ‹’ç»æœåŠ¡æ”»å‡» å¼±ç‚¹æ”»å‡»ã€å¸¦å®½æ´ªæ³›ã€è¿æ¥æ´ªæ³› åˆ†å¸ƒå¼Dos:DDoS å—…æ¢åˆ†ç»„ï¼šåˆ†ç»„å—…æ¢å™¨ï¼ˆè¢«åŠ¨æ¥æ”¶æœº IPå“„éª—ï¼šå°†å…·æœ‰è™šå‡æºåœ°å€çš„åˆ†ç»„æ³¨å…¥å› ç‰¹ç½‘ Ch6 é“¾è·¯å±‚å’Œå±€åŸŸç½‘èŠ‚ç‚¹ï¼šè¿è¡Œé“¾è·¯å±‚åè®®çš„ä»»ä½•è®¾å¤‡é“¾è·¯ï¼šæ²¿ç€ç›¸é‚»ç»“ç‚¹çš„é€šä¿¡ä¿¡é“ æœåŠ¡ æˆå¸§ï¼šæŠŠç½‘ç»œå±‚æ•°æ®æŠ¥å°è£…æˆé“¾è·¯å±‚å¸§ é“¾è·¯æ¥å…¥ï¼šåª’ä½“è®¿é—®æ§åˆ¶(MAC)åè®® å¯é äº¤ä»˜ï¼šç¡®è®¤å’Œé‡ä¼  å·®é”™æ£€æµ‹å’Œçº æ­£ å®ç°ï¼šç½‘ç»œé€‚é…å™¨ï¼ˆç½‘ç»œæ¥å£å¡ï¼‰ï¼Œç¡¬ä»¶å®ç° å·®é”™æ£€æµ‹å’Œçº æ­£æŠ€æœ¯EDCï¼šå·®é”™æ£€æµ‹å’Œçº æ­£æ¯”ç‰¹ å¥‡å¶æ ¡éªŒ äºŒä½å¥‡å¶æ ¡éªŒï¼šå¯ä»¥çº æ­£å•æ¯”ç‰¹é”™ï¼Œå¯æ£€æµ‹ä½†ä¸èƒ½çº æ­£ä¸¤ä¸ªæ¯”ç‰¹é”™ å‰å‘çº é”™FEC:æ¥æ”¶æ–¹æ£€æµ‹å’Œçº æ­£å·®é”™çš„èƒ½åŠ› Internet checksum å°†æ•°æ®çš„å­—èŠ‚ä½œä¸º16æ¯”ç‰¹çš„æ•´æ•°å¯¹å¾…å¹¶æ±‚å’Œ:è¿›ä½åŠ æ³•ï¼Œæœ€é«˜ä½è¿›ä½éœ€è¦åŠ åˆ°æœ«å°¾ ç›¸å¯¹å¼±çš„å·®é”™ä¿æŠ¤ å¾ªç¯å†—ä½™æ£€æµ‹CRC åˆç§°å¤šé¡¹å¼ç¼–ç ï¼šå°†å‘é€çš„æ¯”ç‰¹ä¸²çœ‹æˆå¤šé¡¹å¼ç³»æ•° $D\\cdot 2^r \\text{ XOR } R = nG$$D\\cdot 2^r=nG \\text{ XOR } R$$R=\\text{remainder}\\frac{D\\cdot 2^r}{G}$ è½¬è‡ªé˜¿å§¨åšå®¢çš„è¡¨ç¤ºæ–¹æ³•ï¼š \\frac{X^{n-k}D(X)}{P(X)}=Q(X)+\\frac{R(X)}{P(X)}T(X)=X^{n-k}D(X)+R(X)å…¶ä¸­ï¼Œ$X$æ˜¯äºŒè¿›åˆ¶ä¸²å¯¹åº”çš„å¤šé¡¹å¼ï¼Œå¦‚$P=11001, P(X)=X^4+X^3+1$æ¥æ”¶æ–¹ç”¨$T/P$ï¼Œå¦‚æœä¸èƒ½æ•´é™¤ï¼Œè¯´æ˜å­˜åœ¨å·®é”™ã€‚ $P\\to G$ ä½æ•°ï¼š$P/G: n-k+1, D:k, T:n-k$ å¯ä»¥æ£€æµ‹å°äº$r+1$æ¯”ç‰¹çš„é”™($r=|R|$) å¤šè·¯è®¿é—®é“¾è·¯å’Œåè®® ç‚¹å¯¹ç‚¹é“¾è·¯ å¹¿æ’­é“¾è·¯ ç¢°æ’ï¼šå¤šä¸ªèŠ‚ç‚¹åŒæ—¶ä¼ è¾“å¸§å¯¼è‡´æ‰€æœ‰èŠ‚ç‚¹åŒæ—¶æ¥åˆ°å¤šä¸ªå¸§ å¤šè·¯è®¿é—®åè®®çš„ç‰¹æ€§(p294) å½“ä»…æœ‰ä¸€ä¸ªèŠ‚ç‚¹å‘é€æ•°æ®æ—¶ï¼Œè¯¥èŠ‚ç‚¹å…·æœ‰$R$ bpsçš„ååé‡ å½“æœ‰$M$ä¸ªèŠ‚ç‚¹å‘é€æ•°æ®æ—¶ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„ååé‡ä¸º$R/M$ bps åè®®æ˜¯åˆ†æ•£çš„ï¼šä¸ä¼šå› ä¸ºæŸä¸»èŠ‚ç‚¹æ•…éšœè€Œä½¿æ•´ä¸ªç³»ç»Ÿå´©æºƒ åè®®æ˜¯ç®€å•çš„ï¼Œä½¿å®ç°ä¸æ˜‚è´µ ä¿¡é“åˆ’åˆ†åè®® TDMï¼šå°†æ—¶é—´åˆ’åˆ†ä¸ºæ—¶é—´å¸§ï¼Œå¹¶è¿›ä¸€æ­¥åˆ’åˆ†æ¯ä¸ªæ—¶é—´å¸§å–‚$N$ä¸ªæ—¶éš™(slot) FDMï¼šå°†$R$ bpsä¿¡å·åˆ’åˆ†ä¸ºä¸åŒçš„é¢‘æ®µï¼Œå¹¶æŠŠæ¯ä¸ªé¢‘ç‡åˆ†ç»™$N$ä¸ªèŠ‚ç‚¹ä¸­çš„ä¸€ä¸ª CDMA(ç åˆ†å¤šå€)ï¼šå¯¹æ¯ä¸ªèŠ‚ç‚¹åˆ†é…ä¸€ç§ä¸åŒçš„ç¼–ç ï¼Œä¸åŒçš„èŠ‚ç‚¹èƒ½å¤ŸåŒæ—¶ä¼ è¾“ï¼Œå¹¶ä¸”å„è‡ªæ¥æ”¶æ–¹èƒ½æ­£ç¡®æ¥æ”¶ éšæœºæ¥å…¥åè®® ä¼ è¾“èŠ‚ç‚¹æ€»æ˜¯ä»¥ä¿¡é“çš„å…¨éƒ¨é€Ÿç‡è¿›è¡Œå‘é€ å½“æœ‰ç¢°æ’æ—¶ï¼Œæ¶‰åŠç¢°æ’çš„æ¯ä¸ªèŠ‚ç‚¹åå¤åœ°é‡å‘å®ƒçš„å¸§ é‡å‘ä¹‹å‰ç­‰å¾…ä¸€ä¸ªéšæœºæ—¶å»¶ æ—¶éš™ALOHA æ‰€æœ‰èŠ‚ç‚¹è¦åŒæ­¥ä¼ è¾“ å¦‚æœæœ‰ç¢°æ’ï¼Œè¯¥èŠ‚ç‚¹ä»¥æ¦‚ç‡$p$åœ¨åç»­çš„æ¯ä¸ªæ—¶éš™ä¸­é‡ä¼ å®ƒçš„å¸§ï¼Œç›´åˆ°æ— ç¢°æ’åœ°ä¼ å‡ºå» æ—¶éš™å¤šè·¯è®¿é—®åè®®çš„æ•ˆç‡ï¼šå½“æœ‰å¤§é‡çš„æ´»è·ƒèŠ‚ç‚¹ä¸”æ¯ä¸ªèŠ‚ç‚¹æ€»æœ‰å¤§é‡çš„å¸§è¦å‘é€æ—¶ï¼Œé•¿æœŸè¿è¡Œä¸­æˆåŠŸæ—¶éš™çš„ä»½é¢ æ•ˆç‡ï¼š$Np(1-p)^{N-1}$, æœ€å¤§$1/e$ ALOHA ä¸€ä¸ªç»™å®šèŠ‚ç‚¹æˆåŠŸä¼ è¾“ä¸€æ¬¡çš„æ¦‚ç‡æ˜¯$p(1-p)^{2(N-1)}$ åœ¨$[t_0-1,t_0]$å’Œ$[t_0, t_0+1]$æ—¶é—´æ®µå†…éƒ½ä¸å¯ä»¥æœ‰åˆ«çš„èŠ‚ç‚¹ä¼ è¾“ æœ€å¤§æ•ˆç‡$1/2e$ CSMA(è½½æ³¢ä¾¦å¬å¤šè·¯è®¿é—®) è½½æ³¢ä¾¦å¬ï¼šè¯´è¯ä¹‹å‰å…ˆå¬ï¼Œå¦‚æœå…¶ä»–äººæ­£åœ¨è¯´è¯ï¼Œç­‰åˆ°ä»–ä»¬è¯´å®Œä¸ºæ­¢ ç¢°æ’æ£€æµ‹ï¼šå¦‚æœä¸ä»–äººåŒæ—¶å¼€å§‹è¯´è¯ï¼Œåœæ­¢è¯´è¯ å¹¿æ’­ä¿¡é“çš„ç«¯åˆ°ç«¯ä¿¡é“ä¼ æ’­æ—¶å»¶åœ¨å†³å®šæ€§èƒ½æ–¹é¢èµ·åˆ°å…³é”®ä½œç”¨ è¶Šå¤§ï¼ŒXSMAèŠ‚ç‚¹ä¸èƒ½ä¾¦å¬åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹å·²ç»å¼€å§‹ä¼ è¾“çš„æœºä¼šè¶Šå¤§ CSMA/CD(å…·æœ‰ç¢°æ’æ£€æµ‹çš„è½½æ³¢ä¾¦å¬å¤šè·¯è®¿é—®) å¦‚æœé€‚é…å™¨åœ¨ä¼ è¾“æ—¶æ£€æµ‹åˆ°æ¥è‡ªå…¶ä»–é€‚é…å™¨çš„ä¿¡å·èƒ½é‡ï¼Œå°±ä¸­æ­¢ä¼ è¾“ï¼Œå¹¶éšæœºç­‰å¾…ä¸€ä¸ªéšæœºæ—¶é—´é‡å†æ¬¡ä¼ è¾“ æœŸæœ›ï¼šç¢°æ’èŠ‚ç‚¹æ•°è¾ƒå°‘æ—¶ï¼Œæ—¶é—´é—´éš”è¾ƒçŸ­ï¼›åä¹‹äº¦ç„¶ äºŒè¿›åˆ¶æŒ‡æ•°åé€€ç®—æ³•ï¼šç»å†äº†ä¸€è¿ä¸²çš„$n$æ¬¡ç¢°æ’åï¼ŒèŠ‚ç‚¹éšæœºåœ°ä»${0,1,2,\\cdots,2^n-1}$ä¸­é€‰æ‹©ä¸€ä¸ª$K$å€¼ï¼Œ$n$æœ€å¤§ä¸º10 ä¸è€ƒè™‘è¿‘æœŸè¿‡å»æ—¶é—´å†…å¯èƒ½å·²ç»å‘ç”Ÿçš„ä»»ä½•ç¢°æ’ æ•ˆç‡$= n\\frac{1}{1+5d{prop}/d{trans}}$ è½®æµåè®®è½®è¯¢åè®® ä¸»èŠ‚ç‚¹è½®è¯¢å‘Šè¯‰æ¯ä¸ªèŠ‚ç‚¹èƒ½å¤Ÿä¼ è¾“çš„å¸§çš„æœ€å¤šæ•°é‡ ç¼ºç‚¹ï¼šå¼•å…¥äº†è½®è¯¢æ—¶å»¶ã€ä¸»èŠ‚ç‚¹åäº†å°±å…¨åäº† ä»¤ç‰Œä¼ é€’åè®® ä¸€ä¸ªç§°ä¸ºä»¤ç‰Œ(token)çš„å°çš„ç‰¹æ®Šå¸§åœ¨èŠ‚ç‚¹ä¹‹é—´ä»¥æŸç§å›ºå®šçš„æ¬¡åºè¿›è¡Œäº¤æ¢ ä¸€ä¸ªèŠ‚ç‚¹æ”¶åˆ°ä»¤ç‰Œæ—¶ï¼Œä»…å½“å®ƒæœ‰ä¸€äº›å¸§è¦ä¼ è¾“ï¼Œå®ƒæ‰æŒæœ‰è¿™ä¸ªä»¤ç‰Œï¼Œå¦åˆ™ç«‹å³å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹è½¬å‘è¯¥ä»¤ç‰Œ æœ‰å¸§è¦ä¼ è¾“æ—¶ï¼Œå‘é€æœ€å¤§æ•°ç›®çš„å¸§æ•°ï¼Œç„¶åæŠŠä»¤ç‰Œè½¬å‘ç»™ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ ç¼ºç‚¹ï¼šä¸€ä¸ªèŠ‚ç‚¹åäº†å°±å…¨åäº†ï¼Œä¸€ä¸ªèŠ‚ç‚¹å¿˜äº†é‡Šæ”¾ä»¤ç‰Œ äº¤æ¢å±€åŸŸç½‘MACåœ°å€ é“¾è·¯å±‚åœ°å€ 6ä¸ªå­—èŠ‚ï¼Œ$2^48$ä¸ªå¯èƒ½ï¼Œæ¯ä¸ªå­—èŠ‚è¡¨ç¤ºä¸ºä¸€å †åå…­è¿›åˆ¶æ•° æ²¡æœ‰ä¸¤å—é€‚é…å™¨å…·æœ‰ç›¸åŒçš„åœ°å€â€”IEEEç®¡ç† åœ°å€è§£æåè®®ARP ARPè¡¨ï¼šåŒ…å«IPåœ°å€åˆ°MACåœ°å€çš„æ˜ å°„å…³ç³» TTLå¯¿å‘½å€¼ï¼šè¡¨ç¤ºä»è¡¨ä¸­åˆ é™¤æ¯ä¸ªæ˜ å°„çš„æ—¶é—´ ARPåˆ†ç»„ï¼šåŒ…å«å‘é€å’Œæ¥å—IPåœ°å€åŠMACåœ°å€ æŸ¥è¯¢åˆ†ç»„ï¼šè¯¢é—®å­ç½‘ä¸Šæ‰€æœ‰å…¶ä»–ä¸»æœºå’Œè·¯ç”±å™¨ï¼Œä»¥ç¡®å®šå¯¹åº”äºè¦è§£æçš„IPåœ°å€çš„é‚£ä¸ªMACåœ°å€ å“åº”åˆ†ç»„ æŸ¥è¯¢åˆ†ç»„å’Œå“åº”åˆ†ç»„æ ¼å¼ç›¸åŒ æŸ¥è¯¢ ARPåœ¨å¹¿æ’­å¸§ä¸­å‘é€ï¼Œå“åº”ARPåœ¨æ ‡å‡†å¸§ä¸­å‘é€ ARPå³æ’å³ç”¨ï¼Œä¸éœ€è¦æ‰‹åŠ¨é…ç½® è¿‡ç¨‹ å‘é€æ–¹å‘å…¶é€‚é…å™¨å‘é€ä¸€ä¸ªARPæŸ¥è¯¢åˆ†ç»„ é€‚é…å™¨åœ¨é“¾è·¯å±‚å¸§ä¸­å°è£…è¿™ä¸ªARPåˆ†ç»„ï¼Œå¹¶è®²è¯¥å¸§ä¼ è¾“è¿›å­ç½‘ä¸­ ï¼ˆå¹¿æ’­åœ°å€ï¼‰æ¯ä¸ªé€‚é…å™¨æŠŠåœ¨è¯¥å¸§ä¸­çš„ARPåˆ†ç»„å‘ä¸Šä¼ é€’ç»™ARPæ¨¡å—ï¼Œæ¯ä¸ªARPæ¨¡å—æ£€æŸ¥å®ƒçš„IPåœ°å€æ˜¯å¦ä¸ARPåˆ†ç»„ä¸­çš„ç›®çš„IPåœ°å€ç›¸åŒ¹é…ï¼Œä¸ä¹‹ç›¸åŒ¹é…çš„ä¸€ä¸ªç»™æŸ¥è¯¢ä¸»æœºå‘é€å›ä¸€ä¸ªå¸¦æœ‰æ‰€å¸Œæœ›æ˜ å°„çš„å“åº”ARPåˆ†ç»„ æŸ¥è¯¢ä¸»æœºæ›´æ–°ARPè¡¨ï¼Œå¹¶å‘é€IPæ•°æ®æŠ¥ ä»¥å¤ªç½‘ é›†çº¿å™¨(hub)ï¼šç‰©ç†å±‚è®¾å¤‡ï¼Œä½œç”¨äºæ¯”ç‰¹ï¼Œæ”¾å¤§æ”¶åˆ°çš„æ¯”ç‰¹çš„èƒ½é‡å¼ºåº¦å¹¶å‘å…¶ä»–æ‰€æœ‰å€Ÿå£ä¼ è¾“å‡ºå» å¹¿æ’­å±€åŸŸç½‘ï¼šæ— è®ºä½•æ—¶é›†çº¿å™¨ä»å®ƒçš„ä¸€ä¸ªæ¥å£æ¥æ”¶åˆ°ä¸€ä¸ªæ¯”ç‰¹ï¼Œå®ƒå‘æ‰€æœ‰å…¶ä»–æ¥å£å‘é€è¯¥æ¯”ç‰¹çš„å‰¯æœ¬ ç¢°æ’ï¼šæŸé›†çº¿å™¨åŒæ—¶ä»ä¸¤ä¸ªä¸åŒçš„æ¥å£æ¥æ”¶åˆ°å¸§ï¼Œå°†å‡ºç°ä¸€æ¬¡ç¢°æ’ï¼Œç”Ÿæˆè¯¥å¸§çš„èŠ‚ç‚¹å¿…é¡»é‡æ–°ä¼ è¾“è¯¥å¸§ äº¤æ¢æœº(switch)ä»£æ›¿hub å¸§ç»“æ„1å‰åŒæ­¥ç |ç›®çš„åœ°å€|æºåœ°å€|ç±»å‹|æ•°æ®|CRC æ•°æ®å­—æ®µï¼šæ‰¿è½½IPæ•°æ®æŠ¥ï¼Œæœ€å°é•¿åº¦46å­—èŠ‚ï¼Œæœ€å¤§é•¿åº¦1500å­—èŠ‚ ç›®çš„åœ°å€ï¼šç›®çš„é€‚é…å™¨çš„MACåœ°å€ã€‚æ˜¯è‡ªå·±çš„åœ°å€/å¹¿æ’­åœ°å€å°±ä¸¢ç»™ç½‘ç»œå±‚ï¼Œå¦åˆ™ç›´æ¥ä¸¢å¼ƒ æºåœ°å€ï¼šé¡¾åæ€ä¹‰ ç±»å‹å­—æ®µï¼šå…è®¸ä»¥å¤ªç½‘å¤ç”¨å¤šç§ç½‘ç»œå±‚åè®® CRC å‰åŒæ­¥ç  å‰7å­—èŠ‚éƒ½æ˜¯10101010ï¼Œæœ€åä¸€ä¸ªå­—èŠ‚ä¸º10101011 å‘é€æ–¹çš„é¢å®šé€Ÿç‡ä¼šäº§ç”Ÿæ¼‚ç§»ï¼Œæ‰€ä»¥å‰7å­—èŠ‚ç”¨æ¥åŒæ­¥æ¥æ”¶æ–¹çš„æ—¶é’Ÿ æœ€åä¸¤ä¸ªå­—èŠ‚ç”¨äºè­¦å‘Šæ¥æ”¶æ–¹é‡è¦çš„ä¸œè¥¿è¦ æ¥ äº† ä»¥å¤ªç½‘æŠ€æœ¯å‘ç½‘ç»œå±‚æä¾›çš„æœåŠ¡ï¼š æ— è¿æ¥ï¼šæ²¡æœ‰äº‹å…ˆæ¡æ‰‹ ä¸å¯é ï¼šæ¥æ”¶æ–¹ä¸å‘é€ç¡®è®¤å¸§å’Œå¦å®šç¡®è®¤å¸§ï¼Œåªä¸¢å¼ƒæ²¡é€šè¿‡æ ¡éªŒçš„å¸§ é“¾è·¯å±‚äº¤æ¢æœºäº¤æ¢æœºçš„ä»»åŠ¡ï¼šæ¥æ”¶å…¥é“¾è·¯å±‚å¸§å¹¶å°†å®ƒä»¬è½¬å‘åˆ°å‡ºé“¾è·¯äº¤æ¢æœºå¯¹äºå­ç½‘ä¸­çš„ä¸»æœºå’Œè·¯ç”±å™¨æ˜¯é€æ˜çš„äº¤æ¢æœºè¾“å‡ºæ¥å£è®¾æœ‰ç¼“å­˜ äº¤æ¢æœºè¡¨è½¬å‘å’Œè¿‡æ»¤å€ŸåŠ©äºäº¤æ¢æœºè¡¨å®ç°è¿‡æ»¤ï¼šå†³å®šä¸€ä¸ªå¸§åº”è¯¥è½¬å‘åˆ°æŸä¸ªæ¥å£è¿˜æ˜¯åº”å½“å°†å…¶ä¸¢å¼ƒçš„äº¤æ¢æœºåŠŸèƒ½è½¬å‘ï¼šå†³å®šä¸€ä¸ªå¸§åº”è¯¥è¢«å¯¼å‘å“ªä¸ªæ¥å£ï¼Œå¹¶æŠŠè¯¥å¸§ç§»åŠ¨åˆ°å“ªäº›æ¥å£ ä¸€ä¸ªè¡¨é¡¹åŒ…æ‹¬ï¼š ä¸€ä¸ªMACåœ°å€ é€šå‘è¯¥MACåœ°å€çš„äº¤æ¢æœºæ¥å£ è¡¨é¡¹æ”¾ç½®åœ¨è¡¨ä¸­çš„æ—¶é—´ å·¥ä½œè¿‡ç¨‹ å¯¹äºæ²¡æœ‰ç›®çš„åœ°å€çš„è¡¨é¡¹ï¼Œäº¤æ¢æœºå¹¿æ’­è¯¥å¸§ å­˜åœ¨åˆ°è¾¾æ¥å£ä¸ç›®æ ‡åœ°å€ç›¸è”ç³»çš„è¡¨é¡¹ï¼Œä¸¢å¼ƒè¯¥å¸§ï¼ˆè¿‡æ»¤ï¼‰ å­˜åœ¨éåˆ°è¾¾æ¥å£ä¸ç›®æ ‡åœ°å€ç›¸è”ç³»çš„è¡¨é¡¹ï¼Œäº¤æ¢æœºå°†å¸§æ”¾åˆ°ç›®æ ‡æ¥å£çš„è¾“å‡ºç¼“å­˜å®Œæˆè½¬å‘åŠŸèƒ½ è‡ªå­¦ä¹  äº¤æ¢æœºè¡¨åˆå§‹ä¸ºç©º å¯¹äºæ¯ä¸ªæ¥å£æ¥æ”¶åˆ°çš„æ¯ä¸ªå…¥å¸§ï¼Œè¯¥äº¤æ¢æœºåœ¨å…¶è¡¨ä¸­å­˜å‚¨ åœ¨ä¸€æ®µæ—¶é—´(è€åŒ–æ—¶é—´)åäº¤æ¢æœºæ²¡æœ‰æ¥å—åˆ°ä»¥è¯¥åœ°å€ä½œä¸ºæºåœ°å€çš„å¸§ï¼Œå°±åœ¨è¡¨ä¸­åˆ é™¤è¿™ä¸ªå¸§ ä¼˜ç‚¹ å³æ’å³ç”¨ æ¶ˆé™¤ç¢°æ’ ç»ä¸ä¼šåœ¨ç½‘æ®µä¸ŠåŒæ—¶ä¼ è¾“å¤šäºä¸€ä¸ªå¸§ æœ€å¤§èšåˆå¸¦å®½ï¼šè¯¥äº¤æ¢æœºæ‰€æœ‰æ¥å£é€Ÿç‡ä¹‹å’Œï¼ˆäº¤æ¢æœºé—´çš„æ¥å£ä¸ç®— å¼‚è´¨é“¾è·¯ èƒ½å¤Ÿä»¥ä¸åŒé€Ÿç‡è¿è¡Œå¹¶ä¸”èƒ½å¤Ÿåœ¨ä¸åŒçš„ä»‹è´¨ä¸Šè¿è¡Œ ä¾¿äºç®¡ç† ç¼ºç‚¹ æ´»è·ƒæ‹“æ‰‘é™åˆ¶ä¸ºä¸€æ£µç”Ÿæˆæ ‘ å¯¹äºå¹¿æ’­é£æš´ä¸æä¾›ä¿æŠ¤æªæ–½ ç‰¹æ€§ é›†çº¿å™¨ è·¯ç”±å™¨ äº¤æ¢æœº æµé‡éš”ç¦» Ã— âˆš âˆš å³æ’å³ç”¨ âˆš Ã— âˆš ä¼˜åŒ–è·¯ç”± Ã— âˆš Ã— è™šæ‹Ÿå±€åŸŸç½‘CH7 æ— çº¿ç½‘ç»œå’Œç§»åŠ¨ç½‘ç»œæ— çº¿$\\neq$ç§»åŠ¨ æ— çº¿ä¸»æœºï¼šåˆ°å¤„éƒ½æ˜¯ æ— çº¿é“¾è·¯ï¼šä¸»æœºé€šè¿‡æ— çº¿é€šä¿¡é“¾è·¯è¿æ¥åˆ°ä¸€ä¸ªåŸºç«™æˆ–è€…å¦ä¸€å°æ— çº¿ä¸»æœºï¼› è¦†ç›–åŒºåŸŸå’Œé“¾è·¯é€Ÿç‡ åŸºç«™ï¼šè´Ÿè´£å‘ä¸ä¹‹å…³è”çš„æ— çº¿ä¸»æœºå‘é€æ•°æ®å’Œä»ä¸»æœºé‚£é‡Œæ¥æ”¶æ•°æ®ï¼Œåè°ƒä¸ä¹‹ç›¸å…³è”çš„å¤šä¸ªæ— çº¿ä¸»æœºçš„ä¼ è¾“ï¼›e.g.èœ‚çªç½‘ç»œä¸­çš„èœ‚çªå¡”ã€æ— é™LANä¸­çš„æ¥å…¥ç‚¹AP åŸºç¡€è®¾æ–½æ¨¡å¼ æ— çº¿é“¾è·¯å’Œç½‘ç»œç‰¹å¾æœ‰çº¿å’Œæ— çº¿ç½‘ç»œçš„ä¸»è¦åŒºåˆ«åœ¨é“¾è·¯å±‚ï¼Œç½‘ç»œå±‚åŠä»¥ä¸Šéƒ½æ˜¯ç›¸åŒçš„ é€’å‡çš„ä¿¡å·å¼ºåº¦ï¼šè·ç¦»$\\uparrow$,ä¿¡å·å¼ºåº¦$\\downarrow$ æ¥è‡ªå…¶ä»–æºçš„å¹²æ‰° å¤šå¾„ä¼ æ’­ï¼šä½¿å¾—æ¥æ”¶æ–¹æ”¶åˆ°çš„ä¿¡å·å˜å¾—æ¨¡ç³Š ä¿¡å™ªæ¯”(SNR) å•ä½åˆ†è´(dB) æ”¶åˆ°çš„ä¿¡å·çš„æŒ¯å¹…ä¸å™ªå£°çš„æŒ¯å¹…çš„ä»¥10ä¸ºæ•Œçš„å¯¹æ•°çš„æ¯”å€¼ è¾ƒå¤§çš„SNRæ˜¯æ¥æ”¶æ–¹æ›´å®¹æ˜“ä»èƒŒæ™¯å™ªå£°ä¸­æå–ä¼ è¾“çš„ä¿¡å· å¯¹äºç»™å®šçš„è°ƒåˆ¶æ–¹æ¡ˆï¼ŒSNRè¶Šé«˜ï¼ŒBER(æ¯”ç‰¹å·®é”™)è¶Šä½ CDMA ç åˆ†å¤šå€ä¿¡é“åˆ’åˆ†åè®® è¦å‘é€çš„æ¯ä¸ªæ¯”ç‰¹éƒ½é€šè¿‡ä¹˜ä»¥ä¸€ä¸ªä¿¡å·(ç¼–ç )çš„æ¯”ç‰¹æ¥è¿›è¡Œç¼–ç ï¼Œè¿™ä¸ªä¿¡å·çš„å˜åŒ–é€Ÿç‡(ç ç‰‡é€Ÿç‡)æ¯”åˆå§‹æ•°æ®æ¯”ç‰¹åºåˆ—çš„å˜åŒ–é€Ÿç‡å¿«å¾ˆå¤š CDMAå·¥ä½œå‡è®¾ï¼šå¹²æ‰°çš„ä¼ è¾“æ¯”ç‰¹ä¿¡å·æ˜¯åŠ æ€§çš„ åˆ’åˆ†ç¼–ç ç©ºé—´ WiFi: 802.11æ— çº¿LANåŸºæœ¬æœåŠ¡é›†(BSS): 802.11ä½“ç³»ç»“æ„çš„åŸºæœ¬æ„å»ºæ¨¡å—ï¼ŒåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæ— çº¿ç«™ç‚¹å’Œä¸€ä¸ªç§°ä¸ºAPçš„ä¸­å¤®åŸºç«™æ¯ä¸ªæ— çº¿ç«™ç‚¹å…·æœ‰ä¸€ä¸ª6å­—èŠ‚çš„MACåœ°å€ ä¿¡é“ä¸å…³è”ç½‘ç»œç®¡ç†å‘˜å®‰è£…APæ—¶ ä¸ºAPåˆ†é…ä¸€ä¸ªå•å­—æˆ–åŒå­—çš„æœåŠ¡åŠæ ‡è¯†ç¬¦(SSID) åˆ†é…ä¸€ä¸ªä¿¡é“å· WiFiä¸›æ—ï¼šä»»æ„ä¸€ä¸ªç‰©ç†ä½ç½®ï¼Œåœ¨è¿™é‡Œæ— çº¿ç«™ç‚¹èƒ½ä»ä¸¤ä¸ªæˆ–å¤šä¸ªAPä¸­æ”¶åˆ°å¾ˆå¼ºçš„ä¿¡å·å…³è”ï¼šæ— çº¿ç«™ç‚¹åœ¨è‡ªèº«å’ŒAOä¹‹é—´åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿçº¿è·¯ è¢«åŠ¨æ‰«æ æ¯ä¸ªAPå‘¨æœŸæ€§åœ°å‘é€ä¿¡æ ‡å¸§ æ¯ä¸ªä¿¡æ ‡å¸§åŒ…æ‹¬è¯¥APçš„SSIDå’ŒMACåœ°å€ æ— çº¿ç«™ç‚¹æ‰«æ11ä¸ªä¿¡é“ï¼Œæ‰¾å‡ºå¯èƒ½ä½äºè¯¥åŒºåŸŸçš„APæ‰€å‘å‡ºçš„ä¿¡æ ‡å¸§ ä¸»åŠ¨æ‰«æ æ— çº¿ä¸»æœºå‘ä½äºå…¶èŒƒå›´å†…çš„æ‰€æœ‰APå¹¿æ’­æ¢æµ‹å¸§ é€‰å®šä¸ä¹‹å…³è”çš„APåï¼Œæ— çº¿ä¸»æœºå‘APå‘é€ä¸€ä¸ªå…³è”è¯·æ±‚å¸§ï¼Œå¹¶ä¸”è¯¥APä»¥ä¸€ä¸ªå…³è”å“åº”å¸§è¿›è¡Œå“åº” éœ€è¦äºŒæ¬¡è¯·æ±‚/å“åº”æ¡æ‰‹ ä¸»æœºé€šå¸¸å°†é€šè¿‡å…³è”çš„APå‘è¯¥å­ç½‘å‘é€ä¸€ä¸ªDHCPå‘ç°æŠ¥æ–‡ï¼Œä»¥è·å–åœ¨è¯¥å­ç½‘ä¸­çš„ä¸€ä¸ªIPåœ°å€ ç”¨æˆ·åå’Œå£ä»¤ APä¸ä¸€ä¸ªé‰´åˆ«æœåŠ¡å™¨è¿›è¡Œé€šä¿¡ ä¸€ä¸ªé‰´åˆ«æœåŠ¡å™¨å¯ä»¥æœåŠ¡äºå¤šä¸ªAP CH4 ç½‘ç»œå±‚ï¼šæ•°æ®å¹³é¢æ¦‚è¿°æ•°æ®å¹³é¢ï¼šä»è¾“å…¥é“¾è·¯å‘è¾“å‡ºé“¾è·¯è½¬å‘æ•°æ®æŠ¥æ§åˆ¶å¹³é¢ï¼šåè°ƒæœ¬åœ°çš„æ¯ä¸ªè·¯ç”±å™¨çš„è½¬å‘åŠ¨ä½œï¼Œä½¿å¾—æ•°æ®æŠ¥æ²¿ç€æºå’Œç›®çš„åœ°ä¸»æœºä¹‹é—´çš„è·¯ç”±å™¨è·¯å¾„æœ€ç»ˆè¿›è¡Œç«¯åˆ°ç«¯ä¼ é€ è½¬å‘ è·¯ç”±é€‰æ‹© å°†åˆ†ç»„ä»ä¸€ä¸ªè¾“å…¥é“¾è·¯æ¥å£è½¬ç§»åˆ°é€‚å½“çš„è¾“å‡ºé“¾è·¯æ¥å£çš„è·¯ç”±å™¨æœ¬åœ°åŠ¨ä½œ åˆ†ç»„ä»æºåˆ°ç›®çš„åœ°æ‰€é‡‡å–çš„ç«¯åˆ°ç«¯è·¯å¾„çš„ç½‘ç»œèŒƒå›´ æ—¶é—´å°ºåº¦çŸ­(ns) æ—¶é—´å°ºåº¦é•¿(s) é€šå¸¸ç¡¬ä»¶å®ç° é€šå¸¸è½¯ä»¶å®ç° è·¯ç”±é€‰æ‹©ç®—æ³•å†³å®šæ’å…¥è¯¥è·¯ç”±å™¨è½¬å‘è¡¨çš„å†…å®¹ è½¯ä»¶å®šä¹‰ç½‘ç»œ(SDN): è·¯ç”±é€‰æ‹©è®¾å¤‡ä»…æ‰§è¡Œè½¬å‘ï¼Œè¿œç¨‹æ§åˆ¶å™¨è®¡ç®—å¹¶åˆ†å‘è½¬å‘è¡¨(è½¯ä»¶å®ç°) ç½‘ç»œæœåŠ¡æ¨¡å‹ï¼šå°½åŠ›è€Œä¸ºæœåŠ¡ è·¯ç”±å·¥ä½œåŸç†å‡è®¾ï¼šè½¬å‘å†³å®šä»…åŸºäºåˆ†ç»„çš„ç›®çš„åœ°å€ï¼Œè€ŒéåŸºäºé€šç”¨çš„åˆ†ç»„é¦–éƒ¨å­—æ®µ è·¯ç”±å™¨ç»„æˆéƒ¨åˆ†ï¼šè¾“å…¥ç«¯å£ï¼Œäº¤æ¢ç»“æ„ã€è¾“å‡ºç«¯å£ã€è·¯ç”±é€‰æ‹©å¤„ç†å™¨ è¾“å…¥ç«¯å£å¤„ç†æ•°æ®æŠ¥-&gt;çº¿è·¯ç«¯æ¥-&gt;æ•°æ®é“¾è·¯å¤„ç†(åè®®ã€æ‹†å°)-&gt;æŸ¥æ‰¾ã€è½¬å‘ã€æ’é˜Ÿ-&gt;äº¤æ¢ç»“æ„ ä½¿ç”¨è½¬å‘è¡¨æŸ¥æ‰¾è¾“å‡ºç«¯å£ï¼Œè½¬å‘è¡¨ç”±è·¯ç”±é€‰æ‹©å¤„ç†å™¨è®¡ç®—å’Œæ›´æ–°ï¼Œä»è·¯ç”±é€‰æ‹©å¤„ç†å™¨ç»è¿‡ç‹¬ç«‹æ€»çº¿å¤åˆ¶åˆ°çº¿è·¯å¡ã€‚ä½¿ç”¨æ¯ä¸ªè¾“å…¥ç«¯å£çš„å½±å­å‰¯æœ¬ï¼Œè½¬å‘å†³ç­–èƒ½åœ¨æ¯ä¸ªè¾“å…¥ç«¯å£æœ¬åœ°åšå‡ºï¼Œæ— é¡»åŸºäºæ¯ä¸ªåˆ†ç»„è°ƒç”¨é›†ä¸­å¼è·¯ç”±é€‰æ‹©å¤„ç†å™¨ï¼Œé¿å…é›†ä¸­å¼å¤„ç†çš„ç“¶é¢ˆã€‚ è½¬å‘è¡¨ï¼šå‰ç¼€åŒ¹é…ï¼Œæœ€é•¿å‰ç¼€åŒ¹é…è§„åˆ™ åœ¨æŸäº›è®¾è®¡ä¸­ï¼Œä¸€ä¸ªåˆ†ç»„å¯èƒ½ä¼šåœ¨è¿›å…¥äº¤æ¢ç»“æ„æ—¶è¢«æš‚æ—¶é˜»å¡ æŸ¥æ‰¾å¤–å¿…é¡»é‡‡å–è®¸å¤šå…¶ä»–åŠ¨ä½œ å¿…é¡»å‡ºç°ç‰©ç†å±‚å’Œé“¾è·¯å±‚å¤„ç† å¿…é¡»æ£€æŸ¥åˆ†ç»„çš„ç‰ˆæœ¬å·ã€æ£€éªŒä»¥åŠå¯¿å‘½å­—æ®µï¼Œå¹¶ä¸”é‡å†™åä¸¤ä¸ªå­—æ®µ å¿…é¡»æ›´æ–°ç”¨äºç½‘ç»œç®¡ç†çš„è®¡æ•°å™¨ â€œåŒ¹é…åŠ åŠ¨ä½œâ€ äº¤æ¢ ç»å†…å­˜äº¤æ¢ ç±»ä¼¼ä¼ ç»Ÿè®¡ç®—æœº åœ¨CPU(è·¯ç”±é€‰æ‹©å¤„ç†å™¨)çš„ç›´æ¥æ§åˆ¶ä¸‹å®Œæˆ è¾“å…¥ä¸è¾“å‡ºç«¯å£çš„åŠŸèƒ½åƒä¼ ç»ŸI/Oè®¾å¤‡ åˆ†ç»„åˆ°è¾¾è¾“å…¥ç«¯å£-&gt;ä¸­æ–­-&gt;åˆ†ç»„è¢«å¤åˆ¶åˆ°å¤„ç†å™¨å†…å­˜-&gt;CPUæå–ç›®çš„åœ°å€ï¼Œåœ¨è½¬å‘è¡¨ä¸­æ‰¾åˆ°é€‚å½“çš„è¾“å‡ºç«¯å£-&gt;CPUå°†åˆ†ç»„å¤åˆ¶åˆ°è¾“å‡ºç«¯å£çš„ç¼“å­˜ä¸­ è‹¥å†…å­˜å¸¦å®½ä¸º$B$ä¸ªåˆ†ç»„/ç§’ï¼Œåˆ™æ€»çš„è½¬å‘ååé‡å¿…ç„¶å°äº$B/2$ ä¸èƒ½åŒæ—¶è½¬å‘ä¸¤ä¸ªåˆ†ç»„ ç»æ€»çº¿äº¤æ¢ è¾“å…¥ç«¯å£ç»å…±äº«æ€»çº¿å°†åˆ†ç»„ç›´æ¥ä¼ é€åˆ°è¾“å‡ºç«¯å£ï¼Œä¸éœ€è¦è·¯ç”±é€‰æ‹©å¤„ç†å™¨çš„å¹²é¢„ è¾“å…¥ç«¯å£ä¸ºåˆ†ç»„é¢„å…ˆè®¡åˆ’ä¸€ä¸ªäº¤æ¢æœºå†…éƒ¨æ ‡ç­¾(é¦–éƒ¨)ï¼ŒæŒ‡ç¤ºæœ¬åœ°è¾“å‡ºç«¯å£-&gt;åˆ†ç»„èƒ½è¢«æ‰€æœ‰è¾“å‡ºç«¯å£æ”¶åˆ°ï¼Œä½†åªæœ‰æ ‡ç­¾åŒ¹é…çš„ç«¯å£æ‰èƒ½ä¿å­˜åˆ†ç»„-&gt;æ ‡ç­¾åœ¨è¾“å‡ºç«¯å£è¢«å»é™¤ ä¸€æ¬¡åªæœ‰ä¸€ä¸ªåˆ†ç»„èƒ½è·¨è¶Šæ€»çº¿ï¼Œå› æ­¤å¤šä¸ªåˆ†ç»„åŒæ—¶åˆ°è¾¾è·¯ç”±å™¨æ—¶ï¼Œé™¤äº†ä¸€ä¸ªåˆ†ç»„å¤–å…¶ä»–éƒ½å¿…é¡»ç­‰å¾… ç»äº’è”ç½‘ç»œäº¤æ¢ çºµæ¨ªå¼äº¤æ¢æœºï¼š$2N$æ¡æ€»çº¿ï¼Œè¿æ¥$N$ä¸ªè¾“å…¥ç«¯å£å’Œ$N$ä¸ªè¾“å‡ºç«¯å£ äº¤ç¼ ç‚¹é€šè¿‡äº¤æ¢ç»“æ„æ§åˆ¶å™¨å®ç°å¼€å¯é—­åˆ åˆ†ç»„åˆ°è¾¾è¾“å…¥ç«¯å£-&gt;äº¤å‰ç‚¹-&gt;è¾“å‡ºç«¯å£ éé˜»å¡ï¼šèƒ½å¤Ÿå¹¶è¡Œè½¬å‘å¤šä¸ªåˆ†ç»„ å¤šçº§äº¤æ¢å…ƒç´  è¾“å‡ºç«¯å£å¤„ç†äº¤æ¢ç»“æ„-&gt;æ’é˜Ÿ(ç¼“å­˜ç®¡ç†)-&gt;æ•°æ®é“¾è·¯å¤„ç†(åè®®ï¼Œå°è£…)-&gt;çº¿è·¯ç«¯æ¥-&gt; æ’é˜Ÿä¸¢åŒ…ï¼šæ’é˜Ÿå¯¼è‡´è·¯ç”±å™¨çš„ç¼“å­˜ç©ºé—´è€—å°½ è¾“å…¥æ’é˜Ÿ çº¿è·¯å‰éƒ¨(HOL)é˜»å¡ï¼šåœ¨ä¸€ä¸ªè¾“å…¥é˜Ÿåˆ—ä¸­æ’é˜Ÿçš„åˆ†ç»„å¿…é¡»ç­‰å¾…é€šè¿‡äº¤æ¢ç»“æ„å‘é€(å³ä½¿è¾“å‡ºç«¯å£æ˜¯ç©ºé—²çš„)ï¼Œå› ä¸ºå®ƒè¢«ä½äºçº¿è·¯å‰éƒ¨çš„å¦ä¸€ä¸ªåˆ†ç»„æ‰€é˜»å¡ â€” å¯¹çºµæ¨ªå¼äº¤æ¢ç»“æ„è€Œè¨€ è¾“å‡ºæ’é˜Ÿ ä¸»åŠ¨é˜Ÿåˆ—ç®¡ç†ï¼šåœ¨ç¼“å­˜å¡«æ»¡ä¹‹å‰ä¸¢å¼ƒä¸€ä¸ªåˆ†ç»„ï¼ˆæˆ–åœ¨é¦–éƒ¨åŠ ä¸Šæ ‡è®°ï¼‰ï¼Œå¯ä»¥å‘å‘é€æ–¹æä¾›ä¸€ä¸ªæ‹¥å¡ä¿¡å· ç¼“å­˜æ•°é‡$B$ä¸å¹³å‡å¾€è¿”æ—¶å»¶$RTT$ã€é“¾è·¯å®¹é‡$C$ã€TCPæµ$N$çš„å…³ç³»ï¼š$B=RTT\\cdot C$, ($N$è¾ƒå¤§æ—¶)$B=RTT\\cdot C/\\sqrt{N}$ åˆ†ç»„è°ƒåº¦ FIFO ä¼˜å…ˆæƒæ’é˜Ÿ æœ‰å¤šä¸ªä¼˜å…ˆæƒç±»ï¼Œåˆ†å¼€æ’é˜Ÿ æ¯æ¬¡é€‰æ‹©éç©ºçš„æœ€é«˜ä¼˜å…ˆæƒç±»é˜Ÿåˆ—ä¸­çš„åˆ†ç»„è¿›è¡Œä¼ è¾“ éæŠ¢å å¼ä¼˜å…ˆæƒæ’é˜Ÿï¼šä¸€æ—¦åˆ†ç»„å¼€å§‹ä¼ è¾“å°±ä¸èƒ½æ‰“æ–­ å¾ªç¯æ’é˜Ÿ æ²¡æœ‰æœåŠ¡ä¼˜å…ˆæƒï¼Œå¾ªç¯è°ƒåº¦å™¨åœ¨ç±»ä¹‹é—´è½®æµæä¾›æœåŠ¡ ä¿æŒå·¥ä½œæ’é˜Ÿè§„åˆ™ï¼šåœ¨æœ‰åˆ†ç»„æ’é˜Ÿç­‰å¾…ä¼ è¾“æ—¶ä¸å…è®¸é“¾è·¯ä¿æŒç©ºé—²â€”å½“å¯»æ‰¾ç»™å®šç±»çš„åˆ†ç»„ä½†æ²¡æœ‰æ‰¾åˆ°æ—¶ç«‹å³æ£€æŸ¥ä¸‹ä¸€ä¸ªç±» åŠ æƒå…¬å¹³æ’é˜Ÿ(WFQ) å¾ªç¯æ–¹å¼ æ¯ä¸ªç±»åœ¨ä»»ä½•æ—¶é—´é—´éš”éƒ½å¯èƒ½æ”¶åˆ°ä¸åŒæ•°é‡çš„æœåŠ¡ï¼Œæ¯ä¸ªç±»$i$è¢«åˆ†é…ä¸€ä¸ªæƒ$w_i$ ç¬¬$i$ç±» å°†ç¡®ä¿æ¥æ”¶åˆ°çš„æœåŠ¡éƒ¨åˆ†ç­‰äº$w_i/(\\sum w_i)$ æœ€åæƒ…å†µä¸‹ç¬¬$i$ç±»ä¹Ÿèƒ½åˆ†å¾—ä¸Šè¿°é‚£ä¹ˆå¤šå¸¦å®½ IPv4æ•°æ®æŠ¥æ ¼å¼ ç‰ˆæœ¬å·ï¼š4æ¯”ç‰¹ï¼Œè§„å®šäº†æ•°æ®æŠ¥çš„IPåè®®ç‰ˆæœ¬ï¼Œä¸åŒIPç‰ˆæœ¬ä½¿ç”¨ä¸åŒçš„æ•°æ®æŠ¥æ ¼å¼ã€‚ é¦–éƒ¨é•¿åº¦ï¼š4æ¯”ç‰¹ï¼ŒIPv4æ•°æ®æŠ¥åŒ…å«å¯å˜æ•°é‡çš„é€‰é¡¹ï¼Œæ‰€ä»¥éœ€è¦ç¡®å®šé¦–éƒ¨é•¿åº¦ã€‚å¤§å¤šæ•°IPæ•°æ®æŠ¥ä¸åŒ…å«é€‰é¡¹ï¼Œæ‰€ä»¥ä¸€èˆ¬å…·æœ‰20å­—èŠ‚çš„é¦–éƒ¨ã€‚ æœåŠ¡ç±»å‹(TOS)ï¼š8æ¯”ç‰¹ï¼Œä½¿ä¸åŒç±»å‹çš„IPæ•°æ®æŠ¥èƒ½ç›¸äº’åŒºåˆ«å¼€æ¥ã€‚ æ•°æ®æŠ¥é•¿åº¦ï¼š16æ¯”ç‰¹ï¼ŒIPæ•°æ®æŠ¥é¦–éƒ¨+æ•°æ®çš„æ€»é•¿åº¦ï¼Œå•ä½å­—èŠ‚ã€‚ç†è®ºæœ€å¤§é•¿åº¦ä¸º65535å­—èŠ‚ï¼Œä½†å®é™…ä¸Šå¾ˆå°‘æœ‰è¶…è¿‡1500çš„ã€‚è¿™ä¸ªé•¿åº¦ä½¿å¾—IPæ•°æ®æŠ¥èƒ½å®¹çº³æœ€å¤§é•¿åº¦ä»¥å¤ªç½‘å¸§çš„è½½è·å­—æ®µã€‚ æ ‡è¯†ã€æ ‡å¿—ã€ç‰‡åç§»ï¼šä¸IPåˆ†ç‰‡æœ‰å…³ã€‚ å¯¿å‘½(TTL)ï¼šç¡®ä¿æ•°æ®æŠ¥ä¸ä¼šæ°¸è¿œï¼ˆå¦‚ç”±äºé•¿æ—¶é—´çš„è·¯ç”±é€‰æ‹©ç¯è·¯ï¼‰åœ¨ç½‘ç»œä¸­å¾ªç¯ã€‚æ¯å½“ä¸€å°è·¯ç”±å™¨å¤„ç†æ—¶è¯¥å­—æ®µçš„å€¼-1ï¼Œä¸º0æ—¶è‡ªåŠ¨ä¸¢å¼ƒã€‚ åè®®ï¼šä»…å½“åˆ°è¾¾æœ€ç»ˆç›®çš„åœ°æ—¶æ‰ä¼šæœ‰ç”¨ï¼ŒæŒ‡ç¤ºäº†IPæ•°æ®æŠ¥éœ€è¦äº¤ç»™å“ªä¸ªç‰¹å®šçš„è¿è¾“å±‚åè®®ã€‚åè®®å·æ˜¯å°†ç½‘ç»œå±‚ä¸è¿è¾“å±‚ç»‘å®šåˆ°ä¸€èµ·çš„é»åˆå‰‚ã€‚ï¼ˆç«¯å£å·æ˜¯å°†è¿è¾“å±‚å’Œåº”ç”¨å±‚ç»‘å®šåˆ°ä¸€èµ·çš„é»åˆå‰‚ï¼‰ é¦–éƒ¨æ£€éªŒå’Œï¼šé¦–éƒ¨ä¸­çš„æ¯ä¸¤ä¸ªå­—èŠ‚å½“æˆä¸€ä¸ªæ•°ï¼Œç”¨åç ç®—æœ¯æ±‚å’Œã€‚æ¯å°è·¯ç”±å™¨ä¸Šå¿…é¡»é‡æ–°è®¡ç®—æ£€éªŒå’Œå¹¶å†æ¬¡å­˜æ”¾åˆ°è¿œå¤„ï¼Œå› ä¸ºTTLå­—æ®µä»¥åŠå¯èƒ½çš„é€‰é¡¹å­—æ®µä¼šæ”¹å˜ã€‚ã€ä¸ºä»€ä¹ˆTCP/IPéƒ½æ‰§è¡Œå·®é”™æ£€æµ‹ï¼Ÿâ€”å› ä¸ºTCPå’ŒIPå¯ä»¥åˆ†åˆ«è¿è¡Œåœ¨ä¸åŒçš„åè®®æ ˆä¸Š æºå’Œç›®çš„åœ°IPåœ°å€ï¼šæºä¸»æœºé€šè¿‡DNSæŸ¥æ‰¾æ¥å†³å®šç›®çš„åœ°å€ã€‚ é€‰é¡¹ï¼šå…è®¸IPé¦–éƒ¨è¢«æ‰©å±•ï¼Œå¾ˆå°‘ä½¿ç”¨ã€‚ æ•°æ®(æœ‰æ•ˆè½½è·)ï¼šå¤§å¤šæ•°æ—¶å€™æ‰¿è½½è¿è¾“å±‚æŠ¥æ–‡ï¼Œä¹Ÿå¯æ‰¿è½½å…¶ä»–ç±»å‹çš„æ•°æ®,e.g.ICMPæŠ¥æ–‡ 20å­—èŠ‚IPé¦–éƒ¨+20å­—èŠ‚TCPé¦–éƒ¨=40å­—èŠ‚æ•°æ®æŠ¥é¦–éƒ¨ æ•°æ®æŠ¥åˆ†ç‰‡åŸå› ï¼šå‘é€æ–¹ä¸ç›®çš„åœ°è·¯å¾„ä¸Šçš„æ¯æ®µé“¾è·¯å¯èƒ½ä½¿ç”¨ä¸åŒçš„é“¾è·¯å±‚åè®®æœ€å¤§ä¼ é€å•å…ƒ(MTU)ï¼šä¸€ä¸ªé“¾è·¯å±‚å¸§èƒ½æ‰¿è½½çš„æœ€å¤§æ•°æ®é‡æ¯ä¸ªè¾ƒå°çš„æ•°æ®æŠ¥ç§°ä¸ºç‰‡(fragment) å‘é€ä¸»æœºå°†å‘é€çš„æ¯ä¸ªæ•°æ®æŠ¥çš„æ ‡è¯†å·+1 è·¯ç”±å™¨å¯¹æ•°æ®æŠ¥åˆ†ç‰‡æ—¶ï¼Œæ¯ä¸ªç‰‡å…·æœ‰åˆå§‹æ•°æ®æŠ¥çš„æºåœ°å€ã€ç›®çš„åœ°å€å’Œæ ‡è¯†å· ç›®çš„åœ°ä¸»æœºèƒ½å¤Ÿæ£€æŸ¥æ•°æ®æŠ¥çš„æ ‡è¯†å·ä»¥ç¡®å®šå“ªäº›æ•°æ®æŠ¥å®é™…ä¸Šæ˜¯åŒä¸€è¾ƒå¤§æ•°æ®æŠ¥çš„ç‰‡ IPæ˜¯ä¸å¯é æœåŠ¡â€”åˆå§‹æ•°æ®æŠ¥çš„æœ€åä¸€ç¯‡æ ‡å¿—æ¯”ç‰¹ä¸º0ï¼Œå…¶ä»–ç‰‡ä¸º1 ä¸ºäº†è®©ç›®çš„ä¸»æœºç¡®å®šæ˜¯å¦ä¸¢äº†ä¸€ä¸ªç‰‡ä¸”æŒ‰æ­£ç¡®é¡ºåºç»„è£…ç‰‡ï¼Œä½¿ç”¨åç§»å­—æ®µåˆ¶å®šè¯¥ç‰‡åº”è¯¥æ”¾åœ¨åˆå§‹IPæ•°æ®æŠ¥çš„å“ªä¸ªä½ç½® ç¼–å€ä¸€å°ä¸»æœºé€šå¸¸åªæœ‰ä¸€æ¡é“¾è·¯è¿æ¥åˆ°ç½‘ç»œï¼Œä¸»æœºä¸ç‰©ç†é“¾è·¯ä¹‹é—´çš„è¾¹ç•Œå«ä½œæ¥å£ã€‚è·¯ç”±å¿…é¡»æ‹¥æœ‰å¤šæ¡é“¾è·¯ä¸ä¹‹ç›¸è¿æ¥ï¼Œè·¯ç”±å™¨ä¸å®ƒä»»æ„ä¸€æ¡é“¾è·¯ä¹‹é—´çš„è¾¹ç•Œä¹Ÿå«ä½œæ¥å£ã€‚ä¸€ä¸ªIPåœ°å€ä¸ä¸€ä¸ªæ¥å£ç›¸å…³è”ã€‚ IPåœ°å€é•¿32æ¯”ç‰¹ï¼Œé‡‡ç”¨ç‚¹åˆ†åè¿›åˆ¶è®°æ³•ä¹¦å†™æ ¼å¼ï¼š$a.b.c.d/x$ å­ç½‘æ©ç ï¼š32ä½ä¸­å‰$x$æ¯”ç‰¹å…¨å–1 æœ€é«˜$x$æ¯”ç‰¹æ„æˆäº†ç½‘ç»œéƒ¨åˆ†ï¼Œä¹Ÿç§°å‰ç¼€ ç»„ç»‡å†…éƒ¨çš„è®¾å¤‡çš„IPå…±äº«ç›¸åŒçš„å‰ç¼€ å‡å°‘äº†å­ç½‘å¤–è·¯ç”±å™¨ä¸­è½¬å‘è¡¨çš„é•¿åº¦ å­ç½‘ï¼šåˆ†å¼€ä¸»æœºå’Œè·¯ç”±å™¨çš„æ¯ä¸ªæ¥å£ï¼Œäº§ç”Ÿå‡ ä¸ªéš”ç¦»çš„ç½‘ç»œå­¤å²›ï¼Œä½¿ç”¨æ¥å£ç«¯æ¥è¿™äº›éš”ç¦»çš„ç½‘ç»œçš„ç«¯ç‚¹ã€‚è¿™äº›éš”ç¦»çš„ç½‘ç»œä¸­çš„æ¯ä¸€ä¸ªéƒ½å«ä½œä¸€ä¸ªå­ç½‘ã€‚åœ¨ç»™å®šå­ç½‘ä¸Šçš„æ‰€æœ‰è®¾å¤‡éƒ½å…·æœ‰ç›¸åŒçš„å­ç½‘åœ°å€ã€‚å› ç‰¹ç½‘åœ°å€çš„åˆ†é…ç­–ç•¥ç§°ä¸ºæ— ç±»åˆ«åŸŸé—´è·¯ç”±é€‰æ‹©(CIDR, Classless Interdomain Routing)å¯»å€ï¼šæœ€é•¿å‰ç¼€åŒ¹é…ï¼Œé€‰æ‹©ä¸ç›®çš„åœ°å€ç›¸åŒ¹é…çš„æœ€é•¿åœ°å€å‰ç¼€IPå¹¿æ’­åœ°å€ï¼š255.255.255.255ï¼Œå½“æŠ¥æ–‡çš„ç›®çš„åœ°å€æ˜¯å¹¿æ’­åœ°å€æ—¶ä¼šè¢«äº¤ä»˜ç»™åŒä¸€ä¸ªç½‘ç»œä¸­çš„æ‰€æœ‰ä¸»æœºï¼Œè·¯ç”±å™¨ä¹Ÿä¼šæœ‰é€‰æ‹©åœ°å‘ä¸´è¿‘çš„å­ç½‘è½¬å‘è¯¥æŠ¥æ–‡ è·å–ä¸€å—åœ°å€ISPä»è‡ªå·±çš„å¤§åœ°å€å—ä¸­æä¾›ä¸€äº›åœ°å€ç»™ç»„ç»‡IPåœ°å€ç”±å› ç‰¹ç½‘åå­—å’Œç¼–å·åˆ†é…æœºæ„(ICANN)ç®¡ç†ï¼ŒICANNè¿˜ç®¡ç†DNSæ ¹æœåŠ¡å™¨ è·å–ä¸»æœºåœ°å€ï¼šDHCP åŠ¨æ€ä¸»æœºé…ç½®åè®®(DHCP)å…è®¸ä¸»æœºè·å–ä¸€ä¸ªIPåœ°å€ï¼Œè¿˜å…è®¸ä¸»æœºå¾—çŸ¥å­ç½‘æ©ç ã€ç¬¬ä¸€è·³è·¯ç”±å™¨åœ°å€(é»˜è®¤ç½‘å…³)ã€æœ¬åœ°DNSæœåŠ¡å™¨çš„åœ°å€ å³æ’å³ç”¨åè®®/é›¶é…ç½®åè®® å®¢æˆ·-æœåŠ¡å™¨åè®® æ¯ä¸ªå­ç½‘å°†å…·æœ‰ä¸€å°DHCPæœåŠ¡å™¨ å¦‚æœæŸå­ç½‘ä¸­æ²¡æœ‰DHCPæœåŠ¡å™¨ï¼Œåˆ™éœ€è¦ä¸€ä¸ªDHCPä¸­ç»§ä»£ç†ï¼ˆé€šå¸¸æ˜¯ä¸€å°è·¯ç”±å™¨ï¼‰ï¼Œè¿™ä¸ªä»£ç†ç”¨äºçŸ¥é“è¯¥ç½‘ç»œçš„DHCPæœåŠ¡å™¨çš„åœ°å€ DHCPåè®®4æ­¥ DHCPæœåŠ¡å™¨å‘ç° ä½¿ç”¨DHCPå‘ç°æŠ¥æ–‡ æºåœ°å€ï¼š0.0.0.0(â€œæœ¬ä¸»æœºâ€)ï¼Œç›®çš„åœ°å€ï¼š255.255.255.255(å¹¿æ’­åœ°å€) ç”¨äºä¸€ä¸ªæ–°åˆ°è¾¾çš„ä¸»æœºå‘ç°ä¸€ä¸ªè¦ä¸å…¶äº¤äº’çš„DHCPæœåŠ¡å™¨ DHCPæœåŠ¡æä¾› DHCPæœåŠ¡å™¨æ”¶åˆ°DHCPå‘ç°æŠ¥æ–‡åå¯¹å®¢æˆ·åšå‡ºå“åº” ä½¿ç”¨DHCPæä¾›æŠ¥æ–‡ï¼ŒåŒ…å«å‘ç°æŠ¥æ–‡çš„äº‹ç‰©IDã€å‘å®¢æˆ·æ¨èçš„IPåœ°å€ã€ç½‘ç»œæ©ç ã€IPåœ°å€ç§Ÿç”¨æœŸ(å³IPåœ°å€çš„æœ‰æ•ˆæ—¶é—´é‡ï¼Œé€šå¸¸ä¸ºå‡ å°æ—¶æˆ–å‡ å¤©) æºåœ°å€ï¼šè‡ªå·±çš„IPåœ°å€ï¼Œç›®çš„åœ°å€ï¼š255.255.255.255(å¹¿æ’­åœ°å€) å­ç½‘ä¸­å¯èƒ½å­˜åœ¨å¤šä¸ªDHCPæœåŠ¡å™¨ï¼Œå®¢æˆ·éœ€è¦é€‰æ‹©ä¸€ä¸ª DHCPè¯·æ±‚ å®¢æˆ·å‘é€‰ä¸­çš„æœåŠ¡å™¨æä¾›DHCPè¯·æ±‚æŠ¥æ–‡è¿›è¡Œå“åº”ï¼Œå›æ˜¾é…ç½®çš„å‚æ•° æºåœ°å€ï¼š0.0.0.0.ï¼Œç›®çš„åœ°å€:255.255.255.255 DHCP ACK æœåŠ¡å™¨ç”¨DHCP ACKæŠ¥æ–‡å¯¹DHCPè¯·æ±‚æŠ¥æ–‡è¿›è¡Œå“åº”ï¼Œè¯å®æ‰€è¦æ±‚çš„å‚æ•° æºåœ°å€ï¼šDHCPæœåŠ¡å™¨è‡ªå·±çš„åœ°å€ï¼Œç›®çš„åœ°å€:255.255.255.255 å®¢æˆ·æ”¶åˆ°DHCP ACKåäº¤äº’å®Œæˆ ä¸èƒ½ç»´æŒä¸è¿œç¨‹åº”ç”¨ä¹‹é—´çš„TCPè¿æ¥ ç½‘ç»œåœ°å€è½¬æ¢(NAT) NATä½¿èƒ½è·¯ç”±å™¨ 4ä¸ªæ¥å£å…·æœ‰ç›¸åŒçš„ç½‘ç»œåœ°å€10.0.0/24 åœ°å€ç©ºé—´10.0.0.0/8æ˜¯åœ¨RFC 198ä¸­ä¿ç•™çš„ä¸‰éƒ¨åˆ†IPåœ°å€ç©ºé—´ä¹‹ä¸€ï¼Œç”¨äºå®¶åº­ç½‘ç»œç­‰ä¸“ç”¨ç½‘ç»œæˆ–å…·æœ‰ä¸“ç”¨åœ°å€çš„åœ°åŸŸï¼Œä»…åœ¨ç»™å®šçš„ç½‘ç»œä¸­æ‰æœ‰æ„ä¹‰ NATä½¿èƒ½è·¯ç”±å™¨å¯¹å¤–ç•Œçš„è¡Œä¸ºå¦‚åŒä¸€ä¸ªå…·æœ‰å•ä¸€IPåœ°å€çš„å•ä¸€è®¾å¤‡ æ‰€æœ‰æµå‘å¤–ç•Œ/è¿›å…¥å®¶åº­çš„æŠ¥æ–‡éƒ½æ‹¥æœ‰åŒä¸€ä¸ªæº/ç›®çš„IPåœ°å€ NATä½¿èƒ½è·¯ç”±å™¨å¯¹å¤–ç•Œéšè—äº†å®¶åº­ç½‘ç»œçš„ç»†èŠ‚ NATè½¬åŒ–è¡¨ NATæ”¶åˆ°å®¶åº­ä¸»æœºå‘é€å‘å¤–ç•Œçš„æ•°æ®æŠ¥åï¼Œä¸ºå…¶ç”Ÿæˆä¸€ä¸ªæ–°çš„æºç«¯å£å·ï¼Œå°†æºIPæ›¿ä»£ä¸ºå…¶å¹¿åŸŸç½‘ä¸€ä¾§æ¥å£çš„IPåœ°å€ï¼Œä¸”å°†æºç«¯å£å·æ›¿æ¢ä¸ºæ–°ç”Ÿæˆçš„ç«¯å£å· ç«¯å£å·å­—æ®µ16å­—èŠ‚ï¼ŒNATåè®®å¯æ”¯æŒè¶…è¿‡60000ä¸ªå¹¶è¡Œä½¿ç”¨è·¯ç”±å™¨å¹¿åŸŸç½‘ä¸€ä¾§å•ä¸ªIPåœ°å€çš„è¿æ¥ è·¯ç”±å™¨ä¸­çš„NATåœ¨å…¶NATè½¬æ¢è¡¨ä¸­å¢åŠ ä¸€ä¸ªè¡¨é¡¹ï¼Œè®°å½•WANç«¯å’ŒLANæ®µIPåœ°å€åŠç«¯å£çš„å¯¹åº”å…³ç³» IPv6æ•°æ®æŠ¥æ ¼å¼ å®šé•¿40å­—èŠ‚(320æ¯”ç‰¹)é¦–éƒ¨ ç‰ˆæœ¬(4æ¯”ç‰¹)ï¼šæ ‡è¯†IPç‰ˆæœ¬å·ï¼ŒIPv6å°†å…¶è®¾ç½®ä¸º6 è®¾ç½®ä¸º4ä¸èƒ½å¾—åˆ°åˆæ³•çš„IPv4æ•°æ®æŠ¥ æµé‡ç±»å‹(8æ¯”ç‰¹)ï¼šä¸IPv4çš„TOSç±»ä¼¼ï¼Œä½¿ä¸åŒç±»å‹çš„IPæ•°æ®æŠ¥èƒ½ç›¸äº’åŒºåˆ«å¼€æ¥ æµæ ‡ç­¾(20æ¯”ç‰¹)ï¼šæ ‡è¯†ä¸€æ¡æ•°æ®æŠ¥çš„æµ å¯¹ä¸€æ¡æµä¸­çš„æŸäº›æ•°æ®æŠ¥ç»™å‡ºä¼˜å…ˆæƒ ä¹Ÿèƒ½å¤Ÿç”¨æ¥å¯¹æ¥è‡ªæŸäº›åº”ç”¨çš„æ•°æ®æŠ¥ç»™å‡ºæ›´é«˜çš„ä¼˜å…ˆæƒ æœ‰æ•ˆè½½è·é•¿åº¦(16æ¯”ç‰¹æ— ç¬¦å·æ•´æ•°)ï¼šå®šé•¿40å­—èŠ‚æ•°æ®æŠ¥é¦–éƒ¨åçš„å­—èŠ‚æ•°é‡ ä¸‹ä¸€ä¸ªé¦–éƒ¨(8æ¯”ç‰¹)ï¼šè¡¨ç¤ºæ•°æ®æŠ¥ä¸­çš„å†…å®¹è¦äº¤ä»˜ç»™å“ªä¸ªåè®®(e.g.TCP or UDP)ï¼Œå–å€¼åŒIPv4 è·³é™åˆ¶(8æ¯”ç‰¹)ï¼šç›¸å½“äºIPv4çš„TTLï¼Œè½¬å‘çš„æ¯å°è·¯ç”±å™¨å¯¹è¯¥å­—æ®µçš„å€¼-1ï¼Œåˆ°0è‡ªåŠ¨ä¸¢å¼ƒ æºåœ°å€å’Œç›®çš„åœ°å€(å„128æ¯”ç‰¹) æ•°æ® ç›¸å¯¹IPv4çš„å˜åŒ–æ–°å¢äº†ï¼š æ‰©å¤§çš„åœ°å€å®¹é‡ åœ°å€é•¿åº¦ï¼š32 bits -&gt; 128 bits å¼•å…¥ä»»æ’­åœ°å€ï¼šå¯ä»¥ä½¿æ•°æ®æŠ¥äº¤ä»˜ç»™ä¸€ç»„ä¸»æœºä¸­çš„ä»»æ„ä¸€ä¸ª æµå®šä¹‰ åˆ å»äº†ï¼š åˆ†ç‰‡/é‡æ–°ç»„è£…ï¼šå› ä¸ºå¤ªè€—æ—¶äº† å¦‚æœè·¯ç”±å™¨æ”¶åˆ°çš„IPv6æ•°æ®æŠ¥å¤ªå¤§ä¸èƒ½è½¬å‘åˆ°å‡ºé“¾è·¯ä¸Šçš„è¯ï¼Œè·¯ç”±å™¨åªéœ€ä¸¢å¼ƒè¯¥æ•°æ®æŠ¥ï¼Œå¹¶å‘å‘é€æ–¹å‘å›ä¸€ä¸ªâ€œåˆ†ç»„å¤ªå¤§â€çš„ICMPå·®é”™æŠ¥æ–‡ å¤§å¤§åŠ å¿«äº†IPè½¬å‘é€Ÿåº¦ é¦–éƒ¨æ£€éªŒå’Œï¼šå› ä¸ºå¤ªè€—æ—¶äº†ï¼Œè€Œä¸”å¤šä½™ é€‰é¡¹ï¼šä¸å±äºé¦–éƒ¨çš„ä¸€éƒ¨åˆ†ï¼Œä½†æ²¡æœ‰æ¶ˆå¤±ï¼Œå¯èƒ½å‡ºç°åœ¨â€œä¸‹ä¸€ä¸ªé¦–éƒ¨â€æŒ‡å‡ºçš„ä½ç½®ä¸Š ä½¿å¾—IPv6çš„é¦–éƒ¨æ˜¯å®šé•¿çš„ IPv4åˆ°IPv6çš„è¿ç§»å»ºéš§é“ éš§é“ï¼šä¸¤å°IPv6è·¯ç”±å™¨ä¹‹é—´çš„ä¸­é—´IPv4è·¯ç”±å™¨é›†åˆ éš§é“å‘é€ç«¯çš„IPv6èŠ‚ç‚¹(B)å°†æ•´ä¸ªIPv6æ•°æ®æŠ¥æ”¾åˆ°ä¸€ä¸ªIPv4æ•°æ®æŠ¥ä¸­,å°†æºåœ°å€è®¾ä¸ºè‡ªå·±ï¼Œç›®çš„åœ°å€è®¾ä¸ºéš§é“æ¥æ”¶ç«¯çš„IPv6èŠ‚ç‚¹(E) ä¸­é—´çš„IPv4è·¯ç”±å™¨ç…§å¸¸è½¬å‘IPv4æ•°æ®æŠ¥ éš§é“æ¥æ”¶ç«¯é€šè¿‡è§‚å¯ŸIPv4æ•°æ®æŠ¥ä¸­åè®®å·å­—æ®µæ˜¯41ç¡®å®šè¯¥æ•°æ®æŠ¥å«æœ‰ä¸€ä¸ªIPv6æ•°æ®æŠ¥ï¼Œå¹¶å°†å…¶å–å‡º é€šç”¨è½¬å‘å’ŒSDNé“¾è·¯å±‚å’Œè·¯ç”±å™¨çš„ä¸­é—´ç›’(e.g.é˜²ç«å¢™ã€NATã€æ·±åº¦åˆ†ç»„æ£€æµ‹DPIç­‰)è¿‡å¤šï¼Œéœ€è¦ä¸€ä¸ªç»Ÿä¸€çš„è®¾å¤‡æ¥æä¾›åŠŸèƒ½â€”â€”åˆ†ç»„äº¤æ¢æœº åŒ¹é…åŠ åŠ¨ä½œè¡¨(åœ¨OpenFlowä¸­ç§°ä¸ºæµè¡¨) è¿œç¨‹æ§åˆ¶å™¨è®¡ç®—ã€å®‰è£…å’Œæ›´æ–° åŒ…æ‹¬ï¼šé¦–éƒ¨å­—æ®µå€¼çš„é›†åˆã€è®¡æ•°å™¨é›†åˆ(å½“åˆ†ç»„ä¸æµè¡¨é¡¹åŒ¹é…æ˜¯æ›´æ–°è®¡æ•°å€¼)ã€åŒ¹é…æ—¶æ‰€é‡‡å–çš„åŠ¨ä½œé›†åˆ åŒ¹é… (æ®è¯´ä¸è€ƒï¼Œå…ˆä¸æŠ„äº†) CH5 ç½‘ç»œå±‚ï¼šæ§åˆ¶å¹³é¢è·¯ç”±é€‰æ‹©ç®—æ³•ç›®çš„ï¼šä»å‘é€æ–¹åˆ°æ¥æ”¶æ–¹çš„è¿‡ç¨‹ä¸­ç¡®å®šä¸€æ¡é€šè¿‡è·¯ç”±å™¨ç½‘ç»œçš„å¥½çš„è·¯å¾„(ç­‰ä»·äºè·¯ç”±) é›†ä¸­å¼è·¯ç”±é€‰æ‹©ç®—æ³•ï¼šå…·æœ‰å…¨å±€çŠ¶æ€ä¿¡æ¯çš„ç®—æ³•ï¼Œå¿…é¡»çŸ¥é“æ¯æ¡é“¾è·¯çš„å¼€é”€ï¼Œå¸¸è¢«ç§°ä¸ºé“¾è·¯çŠ¶æ€(LS)ç®—æ³• åˆ†å¸ƒå¼è·¯ç”±é€‰æ‹©ç®—æ³•ï¼šä»¥è¿­ä»£ã€åˆ†å¸ƒå¼çš„æ–¹å¼è®¡ç®—æœ€å°å¼€é”€è·¯å¾„ï¼Œæ¯ä¸ªèŠ‚ç‚¹åªæœ‰ä¸å…¶ç›¸é‚»èŠ‚ç‚¹çš„ä¿¡æ¯ é™æ€è·¯ç”±é€‰æ‹©ç®—æ³•ï¼šè·¯ç”±éšæ—¶é—´å˜åŒ–ç¼“æ…¢ åŠ¨æ€è·¯ç”±é€‰æ‹©ç®—æ³•ï¼šéšç€ç½‘ç»œæµé‡è´Ÿè½½æˆ–æ‹“æ‰‘å‘ç”Ÿå˜åŒ–è€Œæ”¹å˜è·¯ç”±é€‰æ‹©è·¯å¾„ è´Ÿè½½æ•æ„Ÿç®—æ³•ï¼šé“¾è·¯å¼€é”€ä¼šåŠ¨æ€åœ°å˜åŒ–åæ˜ å‡ºåº•å±‚é“¾è·¯çš„å½“å‰æ‹¥å¡æ°´å¹³ è´Ÿè½½è¿Ÿé’ç®—æ³• é“¾è·¯çŠ¶æ€è·¯ç”±é€‰æ‹©ç®—æ³•è¾“å…¥ï¼šè®©æ¯ä¸ªèŠ‚ç‚¹å‘ç½‘ç»œä¸­æ‰€æœ‰å…¶ä»–èŠ‚ç‚¹å¹¿æ’­é“¾è·¯çŠ¶æ€åˆ†ç»„â€”â€”é“¾è·¯çŠ¶æ€å¹¿æ’­ç®—æ³•Dijksraç®—æ³•æœ€å·®æƒ…å†µä¸‹å¤æ‚æ€§ä¸º$O(n^2)$ é—®é¢˜ï¼šé“¾è·¯å¼€é”€éå¯¹ç§°ï¼Œå³é“¾è·¯å¼€é”€å¯¹åº”äºæ‰¿è½½çš„æµé‡ä¼šå‡ºç°æŒ¯è¡ï¼šæ‰€æœ‰çš„æµé‡éƒ½è¢«å¯¼å‘åŒä¸€ä¸ªæ–¹å‘è·¯ç”±å™¨çš„è‡ªåŒæ­¥ï¼šå³ä½¿å®ƒä»¬åœ¨åˆå§‹æ—¶ä»¥åŒä¸€å‘¨æœŸä½†åœ¨ä¸åŒæ—¶åˆ»æ‰§è¡Œç®—æ³•ï¼Œç®—æ³•æ‰§è¡Œæ—¶æœºæœ€ç»ˆä¼šåœ¨è·¯ç”±å™¨ä¸Šå˜ä¸ºåŒæ­¥å¹¶ä¿æŒè§£å†³æ–¹æ¡ˆï¼šè®©æ¯å°è·¯ç”±å™¨å‘é€é“¾è·¯é€šå‘Šçš„æ—¶é—´éšæœºåŒ– è·ç¦»å‘é‡(DV)è·¯ç”±é€‰æ‹©ç®—æ³•åˆ†å¸ƒå¼çš„ã€è¿­ä»£çš„ï¼ˆèƒ½è‡ªæˆ‘ç»ˆæ­¢ï¼‰ã€å¼‚æ­¥çš„è·ç¦»å‘é‡ï¼š$\\bf{D}_x$$=\\left[D_x(x), D_x(y), D_x(z) \\right]$Bellman-Fordç®—æ³•Bellman-Fordæ–¹ç¨‹ï¼š$d_x(y)=\\min_v{c(x,v)+d_v(y)}$ æ¯ä¸ªèŠ‚ç‚¹ç­‰å¾…æ¥è‡ªä»»ä½•é‚»å±…çš„æ›´æ–°ï¼Œå½“æ¥æ”¶åˆ°ä¸€ä¸ªæ›´æ–°æ—¶è®¡ç®—å®ƒçš„æ–°è·ç¦»å‘é‡å¹¶å‘å®ƒçš„é‚»å±…åˆ†å¸ƒå…¶æ–°è·ç¦»å‘é‡ å½“ä¸€ä¸ªèŠ‚ç‚¹æ£€æµ‹åˆ°ä»å®ƒè‡ªå·±åˆ°é‚»å±…çš„é“¾è·¯å¼€é”€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå®ƒå°±æ›´æ–°å…¶è·ç¦»å‘é‡â€”â€”å¯èƒ½ä¼šå‡ºç°è·¯ç”±é€‰æ‹©ç¯è·¯ï¼šyé€šè¿‡zåˆ°xï¼ŒåŒæ—¶zé€šè¿‡yåˆ°xå› ä¸ºå¼€é”€æ”¹å˜çš„é“¾è·¯åœ¨å…¶ä»–èŠ‚ç‚¹çš„è·ç¦»è¡¨ä¸­çš„ä¿¡æ¯ä»æ²¡æœ‰è¢«æŠ¹å» é“¾è·¯å¼€é”€çš„å¢åŠ ä¼šå¯¼è‡´åæ¶ˆæ¯ä¼ æ’­å¾—å¾ˆæ…¢â€”â€”æ— ç©·è®¡æ•°é—®é¢˜ æ¯’æ€§é€†è½¬ï¼šæ’’è°è®¾ç½®$D_z(x)=\\infty$ï¼Œè¿™æ ·yå°±æ°¸è¿œä¸ä¼šè¯•å›¾ç»ç”±zè·¯ç”±é€‰æ‹©åˆ°xWiki: In computer networking, split-horizon route advertisement is a method of preventing routing loops in distance-vector routing protocols by prohibiting a router from advertising a route back onto the interface from which it was learned.(ä»å“ªé‡Œå­¦ä¹ æ¥çš„ï¼Œå°±æ‹’ç»å‘å›åˆ°å“ªé‡Œå»)ä¾ç„¶æ— æ³•è§£å†³æ— ç©·è®¡æ•°é—®é¢˜ æ¯”è¾ƒ ç»´åº¦ LS DV æŠ¥æ–‡å¤æ‚æ€§ å‘é€$O(\\ NE\\ )$ä¸ªæŠ¥æ–‡ï¼Œæ¯æ¬¡æ”¹å˜å‘æ‰€æœ‰èŠ‚ç‚¹å‘é€æ–°å¼€é”€ æ¯æ¬¡è¿­ä»£é‚»å±…é—´äº¤æ¢æŠ¥æ–‡ æ”¶æ•›é€Ÿåº¦ è¿˜è¡Œ(?)ï¼Œå¤šé¡¹å¼æ—¶é—´ æ”¶æ•›è¾ƒæ…¢ï¼Œä¸”ä¼šå‡ºç°è·¯ç”±é€‰æ‹©ç¯è·¯ å¥å£®æ€§ è·¯ç”±å™¨æŸç§ç¨‹åº¦ä¸Šåˆ†ç¦» ä¸€ä¸ªä¸æ­£ç¡®èŠ‚ç‚¹çš„è®¡ç®—å€¼ä¼šæ‰©æ•£åˆ°æ•´ä¸ªç½‘ç»œ å› ç‰¹ç½‘è‡ªæ²»ç³»ç»Ÿå†…éƒ¨çš„è·¯ç”±é€‰æ‹©ï¼šOSPFè§„æ¨¡(æ— ç©·è®¡æ•°)å’Œç®¡ç†è‡ªæ²»(ISPæŒ‰è‡ªå·±æ„æ„¿è¿è¡Œè·¯ç”±å™¨)é—®é¢˜â€”â€”è§£å†³ï¼šè‡ªæ²»ç³»ç»Ÿ(AS)æ¯ä¸ªASç”±ä¸€ç»„é€šå¸¸å¤„åœ¨ç›¸åŒç®¡ç†æ§åˆ¶ä¸‹çš„è·¯ç”±å™¨ç»„æˆä¸€ä¸ªè‡ªæ²»ç³»ç»Ÿç”±å…¶å…¨å±€å”¯ä¸€çš„ASå·(ASN)æ‰€æ ‡è¯†ï¼ŒASNç”±ICANNåŒºåŸŸæ³¨å†Œæœºæ„å‘æ”¾ OSPFï¼šå¼€æ”¾æœ€çŸ­è·¯ä¼˜å…ˆï¼ŒOpen Shortest Path Firstå¼€æ”¾ï¼šå…¬ä¼—å¯ç”¨LSåè®®ï¼Œä½¿ç”¨æ´ªæ³›é“¾è·¯çŠ¶æ€ä¿¡æ¯å’ŒDijkstraæœ€çŸ­è·¯å¾„ç®—æ³•å„æ¡é“¾è·¯å¼€é”€ä¸ºç½‘ç»œç®¡ç†å‘˜æ‰‹åŠ¨é…ç½® è·¯ç”±å™¨å‘ASå†…æ‰€æœ‰å…¶ä»–è·¯ç”±å™¨å¹¿æ’­è·¯ç”±é€‰æ‹©ä¿¡æ¯ æ¯å½“ä¸€æ¡é“¾è·¯çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè·¯ç”±å™¨å°±ä¼šå¹¿æ’­é“¾è·¯çŠ¶æ€ä¿¡æ¯ï¼›å³ä½¿æœªå˜åŒ–ï¼Œä¹Ÿä¼šè‡³å°‘æ¯éš”30minä¸€æ¬¡å¹¿æ’­é“¾è·¯çŠ¶æ€â€”â€”å¢åŠ é²æ£’æ€§ OSPFæŠ¥æ–‡ç”±IPæ‰¿è½½ï¼Œå¯¹ä¸Šå±‚åè®®çš„å€¼ä¸º89ï¼Œå› æ­¤OSPFåè®®å¿…é¡»è‡ªå·±å®ç°è¯¸å¦‚å¯é æŠ¥æ–‡ä¼ è¾“ã€é“¾è·¯çŠ¶æ€å¹¿æ’­ç­‰åŠŸèƒ½ã€‚ è¿˜è¦æ£€æŸ¥é“¾è·¯æ­£åœ¨è¿è¡Œ(é€šè¿‡å‘é‚»å±…å‘é€HELLOæŠ¥æ–‡)ï¼Œå¹¶å…è®¸OSPFè·¯ç”±å™¨è·å¾—ç›¸é‚»è·¯ç”±å™¨çš„ç½‘ç»œèŒƒå›´é“¾è·¯çŠ¶æ€çš„æ•°æ®åº“ ä¼˜ç‚¹ï¼š å®‰å…¨ï¼šèƒ½é‰´åˆ«å’ŒåŠ å¯†(ç®€å•çš„orMD5) æ”¯æŒé€‰æ‹©å¤šæ¡ç›¸åŒå¼€é”€çš„è·¯å¾„ å¯¹å•æ’­ä¸å¤šæ’­è·¯ç”±é€‰æ‹©çš„ç»¼åˆæ”¯æŒ æ”¯æŒåœ¨å•ä¸ªASä¸­çš„å±‚æ¬¡ç»“æ„ åŒºåŸŸè¾¹ç•Œè·¯ç”±å™¨ï¼šä¸ºæµå‘è¯¥åŒºåŸŸä»¥å¤–çš„åˆ†ç»„æä¾›è·¯ç”±é€‰æ‹© ä¸»å¹²åŒºåŸŸï¼šä¸ºè¯¥ASä¸­å…¶ä»–åŒºåŸŸä¹‹é—´çš„æµé‡æä¾›è·¯ç”±é€‰æ‹©ï¼Œæ‰€æœ‰åŒºåŸŸè¾¹ç•Œè·¯ç”±å™¨+ä¸€äº›éè¾¹ç•Œè·¯ç”±å™¨ ASé—´çš„è·¯ç”±é€‰æ‹©åè®®ï¼šBGPBGPï¼šè¾¹ç•Œç½‘å…³åè®®, Broder Gateway Protocolåˆ†å¸ƒå¼ã€å¼‚æ­¥åˆ†ç»„ä¸æ˜¯è·¯ç”±åˆ°ç‰¹å®šåœ°å€ï¼Œè€Œæ˜¯è·¯ç”±åˆ°CIDRåŒ–çš„å‰ç¼€ï¼Œæ¯ä¸ªå‰ç¼€è¡¨ç¤ºä¸€ä¸ªå­ç½‘æˆ–ä¸€ä¸ªå­ç½‘çš„é›†åˆ BGPä¸ºæ¯å°è·¯ç”±å™¨æä¾›äº†ä¸€ç§å®Œæˆä»¥ä¸‹ä»»åŠ¡çš„æ‰‹æ®µï¼š ä»é‚»å±…ASè·å¾—å‰ç¼€çš„å¯è¾¾æ€§ä¿¡æ¯ ç¡®å®šåˆ°è¯¥å‰ç¼€çš„â€œæœ€å¥½çš„â€è·¯ç”± é€šå‘ŠBGPè·¯ç”±ä¿¡æ¯å¯¹äºæ¯ä¸ªASï¼Œæ¯å°è·¯ç”±å™¨è¦ä¹ˆæ˜¯ä¸€å°ç½‘å…³è·¯ç”±å™¨ï¼Œè¦ä¹ˆæ˜¯ä¸€å°å†…éƒ¨è·¯ç”±å™¨ã€‚ç½‘å…³è·¯ç”±å™¨ï¼šä½äºASè¾¹ç¼˜ï¼Œç›´æ¥è¿æ¥åˆ°åœ¨å…¶ä»–ASä¸­çš„è·¯ç”±å™¨å†…éƒ¨è·¯ç”±å™¨ï¼šä»…è¿æ¥åœ¨å®ƒè‡ªå·±ASä¸­çš„ä¸»æœºå’Œè·¯ç”±å™¨ æ¯å¯¹è·¯ç”±å™¨é€šè¿‡ä½¿ç”¨179ç«¯å£çš„åŠæ°¸ä¹…TCPè¿æ¥äº¤æ¢è·¯ç”±é€‰æ‹©ä¿¡æ¯ã€‚æ¯æ¡ç›´çº¿è¿æ¥ä»¥åŠæ‰€æœ‰é€šè¿‡è¯¥è¿æ¥å‘é€çš„BGPæŠ¥æ–‡ï¼Œç§°ä¸ºBGPè¿æ¥è·¨è¶Šä¸¤ä¸ªASçš„BGPè¿æ¥ç§°ä¸ºå¤–éƒ¨BGPè¿æ¥(eBGP)åœ¨ç›¸åŒASä¸­çš„ä¸¤å°è·¯ç”±å™¨ä¹‹é—´çš„BGPç§°ä¸ºå†…éƒ¨BGPè¿æ¥(iBGP)ç›´æ¥è¿æ¥åœ¨ä¸åŒASä¸­çš„ç½‘å…³è·¯ç”±å™¨çš„æ¯æ¡é“¾è·¯é€šå¸¸æœ‰ä¸€æ¡eBGPè¿æ¥ï¼Œåœ¨æ¯ä¸ªASä¸­çš„è·¯ç”±å™¨ä¹‹é—´è¿˜æœ‰å¤šæ¡iBGPè¿æ¥ï¼ŒiBGPè¿æ¥ä¸æ€»æ˜¯ä¸ç‰©ç†é“¾è·¯å¯¹åº” å‰ç¼€ä¸­åŒ…å«ä¸€äº›BGPå±æ€§å‰ç¼€+å…¶å±æ€§ç§°ä¸ºè·¯ç”± AS-PATHå±æ€§ï¼šåŒ…å«äº†é€šå‘Šå·²ç»é€šè¿‡çš„ASçš„åˆ—è¡¨ å½“ä¸€ä¸ªå‰ç¼€é€šè¿‡æŸASæ—¶ï¼Œè¯¥ASå°†å…¶ASNåŠ å…¥AS-PATHçš„ç°æœ‰åˆ—è¡¨ BGPè·¯ç”±å™¨è¿˜ä½¿ç”¨AS-PATHå±æ€§æ¥æ£€æµ‹å’Œé˜²æ­¢é€šå‘Šç¯è·¯ï¼Œå¦‚æœä¸€å°è·¯ç”±å™¨åœ¨è·¯å¾„åˆ—è¡¨ä¸­çœ‹åˆ°äº†åŒ…å«å®ƒè‡ªå·±çš„ASï¼Œåˆ™å®ƒå°†æ‹’ç»è¯¥é€šå‘Š NEXT-HOPå±æ€§ï¼šAS-PATHèµ·å§‹è·¯ç”±å™¨æ¥å£çš„IPåœ°å€ï¼ˆåˆ°è¾¾å‰ç¼€$x$è·¯å¾„ä¸Šçš„ç¬¬ä¸€å°è·¯ç”±å™¨çš„åœ°å€ çƒ­åœŸè±†è·¯ç”±é€‰æ‹©å®é™…ä¸Šæ˜æ˜æ˜¯çƒ«æ‰‹å±±èŠ‹ ä»æ‰€æœ‰å¯èƒ½çš„è·¯ç”±ä¸­é€‰æ‹©åˆ°å¼€å§‹è¯¥è·¯ç”±çš„NEXT-HOPè·¯ç”±å™¨å…·æœ‰æœ€å°å¼€é”€çš„è·¯ç”±è·¯ç”±å™¨å°½å¯èƒ½å¿«åœ°å°†åˆ†ç»„é€å‡ºå…¶ASï¼Œè€Œä¸æ‹…å¿ƒASå¤–éƒ¨åˆ°ç›®çš„åœ°çš„ä½™ä¸‹éƒ¨åˆ†çš„å¼€é”€å¯¹äºåœ¨ç›¸åŒASä¸­çš„ä¸¤å°è·¯ç”±å™¨ï¼Œå¯èƒ½å¯¹ç›¸åŒå‰ç¼€é€‰æ‹©ä¸¤æ¡ä¸åŒçš„ASè·¯å¾„ è·¯ç”±é€‰æ‹©ç®—æ³•è¾“å…¥ï¼šåˆ°æŸå‰ç¼€çš„æ‰€æœ‰è·¯ç”±çš„é›†åˆ å½“æœ‰å¤šæ¡è·¯ç”±æ—¶ï¼Œé¡ºåºè°ƒç”¨ä»¥ä¸‹æ¶ˆé™¤è§„åˆ™ï¼š è·¯ç”±è¢«æŒ‡æ´¾ä¸€ä¸ªæœ¬åœ°åå¥½å€¼å±æ€§ã€‚è¯¥å±æ€§ä¸ºç­–ç•¥å†³å®šï¼Œå–å†³äºç½‘ç®¡ï¼Œé«˜çš„è¢«ä¼˜å…ˆé€‰æ‹©ï¼ˆå¯èƒ½ä¼šæœ‰å¤šæ¡ï¼‰ã€‚ ä»ä½™ä¸‹çš„è·¯ç”±ä¸­é€‰æ‹©å…·æœ‰æœ€çŸ­AS-PATHçš„è·¯ç”±ã€‚å¦‚æœè¿™æ˜¯å”¯ä¸€è·¯ç”±é€‰æ‹©è§„åˆ™ï¼Œä½¿ç”¨DVç®—æ³•å†³å®šè·¯å¾„ï¼Œå…¶ä¸­è·ç¦»æµ‹åº¦ä¸ºASè·³çš„è·³æ•°ã€‚ ä»ä½™ä¸‹çš„è·¯ç”±ä¸­ä½¿ç”¨çƒ­åœŸè±†è·¯ç”±é€‰æ‹©ï¼Œå³æœ€é è¿‘NEXT-HOPè·¯ç”±å™¨çš„è·¯ç”± å¦‚æœä»ç•™ä¸‹å¤šæ¡è·¯ç”±ï¼Œä½¿ç”¨BGPæ ‡è¯†ç¬¦æ¥é€‰æ‹©è·¯ç”± IPä»»æ’­é€šå¸¸ç”¨äºDNSä¸­DNSæœåŠ¡å™¨ä¸ºå¤šå°æœåŠ¡å™¨æŒ‡æ´¾ç›¸åŒçš„IPåœ°å€ï¼Œå¹¶ä¸”ä½¿ç”¨æ ‡å‡†çš„BGPä»è¿™äº›æœåŠ¡å™¨æ¥é€šå‘Šè¯¥IPåœ°å€ã€‚å½“æŸå°BGPè·¯ç”±å™¨æ”¶åˆ°å¯¹äºè¯¥IPåœ°å€çš„å¤šä¸ªè·¯ç”±é€šå‘Šï¼Œå®ƒå°†è¿™äº›é€šå‘Šå¤„ç†ä¸ºå¯¹ç›¸åŒçš„ç‰©ç†ä½ç½®æä¾›ä¸åŒçš„è·¯å¾„ã€‚å½“é…ç½®å…¶è·¯ç”±è¡¨æ—¶ï¼Œæ¯å°è·¯ç”±å™¨å°†æœ¬åœ°åŒ–åœ°ä½¿ç”¨BGPè·¯ç”±é€‰æ‹©ç®—æ³•æ¥æŒ‘é€‰åˆ°è¯¥IPåœ°å€çš„â€œæœ€å¥½çš„â€è·¯ç”±ã€‚æ— è®ºå®¢æˆ·ä½äºä½•å¤„ï¼Œå½“æƒ³å‘DNSæœåŠ¡å™¨çš„æŸä¸ªIPåœ°å€å‘é€ä¸€ä¸ªè¯·æ±‚æ—¶ï¼Œå› ç‰¹ç½‘è·¯ç”±å™¨åˆ™å‘é‚£ä¸ªâ€œæœ€è¿‘çš„â€æœåŠ¡å™¨è½¬å‘è¯¥è¯·æ±‚åˆ†ç»„ï¼Œæœ€è¿‘çš„æœåŠ¡å™¨æ˜¯æœ‰BGPè·¯ç”±é€‰æ‹©ç®—æ³•æ‰€å®šä¹‰çš„ã€‚ è·¯ç”±é€‰æ‹©ç­–ç•¥å¤šå®¿æ¥å…¥ISPï¼šç»ç”±ä¸¤ä¸ªä¸åŒçš„ISPè¿æ¥åˆ°ç½‘ç»œçš„å…¶ä½™éƒ¨åˆ†çš„ç»éªŒæ³•åˆ™ï¼šä»»ä½•ç©¿è¶ŠæŸISPä¸»å¹²ç½‘çš„æµé‡å¿…é¡»æ˜¯å…¶æºæˆ–ç›®çš„ï¼ˆæˆ–ä¸¤è€…ï¼‰ä½äºè¯¥ISPçš„æŸä¸ªå®¢æˆ·ç½‘ç»œä¸­ 5.6 ICMPå› ç‰¹ç½‘æ§åˆ¶æŠ¥æ–‡åè®® ICMPæŠ¥æ–‡ ç”¨äºä¸»æœºå’Œè·¯ç”±å™¨å½¼æ­¤æ²Ÿé€šç½‘ç»œå±‚ä¿¡æ¯ æ‰¿è½½åœ¨IPåˆ†ç»„ä¸­ ç±»å‹å­—æ®µ+ç¼–ç å­—æ®µï¼Œå¹¶ä¸”åŒ…å«å¼•èµ·è¯¥ICMPæŠ¥æ–‡é¦–æ¬¡ç”Ÿæˆçš„IPæ•°æ®æŠ¥çš„é¦–éƒ¨å’Œå‰8ä¸ªå­—èŠ‚ ping å‘é€ä¸€ä¸ªICMPç±»å‹8ç¼–ç 0ï¼ˆå›æ˜¾è¯·æ±‚ï¼‰åˆ°æŒ‡å®šä¸»æœº ç›®çš„ä¸»æœºå‘å›ä¸€ä¸ªç±»å‹0ç¼–ç 0çš„ICMPå›æ˜¾åº”ç­” traceroute è·Ÿè¸ªä»ä¸€å°ä¸»æœºåˆ°ä¸–ç•Œä¸Šä»»æ„ä¸€å°ä¸»æœºä¹‹é—´çš„è·¯ç”± æºä¸»æœºå‘é€ä¸€äº›åˆ—æ•°æ®æŠ¥ï¼Œæ¯ä¸ªéƒ½æºå¸¦ä¸€ä¸ªå…·æœ‰ä¸å¯è¾¾UDPç«¯å£å·çš„UDPæŠ¥æ–‡æ®µï¼Œä¸”ç¬¬$n$ä¸ªæ•°æ®æŠ¥çš„TTLä¸º$n$ ç¬¬$n$å°è·¯ç”±å™¨ä¸¢å¼ƒè¯¥æ•°æ®æŠ¥å¹¶å‘é€ä¸€ä¸ªICMPå‘Šè­¦æŠ¥æ–‡ï¼ˆç±»å‹11ç¼–ç 0ï¼‰ç»™æºä¸»æœº ç›®çš„ä¸»æœºä¼šå‘æºä¸»æœºå‘é€ä¸€ä¸ªç«¯å£ä¸å¯è¾¾çš„ICMPæŠ¥æ–‡ï¼ˆç±»å‹3ç¼–ç 3ï¼‰ï¼Œæºä¸»æœºæ”¶åˆ°æ—¶å°±çŸ¥é“ä¸éœ€è¦å†å‘é€å¦å¤–çš„æ¢æµ‹åˆ†ç»„ã€‚ CH3 è¿è¾“å±‚è¿è¾“å±‚ä¸ºè¿è¡Œåœ¨ä¸åŒä¸»æœºä¸Šçš„åº”ç”¨ç¨‹åºä¹‹é—´æä¾›äº†é€»è¾‘é€šä¿¡åŠŸèƒ½ã€‚é€šè¿‡é€»è¾‘é€šä¿¡ï¼Œè¿è¡Œä¸åŒè¿›ç¨‹çš„ä¸»æœºå¥½åƒç›´æ¥ç›¸è¿ä¸€æ ·ã€‚åº”ç”¨è¿›ç¨‹ä½¿ç”¨è¿è¾“å±‚æä¾›çš„é€»è¾‘é€šä¿¡åŠŸèƒ½å½¼æ­¤å‘é€æŠ¥æ–‡ï¼Œè€Œæ— é¡»è€ƒè™‘æ‰¿è½½è¿™äº›æŠ¥æ–‡çš„ç‰©ç†åŸºç¡€è®¾æ–½çš„ç»†èŠ‚ã€‚ è¿è¾“å±‚åªå·¥ä½œåœ¨ç«¯ç³»ç»Ÿä¸­ã€‚åœ¨ç«¯ç³»ç»Ÿä¸­ï¼Œè¿è¾“å±‚åè®®å°†æ¥è‡ªåº”ç”¨è¿›ç¨‹çš„æŠ¥æ–‡ç§»åŠ¨åˆ°ç½‘ç»œè¾¹ç¼˜ï¼ˆå³ç½‘ç»œå±‚ï¼‰ã€‚è¿è¾“å±‚èƒ½å¤Ÿæä¾›çš„æœåŠ¡å¸¸å¸¸å—åˆ¶äºåº•å±‚ç½‘ç»œåè®®çš„æœåŠ¡æ¨¡å‹ï¼ˆå¸¦å®½æ—¶å»¶ç­‰ï¼‰ï¼Œä½†åº•å±‚ç½‘ç»œåè®®ä¸å¯é ã€éæœºå¯†æ€§çš„æƒ…å†µä¸‹ï¼Œè¿è¾“å±‚ä¹Ÿèƒ½æä¾›å¯é æ€§å’Œæœºå¯†æ€§ã€‚ UDPå’ŒTCPæœ€åŸºæœ¬çš„è´£ä»»æ˜¯ï¼šå°†ä¸¤ä¸ªç«¯ç³»ç»Ÿé—´IPçš„äº¤ä»˜æœåŠ¡æ‰©å±•ä¸ºè¿è¡Œåœ¨ç«¯ç³»ç»Ÿä¸Šçš„ä¸¤ä¸ªè¿›ç¨‹ä¹‹é—´çš„äº¤ä»˜æœåŠ¡ã€‚å°†ä¸»æœºé—´äº¤ä»˜æ‰©å±•åˆ°è¿›ç¨‹é—´äº¤ä»˜è¢«ç§°ä¸ºè¿è¾“å±‚çš„å¤šè·¯å¤ç”¨ä¸å¤šè·¯åˆ†è§£ç½‘ç»œå±‚ï¼šä¸»æœº$\\Leftrightarrow$ä¸»æœºè¿è¾“å±‚ï¼šè¿›ç¨‹$\\Leftrightarrow$è¿›ç¨‹ å¤šè·¯å¤ç”¨å’Œå¤šè·¯åˆ†è§£è¿›ç¨‹ä½¿ç”¨å¥—æ¥å­—ä½œä¸ºä¸ç½‘ç»œäº¤äº’æ•°æ®çš„é—¨æˆ·ï¼Œè¿è¾“å±‚å°†æ•°æ®äº¤ä»˜ç»™å¥—æ¥å­—ã€‚æ¯ä¸ªå¥—æ¥å­—æœ‰å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œæ ‡è¯†ç¬¦æ ¼å¼å–å†³äºå®ƒæ˜¯UDPè¿˜æ˜¯TCPå¥—æ¥å­—ã€‚ æ¯ä¸ªè¿è¾“å±‚æŠ¥æ–‡æ®µä¸­å…·æœ‰å‡ ä¸ªå­—æ®µã€‚å¤šè·¯åˆ†è§£ï¼šï¼ˆæ‹†åŒ…ï¼‰å°†è¿è¾“å±‚æŠ¥æ–‡æ®µä¸­çš„æ•°æ®äº¤ä»˜åˆ°æ­£ç¡®çš„å¥—æ¥å­—å¤šè·¯å¤ç”¨ï¼šï¼ˆæ‰“åŒ…ï¼‰ä»æºä¸»æœºçš„ä¸åŒå¥—æ¥å­—ä¸­æ”¶é›†æ•°æ®å—ï¼Œå¹¶ä¸ºæ¯ä¸ªæ•°æ®å—å°ä¸Šé¦–éƒ¨ä¿¡æ¯ä»è€Œç”ŸæˆæŠ¥æ–‡æ®µï¼Œç„¶åå°†æŠ¥æ–‡æ®µä¼ é€’åˆ°ç½‘ç»œå±‚ å¥—æ¥å­—è¦æœ‰å”¯ä¸€æ ‡è¯†ç¬¦ã€æ¯ä¸ªæŠ¥æ–‡æ®µæœ‰ç‰¹æ®Šå­—æ®µæ¥åªæ˜¯è¯¥æŠ¥æ–‡æ®µæ‰€è¦äº¤ä»˜åˆ°çš„å¥—æ¥å­—ï¼Œç‰¹æ®Šå­—æ®µå³æºç«¯å£å·å­—æ®µ&amp;ç›®çš„ç«¯å£å·å­—æ®µ ç«¯å£å· 16æ¯”ç‰¹æ•°ï¼Œå¤§å°åœ¨0~65535 0~1023ç§°ä¸ºå‘¨çŸ¥ç«¯å£å·ï¼Œä¿ç•™ç»™æ³¨å…¥HTTPï¼ˆ80ï¼‰å’ŒFTPï¼ˆ21ï¼‰ä¹‹ç±»çš„å‘¨çŸ¥åº”ç”¨å±‚åè®® å¼€å‘æ–°åº”ç”¨ç¨‹åºæ—¶å¿…é¡»ä¸ºå…¶åˆ†é…ä¸€ä¸ªç«¯å£å· UDPçš„å¤šè·¯å¤ç”¨ä¸å¤šè·¯åˆ†è§£åˆ›å»ºå¥—æ¥å­—æ—¶ï¼Œç«¯å£å·æœ‰ä¸¤ç§äº§ç”Ÿæ–¹å¼ï¼š è¿è¾“å±‚è‡ªåŠ¨ä¸ºå¥—æ¥å­—åˆ†é…ä¸€ä¸ªç«¯å£å·ï¼Œä»1024~65535å†…é€‰æ‹©ä¸€ä¸ªå½“å‰æœªè¢«è¯¥ä¸»æœºä¸­ä»»ä½•å…¶ä»–UDPç«¯å£ä½¿ç”¨çš„å· é€šè¿‡å¥—æ¥å­—bind()(Python)æ–¹æ³•ä¸ºè¿™ä¸ªUDPå¥—æ¥å­—å…³è”ä¸€ä¸ªç‰¹å®šçš„ç«¯å£å·é€šå¸¸åº”ç”¨ç¨‹åºè‡ªåŠ¨ï¼ŒæœåŠ¡å™¨æ‰‹åŠ¨ ä¸€ä¸ªUDPå¥—æ¥å­—æ˜¯ç”±ä¸€ä¸ªäºŒå…ƒç»„å…¨é¢æ ‡è¯†çš„ï¼Œè¯¥äºŒå…ƒç»„åŒ…å«ä¸€ä¸ªç›®çš„IPåœ°å€å’Œä¸€ä¸ªç›®çš„ç«¯å£å·ã€‚å› æ­¤åªè¦ä¸¤ä¸ªUDPæŠ¥æ–‡æ®µå…·æœ‰ç›¸åŒçš„ç›®çš„IPåœ°å€å’Œç›®çš„ç«¯å£å·ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªæŠ¥æ–‡æ®µå°†é€šè¿‡ç›¸åŒçš„ç›®çš„å¥—æ¥å­—è¢«å®šå‘åˆ°ç›¸åŒçš„ç›®çš„è¿›ç¨‹ã€‚ æºç«¯å£å·ç”¨äºæ¥æ”¶æ–¹å‘å›ç»™å‘é€æ–¹ TCPçš„å¤šè·¯å¤ç”¨ä¸å¤šè·¯åˆ†è§£TCPå¥—æ¥å­—ç”±å››å…ƒç»„ï¼ˆæºIPåœ°å€ã€æºç«¯å£å·ã€ç›®çš„IPåœ°å€ã€ç›®çš„ç«¯å£å·ï¼‰æ¥æ ‡è¯†ä¸UDPä¸åŒï¼Œä¸¤ä¸ªä¸åŒæºIPå’Œæˆ–æºç«¯å£å·çš„TCPæŠ¥æ–‡æ®µå°†è¢«å®šå‘åˆ°ä¸¤ä¸ªä¸åŒçš„å¥—æ¥å­—ï¼Œé™¤éTCPæŠ¥æ–‡æ®µæºå¸¦äº†åˆå§‹åˆ›å»ºè¿æ¥çš„è¯·æ±‚ TCPæœåŠ¡å™¨åº”ç”¨ç¨‹åºæœ‰ä¸€ä¸ªâ€œæ¬¢è¿å¥—æ¥å­—â€ï¼Œåœ¨æŸä¸ªç‰¹å®šç«¯å£ä¸Šç­‰å¾…æ¥è‡ªTCPå®¢æˆ·çš„è¿æ¥å»ºç«‹è¯·æ±‚ TCPå®¢æˆ·åˆ›å»ºä¸€ä¸ªå¥—æ¥å­—å¹¶å‘é€ä¸€ä¸ªè¿æ¥å»ºç«‹è¯·æ±‚æŠ¥æ–‡æ®µ ä¸€æ¡è¿æ¥å»ºç«‹è¯·æ±‚åªä¸è¿‡æ˜¯ä¸€ä¸ªç›®çš„ç«¯å£å·ä¸º12000ï¼ŒTCPé¦–éƒ¨çš„ç‰¹å®šâ€œè¿æ¥å»ºç«‹ä½â€ç½®ä½çš„TCPæŠ¥æ–‡æ®µï¼Œè¿™ä¸ªæŠ¥æ–‡æ®µä¹ŸåŒ…å«ä¸€ä¸ªç”±å®¢æˆ·é€‰æ‹©çš„æºç«¯å£å· å½“è¿è¡ŒæœåŠ¡å™¨è¿›ç¨‹çš„è®¡ç®—æœºçš„ä¸»æœºæ“ä½œç³»ç»Ÿæ¥æ”¶åˆ°å…·æœ‰ç›®çš„ç«¯å£å·ä¸º12000çš„å…¥è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µåï¼Œå®ƒå°±å®šä½æœåŠ¡å™¨è¿›ç¨‹ï¼Œè¯¥è¿›ç¨‹æ­£åœ¨ç«¯å£å·12000ç­‰å¾…æ¥æ”¶è¿æ¥ã€‚è¯¥æœåŠ¡å™¨è¿›ç¨‹ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å¥—æ¥å­—ã€‚ æ–°åˆ›å»ºçš„æŠ¥æ–‡è®¾ç½®å¥½4ä¸ªæ ‡è¯†ç¬¦ï¼Œä¹‹åçš„æŠ¥æ–‡æ®µæŒ‰ç…§è¿™4ä¸ªæ ‡è¯†ç¬¦æ¥å®šå‘ã€‚ æœåŠ¡å™¨ä¸»æœºæ”¯æŒå¾ˆå¤šå¹¶è¡Œçš„TCPå¥—æ¥å­—ï¼Œæ¯ä¸ªå¥—æ¥å­—ä¸ä¸€ä¸ªè¿›ç¨‹ç›¸è”ç³»ã€‚ è¿æ¥å¥—æ¥å­—ä¸è¿›ç¨‹ä¹‹é—´å¹¶éæ€»æ˜¯æœ‰ç€ä¸€ä¸€å¯¹åº”çš„å…³ç³»ï¼ˆçº¿ç¨‹ æ— è¿æ¥è¿è¾“ï¼šUDPå‘é€æ–¹å’Œæ¥æ”¶æ–¹çš„è¿è¾“å±‚å®ä½“ä¹‹é—´æ²¡æœ‰æ¡æ‰‹â€”â€”æ— è¿æ¥çš„ e.g.DNSé€šå¸¸ä½¿ç”¨UDPåº”ç”¨å±‚åè®® UDPçš„ä¼˜ç‚¹ å…³äºå‘é€ä»€ä¹ˆæ•°æ®ä»¥åŠä½•æ—¶å‘é€çš„åº”ç”¨å±‚æ§åˆ¶æ›´ä¸ºç²¾ç»†ã€‚ å®æ—¶åº”ç”¨é€šå¸¸è¦æ±‚æœ€å°å‘é€é€Ÿç‡ï¼Œä¸å¸Œæœ›è¿‡åˆ†åœ°å»¶è¿ŸæŠ¥æ–‡æ®µçš„ä¼ é€ï¼Œä¸”èƒ½å®¹å¿ä¸€äº›æ•°æ®ä¸¢å¤± æ— é¡»è¿æ¥å»ºç«‹ï¼Œä¸ä¼šå¼•å…¥å»ºç«‹è¿æ¥çš„æ—¶å»¶ æ— è¿æ¥çŠ¶æ€ï¼ŒèŠ‚çº¦å­˜å‚¨ç©ºé—´ï¼Œå¯ä»¥æ”¯æŒæ›´å¤šæ´»è·ƒç”¨æˆ·ã€‚ åˆ†ç»„é¦–éƒ¨å¼€é”€å°ï¼ŒTCP20å­—èŠ‚ï¼ŒUDP8è‡ªå·± UDPæŠ¥æ–‡æ®µç»“æ„ æºç«¯å£å·/ç›®çš„ç«¯å£å·ï¼ˆå„16æ¯”ç‰¹ï¼‰ é•¿åº¦ï¼ˆ16æ¯”ç‰¹ï¼‰ï¼šé¦–éƒ¨+æ•°æ®çš„å­—èŠ‚æ•° æ£€éªŒå’Œ åº”ç”¨æ•°æ® UDPæ£€éªŒå’Œå®é™…åŒ…æ‹¬ä¸€äº›IPé¦–éƒ¨å­—æ®µï¼Œæ­¤å¤„å¿½ç•¥ 16æ¯”ç‰¹å­—çš„åç è¿ç®—ï¼Œæ±‚å’Œæ—¶é‡åˆ°çš„ä»»ä½•æº¢å‡ºéƒ½è¢«å›å·ï¼ˆåŠ åˆ°æœ«å°¾å»ï¼‰è¯¦è§ä½œä¸šé¢˜CH6 P3 ç«¯åˆ°ç«¯åŸåˆ™ï¼šå¦‚æœç«¯åˆ°ç«¯ä¼ è¾“æœåŠ¡è¦æä¾›å·®é”™æ£€æµ‹ï¼ŒUDPå°±å¿…é¡»åœ¨ç«¯åˆ°ç«¯åŸºç¡€ä¸Šåœ¨è¿è¾“å±‚æä¾›å·®é”™æ£€æµ‹â€œä¸åœ¨è¾ƒé«˜çº§åˆ«æä¾›è¿™äº›åŠŸèƒ½çš„ä»£ä»·ç›¸æ¯”ï¼Œåœ¨è¾ƒä½çº§åˆ«ä¸Šè®¾ç½®çš„åŠŸèƒ½å¯èƒ½æ˜¯å†—ä½™çš„æˆ–å‡ ä¹æ²¡æœ‰ä»·å€¼çš„â€ ä¸è¿›è¡Œå·®é”™æ¢å¤ï¼Œåªèƒ½ä¸¢å¼ƒ/äº¤ç»™åº”ç”¨ç¨‹åºå¹¶å‘å‡ºè­¦å‘Š å¯é æ•°æ®ä¼ è¾“åŸç†å¯é æ•°æ®ä¼ è¾“åè®®æœåŠ¡æŠ½è±¡ï¼šæ•°æ®é€šè¿‡å¯é ä¿¡é“ä¼ è¾“ï¼Œä¼ è¾“æ•°æ®æ¯”ç‰¹ä¸ä¼šå—åˆ°æŸåæˆ–ä¸¢å¤±ï¼Œè€Œä¸”æ‰€æœ‰æ•°æ®éƒ½æ˜¯æŒ‰ç…§å…¶å‘é€é¡ºåºè¿›è¡Œäº¤ä»˜ å‰æå‡è®¾ï¼šåº•å±‚ä¿¡é“ä¸ä¼šå¯¹åˆ†ç»„é‡æ’åº æ„é€ å¯é æ•°æ®ä¼ è¾“åè®®è‚¯å®šç¡®è®¤(ACK), å¦å®šç¡®è®¤(NAK)è‡ªåŠ¨é‡ä¼ è¯·æ±‚(ARQ)åœç­‰åè®®ï¼šé™¤éå‘é€æ–¹ç¡®ä¿¡æ¥æ”¶æ–¹å·²ç»æ­£ç¡®æ¥æ”¶å½“å‰åˆ†ç»„ï¼Œå¦åˆ™å‘é€æ–¹å°†ä¸ä¼šå‘é€ä¸€å—æ–°æ•°æ®ä¸€ä¸ªACKä¸¢å¤±ã€æˆ–è€…åªæ˜¯è¯¥åˆ†ç»„æˆ–ACKè¿‡åº¦å»¶æ—¶ï¼Œå‘é€æ–¹éƒ½è¿›è¡Œé‡ä¼ æ¯”ç‰¹äº¤æ›¿åè®®ï¼šrdt3.0 æµæ°´çº¿å¯é æ•°æ®ä¼ è¾“åè®® åœç­‰åè®®ï¼šå‘é€æ–¹åˆ©ç”¨ç‡ä½ U_{\\text{sender}}=\\frac{L/R}{RTT+L/R}æµæ°´çº¿ï¼šä¸ä»¥åœç­‰æ–¹å¼è¿è¡Œï¼Œå…è®¸å‘é€æ”¾å‘é€å¤šä¸ªåˆ†ç»„è€Œæ— é¡»ç­‰å¾…ç¡®è®¤ å›é€€Næ­¥ï¼ˆGBNï¼‰$N$ï¼šåœ¨æµæ°´çº¿ä¸­æœªç¡®è®¤åˆ†ç»„æ•°çš„æœ€å¤§å…è®¸æ•° baseï¼šæœ€æ—©æœªç¡®è®¤åˆ†ç»„çš„åºå· nextseqnum: æœ€å°çš„æœªä½¿ç”¨åºå·ï¼ˆå³ä¸‹ä¸€ä¸ªå¾…å‘åˆ†ç»„çš„åºå· GBNä¹Ÿç§°æ»‘åŠ¨çª—å£åè®®ï¼Œ$N$ä¹Ÿè¢«ç§°ä¸ºçª—å£é•¿åº¦ åˆ†ç»„åºå·ç”¨$k$ä½è¡¨ç¤ºï¼Œæ‰€æœ‰æ¶‰åŠåºå·çš„è¿ç®—é‡‡ç”¨æ¨¡$2^k$è¿ç®— GBNå‘é€æ–¹å¿…é¡»å“åº”ä¸‰ç§ç±»å‹çš„äº‹ä»¶ï¼š ä¸Šå±‚çš„è°ƒç”¨ æ”¶åˆ°ä¸€ä¸ªACKã€‚ ç´¯ç§¯ç¡®è®¤ è¶…æ—¶äº‹ä»¶ã€‚å‘é€æ–¹é‡ä¼ æ‰€æœ‰å·²å‘é€å•æœªè¢«ç¡®è®¤è¿‡çš„åˆ†ç»„ã€‚ GBNæ¥æ”¶æ–¹ï¼š å¦‚æœæ­£ç¡®æ¥åˆ°ä¸€ä¸ªæŒ‰åºåˆ†ç»„ï¼Œåˆ™ä¸ºè¯¥åˆ†ç»„å‘é€ä¸€ä¸ªACK å¦åˆ™ä¸¢å¼ƒè¯¥åˆ†ç»„ï¼Œå¹¶ä¸ºæœ€è¿‘æŒ‰åºæ¥æ”¶çš„ä¸€ä¸ªåˆ†ç»„é‡æ–°å‘é€ACK ä¸¢å¼ƒæ‰€æœ‰å¤±åºåˆ†ç»„ å‘é€æ–¹ç»´æŠ¤çª—å£çš„ä¸Šä¸‹è¾¹ç•ŒåŠnextseqnumåœ¨è¯¥çª—å£ä¸­çš„ä½ç½® æ¥æ”¶æ–¹ç»´æŠ¤ä¸‹ä¸€ä¸ªæŒ‰åºæ¥æ”¶çš„åˆ†ç»„çš„åºå·(expectedseqnum) é—®é¢˜ï¼šå•ä¸ªåˆ†ç»„çš„å·®é”™å°±èƒ½å¼•èµ·é‡ä¼ å¤§é‡åˆ†ç»„ï¼Œè®¸å¤šåˆ†ç»„æ ¹æœ¬æ²¡æœ‰å¿…è¦é‡ä¼  é€‰æ‹©é‡ä¼ ï¼ˆSRï¼‰å‘é€æ–¹ï¼š ä»ä¸Šå±‚æ”¶åˆ°æ•°æ®ã€‚æ£€æŸ¥ä¸‹ä¸€ä¸ªå¯ç”¨äºè¯¥åˆ†ç»„çš„åºå·ï¼Œå¦‚æœåºå·ä½äºå‘é€æ–¹çª—å£å†…ï¼Œåˆ™å°†æ•°æ®æ‰“åŒ…å‘é€ã€‚ è¶…æ—¶ã€‚æ¯ä¸ªåˆ†ç»„æœ‰è‡ªå·±çš„é€»è¾‘å®šæ—¶å™¨ï¼Œè¶…æ—¶å‘ç”Ÿååªå‘é€ä¸€ä¸ªåˆ†ç»„ã€‚ æ”¶åˆ°ACKã€‚å¦‚æœæ”¶åˆ°ACKçš„åºå·åœ¨çª—å£å†…ï¼Œåˆ™SRå‘é€æ–¹å°†é‚£ä¸ªè¢«ç¡®è®¤çš„åˆ†ç»„æ ‡è®°ä¸ºå·²æ¥æ”¶ã€‚å¦‚æœè¯¥åˆ†ç»„åºå·ç­‰äºsend baseï¼Œåˆ™çª—å£åŸºåºå·å‘å‰ç§»åŠ¨åˆ°å…·æœ‰æœ€å°åºå·çš„æœªç¡®è®¤åˆ†ç»„å¤„ã€‚å¦‚æœçª—å£ç§»åŠ¨äº†å¹¶ä¸”æœ‰åºå·è½åœ¨çª—å£å†…çš„æœªå‘é€åˆ†ç»„ï¼Œåˆ™å‘é€è¿™äº›åˆ†ç»„ã€‚ æ¥æ”¶æ–¹ï¼š åºå·åœ¨$[$rcv_base, rcv_base+$N$-1$]$å†…çš„åˆ†ç»„è¢«æ­£ç¡®æ¥æ”¶ã€‚åœ¨æ­¤æƒ…å†µä¸‹ï¼Œæ”¶åˆ°çš„åˆ†ç»„è½åœ¨æ¥æ”¶æ–¹çš„çª—å£å†…ï¼Œä¸€ä¸ªé€‰æ‹©ACKè¢«ä¼šé€ç»™å‘é€æ–¹ã€‚å¦‚æœè¯¥åˆ†ç»„ä»¥å‰æ²¡æ”¶åˆ°è¿‡ï¼Œåˆ™ç¼“å­˜è¯¥åˆ†ç»„ã€‚å¦‚æœè¯¥åˆ†ç»„çš„åºå·ç­‰äºæ¥æ”¶çª—å£çš„åŸºåºå·ï¼Œåˆ™è¯¥åˆ†ç»„ä»¥åŠä»¥å‰ç¼“å­˜çš„åºå·è¿ç»­çš„åˆ†ç»„äº¤ä»˜ç»™ä¸Šå±‚ã€‚ç„¶åï¼Œæ¥æ”¶çª—å£æŒ‰å‘å‰ç§»åŠ¨åˆ†ç»„çš„ç¼–å·å‘ä¸Šäº¤ä»˜è¿™äº›åˆ†ç»„ã€‚ åºå·åœ¨$[$rcv_bas-$N$, rcv_base-1$]$å†…çš„åˆ†ç»„è¢«æ­£ç¡®æ”¶åˆ°ã€‚å¿…é¡»äº§ç”Ÿä¸€ä¸ªACKï¼Œå³ä½¿è¯¥åˆ†ç»„æ˜¯æ¥æ”¶æ–¹ä»¥å‰å·²ç¡®è®¤è¿‡çš„åˆ†ç»„ã€‚ï¼ˆå¦‚æœä¸ç¡®è®¤ï¼Œåˆ™å‘é€çª—å£å°†æ°¸è¿œä¸èƒ½å‘å‰æ»‘åŠ¨ï¼‰ å…¶ä»–æƒ…å†µã€‚å¿½ç•¥è¯¥åˆ†ç»„ã€‚ SRæ¥æ”¶æ–¹å°†ç¡®è®¤ä¸€ä¸ªæ­£ç¡®æ¥æ”¶çš„åˆ†ç»„è€Œä¸ç®¡å…¶æ˜¯å¦æŒ‰åºã€‚å¤±åºçš„åˆ†ç»„å°†è¢«ç¼“å­˜ç›´åˆ°æ‰€æœ‰ä¸¢å¤±åˆ†ç»„çš†è¢«æ”¶åˆ°ä¸ºæ­¢ã€‚ SRåè®®å¯¹äºå“ªäº›åˆ†ç»„å·²ç»è¢«æ­£ç¡®æ¥æ”¶ï¼Œå“ªäº›æ²¡æœ‰ï¼Œå‘é€æ–¹å’Œæ¥æ”¶æ–¹å¹¶ä¸æ€»æ˜¯èƒ½çœ‹åˆ°ç›¸åŒçš„ç»“æœã€‚å‘é€æ–¹å’Œæ¥æ”¶æ–¹çš„çª—å£å¹¶ä¸æ€»æ˜¯ä¸€è‡´ã€‚ çª—å£é•¿åº¦å¿…é¡»å°äºç­‰äºåºå·ç©ºé—´å¤§å°çš„ä¸€åŠã€‚ è€ƒè™‘åˆ†ç»„é‡æ’ å½“è¿æ¥ä¸¤ç«¯çš„ä¿¡é“æ˜¯ä¸€ä¸ªç½‘ç»œæ—¶ä¼šå‘ç”Ÿ ä¿¡é“å¯ä»¥çœ‹æˆåŸºæœ¬ä¸Šæ˜¯åœ¨ç¼“å­˜åˆ†ç»„ï¼Œå¹¶åœ¨å°†æ¥ä»»æ„æ—¶åˆ»è‡ªç„¶åœ°é‡Šæ”¾å‡ºè¿™äº›åˆ†ç»„ã€‚ é€šè¿‡å‡å®šä¸€ä¸ªåˆ†ç»„åœ¨ç½‘ç»œä¸­â€œå­˜æ´»â€çš„æ—¶é—´ä¸ä¼šè¶…è¿‡æŸä¸ªå›ºå®šæœ€å¤§æ—¶é—´é‡æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚ é¢å‘è¿æ¥çš„è¿è¾“ï¼šTCPTCPè¿æ¥ä¸¤ä¸ªè¿›ç¨‹åœ¨å‘é€æ•°æ®ä¹‹å‰å¿…é¡»å…ˆç›¸äº’â€œæ¡æ‰‹â€ï¼Œå³å®ƒä»¬å¿…é¡»äº’ç›¸å‘é€æŸäº›é¢„å¤‡æŠ¥æ–‡æ®µï¼Œä»¥å»ºç«‹ç¡®ä¿æ•°æ®ä¼ è¾“çš„å‚æ•° TCPè¿æ¥æ˜¯ä¸€æ¡é€»è¾‘è¿æ¥ï¼Œå…¶å…±åŒçŠ¶æ€ä»…ä¿ç•™åœ¨ä¸¤ä¸ªé€šä¿¡ç«¯ç³»ç»Ÿçš„TCPç¨‹åºä¸­ï¼Œä¸­é—´ç½‘ç»œå…ƒç´ ä¸ä¼šç»´æŒTCPè¿æ¥çŠ¶æ€ã€‚ å…¨åŒå·¥æœåŠ¡ï¼ˆfull-duplex serviceï¼‰ï¼šå¦‚æœè¿›ç¨‹Aä¸è¿›ç¨‹Bå­˜åœ¨ä¸€æ¡TCPè¿æ¥ï¼Œåˆ™åº”ç”¨å±‚æ•°æ®å¯ä»¥åœ¨è¿™ä¸¤å°ä¸»æœºé—´åŒå‘æµåŠ¨ ç‚¹å¯¹ç‚¹ï¼šå•ä¸ªå‘é€æ–¹ä¸å•ä¸ªæ¥æ”¶æ–¹ä¹‹é—´çš„è¿æ¥ å‘èµ·è¿æ¥çš„ç§°ä¸ºå®¢æˆ·è¿›ç¨‹ï¼Œå¦ä¸€ä¸ªè¿›ç¨‹è¢«ç§°ä¸ºæœåŠ¡å™¨è¿æ¥ å®¢æˆ·è¿›ç¨‹é€šè¿‡å¥—æ¥å­—ï¼ˆè¯¥è¿›ç¨‹ä¹‹é—¨ï¼‰ä¼ é€’æ•°æ®æµï¼ŒTCPå°†è¿™äº›æ•°æ®å¼•å¯¼åˆ°è¯¥è¿æ¥çš„å‘é€ç¼“å­˜é‡Œ TCPä¼šæ—¶ä¸æ—¶ä»å‘é€ç¼“å­˜é‡Œå–å‡ºä¸€å—æ•°æ®ï¼Œå¹¶å°†æ•°æ®ä¼ é€’åˆ°ç½‘ç»œå±‚ TCPå¯æ”¾å…¥æŠ¥æ–‡æ®µçš„æœ€å¤§æ•°æ®æ•°é‡å—é™äºæœ€å¤§æŠ¥æ–‡æ®µé•¿åº¦(MSS) MSSé€šå¸¸æ ¹æ®æœ€åˆç¡®å®šçš„ç”±æœ¬åœ°å‘é€ä¸»æœºçš„æœ€å¤§é“¾è·¯å±‚å¸§é•¿åº¦ï¼ˆæœ€å¤§ä¼ è¾“å•å…ƒMTUï¼‰æ¥è®¾ç½® MSSè¦ä¿è¯ä¸€ä¸ªTCPæŠ¥æ–‡æ®µ+TCP/IPé¦–éƒ¨é•¿åº¦ï¼ˆé€šå¸¸40å­—èŠ‚ï¼‰å°äºç­‰äºå•ä¸ªé“¾è·¯å±‚å¸§é•¿åº¦ MSSæŒ‡æŠ¥æ–‡æ®µé‡Œåº”ç”¨å±‚æ•°æ®çš„æœ€å¤§é•¿åº¦ï¼Œä¸åŒ…æ‹¬é¦–éƒ¨ TCPåœ¨å¦ä¸€ç«¯æ¥æ”¶åˆ°æŠ¥æ–‡æ®µåï¼Œè¯¥æŠ¥æ–‡æ®µçš„æ•°æ®å°±è¢«æ”¾å…¥è¯¥TCPè¿æ¥çš„æ¥æ”¶ç¼“å­˜ä¸­ TCPè¿æ¥ç»„æˆåŒ…æ‹¬ï¼šä¸¤å°ä¸»æœºä¸Šçš„ç¼“å­˜ã€å˜é‡ä¸è¿›ç¨‹è¿æ¥çš„å¥—æ¥å­— TCPæŠ¥æ–‡æ®µç»“æ„ æºç«¯å£å·å’Œç›®çš„ç«¯å£å·ï¼ˆå„16æ¯”ç‰¹ï¼‰ åºå·å’Œç¡®è®¤å·ï¼ˆå„32æ¯”ç‰¹ï¼‰ï¼šç”¨æ¥å®ç°å¯é æ•°æ®ä¼ è¾“æœåŠ¡ æ¥æ”¶çª—å£å­—æ®µï¼ˆ16æ¯”ç‰¹ï¼‰ï¼šç”¨äºæµé‡æ§åˆ¶ï¼Œè¡¨ç¤ºæ¥æ”¶æ–¹ æ„¿æ„æ¥æ”¶çš„å­—èŠ‚æ•°é‡ é¦–éƒ¨é•¿åº¦å­—æ®µï¼ˆ4æ¯”ç‰¹ï¼‰ï¼šæŒ‡ç¤ºäº†ä»¥32æ¯”ç‰¹ä¸ºå•ä½çš„TCPé¦–éƒ¨é•¿åº¦ã€‚TCPé¦–éƒ¨é•¿åº¦å¯å˜ï¼Œä½†é€šå¸¸æ˜¯20å­—èŠ‚ã€‚ æ ‡å¿—å­—æ®µï¼ˆ6æ¯”ç‰¹ï¼‰ï¼šä¸€äº›flag ACKï¼šç”¨äºæŒ‡ç¤ºç¡®è®¤å­—æ®µä¸­çš„å€¼æ˜¯æœ‰æ•ˆçš„ RSTã€SYNã€FINï¼šç”¨äºè¿æ¥çš„å»ºç«‹å’Œæ‹†é™¤ CERã€ECEï¼šæ˜ç¡®æ‹¥å¡é€šå‘Šä¸­ä½¿ç”¨ PSHï¼šæŒ‡ç¤ºæ¥æ”¶æ–¹åº”è¯¥ç«‹å³å°†æ•°æ®äº¤ç»™ä¸Šå±‚ URGï¼šæŒ‡ç¤ºæŠ¥æ–‡æ®µé‡Œå­˜åœ¨ç€è¢«å‘é€ç«¯çš„ä¸Šå±‚å®ä½“ç½®ä¸ºâ€œç´§æ€¥çš„æ•°æ®â€ï¼Œç´§æ€¥æ•°æ®æŒ‡é’ˆæŒ‡å‡ºç´§æ€¥æ•°æ®çš„æœ€åä¸€ä¸ªå­—èŠ‚ã€‚å½“ç´§æ€¥æ•°æ®å­˜åœ¨å¹¶ç»™å‡ºç´§æ€¥æ•°æ®æŒ‡é’ˆæ—¶ï¼ŒTCPå¿…é¡»é€šçŸ¥æ¥æ”¶ç«¯çš„ä¸Šå±‚å®ä½“ã€‚ å› ç‰¹ç½‘æ£€éªŒå’Œï¼ˆ16æ¯”ç‰¹ï¼‰ å¯é€‰ä¸å˜é•¿çš„é€‰é¡¹å­—æ®µï¼šç”¨äºå‘é€æ–¹ä¸æ¥æ”¶æ–¹åå•†MSSï¼Œæˆ–åœ¨é«˜é€Ÿç½‘ç»œç¯å¢ƒä¸‹ç”¨ä½œçª—å£è°ƒèŠ‚å› å­ åºå·å’Œç¡®è®¤å·TCPæŠŠæ•°æ®çœ‹æˆæ— ç»“æ„çš„ã€æœ‰åºçš„å­—èŠ‚æµã€‚ä¸€ä¸ªæŠ¥æ–‡æ®µçš„åºå·æ˜¯è¯¥æŠ¥æ–‡æ®µé¦–å­—èŠ‚çš„å­—èŠ‚æµç¼–å·ã€‚ ä¸»æœºAå¡«å……è¿›æŠ¥æ–‡æ®µçš„ç¡®è®¤å·æ˜¯ä¸»æœºAæœŸæœ›ä»ä¸»æœºBæ”¶åˆ°çš„ä¸‹ä¸€å­—èŠ‚çš„åºå·ã€‚ TCPåªç¡®è®¤æµä¸­è‡³ç¬¬ä¸€ä¸ªä¸¢å¤±å­—èŠ‚ä¸ºæ­¢çš„å­—èŠ‚ï¼Œè¿™ä¸ªç§°ä¸ºæä¾›ç´¯è®¡ç¡®è®¤ã€‚ ä¸»æœºåœ¨ä¸€æ¡TCPè¿æ¥ä¸­æ”¶åˆ°å¤±åºæŠ¥æ–‡æ®µè§†ä¸ºUBã€‚ ä¸€æ¡TCPè¿æ¥çš„åŒæ–¹å‡å¯éšæœºåœ°é€‰æ‹©åˆå§‹å·ã€‚ å’Œï¼ˆ16æ¯”ç‰¹ï¼‰ å¯é€‰ä¸å˜é•¿çš„é€‰é¡¹å­—æ®µï¼šç”¨äºå‘é€æ–¹ä¸æ¥æ”¶æ–¹åå•†MSSï¼Œæˆ–åœ¨é«˜é€Ÿç½‘ç»œç¯å¢ƒä¸‹ç”¨ä½œçª—å£è°ƒèŠ‚å› å­ä¸¾ä¾‹ï¼šTelnetçš„å›æ˜¾ ï¼ˆè§£é‡Šè§ä¹¦p157) å¯¹å®¢æˆ·åˆ°æœåŠ¡å™¨çš„æ•°æ®çš„ç¡®è®¤è¢«è£…è½½åœ¨ä¸€ä¸ªæ‰¿è½½æœåŠ¡å™¨åˆ°å®¢æˆ·çš„æ•°æ®çš„æŠ¥æ–‡æ®µï¼Œè¿™ç§ç¡®è®¤è¢«ç§°ä¸ºæ˜¯è¢«æå¸¦åœ¨æœåŠ¡å™¨åˆ°å®¢æˆ·çš„æ•°æ®æŠ¥æ–‡æ®µä¸­çš„ã€‚ å¾€è¿”æ—¶é—´ä¼°è®¡ä¸è¶…æ—¶ æŠ¥æ–‡æ®µçš„æ ·æœ¬RTT(SampleRTT)ï¼šä»æŸæŠ¥æ–‡æ®µè¢«å‘å‡ºå¤§å¤šæ•°TCPä»…åœ¨æŸä¸ªæ—¶åˆ»åšä¸€æ¬¡SampleRTTæµ‹é‡ åœ¨ä»»æ„æ—¶åˆ»ï¼Œä»…ä¸ºä¸€ä¸ªå·²å‘é€ä½†ç›®å‰å°šæœªè¢«ç¡®è®¤çš„æŠ¥æ–‡æ®µä¼°è®¡SampleRTTï¼Œä»è€Œäº§ç”Ÿä¸€ä¸ªæ¥è¿‘æ¯ä¸ªRTTå€¼çš„æ–°SampleRTT TCPç»ä¸ä¸ºå·²è¢«é‡ä¼ çš„æŠ¥æ–‡æ®µè®¡ç®—SampleRTTï¼Œä»…ä¸ºä¼ è¾“ä¸€æ¬¡çš„æŠ¥æ–‡æ®µæµ‹é‡ EstimatedRTTï¼šTCPç»´æŠ¤çš„SampleRTTçš„å‡å€¼ï¼Œä¸ºäº†åº”å¯¹SampleRTTçš„æ³¢åŠ¨ ä¸€æ—¦è·å¾—æ–°çš„SampleRTTï¼Œæ›´æ–°å…¬å¼ä¸º \\text{EstimatedRTT}=(1-\\alpha)\\cdot\\text{EstimatedRTT}+\\alpha\\cdot\\text{SampleRTT}ï¼Œ$\\alpha$çš„æ¨èå€¼ä¸º0.125(1/8) EstimatedRTTæ˜¯å¯¹SampleRTTçš„æŒ‡æ•°åŠ æƒç§»åŠ¨å¹³å‡ï¼ˆEWMAï¼ŒExponential Weighted Moving Averageï¼‰ï¼ŒæŒ‡ä¸€ä¸ªç»™å®šçš„SampleRTTçš„æƒå€¼åœ¨æ›´æ–°è¿‡ç¨‹ä¸­å‘ˆæŒ‡æ•°å‹å¿«é€Ÿè¡°å‡ DevRTTï¼šRTTåå·®ï¼Œç”¨äºä¼°ç®—SampleRTTä¸€èˆ¬ä¼šåç¦»EstimatedRTTçš„ç¨‹åº¦ è®¡ç®—å…¬å¼ä¸º\\text{DevRTT}=(1-\\beta)\\cdot\\text{DevRTT}+\\beta\\cdot|\\text{SampleRTT}-\\text{EstimatedRTT}|ï¼Œ$\\beta$çš„æ¨èå–å€¼ä¸º0.25 è¶…æ—¶é—´éš”TimeoutIntervalï¼šEstimatedRTTåŠ ä¸Šä¸€å®šä½™é‡ï¼Œä¸SampleRTTçš„æ³¢åŠ¨æ­£ç›¸å…³ è®¡ç®—å…¬å¼ä¸º\\text{TimeoutInterval}=\\text{EstimatedRTT}+4\\cdot\\text{DevRTT} æ¨èçš„TimeoutIntervalçš„åˆå§‹å€¼ä¸º1s å½“å‡ºç°è¶…æ—¶åï¼ŒTimeoutIntetvalå°†åŠ å€ï¼Œä»¥å…å³å°†è¢«ç¡®è®¤çš„åç»§æŠ¥æ–‡æ®µè¿‡æ—©å‡ºç°è¶…æ—¶ã€‚ åªè¦æ”¶åˆ°æŠ¥æ–‡æ®µå¹¶æ›´æ–°EstimatedRTTï¼Œå°±æ›´æ–°TimeoutInterval å¯é æ•°æ®ä¼ è¾“TCPçš„å·®é”™æ¢å¤æœºåˆ¶æ˜¯GBNå’ŒSRçš„æ··åˆä½“ å‘é€æ–¹ï¼šswitch(äº‹ä»¶) ä»ä¸Šé¢åº”ç”¨ç¨‹åºæ¥æ”¶åˆ°æ•°æ® ç”Ÿæˆå…·æœ‰åºå·NextSeqNumçš„TCPæŠ¥æ–‡æ®µ å¦‚æœå®šæ—¶å™¨æ²¡æœ‰è¿è¡Œï¼Œå¯åŠ¨å®šæ—¶å™¨ å‘IPä¼ é€’æŠ¥æ–‡æ®µ NextSeqNum=NextSeqNum+length(data) å®šæ—¶å™¨è¶…æ—¶ é‡ä¼ å…·æœ‰æœ€å°åºå·ä½†ä»æœªåº”ç­”çš„æŠ¥æ–‡æ®µ è¶…æ—¶é—´éš”è¶…çº§åŠ å€ å¯åŠ¨å®šæ—¶å™¨ æ”¶åˆ°ACKï¼ŒACKå­—æ®µå€¼ä¸ºy å¦‚æœ y&gt;SendBaseï¼Œåˆ™è¯¥ACKæ˜¯åœ¨ç¡®è®¤ä¸€ä¸ªæˆ–å¤šä¸ªå…ˆå‰æœªç¡®è®¤çš„æŠ¥æ–‡æ®µ æ›´æ–°SendBase å¦‚æœå½“å‰æœ‰æœªè¢«ç¡®è®¤çš„æŠ¥æ–‡æ®µï¼Œ é‡æ–°å¯åŠ¨å®šæ—¶å™¨ å¦‚æœ y&lt;=SendBaseï¼Œåˆ™è¯¥ACKæ˜¯å¯¹å·²ç»ç¡®è®¤çš„æŠ¥æ–‡æ®µçš„ä¸€ä¸ªå†—ä½™ACK å¦‚æœç´¯è®¡æ”¶åˆ°ç›¸åŒACKå€¼çš„3ä¸ªå†—ä½™ACKï¼ˆç´¯è®¡4ä¸ªç›¸åŒACKï¼‰ï¼Œåˆ™é‡æ–°å‘é€å…·æœ‰åºå·yçš„æŠ¥æ–‡æ®µï¼ˆå¿«é€Ÿé‡ä¼ ï¼‰ æ¥æ”¶æ–¹ï¼š è¶…æ—¶é—´éš”åŠ å€æä¾›äº†ä¸€ä¸ªå½¢å¼å—é™çš„æ‹¥å¡æ§åˆ¶ï¼Œå› ä¸ºå®šæ—¶å™¨è¿‡æœŸå¾ˆå¯èƒ½æ˜¯ç½‘ç»œæ‹¥å¡å¼•èµ·çš„ã€‚ å¿«é€Ÿé‡ä¼ å†—ä½™ACKï¼šå†æ¬¡ç¡®è®¤æŸä¸ªæŠ¥æ–‡æ®µçš„ACK å½“TCPæ¥æ”¶æ–¹æ¥æ”¶åˆ°ä¸€ä¸ªåºå·å¤§äºä¸‹ä¸€ä¸ªæ‰€æœŸæœ›æŒ‰åºæŠ¥æ–‡æ®µçš„æŠ¥æ–‡æ®µæ—¶ï¼Œå°±è¯´æ˜æœ‰æŠ¥æ–‡æ®µä¸¢å¤±ï¼Œå› æ­¤ä¼šäº§ç”Ÿä¸€ä¸ªå†—ä½™ACKå¯¹å·²ç»æ”¶åˆ°çš„æœ€åä¸€ä¸ªæŒ‰åºå­—èŠ‚æ•°æ®è¿›è¡Œé‡å¤ç¡®è®¤ã€‚ å¦‚æœå‘é€æ–¹æ¥æ”¶åˆ°å¯¹ç›¸åŒæ•°æ®çš„3ä¸ªå†—ä½™ACKï¼Œå°±å°†å…¶è§†ä¸ºä¸€ç§æŒ‡ç¤ºï¼Œè¯´æ˜è¿™ä¸ªè¢«ç¡®è®¤äº†3æ¬¡çš„æŠ¥æ–‡æ®µä¹‹åçš„æŠ¥æ–‡æ®µå·²ç»è¢«ä¸¢å¤±ã€‚å‘é€æ–¹ä¼šè¿›è¡Œå¿«é€Ÿé‡ä¼ ï¼Œå³åœ¨è¯¥æŠ¥æ–‡æ®µçš„å®šæ—¶å™¨è¿‡æœŸä¹‹å‰é‡ä¼ ä¸¢å¤±çš„æŠ¥æ–‡æ®µã€‚ æµé‡æ§åˆ¶æ¥æ”¶æ–¹å¦‚æœè¯»æ•°æ®ä¸å¤Ÿå¿«ï¼Œå°±ä¼šå¯¼è‡´æ¥æ”¶ç¼“å­˜æº¢å‡ºã€‚TCPæä¾›äº†æµé‡æ§åˆ¶æœåŠ¡ä»¥æ¶ˆé™¤å‘é€æ–¹ä½¿æ¥æ”¶æ–¹ç¼“å­˜æº¢å‡ºçš„å¯èƒ½æ€§ã€‚ï¼ˆåŒºåˆ†æµé‡æ§åˆ¶ä¸æ‹¥å¡æ§åˆ¶ï¼‰ TCPå‘é€æ–¹ç»´æŠ¤ä¸€ä¸ªç§°ä¸ºæ¥æ”¶çª—å£çš„å˜é‡ï¼ŒæŒ‡ç¤ºæ¥æ”¶æ–¹è¿˜æœ‰å¤šå°‘å¯ç”¨ç©ºé—´ï¼Œéœ€è¦æ»¡è¶³ \\text{LastByteRcvd}-\\text{LastByteRead}\\le \\text{RcvBuffer} æ¥æ”¶çª—å£é•¿åº¦ç”¨rwndè¡¨ç¤ºï¼Œ\\text{rwnd}=\\text{RcvBuffer}-[\\text{LastByteRcvd}-\\text{LastByteRead}] \\text{LastByteSent}-\\text{LastByteAcked}\\le\\text{rwnd} äººè¯ï¼šä¸»æœºï¼¡å‘é€ä½†æœªè¢«ç¡®è®¤çš„æ•°æ®å¤§å° ä¸ä¼šè¶…è¿‡ ä¸»æœºï¼¢æ¥æ”¶ç¼“å­˜çš„å‰©ä½™å¯ç”¨ç©ºé—´ ä¸ºäº†é˜²æ­¢ä¸»æœºAè¢«é˜»å¡ï¼Œå½“ä¸»æœºBçš„æ¥æ”¶çª—å£ä¸º0æ—¶ï¼Œä¸»æœºAç»§ç»­å‘é€åªæœ‰ä¸€ä¸ªå­—èŠ‚æ•°æ®çš„æŠ¥æ–‡æ®µã€‚è¿™äº›æŠ¥æ–‡æ®µå°†ä¼šè¢«æ¥æ”¶æ–¹ç¡®è®¤ã€‚æœ€ç»ˆç¼“å­˜å¼€å§‹æ¸…ç©ºï¼Œå¹¶ä¸”ç¡®è®¤æŠ¥æ–‡é‡ŒåŒ…å«ä¸€ä¸ªé0çš„rwndå€¼ã€‚ TCPè¿æ¥ç®¡ç†å»ºç«‹TCPè¿æ¥ï¼šä¸‰æ¬¡æ¡æ‰‹ ç¬¬ä¸€æ­¥ï¼šå®¢æˆ·ç«¯çš„TCPå‘æœåŠ¡å™¨çš„TCPå‘é€ä¸€ä¸ªSYNæŠ¥æ–‡æ®µã€‚é¦–éƒ¨ä¸­SYNæ ‡å¿—ä½è¢«ç½®ä¸º1ã€‚å®¢æˆ·éšæœºé€‰æ‹©ä¸€ä¸ªåˆå§‹åºå·ï¼ˆclient_isnï¼‰ï¼Œå¹¶å°†æ­¤åºå·æ”¾ç½®äºSYNæŠ¥æ–‡æ®µçš„åºå·å­—æ®µã€‚è¯¥æŠ¥æ–‡æ®µä¸åŒ…å«åº”ç”¨å±‚æ•°æ®ã€‚ ç¬¬äºŒæ­¥ï¼šæœåŠ¡å™¨ä¸»æœºæ”¶åˆ°è¯¥TCP SYNæŠ¥æ–‡æ®µï¼Œä¸ºè¯¥TCPè¿æ¥åˆ†é…TCPç¼“å­˜å’Œå˜é‡ï¼Œå¹¶å‘è¯¥å®¢æˆ·TCPå‘é€å…è®¸è¿æ¥çš„æŠ¥æ–‡æ®µï¼ˆSYNACKæŠ¥æ–‡æ®µï¼‰ã€‚è¯¥æŠ¥æ–‡æ®µä¸åŒ…å«åº”ç”¨å±‚æ•°æ®ã€‚SYNæ¯”ç‰¹è¢«ç½®ä¸º1ã€‚é¦–éƒ¨ç¡®è®¤å·å­—æ®µä¸ºclient_isn+1ã€‚æœåŠ¡å™¨é€‰æ‹©è‡ªå·±çš„åˆå§‹åºå·ï¼ˆserver_isnï¼‰ï¼Œå¹¶å°†å…¶æ”¾åˆ°åºå·å­—æ®µä¸­ã€‚ ç¬¬ä¸‰æ­¥ï¼šåœ¨æ”¶åˆ°SYNACKæŠ¥æ–‡æ®µåï¼Œå®¢æˆ·ä¹Ÿè¦ç»™è¯¥è¿æ¥åˆ†é…ç¼“å­˜å’Œå˜é‡ã€‚å®¢æˆ·ä¸»æœºå‘æœåŠ¡å™¨å‘é€å¦ä¸€ä¸ªæŠ¥æ–‡æ®µï¼Œå°†server_isn+1æ”¾åˆ°é¦–éƒ¨çš„ç¡®è®¤å­—æ®µï¼Œæ¥å¯¹æœåŠ¡å™¨çš„å…è®¸è¿æ¥çš„æŠ¥æ–‡æ®µè¿›è¡Œç¡®è®¤ã€‚è¿æ¥å·²ç»å»ºç«‹äº†ï¼Œæ‰€ä»¥SYNæ¯”ç‰¹è¢«ç½®ä¸º0ï¼Œä¸”ä¹‹åçš„æ¯ä¸€ä¸ªæŠ¥æ–‡æ®µçš„SYNæ¯”ç‰¹éƒ½ä¸º0ã€‚è¯¥æŠ¥æ–‡æ®µå¯ä»¥æºå¸¦åº”ç”¨å±‚æ•°æ®ã€‚ å…³é—­TCPè¿æ¥ å®¢æˆ·è¿›ç¨‹å‘å‡ºä¸€ä¸ªå…³é—­è¿æ¥å‘½ä»¤ï¼Œå¼•èµ·å®¢æˆ·TCPå‘æœåŠ¡å™¨è¿›ç¨‹å‘é€ä¸€ä¸ªç‰¹æ®Šçš„TCPæŠ¥æ–‡æ®µã€‚è¯¥æŠ¥æ–‡æ®µé¦–éƒ¨FINæ¯”ç‰¹è¢«ç½®ä¸º1ã€‚ æœåŠ¡å™¨æ¥æ”¶åˆ°è¯¥æŠ¥æ–‡æ®µåï¼Œå‘å‘é€æ–¹å›é€ä¸€ä¸ªACKæŠ¥æ–‡æ®µã€‚ ç„¶åï¼ŒæœåŠ¡å™¨å‘é€è‡ªå·±çš„ç»ˆæ­¢æŠ¥æ–‡æ®µï¼ŒFINç½®ä¸º1ã€‚ æœ€åï¼Œå®¢æˆ·å¯¹è¿™ä¸ªæœåŠ¡å™¨çš„ç»ˆæ­¢æŠ¥æ–‡æ®µè¿›è¡Œç¡®è®¤ã€‚æ­¤æ—¶ï¼Œä¸¤å°ä¸»æœºä¸Šç”¨äºè¯¥è¿æ¥çš„æ‰€æœ‰èµ„æºéƒ½è¢«é‡Šæ”¾äº†ã€‚ TCPçŠ¶æ€ å¦‚æœä¸€å°ä¸»æœºæ¥æ”¶åˆ°çš„ä¸€ä¸ªTCPæŠ¥æ–‡æ®µç«¯å£å·æˆ–æºIPåœ°å€ä¸è¯¥ä¸»æœºä¸Šè¿›è¡Œä¸­çš„å¥—æ¥å­—éƒ½ä¸åŒ¹é…ï¼Œåˆ™è¯¥ä¸»æœºå‘æºå‘é€ä¸€ä¸ªç‰¹æ®Šé‡ç½®æŠ¥æ–‡æ®µï¼ŒRSTæ ‡å¿—è¢«ç½®ä¸º1ã€‚ï¼ˆâ€œæˆ‘æ²¡æœ‰é‚£ä¸ªæŠ¥æ–‡æ®µçš„å¥—æ¥å­—ï¼Œè¯·ä¸è¦å†å‘äº†ã€‚â€ï¼‰ nmapç«¯å£æ‰«æå·¥å…·nmapå¯¹ç›®æ ‡ä¸»æœºçš„æŸä¸ªç«¯å£å‘é€ä¸€ä¸ªç‰¹æ®Šçš„TCP SYNæ•°æ®æŠ¥ï¼Œæœ‰3ç§å¯èƒ½ æºä¸»æœºä»ç›®æ ‡ä¸»æœºæ¥æ”¶åˆ°ä¸€ä¸ªTCP SYNACKæŠ¥æ–‡æ®µã€‚è¿™æ„å‘³ç€ç›®æ ‡ä¸»æœºä¸Šä¸€ä¸ªåº”ç”¨ç¨‹åºä½¿ç”¨è¯¥TCPç«¯å£è¿è¡Œï¼Œnmapè¿”å›â€œæ‰“å¼€â€ã€‚ æºä¸»æœºä»ç›®æ ‡ä¸»æœºæ¥æ”¶åˆ°ä¸€ä¸ªTCP RSTæŠ¥æ–‡æ®µã€‚è¿™æ„å‘³ç€ç›®æ ‡ä¸»æœºä¸Šæ²¡æœ‰ä¸€ä¸ªåº”ç”¨ç¨‹åºä½¿ç”¨è¯¥TCPç«¯å£è¿è¡Œï¼Œä½†è‡³å°‘å‘é€å‘è¯¥ç«¯å£çš„æŠ¥æ–‡æ®µæ²¡æœ‰è¢«é˜²ç«å¢™é˜»æ‹¦ã€‚ æºä»€ä¹ˆä¹Ÿæ²¡æœ‰æ”¶åˆ°ã€‚é˜²ç«å¢™GGã€‚ æ‹¥å¡æ§åˆ¶åŸç†æƒ…å†µ1ï¼šä¸¤ä¸ªå‘é€æ–¹å’Œä¸€å°å…·æœ‰æ— ç©·å¤§ç¼“å­˜çš„è·¯ç”±å™¨ å›¾ä¸€ä¸ºæ¯è¿æ¥çš„ååé‡ï¼ˆæ¥æ”¶æ–¹æ¯ç§’æ¥æ”¶çš„å­—èŠ‚æ•°ï¼‰ä¸è¯¥è¿æ¥å‘é€é€Ÿç‡ä¹‹é—´çš„å‡½æ•°å…³ç³»ã€‚ä¸Šé™$R/2$æ˜¯ç”±å…±äº«é“¾è·¯å®¹é‡é€ æˆçš„ã€‚ å›¾äºŒä¸ºæ—¶å»¶ä¸å‘é€é€Ÿç‡çš„å…³ç³»ã€‚å½“å‘é€é€Ÿç‡æ¥è¿‘$R/2$æ—¶ï¼Œå¹³å‡æ—¶å»¶å°±ä¼šè¶Šæ¥è¶Šå¤§ã€‚å½“å‘é€é€Ÿç‡è¶…è¿‡$R/2$ï¼Œè·¯ç”±å™¨ä¸­ çš„å¹³å‡æ’é˜Ÿåˆ†ç»„æ•°å°±ä¼šæ— é™å¢é•¿ã€‚ å½“åˆ†ç»„åˆ°è¾¾çš„é€Ÿç‡æ¥è¿‘é“¾è·¯å®¹é‡æ—¶ï¼Œåˆ†ç»„ä¼šç»å†å·¨å¤§çš„æ’é˜Ÿæ—¶å»¶ã€‚ æƒ…å†µ2ï¼šä¸¤ä¸ªå‘é€æ–¹å’Œä¸€å°å…·æœ‰æœ‰é™ç¼“å­˜çš„è·¯ç”±å™¨ $\\lambda_{in}$ï¼ˆå­—èŠ‚/ç§’ï¼‰ï¼šåº”ç”¨ç¨‹åºå°†åˆå§‹æ•°æ®å‘é€åˆ°å¥—æ¥å­—çš„é€Ÿç‡ $\\lambda_{in}â€™$ï¼šè¿è¾“å±‚æƒ³ç½‘ç»œä¸­å‘é€æŠ¥æ–‡æ®µï¼ˆåˆå§‹+é‡ä¼ ï¼‰çš„é€Ÿç‡ï¼Œåˆç§°ä¾›ç»™è½½è· å›¾aä¸ºä¸»æœºAæˆç²¾ï¼Œä»…å½“è·¯ç”±å™¨ç¼“å­˜ç©ºé—²æ—¶å‘é€åˆ†ç»„çš„ç†æƒ³æƒ…å†µï¼Œå¹³å‡é€Ÿç‡ä¸ä¼šè¶…è¿‡$R/2$ å›¾bä¸ºå‘é€æ–¹ä»…å½“åœ¨ç¡®å®šäº†ä¸€ä¸ªåˆ†ç»„å·²ç»ä¸¢å¤±æ—¶æ‰é‡ä¼ çš„æƒ…å†µã€‚$R/3$æ˜¯æœ¯å¸ˆæ•°æ®ï¼Œ$R/2-R/3=R/6$æ˜¯é‡ä¼ æ•°æ®ã€‚è¯´æ˜æ‹¥å¡æ—¶å‘é€æ–¹å¿…é¡»æ‰§è¡Œé‡ä¼ ä»¥è¡¥å¿å› ä¸ºç¼“å­˜æº¢å‡ºè€Œä¸¢å¤±çš„åˆ†ç»„ã€‚ å›¾cä¸ºå‘é€æ–¹æå‰å‘ç”Ÿè¶…æ—¶å¹¶é‡ä¼ æœªè¢«ä¸¢å¤±çš„åˆ†ç»„ã€‚ç”±äºæ¯ä¸ªåˆ†ç»„è¢«è½¬å‘ä¸¤æ¬¡ï¼Œå½“å…¶ä¾›ç»™è½½è·æ¥è¿‘$R/2$æ—¶ï¼Œååé‡æ¥è¿‘$R/4$ã€‚è¯´æ˜æ‹¥å¡æ—¶å‘é€æ–¹åœ¨é‡åˆ°å¤§æ—¶å»¶æ—¶æ‰€è¿›è¡Œçš„ä¸å¿…è¦é‡ä¼ ä¼šå¼•èµ·è·¯ç”±å™¨åˆ©ç”¨å…¶é“¾è·¯å¸¦å®½æ¥è½¬å‘ä¸å¿…è¦çš„åˆ†ç»„å‰¯æœ¬ã€‚ æƒ…å†µ3:4ä¸ªå‘é€æ–¹å’Œå…·æœ‰æœ‰é™ç¼“å­˜çš„å¤šå°è·¯ç”±å™¨åŠå¤šè·³è·¯å¾„ å¯¹äºè¾ƒå°çš„$\\lambda{in}$ï¼Œ$\\lambda{in}$çš„å¢å¤§ä¼šå¯¼è‡´$\\lambda_{out}$çš„å¢å¤§ å½“$\\lambda_{in}$å¾ˆå¤§çš„æ—¶å€™ï¼Œä¸åŒè·¯å¾„çš„æµé‡ä¼šåœ¨åŒä¸€ä¸ªè·¯ç”±å™¨ä¸Šä¸ºæœ‰é™ç¼“å­˜ç©ºé—´ç«äº‰ï¼Œå¯¼è‡´ä¸€æ¡è·¯å¾„æˆåŠŸé€šè¿‡çš„æµé‡è¶Šæ¥è¶Šå°‘ã€‚ åœ¨æé™é‡è½½æƒ…å†µä¸‹ï¼Œç«¯åˆ°ç«¯ååé‡ä¼šè¶‹è¿‘äº0ã€‚ å½“ä¸€ä¸ªåˆ†ç»„æ²¿ä¸€æ¡è·¯å¾„è¢«ä¸¢å¼ƒæ—¶ï¼Œæ¯ä¸ªä¸Šæ¸¸è·¯ç”±å™¨ç”¨äºè½¬å‘è¯¥åˆ†ç»„åˆ°ä¸¢å¼ƒè¯¥åˆ†ç»„è€Œä½¿ç”¨çš„ä¼ è¾“å®¹é‡å…¨éƒ¨æœ¨å¤§äº†ã€‚ æ‹¥å¡æ§åˆ¶æ–¹æ³• ç«¯åˆ°ç«¯æ‹¥å¡æ§åˆ¶ï¼šç½‘ç»œæ²¡æœ‰ä¸ºè¿è¾“å±‚æ‹¥å¡æ§åˆ¶æä¾›æ˜¾ç¤ºæ”¯æŒ ç½‘ç»œè¾…åŠ©çš„æ‹¥å¡æ§åˆ¶ï¼šè·¯ç”±å™¨å‘é€æ–¹æä¾›å…³äºç½‘ç»œä¸­æ‹¥å¡çŠ¶æ€çš„æ˜¾ç¤ºåé¦ˆä¿¡æ¯ã€‚å¯ä»¥ç”¨æ‹¥å¡åˆ†ç»„ç›´æ¥åé¦ˆç»™å‘é€æ–¹ï¼Œæˆ–é€šè¿‡æ ‡è®°æ¥æ”¶æ–¹æ¥çš„åˆ†ç»„æ¥é€šçŸ¥å‘é€æ–¹ã€‚ TCPæ‹¥å¡æ§åˆ¶è®©æ¯ä¸€ä¸ªå‘é€æ–¹æ ¹æ®æ‰€æ„ŸçŸ¥åˆ°çš„ç½‘ç»œæ‹¥å¡æˆéƒ½æ¥é™åˆ¶å…¶å‘é€æµé‡çš„é€Ÿç‡ã€‚ å‘é€æ–¹TCPè·Ÿè¸ªä¸€ä¸ªæ‹¥å¡çª—å£å˜é‡cwndï¼Œå®ƒå¯¹ä¸€ä¸ªTCPå‘é€æ–¹èƒ½å‘ç½‘ç»œä¸­å‘é€æµé‡çš„é€Ÿç‡è¿›è¡Œäº†é™åˆ¶ã€‚ \\text{LastByteSent}-\\text{LastByteAcked}\\le\\min\\{\\text{cwnd},\\text{rwnd}\\}å‘é€æ–¹çš„é€Ÿç‡å¤§æ¦‚æ˜¯cwnd/RTTå­—èŠ‚/ç§’ã€‚ ä¸¢åŒ…äº‹ä»¶ï¼šå‡ºç°è¶…æ—¶ï¼Œæˆ–æ”¶åˆ°æ¥è‡ªæ¥æ”¶æ–¹çš„3ä¸ªå†—ä½™ACKã€‚æ­¤æ—¶å‘é€æ–¹è®¤ä¸ºå‡ºç°äº†æ‹¥å¡æŒ‡ç¤ºã€‚ è‡ªè®¡æ—¶ï¼šTCPä½¿ç”¨æ”¶åˆ°çš„ACKï¼ˆæˆ–è®¡æ—¶ï¼‰å¢å¤§å®ƒçš„æ‹¥å¡çª—å£é•¿åº¦ã€‚ TCPæ‹¥å¡æ§åˆ¶ç®—æ³•å…·ä½“çœ‹å›¾ æ…¢å¯åŠ¨ å½“ä¸€æ¡TCPè¿æ¥å¼€å§‹æ—¶ï¼Œcwndé€šå¸¸è®¾ä¸ºä¸€ä¸ªMSSçš„è¾ƒå°å€¼ï¼Œåˆå§‹å‘é€é€Ÿç‡å¤§çº¦ä¸ºMSS/RTTã€‚ æ¯å½“ä¼ è¾“çš„æŠ¥æ–‡æ®µé¦–æ¬¡è¢«ç¡®è®¤ï¼Œcwndå¢åŠ ä¸€ä¸ªMSSï¼ˆæŒ‡æ•°å¢é•¿ ç»“æŸæ–¹å¼ å½“cwnd==ssthreshæ—¶ï¼Œç»“æŸæ…¢å¯åŠ¨å¹¶è½¬ç§»åˆ°æ‹¥å¡é¿å…æ¨¡å¼ã€‚cwndæœ€å¤šåªèƒ½å–åˆ°ssthreshï¼Œå³ä½¿ä¸æ˜¯2çš„å¹‚æ¬¡ è¶…æ—¶ä¸¢åŒ…ï¼ˆæ‹¥å¡ï¼‰ï¼šcwndé‡ç½®ä¸º1å¹¶é‡æ–°å¼€å§‹æ…¢å¯åŠ¨è¿‡ç¨‹ï¼Œssthresh(æ…¢å¯åŠ¨é˜ˆå€¼)å˜ä¸ºcwnd/2 æ£€æµ‹åˆ°3ä¸ªå†—ä½™ACKï¼šæ‰§è¡Œä¸€æ¬¡å¿«é€Ÿé‡ä¼ å¹¶è¿›å…¥å¿«é€Ÿæ¢å¤çŠ¶æ€ æ‹¥å¡é¿å… æ¯ä¸ªRTTåªå°†cwndçš„å€¼å¢åŠ MSSã€‚ä¸€ç§é€šç”¨å®ç°æ–¹æ³•ï¼šå‘é€æ–¹æ— è®ºä½•æ—¶æ”¶åˆ°ä¸€ä¸ªæ–°çš„ç¡®è®¤ï¼Œå°±å°†cwndå¢åŠ ä¸€ä¸ª$\\text{MSS}\\frac{\\text{MSS}}{\\text{cwnd}}$å­—èŠ‚ã€‚ ç»“æŸæ–¹å¼ è¶…æ—¶ï¼šcwndé‡ç½®ä¸º1å¹¶é‡æ–°å¼€å§‹æ…¢å¯åŠ¨è¿‡ç¨‹ï¼Œssthresh(æ…¢å¯åŠ¨é˜ˆå€¼)å˜ä¸ºcwnd/2 3ä¸ªå†—ä½™ACKï¼šcwndå‡åŠï¼Œå¯¹æ”¶åˆ°çš„3ä¸ªå†—ä½™ACKå†åŠ ä¸Š3ä¸ªMSSï¼›å°†ssthreshçš„å€¼æ”¹ä¸ºcwnd/2ï¼›è¿›å…¥å¿«é€Ÿæ¢å¤çŠ¶æ€ å¿«é€Ÿæ¢å¤ å¯¹äºå¼•èµ·TCPè¿›å…¥å¿«é€Ÿæ¢å¤çŠ¶æ€çš„ç¼ºå¤±æŠ¥æ–‡æ®µï¼Œå¯¹æ¯ä¸ªæ”¶åˆ°çš„å†—ä½™ACKï¼Œcwndå¢åŠ ä¸€ä¸ªMSS å½“æœ€ç»ˆå¯¹ä¸¢å¤±æŠ¥æ–‡æ®µçš„ä¸€ä¸ªACKåˆ°è¾¾æ—¶ï¼ŒTCPåœ¨é™ä½cwndåè¿›å…¥æ‹¥å¡é¿å…çŠ¶æ€ è¶…æ—¶ï¼šcwndé‡ç½®ä¸º1å¹¶é‡æ–°å¼€å§‹æ…¢å¯åŠ¨è¿‡ç¨‹ï¼Œssthresh(æ…¢å¯åŠ¨é˜ˆå€¼)å˜ä¸ºcwnd/2ï¼Œè¿›å…¥æ…¢å¯åŠ¨çŠ¶æ€ å¿½ç•¥æ…¢å¯åŠ¨ï¼ŒTCPçš„æ‹¥å¡æ§åˆ¶ï¼šæ¯ä¸ªRTTå†…çº¿æ€§å¢åŠ 1MSSï¼Œå‡ºç°3ä¸ªå†—ä½™ACKæ—¶cwndå‡åŠâ€”â€”åŠ æ€§å¢ï¼Œä¹˜æ€§å‡ï¼ˆAIMDï¼‰ ååé‡ä¸€æ¡è¿æ¥çš„å¹³å‡ååé‡=\\frac{0.75\\times W}{\\text{RTT}} $W$ï¼šä¸¢åŒ…äº‹ä»¶å‘ç”Ÿæ—¶çš„çª—å£é•¿åº¦ TCPçš„å‘é€é€Ÿç‡å¤§çº¦æ˜¯$w/RTT$,$w$ä¸ºçª—å£é•¿åº¦ TCPçš„ä¼ è¾“é€Ÿç‡åœ¨$W/(2\\times\\text{RTT})$å’Œ$W/\\text{RTT}$ä¹‹é—´çº¿æ€§å˜åŒ– è€ƒè™‘ä¸¢åŒ…ç‡ï¼ˆ$L$ï¼‰å’ŒMSSï¼Œä¸€æ¡è¿æ¥çš„å¹³å‡ååé‡=\\frac{1.22\\times\\text{MSS}}{\\text{RTT}\\sqrt{L}} å…¬å¹³æ€§å¦‚æœæ¯æ¡è¿æ¥éƒ½å¾—åˆ°ç›¸åŒä»½é¢çš„å¸¦å®½ï¼Œåˆ™è®¤ä¸ºè¯¥æ‹¥å¡æ§åˆ¶æœºåˆ¶æ˜¯å…¬å¹³çš„ã€‚ å®é™…æƒ…å†µä¸‹å…·æœ‰è¾ƒå°RTTçš„è¿æ¥èƒ½å¤Ÿæ›´å¿«åœ°æŠ¢åˆ°å¯ç”¨å¸¦å®½ã€‚ UDPæ˜¯æ— æ³•æ— å¤©çš„ï¼Œå¹¶è¡ŒTCPè¿æ¥æ˜¯â€œä½œå¼Šâ€ CH9 å¤šåª’ä½“ç½‘ç»œå¤šåª’ä½“ç½‘ç»œåº”ç”¨ è§†é¢‘çš„æ€§è´¨ æœ€æ˜¾è‘—çš„ç‰¹ç‚¹ï¼šé«˜æ¯”ç‰¹ç‡ èƒ½è¢«å‹ç¼©ã€‚åœ¨è§†é¢‘è´¨é‡ä¸æ¯”ç‰¹ç‡é—´æŠ˜ä¸­ éŸ³é¢‘çš„æ€§è´¨ è„‰å†²ç¼–ç è°ƒåˆ¶(PCM)ï¼šæ•°å­—ä¿¡å·é€Ÿç‡=æ¯ç§’çš„é‡‡æ ·ä¸ªæ•°Ã—æ¯ä¸ªæ ·æœ¬çš„è¡¨ç¤ºæ¯”ç‰¹æ•° å¤šåª’ä½“ç½‘ç»œåº”ç”¨çš„æ€§è´¨ æµå¼å­˜å‚¨éŸ³é¢‘å’Œè§†é¢‘ æµï¼šè¾¹çœ‹è¾¹æ¥æ”¶åç»­éƒ¨åˆ† ç›¸äº’ä½œç”¨ï¼šæš‚åœã€å¿«è¿›ã€å¿«é€€ è¿ç»­æ’­æ”¾ï¼šå‡å°‘å¸§åœæ»æˆ–å¸§è·³è¿‡ å®æ—¶ä¼šè¯å¼è¯­éŸ³ å› ç‰¹ç½‘ç”µè¯ï¼ŒIPè¯­éŸ³ï¼ˆVoIPï¼‰ å®šæ—¶è€ƒè™‘å¾ˆé‡è¦ï¼Œé«˜åº¦æ—¶å»¶æ•æ„Ÿ å®¹å¿ä¸¢åŒ…ï¼šå¶å°”çš„ä¸¢å¤±åªä¼šåœ¨éŸ³é¢‘è§†é¢‘å›æ”¾æ—¶å‡ºç°å¹²æ‰°ä¿¡å· æµå¼å®å†µéŸ³é¢‘è§†é¢‘ï¼ˆç›´æ’­ï¼‰ ç±»ä¼¼æµå¼å­˜å‚¨ æµå¼å­˜å‚¨è§†é¢‘ä¸‰ç§å½¢å¼çš„è§†é¢‘æµï¼Œå…±åŒç‰¹ç‚¹ï¼šå¹¿æ³›ä½¿ç”¨äº†å®¢æˆ·ç«¯åº”ç”¨ç¼“å­˜ï¼Œä»¥æ­¤æ¥ç¼“è§£ç«¯åˆ°ç«¯æ—¶å»¶çš„å˜åŒ–å’ŒæœåŠ¡å™¨å’Œå®¢æˆ·ä¹‹é—´å¯ç”¨å¸¦å®½é‡çš„å½±å“ã€‚ å®¢æˆ·ç¼“å­˜çš„ä¼˜ç‚¹ï¼š èƒ½å¤Ÿå¸æ”¶æœåŠ¡å™¨åˆ°å®¢æˆ·ç«¯æ—¶å»¶ä¸­çš„æ³¢åŠ¨ å¦‚æœæœåŠ¡å™¨åˆ°å®¢æˆ·ç«¯å¸¦å®½æš‚æ—¶ä½äºè§†é¢‘æ¶ˆè€—é€Ÿç‡ï¼Œç”¨æˆ·èƒ½å¤Ÿç»§ç»­äº«å—è¿ç»­çš„æ’­æ”¾ï¼Œåªè¦å®¢æˆ·ç¼“å­˜æ²¡æœ‰è€—å°½ UDPæµæœåŠ¡å™¨é€šè¿‡UDPä»¥ä¸€å®—ç¨³å®šçš„é€Ÿç‡è®°å½•ä¸‹è§†é¢‘å—ï¼Œç”¨äºå®¢æˆ·çš„è§†é¢‘æ¶ˆè€—é€Ÿç‡ç›¸åŒ¹é…çš„é€Ÿç‡ä¼ è¾“è§†é¢‘ã€‚UDPæµé€šå¸¸ä½¿ç”¨å¾ˆå°çš„å®¢æˆ·ç«¯ç¼“å­˜ï¼Œç©ºé—´ç»´æŒå°äº1sè§†é¢‘å°±å¤Ÿäº†ã€‚æœåŠ¡å™¨å’Œå®¢æˆ·é—´è¿˜å¹¶è¡Œåœ°ç»´æŠ¤ä¸€ä¸ªå•ç‹¬çš„æ§åˆ¶è¿æ¥ï¼Œå®¢æˆ·å¯å‘é€æœ‰å…³ä¼šè¯çŠ¶æ€å˜åŒ–çš„å‘½ä»¤ï¼ˆæš‚åœã€é‡å¼€ã€é‡å®šä½ç­‰ï¼‰ã€‚ ä¸è¶³ï¼š å¯ç”¨å¸¦å®½å˜åŒ–ä¸”æ— æ³•é¢„æµ‹ï¼Œæ’å®šé€Ÿç‡UDPæµä¸èƒ½å¤Ÿæä¾›è¿ç»­çš„æ’­æ”¾ã€‚ è¦æ±‚å¦‚RTSPæœåŠ¡å™¨ä¸€æ ·çš„åª’ä½“æ§åˆ¶æœåŠ¡å™¨ï¼Œå¢åŠ äº†éƒ¨ç½²çš„æ€»ä½“æˆæœ¬å’Œå¤æ‚æ€§ã€‚ è®¸å¤šé˜²ç«å¢™å’ŒNATé˜»å¡UDPæµé‡ HTTPæµè§†é¢‘ç›´æ¥ä½œä¸ºå…·æœ‰ä¸€ä¸ªç‰¹å®šURLï¼ˆç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼‰çš„æ™®é€šæ–‡ä»¶å­˜å‚¨åœ¨HTTPæœåŠ¡å™¨ä¸Šã€‚ç”¨æˆ·è¦çœ‹è§†é¢‘æ—¶ï¼Œå®¢æˆ·å’ŒæœåŠ¡å™¨ä¹‹é—´å»ºç«‹ä¸€ä¸ªTCPè¿æ¥ï¼Œå¹¶ä¸”å‘é€ä¸€ä¸ªå¯¹è¯¥URLçš„HTTP GETè¯·æ±‚ï¼ŒæœåŠ¡å™¨å°½å¯èƒ½å¿«åœ°å‘é€è¯¥è§†é¢‘æ–‡ä»¶ï¼›å®¢æˆ·ç«¯æŠŠå­—èŠ‚æ”¶é›†åœ¨ä¸€ä¸ªå®¢æˆ·åº”ç”¨ç¼“å­˜ä¸­ã€‚ä¸€æ—¦ç¼“å­˜æ•°é‡è¶…è¿‡é¢„å…ˆè®¾å®šçš„é˜ˆå€¼å°±å¼€å§‹æ’­æ”¾ã€‚ é¢„å–è§†é¢‘ï¼šå®¢æˆ·èƒ½å¤Ÿå°è¯•ä»¥é«˜äºæ¶ˆè€—é€Ÿç‡çš„é€Ÿç‡ä¸‹è½½è§†é¢‘ï¼Œé¢„å–å°†æ¥ä¼šè¢«æ¶ˆè€—çš„è§†é¢‘å¸§ã€‚ å®¢æˆ·ç«¯åº”ç”¨ç¼“å­˜å’ŒTCPç¼“å­˜ï¼š æš‚åœæœŸé—´ï¼Œå®¢æˆ·ç¼“å­˜ä¼šå˜æ»¡ï¼Œå¯¹æœåŠ¡å™¨é€ æˆâ€œåå‘å‹åŠ›â€ã€‚æœåŠ¡å™¨è¢«é˜»å¡ï¼Œç›´åˆ°ç”¨æˆ·æ¢å¤è¯¥è§†é¢‘ã€‚å› æ­¤æœåŠ¡å™¨å‘é€é€Ÿç‡ä¸èƒ½æ¯”å®¢æˆ·ç«¯è§†é¢‘æ¶ˆè€—é€Ÿç‡æ›´é«˜ã€‚ä¸€ä¸ªæ»¡çš„å®¢æˆ·åº”ç”¨ç¼“å­˜é—´æ¥åœ°å¯¹æœåŠ¡å™¨åˆ°å®¢æˆ·èƒ½å¤Ÿå‘é€çš„è§†é¢‘é€Ÿç‡å¢åŠ äº†é™åˆ¶ã€‚ æµå¼è§†é¢‘çš„åˆ†æ $B$ï¼šå®¢æˆ·ç«¯åº”ç”¨ç¼“å­˜çš„é•¿åº¦ï¼ˆæ¯”ç‰¹ï¼‰ï¼›$Q$ï¼šå®¢æˆ·åº”ç”¨ç¼“å­˜å¼€å§‹æ’­æ”¾ä¹‹å‰å¿…é¡»è¢«ç¼“å­˜çš„æ¯”ç‰¹æ•°é‡ï¼›$r$ï¼šè§†é¢‘æ¶ˆè€—é€Ÿç‡ï¼›$x$ï¼šæœåŠ¡å™¨å‘é€é€Ÿç‡ åˆå§‹ç¼“å­˜æ—¶å»¶$t_p=Q/x$ å®¢æˆ·åº”ç”¨ç¼“å­˜å˜æ…¢æ—¶é—´$t_f$ï¼šæ˜¾ç„¶ã€‚ è§†é¢‘çš„æ—©æœŸä¸­æ­¢å’Œå®šä½ åˆ©ç”¨HTTP GETè¯·æ±‚æŠ¥æ–‡ä¸­çš„HTTPå­—èŠ‚èŒƒå›´é¦–éƒ¨ï¼šæŒ‡ç¤ºäº†å®¢æˆ·å½“å‰è¦ä»æ‰€å¸Œæœ›çš„è§†é¢‘ä¸­è·å–çš„å­—èŠ‚èŒƒå›´ã€‚ å½“ç”¨æˆ·é‡æ–°å®šä½åˆ°ä¸€ä¸ªæ–°ä½ç½®æ—¶ï¼Œå®¢æˆ·å‘é€ä¸€ä¸ªæ–°çš„HTTPè¯·æ±‚ï¼Œç”¨å­—èŠ‚èŒƒå›´é¦–éƒ¨æŒ‡å‡ºæœåŠ¡å™¨åº”å½“ä»æ–‡ä»¶çš„å“ªä¸ªå­—èŠ‚èµ·å‘é€æ•°æ® é¢„å–çš„æ•°æ®æ²¡çœ‹ä¼šå¯¼è‡´ç½‘ç»œå¸¦å®½å’ŒæœåŠ¡å™¨èµ„æºçš„æµªè´¹ï¼Œå› æ­¤è®¸å¤šæµç³»ç»Ÿä»…ä½¿ç”¨é•¿åº¦é€‚å½“çš„å®¢æˆ·åº”ç”¨ç¼“å­˜æˆ–è€…é™åˆ¶å­—èŠ‚èŒƒå›´é¦–éƒ¨é¢„å–çš„è§†é¢‘æ•°é‡ã€‚ IPè¯­éŸ³å°½åŠ›è€Œä¸ºçš„æœåŠ¡é™åˆ¶ä»€ä¹ˆæ—¶å€™æ’­æ”¾ä¸€ä¸ªå—&amp;å¦‚ä½•å¤„ç†ä¸€ä¸ªä¸¢å¤±å— ä¸¢åŒ…TCPçš„é‡ä¼ æœºåˆ¶å¢åŠ äº†ç«¯åˆ°ç«¯æ—¶å»¶ï¼Œæ‹¥å¡æ§åˆ¶å¯èƒ½å¯¼è‡´â€œç¼“å­˜é¥¥é¥¿â€ï¼Œå› æ­¤æ‰€æœ‰ç°æœ‰çš„VoIPåº”ç”¨é»˜è®¤è¿è¡Œåœ¨UDPä¸Š ç«¯åˆ°ç«¯æ—¶å»¶æ—¶å»¶è¶…è¿‡æŸé˜ˆå€¼çš„åˆ†ç»„ç­‰æ•ˆäºä¸¢å¼ƒ åˆ†ç»„æ—¶å»¶æŠ–åŠ¨æ—¶å»¶æŠ–åŠ¨ï¼šä¸åŒçš„åˆ†ç»„ç«¯åˆ°ç«¯æ—¶å»¶å¯èƒ½ä¼šæœ‰æ³¢åŠ¨é€šå¸¸å¯ä»¥é€šè¿‡åºå·ã€æ—¶é—´æˆ³å’Œæ’­æ”¾æ—¶å»¶æ¥æ¶ˆé™¤ åœ¨æ¥æ”¶æ–¹æ¶ˆé™¤éŸ³é¢‘çš„æ—¶å»¶æŠ–åŠ¨é€šå¸¸ç»“åˆä»¥ä¸‹ä¸¤ç§æœºåˆ¶ï¼š æ¯ä¸ªå—é¢„å…ˆè®¡åˆ’ä¸€ä¸ªæ—¶é—´æˆ³ åœ¨æ¥æ”¶æ–¹å»¶è¿Ÿæ’­æ”¾å— å›ºå®šæ’­æ”¾æ—¶å»¶æ¥æ”¶æ–¹è¯•å›¾åœ¨å—äº§ç”Ÿæ­£å¥½$q$msåæ’­æ”¾å®ƒå¦‚æœç«¯åˆ°ç«¯æ—¶å»¶ç»å¸¸å‘ç”Ÿæ¯”è¾ƒå¤§çš„å˜åŒ–ï¼Œç”¨ä¸€ä¸ªå¤§çš„$q$æ›´å¥½ï¼›å¦‚æœæ—¶å»¶å¾ˆå°å¹¶ä¸”æ—¶å»¶å˜åŒ–ä¹Ÿå¾ˆå°ï¼Œç”¨ä¸€ä¸ªè¾ƒå°çš„ã€å¯èƒ½å°äº150msçš„$q$æ›´å¥½ é€‚åº”æ€§å»¶è¿Ÿæ’­æ”¾ç›®æ ‡ï¼šæ’­æ”¾æ—¶å»¶æœ€å°åŒ–ï¼Œä½¿ä¸¢åŒ…ä½äºä¸€å®šçš„ç™¾åˆ†æ¯”ä¼°è®¡ç½‘ç»œæ—¶å»¶å’Œå˜åŒ–ï¼Œåœ¨æ¯ä¸ªè¯éŸ³çªå³°æœŸçš„å¼€å§‹ç›¸åº”åœ°è°ƒæ•´æ’­æ”¾æ—¶å»¶ $t_i$ï¼šç¬¬$i$ä¸ªåˆ†ç»„çš„æ—¶é—´æˆ³ï¼Œè¯¥åˆ†ç»„åœ¨å‘é€æ–¹äº§ç”Ÿçš„æ—¶é—´ $r_i$ï¼šåˆ†ç»„$i$è¢«æ¥æ”¶æ–¹æ¥æ”¶çš„æ—¶é—´ $p_i$ï¼šåˆ†ç»„$i$åœ¨æ¥æ”¶æ–¹æ’­æ”¾çš„æ—¶é—´ $di=(1-u)d{i-1}+u(r_i-t_i)$ï¼šæ¥æ”¶åˆ°ç¬¬$i$åˆ†ç»„æ—¶çš„å¹³å‡ç½‘ç»œæ—¶å»¶çš„ä¼°è®¡å€¼ï¼Œ$u$ä¸ºå›ºå®šçš„å¸¸æ•° $vi=(1-u)v{i-1}+u|r_i-t_i-d_i$ï¼šä¸ä¼°è®¡å¹³å‡æ—¶å»¶çš„ç»å¯¹åå·®çš„ä¼°è®¡å€¼ $p_i=t_i+d_i+Kv_i$ åœ¨ä¸€ä¸ªè¯éŸ³çªå³°æœŸä¸­ä»»ä½•åç»­åˆ†ç»„çš„æ’­æ”¾ç‚¹è¢«è®¡ç®—ä¸ºç›¸å¯¹äºè¿™ä¸ªè¯éŸ³çªå³°æœŸç¬¬ä¸€ä¸ªåˆ†ç»„æ’­æ”¾æ—¶é—´ç‚¹çš„åç§» ç±»ä¼¼TCPçš„æ‹¥å¡æ§åˆ¶ ä»ä¸¢åŒ…ä¸­æ¢å¤å‰å‘çº é”™ï¼ˆFECï¼‰åŸºæœ¬æ€æƒ³ï¼šç»™åˆå§‹åˆ†ç»„å¢åŠ å†—ä½™ä¿¡æ¯ç¬¬ä¸€ç§æœºåˆ¶ï¼šæ¯å‘é€$n$ä¸ªå—ä¹‹åå‘é€ä¸€ä¸ªå†—ä½™ç¼–ç çš„å—ï¼ˆå‰$n$ä¸ªå—çš„å¼‚æˆ–å’Œï¼‰ã€‚å¢åŠ äº†æ’­æ”¾æ—¶å»¶ã€‚ç¬¬äºŒç§æœºåˆ¶ï¼šå‘é€ä¸€ä¸ªè¾ƒä½åˆ†è¾¨ç‡çš„éŸ³é¢‘ä½œä¸ºå†—ä½™ä¿¡æ¯ã€‚æ¥æ”¶æ–¹åœ¨æ’­æ”¾å‰åªéœ€æ¥æ”¶ä¸¤ä¸ªåˆ†ç»„ï¼Œå› æ­¤å¢åŠ çš„æ—¶å»¶å°ï¼Œä¸”ä¼ è¾“é€Ÿç‡çš„é¢å¤–å¢åŠ å¹¶ä¸å¤§ã€‚ äº¤ç»‡ ä¼˜ç‚¹ï¼šèƒ½å¤Ÿæ˜æ˜¾æé«˜éŸ³é¢‘æµå¯æ„Ÿè§‰åˆ°çš„è´¨é‡ï¼›ä¸å¢åŠ æµçš„å¸¦å®½è¦æ±‚ç¼ºç‚¹ï¼šå¢åŠ äº†æ—¶å»¶ å·®é”™æ©ç›–ä¸ºä¸¢å¤±çš„åˆ†ç»„äº§ç”Ÿä¸€ä¸ªæ›¿ä»£ç‰©ï¼ˆå¦‚é‡å¤ï¼‰éŸ³é¢‘ä¿¡å·å‘ˆç°å‡ºå¤§é‡çš„çŸ­æœŸè‡ªç›¸ä¼¼æ€§é€‚åˆäºå·¥ä½œåœ¨ç›¸å¯¹å°çš„ä¸¢åŒ…ç‡å’Œå°åˆ†ç»„çš„æƒ…å†µ å®æ—¶ä¼šè¯å¼åº”ç”¨çš„åè®®æ­¤å¤„æ‡’å¾—æŠ„ æ”¯æŒå¤šåª’ä½“çš„ç½‘ç»œæä¾›å¤šç§ç±»å‹çš„æœåŠ¡é“¾è·¯è°ƒåº¦è§„åˆ™ï¼šé€‰æ‹©åœ¨é“¾è·¯ä¸Šä¼ è¾“æ’é˜Ÿåˆ†ç»„çš„æ–¹å¼ ç›‘ç®¡ï¼šæ¼æ¡¶3ä¸ªå‡†åˆ™ï¼šå¹³å‡é€Ÿç‡ã€å³°å€¼é€Ÿç‡ã€çªå‘é•¿åº¦ æ¼æ¡¶ç”±ä¸€ä¸ªèƒ½å®¹çº³$b$ä¸ªä»¤ç‰Œçš„æ¡¶ç»„æˆ æ–°ä»¤ç‰Œæ€»æ˜¯ä»¥æ¯ç§’$r$ä¸ªé€Ÿç‡äº§ç”Ÿ å½“äº§ç”Ÿä¸€ä¸ªä»¤ç‰Œæ—¶ï¼Œå¦‚æœæ¡¶ä¸­å°‘äº$b$ä¸ªä»¤ç‰Œï¼Œåˆ™æ–°äº§ç”Ÿçš„ä»¤ç‰ŒåŠ å…¥åˆ°æ¡¶ä¸­ï¼Œå¦åˆ™å¿½ç•¥ ä¸€ä¸ªåˆ†ç»„å‘ç½‘ç»œä¼ è¾“ä¹‹å‰ï¼Œå¿…é¡»é¦–å…ˆä»ä»¤ç‰Œæ¡¶ä¸­å»é™¤ä¸€ä¸ªä»¤ç‰Œï¼Œå¦‚æœä»¤ç‰Œæ¡¶æ˜¯ç©ºçš„ï¼Œåˆ†ç»„å¿…é¡»ç­‰å¾…ä¸€ä¸ªä»¤ç‰Œã€‚ æ¼æ¡¶ç›‘ç®¡çš„æµçš„æœ€å¤§çªå‘é•¿åº¦æ˜¯$b$ä¸ªåˆ†ç»„ï¼Œä»»ä½•é•¿åº¦ä¸º$t$çš„æ—¶é—´é—´éš”å†…èƒ½å¤Ÿè¿›å…¥ç½‘ç»œä¸­çš„æœ€å¤§åˆ†ç»„æ•°ç›®ä¸º$rt+b$ï¼ˆå¹³å‡é€Ÿç‡ï¼‰ åœ¨åŸæ¼æ¡¶ä¸‹æ–¹å†åŠ ä¸€ä¸ªä»¤ç‰Œäº§ç”Ÿé€Ÿç‡ä¸º$p$æ¼æ¡¶å¯ä»¥å®ç°é™åˆ¶å³°å€¼é€Ÿç‡åˆ°$p$ æ¼æ¡¶+åŠ æƒå…¬å¹³æ’é˜Ÿ=é˜Ÿåˆ—ä¸­å¯è¯æ˜çš„æœ€å¤§æ—¶å»¶d_{max}=\\frac{b_i}{R\\cdot \\frac{w_i}{\\sum w_j}}å£å—¨è€ƒé¢˜ IPv4çš„é¦–éƒ¨çš„å“ªäº›å­—æ®µç»è¿‡ä¸­é—´è·¯ç”±å™¨çš„æ—¶å€™ä¸ä¼šè¢«ä¿®æ”¹ï¼Ÿè€ƒè™‘NATå’Œä¸è€ƒè™‘NATã€‚ï¼ˆä»¥å‰å‡ºè¿‡ï¼Œå¯èƒ½è¿˜ä¼šè€ƒåˆ° (ppt p28)SYNj 5é“å¤§é¢˜*20åˆ† TCPæ‹¥å¡æ§åˆ¶ è·¯ç”±è¡¨ åˆ’é‡ç‚¹ç¬¬ä¸€ç« å¥½å¥½çœ‹çœ‹ ç¬¬äºŒç« ä¸è€ƒ ç¬¬ä¸‰ç«  3.2,3.3ï¼šçœ‹çœ‹æ¦‚å¿µ 3.4ï¼šä¸è€ƒ 3.5~7: æ³¨æ„ä¸€ä¸‹ ç¬¬å››ç« 4.2,4.3 ç¬¬äº”ç«  5.2ï¼Œ 5.3 5.4ï¼šåŸºæœ¬æ¦‚å¿µ 5.6ï¼šç®€å•çŸ¥é“pingå’Œtracerouteæ€ä¹ˆç”¨ ç¬¬å…­ç«  6.3ï¼ˆ6.3.4é™¤å¤–ï¼‰ ä»¥å¤ªç½‘ï¼ŒCSMA/CD ç¬¬ä¸ƒç« 7.3ï¼šä¸»è¦æ˜¯æ¦‚å¿µï¼Œä¸ä¼šè€ƒå¤ªç»†ï¼ŒCSMA/CA ç¬¬ä¹ç« QoS","categories":[],"tags":[]},{"title":"æ•°å­—å›¾åƒå¤„ç†è¯¾ç¨‹ç¬”è®°","slug":"dip-notes","date":"2019-10-11T12:31:15.000Z","updated":"2019-12-27T02:30:55.576Z","comments":true,"path":"2019/10/11/dip-notes/","link":"","permalink":"https://mengzelev.github.io/2019/10/11/dip-notes/","excerpt":"","text":"æœŸæœ«è€ƒè¯• é¢˜å‹ï¼šé€‰æ‹©ï¼ˆä¸å®šé€‰ï¼‰ã€åˆ¤æ–­ã€é—®ç­”ã€è®¡ç®— Ch01 æ•°å­—å›¾åƒå¤„ç†ç®€ä»‹å›¾åƒé‡‡æ ·ã€å›¾åƒé‡åŒ–åŸºæœ¬é—®é¢˜ï¼šå¦‚ä½•å°†ç°å®ç‰©ç†ä¿¡å·ç¦»æ•£åŒ–ã€æ•°å­—åŒ–é‡‡æ ·ï¼šç”¨æœ‰é™çš„æ ·æœ¬æ•°ç›®å»è¿‘ä¼¼æ— é™çš„ç°å®ç‰©ç†ä¿¡å·ï¼ˆæœ‰é™è¿‘ä¼¼æ— é™ï¼‰é‡åŒ–ï¼šç”¨ç¦»æ•£è®¡ç®—æœºè¡¨ç¤ºå»è¿‘ä¼¼è¿ç»­çš„ç°å®ç‰©ç†ä¿¡å·ï¼ˆç¦»æ•£è¿‘ä¼¼è¿ç»­ï¼‰ é‡‡æ ·æ•°é‡è¶Šå¤šï¼Œå›¾åƒè¶Šæ¸…æ™°ï¼ˆ10241024$\\to$ 1616ï¼‰é‡åŒ–çº§åˆ«è¶Šé«˜ï¼Œå›¾åƒè¶ŠçœŸå®ï¼ˆ256ç°åº¦çº§$\\to$4ç°åº¦çº§ï¼Œä½ç°åº¦çº§ä¼šå‡ºç°ä¼ªè½®å»“ï¼‰ å›¾åƒæœ‰M*Nä¸ªåƒç´ ï¼Œæ¯ä¸ªåƒç´ æœ‰$Q$ä¸ªç°åº¦çº§åˆ«ã€‚M,N,Qé€šå¸¸æ€»æ˜¯å–ä¸º2çš„æ•´æ•°å¹‚ã€‚$Q=2^b$ï¼Œç§°ä¸ºå›¾åƒçš„b bité‡åŒ–ï¼Œæˆ–ç§°$Q$çº§ç°åº¦ã€‚å­˜åœ¨é‡åŒ–è¯¯å·®ï¼Œbè¶Šå¤§é‡å»ºå›¾åƒå¤±çœŸè¶Šå°ã€‚ æœ‰å¤§é‡ç»†èŠ‚çš„å›¾ï¼Œéœ€è¦çš„é‡åŒ–çº§æ•°è¾ƒå°‘ æœ€ä½³é‡åŒ–ï¼šä½¿é‡åŒ–è¯¯å·®ï¼ˆå‡æ–¹è¯¯å·®æµ‹åº¦ï¼‰æœ€å°çš„é‡åŒ–æ–¹æ³•å‡æ–¹è¯¯å·®$\\delta^2=\\sum\\limits{k=1}^{K}\\int{Zk}^{Z{k+1}}(Zk-q_k)^2p(Z)dZ$å–$q_k=\\frac{1}{2}(Z_k+Z{k+1})$è¾¾åˆ°æœ€ä½³é‡åŒ– Ch02 ç©ºé—´åŸŸå›¾åƒå¢å¼ºï¼ˆPart 1ï¼‰è€ƒç‚¹ï¼šç°åº¦å˜æ¢ã€ç›´æ–¹å›¾ åŸºæœ¬ç°åº¦å˜æ¢ä¸‰ç±»åŸºæœ¬å‡½æ•°ï¼šçº¿æ€§ã€å¯¹æ•°ã€å¹‚å¾‹ çº¿æ€§å‡½æ•° å¯ä»¥å®ç°å›¾åƒåè½¬$s=L-1-r$â€”â€”å¢å¼ºåµŒå…¥åœ¨æš—åŒºåŸŸä¸­çš„ç™½è‰²æˆ–ç°è‰²ç»†èŠ‚ å¯¹æ•°å˜æ¢$s=c\\log(1+r)$ $1+r$ï¼šå‡½æ•°å›¾åƒç»è¿‡åŸç‚¹ï¼Œå¯¹æ•°å€¼æ’å¤§äº0 ä½ç°åº¦å€¼æ‹‰ä¼¸ï¼Œé«˜ç°åº¦å€¼å‹ç¼© è¿˜å¯ä»¥æŠŠè¶…å¤§çš„æ•°å­—å˜å°ï¼Œå˜æ¢åå¯ä»¥çœ‹åˆ°å›¾åƒæ›´å¤šçš„ç»†èŠ‚ å¹‚å¾‹å˜æ¢$s=cr^\\gamma$ ä½ç°åº¦å€¼å‹ç¼©ï¼Œé«˜ç°åº¦å€¼æ‹‰ä¼¸ ä¼½é©¬å‚æ•°å‡å°ï¼Œç»†èŠ‚å¢åŠ ï¼Œå¯¹æ¯”åº¦é™ä½ï¼›åä¹‹äº¦ç„¶ åˆ†æ®µçº¿æ€§å‡½æ•° åªæ‹‰ä¼¸æŸäº›ç°åº¦çº§ä¸Šçš„å¯¹æ¯”åº¦ é˜ˆå€¼å¤„ç†$r_1=r_2$ ç°åº¦çº§åˆ†å±‚ï¼šçªå‡ºç‰¹å®šç°åº¦èŒƒå›´çš„äº®åº¦ æ¯”ç‰¹å¹³é¢åˆ†å±‚ çªå‡ºç‰¹å®šæ¯”ç‰¹çš„ä½œç”¨ 8ä¸ªæ¯”ç‰¹å¯è®¤ä¸ºç”±8ä¸ª1æ¯”ç‰¹å¹³é¢ç»„æˆ é«˜é˜¶æ¯”ç‰¹å¹³é¢åŒ…å«è§†è§‰ä¸Šçš„é‡è¦æ•°æ®ï¼Œä½é˜¶æ¯”ç‰¹å¹³é¢è´¡çŒ®äº†æ›´ç²¾ç»†çš„ç°åº¦ç»†èŠ‚ åº”ç”¨ï¼šç¡®å®šé‡åŒ–è¯¥æ¯”ç‰¹æ•°çš„å……åˆ†æ€§ï¼›å›¾åƒå‹ç¼©å¯èƒ½ä¼šå¯¼è‡´ä¼ªè½®å»“ ç›´æ–¹å›¾å¤„ç†ç°åº¦ç›´æ–¹å›¾ å›¾åƒä¸­æ¯ç§ç°åº¦çº§çš„åƒç´ ä¸ªæ•° ç°åº¦ç›´æ–¹å›¾çš„æ¨ªåæ˜¯ç°åº¦çº§ï¼Œçºµåæ ‡è¡¨ç¤ºè¯¥ç°åº¦çº§å‡ºç°çš„é¢‘ç‡ é˜ˆå€¼é¢ç§¯å‡½æ•°$A(D)$ï¼šè¿ç»­å›¾åƒä¸­å…·æœ‰ç°åº¦çº§$\\ge D$çš„è½®å»“çº¿æ‰€åŒ…å›´çš„é¢ç§¯A(D)=\\int_{D}^{\\infty}H(p)dp æ¦‚ç‡å¯†åº¦å‡½æ•°$PDF$ï¼šå½’ä¸€åŒ–åˆ°å•ä½é¢ç§¯çš„ç›´æ–¹å›¾ï¼ˆæ¯ç§ç°åº¦å€¼å‡ºç°çš„æ¦‚ç‡å¯†åº¦å‡½æ•°ï¼‰ PDF=P(D)=\\frac{1}{A_0}H(D) ç´¯è®¡åˆ†å¸ƒå‡½æ•°$CDF$ï¼šå½’ä¸€åŒ–åç°åº¦çº§$\\le D$çš„è½®å»“çº¿æ‰€åŒ…å›´çš„é¢ç§¯ CDF=P(D)=\\int\\limits_0^D p(u)du=\\frac{1}{A_0}\\int\\limits_{0}^{D}H(u)du $H(D)=A(D)-A(D+1)$ å®ç°å›¾åƒå…·æœ‰$L$çº§ç°åº¦ï¼Œå¤§å°ä¸º$M*N$çš„ç°åº¦å›¾åƒ$f(x,t)$çš„ç°åº¦ç›´æ–¹å›¾$hist[0,\\ldots L-1]$çš„ç®—æ³• åˆå§‹åŒ–$hist[k]=0$ ç»Ÿè®¡$hist[f(x,y)]$ å½’ä¸€åŒ–$hist[f(x,y)]/(M*N)$ åº”ç”¨ å›¾åƒå¿«é€Ÿæ£€æµ‹ï¼šåˆ¤æ–­ä¸€å¹…å›¾åƒæ˜¯å¦åˆç†åˆ©ç”¨ç‡å…¨éƒ¨è¢«å…è®¸çš„ç°åº¦èŒƒå›´ï¼Œä»è€ŒåŠæ—©å‘ç°æ•°å­—åŒ–ä¸­å‡ºç°çš„é—®é¢˜ åˆ†å‰²å‰æ™¯èƒŒæ™¯ï¼šä»¥ç›´æ–¹å›¾åŒå³°ä¹‹é—´çš„è°·åœ°$T$ä¸ºé˜ˆå€¼æ¥ç¡®å®šè¾¹ç•Œï¼Œå¯ä»¥æŠŠå›¾åƒåˆ†ä¸ºå‰æ™¯èƒŒæ™¯ä¸¤éƒ¨åˆ† é¢ç§¯è®¡ç®—ï¼šèƒŒæ™¯ç°åº¦å¤§ä½“ä¸€è‡´ä¸”èƒŒæ™¯ä¸ç‰©ä½“å¯¹æ¯”åº¦å¾ˆå¼ºæ—¶$\\int\\limits_{D_1}^{\\infty}H(D)dD=$ç‰©ä½“çš„é¢ç§¯ Ch03 ç›´æ–¹å›¾å¤„ç†è€ƒç‚¹ï¼šç›´æ–¹å›¾å‡è¡¡ ç†è®ºç›´æ–¹å›¾å‘ˆå‡åŒ€åˆ†å¸ƒæ—¶ï¼Œå¯¹æ¯”åº¦ä¼šæœ‰æ˜æ˜¾å¢åŠ ã€‚é€šè¿‡ç°åº¦å˜æ¢å‡½æ•°ï¼Œå°†åŸå›¾åƒç›´æ–¹å›¾çš„åˆ†å¸ƒå‡è¡¡åŒ–ï¼Œè¿™ä¸€è¿‡ç¨‹ç§°ä¸ºç›´æ–¹å›¾å‡è¡¡åŒ– è¾“å‡ºå›¾åƒçš„æ¦‚ç‡å¯†åº¦p_s(s)=p_r(T^{-1}(s))\\frac{1}{|T'(T^{-1}(s))|}è‹¥$s=T(r)$ä¸ºå•è°ƒé€’å¢å‡½æ•°ï¼š p_s(s)=p_r(r)\\frac{dr}{ds}($r$ç”¨$s$è¡¨ç¤º) e.g. $s=T(r)=ar+b$,å³$r=\\frac{s-b}{a}$ï¼Œåˆ™æœ‰$p_s(s)=\\frac{1}{a}p_r(\\frac{s-b}{a})$. ç›´æ–¹å›¾å‡è¡¡åŒ–å˜æ¢å‡½æ•°ï¼š s=T(r)=(L-1)\\int_{0}^{r}p_r(w)dwç¦»æ•£è¿‘ä¼¼ï¼š p_r(r_k)=\\frac{n_k}{MN}s_k=T(r_k)=(L-1)\\sum\\limits_{j=0}^{k}p_r(r_j)=\\frac{(L-1)}{MN}\\sum\\limits_{j=0}^{k}n_jæ­¥éª¤ï¼š ç»™å®š$L$å’Œ$p_r(r_k),k=0,1,\\ldots, L-1$ ç”¨ä¸Šè¿°å…¬å¼è®¡ç®—$s_k$ å°†$s_k$å››èˆäº”å…¥å–æ•´ è®¡ç®—$p_s(s_k)$â€”â€”å‡è¡¡åçš„ æŠŠ$r_k$ä¸€ä¸€æ›¿æ¢æˆ$s_k$å¾—åˆ°æ–°å›¾åƒ Ch04 ç©ºé—´æ»¤æ³¢ã€ç®—æ•°æ“ä½œå¢å¼ºè€ƒç‚¹ï¼š ç©ºé—´ç›¸å…³/å·ç§¯ï¼šåŒºåˆ«å’Œè”ç³»ï¼Œæ€ä¹ˆç®—ï¼ˆè®¡ç®—é¢˜ å¹³æ»‘/é”åŒ–ç©ºé—´æ»¤æ³¢å™¨ï¼šç‰¹ç‚¹ï¼Œå¹²å•¥ç”¨ é”åŒ–æ‹‰æ™®æ‹‰æ–¯æ¢¯åº¦ç®—å­å¤§æ¦‚çŸ¥é“ ç®—æœ¯æ“ä½œï¼Œå¤§æ¦‚çŸ¥é“åŠ å‡ä¹˜é™¤æœ‰ä»€ä¹ˆé“ç† ç›¸å…³å’Œå·ç§¯éƒ½æ˜¯å¯¹åº”ç‚¹ç›¸ä¹˜ç„¶åæŠŠæ‰€æœ‰ä¹˜ç§¯åŠ èµ·æ¥ ç›¸å…³ å¹³ç§»è®¡ç®—æ¨¡æ¿ï¼Œè®¡ç®—æ¯ä¸ªä½ç½®ä¹˜ç§¯ä¹‹å’Œ è¡¥é›¶ã€è®¡ç®—ã€æ»‘åŠ¨ã€è£å‰ª ç¬¦å·ï¼šâ˜† å·ç§¯ ä¸ç›¸å…³ç±»ä¼¼ï¼Œä½†æ»¤æ³¢å™¨è¦æ—‹è½¬180åº¦ æ—‹è½¬ã€è¡¥é›¶ã€è®¡ç®—ã€æ»‘åŠ¨ã€è£å‰ª ç¬¦å·ï¼š$\\star$ å¹³æ»‘ç©ºé—´æ»¤æ³¢å™¨å¹³æ»‘çº¿æ€§æ»¤æ³¢å™¨ å‡å€¼æ»¤æ³¢å™¨ é™„è¿‘9æ ¼çš„å‡å€¼ï¼Œå…ˆæ±‚å’Œå†å½’ä¸€åŒ– ä¼˜ç‚¹ï¼šé™ä½å™ªå£° ç¼ºç‚¹ï¼šè¾¹ç¼˜æ¨¡ç³Š åŠ æƒçº¿æ€§æ»¤æ³¢å™¨ éå‡åŒ€æƒé‡ é™ä½æ¨¡ç³Š ç»Ÿè®¡æ’åºæ»¤æ³¢å™¨éçº¿æ€§æ»¤æ³¢å™¨ï¼šå¯¹æ»¤æ³¢å™¨è¦†ç›–çš„åƒç´ æ’åºï¼Œç”¨æ’åºå†³å®šçš„å€¼æ›¿ä»£ä¸­å¿ƒåƒç´  ä¸­å€¼æ»¤æ³¢å™¨ï¼šä¸­ä½æ•° æœ€å¤§å€¼æ»¤æ³¢å™¨ æœ€å°å€¼æ»¤æ³¢å™¨ é”åŒ–ç©ºé—´æ»¤æ³¢å™¨æ•°å­¦åŸºç¡€ ä¸€é˜¶å¯¼æ•° äºŒé˜¶å¯¼æ•° åœ¨æ’å®šç°åº¦åŒºåŸŸä¸º0 åœ¨æ’å®šç°åº¦åŒºåŸŸä¸º0 åœ¨çªå˜ï¼ˆæ–œå¡ã€å°é˜¶ï¼‰çš„èµ·ç‚¹é0 åœ¨çªå˜çš„çš„èµ·ç‚¹å’Œç»ˆç‚¹é0 æ²¿ç€æ–œå¡é0 æ²¿ç€æ’å®šæ–œç‡æ–œå¡ä¸º0 $f(x+1)-f(x)$ $f(x+1)+f(x-1)-2f(x)$ äº§ç”Ÿè¾ƒç²—çš„è¾¹ç¼˜ äº§ç”Ÿä¸¤ä¸ªæœ‰é—´è·çš„åŒè¾¹ç¼˜ï¼ˆç”±0åˆ†å¼€ï¼Œå•åƒç´ å®½ï¼‰ - å¢å¼ºç»†èŠ‚æ–¹é¢æ›´å¥½ æ‹‰æ™®æ‹‰æ–¯ç®—å­\\nabla^2f=\\frac{\\partial^2f}{\\partial x^2}+\\frac{\\partial^2f}{\\partial y^2}ç¦»æ•£åŒ– \\frac{\\partial^2f}{\\partial x^2}=f(x+1,y)+f(x-1,y)-2f(x,y)\\frac{\\partial^2f}{\\partial x^2}=f(x,y+1)+f(x,y-1)-2f(x,y)æ³¨æ„å‡çš„æ˜¯2å€çš„ \\nabla^2f=f(x+1,y)+f(x-1,y)+f(x,y+1)+f(x,y-1)-4f(x,y)è¿˜æœ‰å¯¹è§’çº¿å½¢å¼çš„ æ‹‰æ™®æ‹‰æ–¯ç®—å­ç»“æœå åŠ åˆ°å›¾åƒä¸­ g(x,y)=f(x,y)+c[\\nabla^2f(x,y)] é‡‡ç”¨è´Ÿçš„ä¸­å¿ƒç³»æ•°ï¼Œ$c=-1$ é‡‡ç”¨æ­£çš„ä¸­å¿ƒç³»æ•°ï¼Œ$c=1$ éé”åŒ–æ©è”½åŸå›¾åƒ-éé”åŒ–ç‰ˆæœ¬ æ¨¡ç³ŠåŸå›¾åƒ ä»åŸå›¾åƒå‡å»æ¨¡ç³Šå›¾åƒå¾—åˆ°æ¨¡æ¿ å°†æ¨¡æ¿åŠ åˆ°åŸå›¾åƒ å…·ä½“å…¬å¼ g_{mask}(x,y)=f(x,y)-\\overline{f}(x,y)g(x,y)=f(x,y)+kg_{mask}(x,y)éé”åŒ–æ©è”½$k=1$ï¼›é«˜æå‡æ»¤æ³¢$k&gt;1$ ä½¿ç”¨ä¸€é˜¶å¯¼æ•°é”åŒ–å›¾åƒåˆ©ç”¨æ¢¯åº¦çš„å¤§å° M(x,y)=\\sqrt{(\\frac{\\partial f}{\\partial x})^2+(\\frac{\\partial f}{\\partial y})^2}è¿‘ä¼¼è®¡ç®— M(x,y)=|g_x|+|g_y| sobelç®—å­ï¼ˆå®éªŒå†™è¿‡ï¼‰ ç®—æ•°æ“ä½œå¢å¼º åŠ æ³• å¤šæ¬¡æ›å…‰ï¼šå°†ä¸åŒæ—¶é—´æ›å…‰ç…§ç‰‡è¿›è¡Œå¾—åŠ ï¼Œå¾—åˆ°ä¸€å¼ å…·æœ‰ç‰¹æ®Šæ•ˆæœçš„ç…§ç‰‡ åŠ æ³•è¿ç®—å¸¸ç”¨äºå‡å°‘å›¾åƒä¸­çš„éšæœºå™ªå£° å¯¹$M$å¹…åŠ æ€§å™ªå£°å›¾å½¢è¿›è¡Œå¹³å‡ï¼Œå¯ä»¥ä½¿å›¾åƒçš„å¹³æ–¹ä¿¡å™ªæ¯”æé«˜$M$å€ï¼Œä¿¡å™ªæ¯”å®šä¹‰è§åé¢ å‡æ³• ä½œå·®åå¯¹æ¯”åº¦ä¼šå¢å¼ºï¼Œæå–è½®å»“ï¼ˆæŒ‡çº¹ï¼‰ï¼Œå¼ºè°ƒç»†èŠ‚ è´Ÿæ•°è§„èŒƒåŒ–ï¼š$y=(x+255)/2$æˆ–$y=(x-min)/(max-min)*255$ ä¹˜æ³• æ©æ¨¡è¿ç®— é™¤æ³• å½’ä¸€åŒ– Ch05 é›†åˆé€»è¾‘æ“ä½œã€ç©ºé—´æ“ä½œã€ç°åº¦å†…æ’è€ƒç‚¹ï¼š ä»¿å°„å˜æ¢ï¼šä»€ä¹ˆï¼Œç‰¹ç‚¹ ç°åº¦å†…æ’ï¼šæœ€è¿‘é‚»ï¼Œçº¿æ€§ï¼ŒåŒçº¿æ€§ ä»¿å°„å˜æ¢åŒ…æ‹¬äº†æ—‹è½¬ã€ä¼¸ç¼©ã€å¹³ç§»ã€å€¾æ–œç­‰å˜æ¢ x=t_{11}v+t_{21}w+t_{31}y=t_{12}v+t_{22}w+t_{32} $t{31},t{32}$åˆ»ç”»äº†å¹³ç§»é‡ $t{11},t{22}$åˆ»ç”»äº†ä¼¸ç¼©æ¯”ä¾‹ $t{12},t{21}$åˆ»ç”»äº†å€¾æ–œç¨‹åº¦ æ•´ä½“ç»„åˆåˆ»ç”»äº†å¹³ç§»ã€æ—‹è½¬è§’åº¦ã€å€¾æ–œç¨‹åº¦ ä¼˜ç‚¹ï¼š ä¿æŒå…±çº¿æ€§ï¼ˆå…±çº¿çš„ç‚¹å˜æ¢åä¾ç„¶å…±çº¿ï¼‰ ä¿æŒè·ç¦»æ¯”ä¾‹ï¼ˆçº¿çš„ä¸­å¿ƒå˜æ¢åä»ç„¶æ˜¯çº¿çš„ä¸­å¿ƒï¼‰ å‡ ç§å¸¸è§ä»¿å°„å˜æ¢ æ’ç­‰å˜æ¢ ä¼¸ç¼©å˜æ¢ï¼š$x=c_xv, y=c_yw$ æ—‹è½¬å˜æ¢ï¼š$x=v\\cos\\theta-w\\sin\\theta, y=v\\sin\\theta+w\\cos\\theta$ å¹³ç§»å˜æ¢ï¼š$x=v+t_x, y=w+t_y$ ï¼ˆå‚ç›´ï¼‰å€¾æ–œå˜æ¢ï¼š$x=v+s_vw, y=w$ ï¼ˆæ°´å¹³ï¼‰å€¾æ–œå˜æ¢ï¼š$x=v,y=s_hv+w$ å¤æ‚ä»¿å°„å˜æ¢ï¼šä¸€ç³»åˆ—ä»¿å°„å˜æ¢æ“ä½œï¼ˆå› ä¸ºä»¿å°„å˜æ¢çš„ç»„åˆè¿˜æ˜¯ä»¿å°„å˜æ¢ï¼‰é€†ä»¿å°„å˜æ¢ï¼šå¯¹çŸ©é˜µæ±‚é€†ï¼ˆåŸºæœ¬å˜æ¢çŸ©é˜µéƒ½æ˜¯å¯é€†çŸ©é˜µï¼‰ ç°åº¦å†…æ’ å‰å‘æ˜ å°„ é€šè¿‡è¾“å…¥å›¾åƒé™é€Ÿä½ç½®ï¼Œè®¡ç®—è¾“å‡ºå›¾åƒå¯¹åº”çš„åƒç´ ä½ç½® å°†è¯¥ä½ç½®åƒç´ çš„ç°åº¦å€¼åˆ†é…ç»™å…¶ç›¸é‚»å››ä¸ªç½‘æ ¼ä½ç½® åå‘æ˜ å°„ ç”¨è¿‡è¾“å‡ºå›¾åƒåƒç´ ä½ç½®ï¼Œè®¡ç®—è¾“å…¥å›¾åƒä¸­æ¶‰åŠåˆ°æ‰€æœ‰å¯¹åº”çš„åƒç´ ä½ç½® æ ¹æ®è¾“å…¥å›¾åƒå››ä¸ªåƒç´ çš„ç°åº¦å€¼è®¡ç®—è¯¥ä½ç½®çš„åƒç´ çš„ç°åº¦å€¼ æœ€è¿‘é‚»å†…æ’å–ç¦»å¾—æœ€è¿‘çš„å€¼ä½œä¸ºè‡ªå·±çš„å€¼e.g. $f(0)=10, f(1)=12, f(0.4)=f(0), f(0.6)=f(1)$ çº¿æ€§å†…æ’è¿æ¥ç›¸é‚»ä¸¤ç‚¹çš„ç›´çº¿e.g. $f(0)=10, f(1)=12, f(x)=10+2x, x\\in[0,1]$ï¼Œi.e.$f(0.4)=10.8$. æˆ–å†™æˆ$f(x)=(1-x)f(0)+(x-0)f(1)$ åŒçº¿æ€§å†…æ’ ç”¨é™„è¿‘4ä¸ªç‚¹çš„å€¼æ¥è¡¨ç¤º$P$ç‚¹çš„å€¼ Ch06 å‚…é‡Œå¶å˜æ¢è€ƒç‚¹ï¼š å‚…é‡Œå¶å˜æ¢ï¼šåŸºæœ¬çŸ¥è¯†ï¼Œæ¦‚å¿µ å·ç§¯å®šç†å’Œé‡‡æ ·å®šç† èƒŒDFTå’ŒIDFTçš„å…¬å¼ åŸç†ä¸œè¥¿æŒæ¡ å‚…é‡Œå¶å˜æ¢åŸºæœ¬çŸ¥è¯†å†²æ¿€ä¸é‡‡æ ·è¿ç»­ï¼šåœ¨0ç‚¹å€¼ç‰¹åˆ«å¤§ï¼Œå…¶ä½™ç‚¹ä¸º0ï¼Œ$[0,1]$ä¸Šç§¯åˆ†ä¸º1ç¦»æ•£ï¼šåœ¨0ç‚¹å€¼ä¸º1ï¼Œå…¶ä½™ç‚¹ä¸º0ï¼Œ$(-\\infty,+\\infty)$ä¸Šçš„çº§æ•°å’Œä¸º1 é‡‡æ ·æ€§è´¨ï¼š \\int_{-\\infty}^{\\infty}f(t)\\delta(t-t_0)dt=f(t_0)\\sum\\limits_{x=-\\infty}^{\\infty}f(x)\\delta(x-x_0)=f(x_0)å†²æ¿€ä¸²ï¼šæ— ç©·ä¸ªä»¥$\\Delta T$ä¸ºé—´è·çš„å‘¨æœŸæ€§å†²æ¿€ä¹‹å’Œ å‚…é‡Œå¶çº§æ•°ï¼šå‘¨æœŸä¸º$T$çš„è¿ç»­å‡½æ•°$f(t)$å¯ä»¥è¡¨ç¤ºä¸ºæ­£å¼¦å’Œä½™å¼¦å‡½æ•°çš„åŠ æƒä¹‹å’Œ å·ç§¯å®šç† ç©ºé—´åŸŸå·ç§¯çš„å‚…é‡Œå¶å˜æ¢$\\Leftrightarrow$å‚…é‡Œå¶å˜æ¢åœ¨é¢‘ç‡åŸŸçš„ä¹˜ç§¯ f(t)\\star h(t)\\Leftrightarrow H(\\mu)F(\\mu) ç©ºé—´åŸŸä¹˜ç§¯çš„å‚…é‡Œå¶å˜æ¢$\\Leftrightarrow$å‚…é‡Œå¶å˜æ¢åœ¨é¢‘ç‡åŸŸçš„å·ç§¯ f(t)h(t)\\Leftrightarrow H(\\mu)F(\\mu) é‡‡æ ·å®šç†è¿ç»­å‡½æ•°é‡‡æ ·ï¼šæŠŠå†²æ¿€ä¸²ä¸åŸå‡½æ•°ç›¸ä¹˜ \\tilde{f}(t)=f(t)s_{\\Delta T}(t)=\\sum\\limits_{n=-\\infty}^{\\infty}f(t)\\delta(t-n\\Delta T)\\tilde{F}(\\mu)=F(\\mu)\\star S(\\mu), S(\\mu)=\\frac{1}{\\Delta T}\\sum\\limits_{n=-\\infty}^{\\infty}\\delta(\\mu-\\frac{n}{\\Delta T})é‡‡æ ·å€¼$f_k=f(k\\Delta T)$ é‡‡æ ·å®šç†ï¼šå¦‚æœä»¥è¶…è¿‡å‡½æ•°æœ€é«˜é¢‘ç‡çš„ä¸¤å€é‡‡æ ·ç‡æ¥è·å¾—æ ·æœ¬ï¼Œè¿ç»­çš„å¸¦é™å‡½æ•°å¯ä»¥å®Œç¾åœ°ä»å®ƒçš„æ ·æœ¬é›†æ¥æ¢å¤ã€‚å³å¦‚æœ \\frac{1}{2\\Delta T}>\\mu_{\\max}\\Leftrightarrow \\frac{1}{\\Delta T}>2\\mu_{\\max}å°±å¯ä»¥ä»$\\tilde F(\\mu)$ä¸­åˆ†ç¦»å‡º$F(\\mu)$. $2\\mu_{\\max}$ç§°ä¸ºå¥ˆå¥æ–¯ç‰¹é¢‘ç‡ã€‚äºŒç»´é‡‡æ ·å®šç†ï¼šåœ¨ä¸¤ä¸ªç»´åº¦ä¸Šéƒ½è¦æ»¡è¶³ä¸€ç»´é‡‡æ ·å®šç† æ··æ·† æ¬ é‡‡æ ·ï¼šä»¥ä½äºå¥ˆå¥æ–¯ç‰¹é¢‘ç‡é‡‡æ ·ã€‚æ— æ³•åˆ†ç¦»ï¼Œæ— æ³•è¡¥æ•‘ã€‚ é‡‡æ ·æ˜¯æœ‰é™çš„ï¼Œæ‰€ä»¥å®é™…ä¸­éš¾ä»¥é¿å…æ··æ·†ã€‚ ä¸€ä¸ªå¸¦é™å‡½æ•°ä¸€å®šæ˜¯ä»$-\\infty$æ‰©å±•åˆ°$\\infty$ï¼Œæ²¡æœ‰æœ‰é™æŒç»­æ—¶é—´çš„å‡½æ•°æ˜¯å¸¦é™çš„ã€‚æœ‰é™é•¿åº¦çš„é‡‡æ ·ï¼Œæ··æ·†æ˜¯ä¸å¯é¿å…çš„ã€‚ æŠ—æ··æ·†ï¼š äº‹å…ˆé˜²æ­¢æˆ–å‡è½»æ··æ·† å¹³æ»‘è¾“å…¥å‡½æ•°ï¼Œå‡å°‘é«˜é¢‘åˆ†é‡ æœ‰é™é•¿åº¦é‡‡æ · é‡‡æ ·æ—¶é—´é™åˆ¶åœ¨$[0,T]$ï¼Œå¯ä»¥å†™æˆä¸€ä¸ªåªåœ¨$[0,T]$ä¸º1å…¶ä½™åœ°æ–¹ä¸º0çš„å‡½æ•°$h(t)$ $f(t)\\Rightarrow f(t)h(t)\\Leftrightarrow H(\\mu)\\star F(\\mu)$ ç”±æ ·æœ¬æ¢å¤åŸå‡½æ•° f(t)=\\sum\\limits_{n=-\\infty}^{\\infty}f(n\\Delta T)sinc[(t-n\\Delta T)/\\Delta T] å‡½æ•°å†…æ’ï¼šæ— é™ä¸ªæ ·æœ¬çš„å†…æ’ï¼Œå®é™…ä¸­åªèƒ½è¿‘ä¼¼ $t=k\\Delta T, f(t)=f(k\\Delta T)$ ç¦»æ•£å‚…é‡Œå¶å˜æ¢ä¸€ç»´DFTDFTï¼š F(u)=\\sum\\limits_{n=0}^{M-1}f(x)e^{-j2\\pi ux/M}, u=0,1,2,\\ldots, M-1IDFT: f(x)=\\frac{1}{M}\\sum\\limits_{u=0}^{M-1}F(u)e^{j2\\pi ux/M}ï¼Œ x=0,1,2\\ldots M-1$x$æ˜¯æ•´æ•°$\\mu=\\frac{m}{M\\Delta T}$ å¯¹ $\\tilde{F}(\\mu)$ çš„ä¸€ä¸ªå‘¨æœŸ $[0,1/\\Delta T]$é‡‡é›†$M$ä¸ªæ ·æœ¬ ç¦»æ•£å·ç§¯ f(x)\\star h(x)=\\sum\\limits_{m=0}^{M-1}f(m)h(x-m) å‘¨æœŸå‡½æ•°ï¼Œä¹Ÿè¢«ç§°ä¸ºå¾ªç¯å·ç§¯ ä¸ä¹‹å‰çš„å·ç§¯ä¸ä¸€æ ·ï¼Œä¸»è¦åŒºåˆ«æ˜¯$x$ï¼ˆä¹‹å‰çš„å·ç§¯å¯¹ä¸å¤Ÿçš„åœ°æ–¹è¡¥é›¶ï¼Œè¿™ä¸ªæ˜¯å–å¾ªç¯å€¼ï¼‰ å·ç§¯å®šç†ä¾ç„¶æˆç«‹ å€’æ•°å…³ç³»ï¼š å¯¹è¿ç»­å‡½æ•°$f(t)$é‡‡æ ·ï¼Œæ€»æ—¶é—´é•¿åº¦ä¸º$T=M\\Delta T$ï¼Œç¦»æ•£é¢‘åŸŸä¸­çš„é—´éš”$\\Delta u=\\frac{1}{M\\Delta T}=\\frac{1}{T}$ ç¦»æ•£é¢‘åŸŸèŒƒå›´$\\Omega = M\\Delta U=\\frac{1}{\\Delta T}$ äºŒç»´DFT F(u,v)=\\sum\\limits_{x=0}^{M-1}\\sum\\limits_{y=0}^{N-1}f(x,y)e^{-2j\\pi (ux/M+vx/N)}, u=0,1,\\ldots,M-1; v= 0,1,\\ldots, N-1 $f(x,y)$æ˜¯å¤§å°ä¸º$M\\times N$çš„äºŒç»´å›¾åƒ äºŒç»´IDFT f(x,y)=\\frac{1}{MN}\\sum\\limits_{u=0}^{M-1}\\sum\\limits_{v=0}^{N-1}F(u,v)e^{j2\\pi (ux/M+vx/N)} å¯¹è¿ç»­$f(x,y)$é‡‡æ ·ï¼Œä¸¤ä¸ªæ–¹å‘ä¸Šçš„æ€»æ—¶é—´$T=M\\Delta T, Z=N\\Delta Z$ ç¦»æ•£é¢‘åŸŸä¸­çš„é—´éš”$\\Delta u=\\frac{1}{M\\Delta T}, \\Delta v=\\frac{1}{N\\Delta Z}$ ç¦»æ•£é¢‘åŸŸèŒƒå›´$\\frac{1}{\\Delta T}, \\frac{1}{\\Delta Z}$ æ€§è´¨ å¹³ç§»ä¸å½±å“å¹…å€¼ï¼š$f(x-x_0, y-y_0)\\Leftrightarrow F(u-u_0, v-v_0)$ æ—‹è½¬æ€§ï¼š$F(u,v)$ å’Œ$f(x,y)$æ—‹è½¬ç›¸åŒçš„è§’åº¦ $f(x,y)(-1)^{x+y}\\Leftrightarrow F(u-M/2, v-N/2)$ å¯¹ç§°æ€§ï¼šç›¸å¯¹äºåºåˆ—ä¸­å¿ƒè€Œè¨€ $w_e(x,y)=w_e(M-x, N-y)$ $w_o(x,y)=-w_o(M-x, N-y)$ å®å‡½æ•°çš„å‚…é‡Œå¶å˜æ¢å…±è½­å¯¹ç§°ï¼š$F^*(u,v)=F(-u,-v)$ è™šå‡½æ•°çš„å‚…é‡Œå¶å˜æ¢å…±è½­åå¯¹ç§° å‚…é‡Œå¶è°±å’Œç›¸è§’ å¹…åº¦ï¼ˆå‚…é‡Œå¶è°±ï¼‰ï¼š$|F(u,v)|$ ç›¸è§’$[-\\pi, pi]$ï¼š$\\pi(u,v)=\\arctan\\left[\\frac{I(u,v)}{R(u,v)} \\right]$ å‚…é‡Œå¶è°±å†³å®šäº†æ­£å¼¦æ³¢çš„å¹…åº¦ï¼Œè¡¨ç¤ºç°åº¦ ç›¸è§’è¡¨ç¤ºæ­£å¼¦æ³¢çš„ä½ç§»ï¼Œæºå¸¦äº†å®šä½ä¿¡æ¯ äºŒç»´å·ç§¯å®šç†å’Œä¸€ç»´ä¸€æ ·ã€‚ è¦è®©å·ç§¯å®šç†å’Œç›´æ¥å·ç§¯ä¸€è‡´ï¼Œéœ€è¦0å¡«å……ï¼Œé¿å…ç¼ ç»•é”™è¯¯ Ch08 é¢‘ç‡åŸŸæ»¤æ³¢ã€å¹³æ»‘å›¾åƒè€ƒç‚¹ï¼š é¢‘åŸŸæ»¤æ³¢åŸºæœ¬æµç¨‹ 3ç§ä½é€šæ»¤æ³¢å™¨ç‰¹ç‚¹ï¼Œä¸ä¼šè€ƒå…¬å¼ é¢‘åŸŸæ»¤æ³¢åŸºæœ¬æµç¨‹ ç»™å®šå¤§å°ä¸º$M\\times N$çš„è¾“å…¥å›¾åƒ$f(x,y)$ï¼Œé€‰æ‹©0å¡«å……å‚æ•°$P,Q$ï¼Œä¸€èˆ¬$P=2M, Q=2N$ å¯¹$f(x,y)$è¿›è¡Œ0å¡«å……ï¼Œå¾—åˆ°$f_p(x,y)$ $f_p(x,y)$ä¹˜ä¸Š$(-1)^{x+y}$ç§»åˆ°å˜æ¢ä¸­å¿ƒ è®¡ç®—ä¸Šä¸€æ­¥ä¸­å‡½æ•°çš„DFTï¼Œå¾—åˆ°$F(u,v)$ ç”Ÿæˆä¸€ä¸ªå®çš„ã€å¯¹ç§°çš„æ»¤æ³¢å‡½æ•°$H(u,v)$ï¼Œå¤§å°ä¸º$P\\times Q$ï¼Œä¸­å¿ƒ$(P/2, Q/2)$ï¼Œç”¨é˜µåˆ—ç›¸ä¹˜å½¢æˆä¹˜ç§¯$G(u,v)=H(u,v)F(u,v)$ å¾—åˆ°å¤„ç†åçš„å›¾åƒ$g_p(x,y)$ï¼Œæ³¨æ„æ˜¯$G(u,v)$IDFTåå®éƒ¨ä¹˜ä»¥$(-1)^{x+y}$ é€šè¿‡$g_p(x,y)$çš„å·¦ä¸Šè±¡é™æå–$M\\times N$åŒºåŸŸï¼Œå¾—åˆ°æœ€ç»ˆå¤„ç†ç»“æœ$g(x,y)$ ä½é€šæ»¤æ³¢å™¨ å‚…é‡Œå¶å˜æ¢çš„ä½é¢‘éƒ¨åˆ†ï¼šç°åº¦å˜åŒ–ç¼“æ…¢çš„åœ°æ–¹ï¼ˆå¢™ã€åœ°é¢ã€å¤©ç©ºï¼‰ å‚…é‡Œå¶å˜æ¢çš„é«˜é¢‘æˆåˆ†ï¼šç°åº¦å˜åŒ–å‰§çƒˆçš„åœ°æ–¹ï¼ˆè¾¹ç¼˜ã€å™ªå£°ï¼‰ ä½é€šæ»¤æ³¢å™¨ï¼šè¡°å‡é«˜é¢‘ï¼Œé€šè¿‡ä½é¢‘ ç†æƒ³ä½é€šæ»¤æ³¢å™¨ ç†æƒ³ï¼šä½é¢‘å®Œå…¨ä¿ç•™ï¼Œé«˜é¢‘å®Œå…¨æŠ‘åˆ¶ å›¾ï¼šä¸€ä¸ªå‘ä¸Šçš„åœ†æŸ±ï¼ˆä¸è¦é—®æˆ‘åœ†æŸ±ä¸ºä»€ä¹ˆä¼šæœ‰æ–¹å‘+ å›¾å½¢æ˜¾ç¤ºï¼šä¸€å—é»‘çš„ä¸­é—´ä¸€ä¸ªç™½åœ†+ ç¡¬ä»¶æ— æ³•å®ç° åˆ©ç”¨åŠå¾„æ„é€ çš„ä½é€šæ»¤æ³¢å™¨ä¼šäº§ç”ŸæŒ¯é“ƒç°è±¡ï¼ˆä¸€åœˆä¸€åœˆè·Ÿæ’¸å¤šäº†ä¸€æ ·ï¼‰ æŒ¯é“ƒåŸå› ï¼šsincå‡½æ•°ä¸¤è¾¹æŒ¯è¡çš„å°å°¾å·´ åŠå¾„è¶Šå¤§è¶Šæ¸…æ™° å·´ç‰¹æ²ƒæ–¯ä½é€šæ»¤æ³¢å™¨ $D_0$ä¸ºæˆªæ­¢é¢‘ç‡ é€è§†å›¾ï¼šMATLAB logo åˆ©ç”¨åŠå¾„æ„é€ çš„å·´ç‰¹æ²ƒæ–¯æ»¤æ³¢å™¨($n=2$)ï¼šæ²¡æœ‰æŒ¯é“ƒç°è±¡ $n=2$æ˜¯æ¯”è¾ƒå¥½çš„æŠ˜ä¸­ é«˜æ–¯ä½é€šæ»¤æ³¢å™¨ é€è§†å›¾ï¼šMATLAB logo æ²¡æœ‰æŒ¯é“ƒç°è±¡ Ch09 é”åŒ–å›¾åƒã€é€‰æ‹©æ€§æ»¤æ³¢ã€å®ç°è€ƒç‚¹ï¼š 3ç§é«˜é€š æ‹‰æ™®æ‹‰æ–¯ç®—å­ï¼Œå…¶ä»–ä¿©ä¸ç”¨çœ‹ ä½é€šé«˜é€šæ¨¡ç³Šé”åŒ–ï¼ˆåŸºæœ¬å¸¸è¯† é«˜é€šæ»¤æ³¢å™¨ä»ä½é€šæ„é€ é«˜é€šï¼š H_{HP}(u,v)=1-H_{LP}(u,v)å›¾åƒéƒ½æ˜¯ä½é€šå€’è¿‡æ¥ ç†æƒ³é«˜é€šæ»¤æ³¢å™¨ ä½é¢‘å®Œå…¨æŠ‘åˆ¶ï¼Œé«˜é¢‘å®Œå…¨ä¿ç•™ äº§ç”ŸæŒ¯é“ƒï¼Œéšç€$D_0$å¢å¤§æŒ¯é“ƒä¼šæœ‰æ‰€ç¼“è§£ å·´ç‰¹æ²ƒæ–¯é«˜é€šæ»¤æ³¢å™¨ è½»å¾®æŒ¯é“ƒç°è±¡ é«˜æ–¯é«˜é€šæ»¤æ³¢å™¨ ç»“æœæ›´æ¸…æ™°ä¸€äº› å¯¹æ¯” é¢‘ç‡åŸŸæ‹‰æ™®æ‹‰æ–¯ç®—å­é¢‘åŸŸæ»¤æ³¢å™¨ï¼ˆä¸­å¿ƒåŒ–ï¼‰ï¼š H(u,v)=-4\\pi^2D^2(u,v)$D(u,v)$ä¸ºç‚¹$(u,v)$åˆ°ä¸­å¿ƒç‚¹$(P/2,Q/2)$çš„è·ç¦» æ‹‰æ™®æ‹‰æ–¯å›¾åƒ \\Delta^2f(x,y)=\\mathcal{F}^{-1}\\{H(u,v)F(u,v)\\}å›¾åƒé”åŒ–$g(x,y)=f(x,y)-\\Delta^2 f(x,y)$ï¼Œé¢‘ç‡åŸŸå†™æ³• g(x,y)=\\mathcal{F}^{-1}\\{F(u,v)-H(u,v)F(u,v)\\}=\\mathcal{F}^{-1}\\{[1+4\\pi^2D^2(u,v)]F(u,v)\\} $f(x,y)$å½’ä¸€åˆ°$[0,1]$ï¼Œ$\\Delta^2f(x,y)$å½’ä¸€åˆ°$[-1,1]$ï¼Œå†è®¡ç®—DFT CH10 å›¾åƒå¤åŸè€ƒç‚¹ï¼š å›¾åƒå¤åŸæ˜¯å¹²å•¥ï¼ˆå»ºæ¨¡ï¼‰ï¼Œè·Ÿå¢å¼ºçš„åŒºåˆ« å™ªå£°çš„å¤§æ¦‚ç‰¹ç‚¹ï¼Œä¸ä¼šè€ƒå…¬å¼ å‡å€¼æ»¤æ³¢å™¨ã€ç»Ÿè®¡æ’åºæ»¤æ³¢å™¨ï¼Œè‡ªé€‚åº”ä¸è€ƒ å›¾åƒå¤åŸå¤åŸ v.s. å¢å¼º å›¾åƒå¤åŸ ä»¥é¢„å…ˆåˆ¶å®šçš„ç›®æ ‡æ”¹å–„å›¾åƒï¼Œå®¢è§‚ å¯¹æ¨¡ç³Šçš„å›¾åƒå»æ¨¡ç³Š åˆ©ç”¨é€€åŒ–ç°è±¡çš„å…ˆéªŒçŸ¥è¯†æ¥æ¢å¤å›¾åƒ å»ºæ¨¡é€€åŒ–è¿‡ç¨‹-&gt;åˆ©ç”¨é€†è¿‡ç¨‹å¤åŸå›¾åƒ å›¾åƒå¢å¼º ç”±äººçš„ä¸»è§‚æ„Ÿå—æ¥è¯„åˆ¤ï¼Œä¸»è§‚ å¯¹æ¯”åº¦æ‹‰ä¼¸ã€å¢å¼º é€€åŒ–/å¤åŸå»ºæ¨¡ è¾“å…¥$f(x,y)$ é€€åŒ–å‡½æ•°$H$ åŠ æ€§å™ªå£°$\\eta(x,y)$ å¤åŸæ»¤æ³¢å™¨ è¾“å‡º$\\hat{f}(x,y)$ ç›®æ ‡ï¼š$f(x,y)\\approx f(x,y)$ ç©ºé—´åŸŸè¡¨ç¤º g(x,y)=h(x,y)\\star f(x,y)+\\eta(x,y)é¢‘ç‡åŸŸè¡¨ç¤º G(u,v)=H(u,v)F(u,v)+N(u,v)å™ªå£°æ¨¡å‹ é«˜æ–¯å™ªå£° ç‘åˆ©å™ªå£° çˆ±å°”å…°ï¼ˆä¼½é©¬ï¼‰å™ªå£° æŒ‡æ•°å™ªå£° å‡åŒ€å™ªå£° è„‰å†²ï¼ˆæ¤’ç›ï¼‰å™ªå£° å‘¨æœŸå™ªå£°ï¼š é€šå¸¸ç”±ç”µåŠ›æˆ–æœºç”µå¹²æ‰°äº§ç”Ÿ å™ªå£°ä¸ç©ºé—´ä½ç½®æœ‰å…³ å¯ä»¥é€šè¿‡é¢‘åŸŸæ»¤æ³¢å¤åŸ å™ªå£°å‚æ•°ä¼°è®¡ï¼š é€šè¿‡æ£€æŸ¥å‚…é‡Œå¶è°±ã€å›¾åƒæœ¬èº« ä¸€èˆ¬å™ªå£°çš„PDF æŸ¥çœ‹ä¼ æ„Ÿå™¨è¯´æ˜ä¹¦ ä¸»åŠ¨æˆåƒå»ä¼°è®¡å‚æ•°ï¼Œå¦‚æ‹æ‘„çº¯è‰²ç‰©ä½“ ä»å›¾åƒçš„å±€éƒ¨ç¨³å®šåŒºåŸŸæ¥ä¼°è®¡å™ªå£° æ ¹æ®å½¢çŠ¶è¯†åˆ«PDFçš„ç±»å‹ æ ¹æ®å‡å€¼å’Œæ–¹å·®æ¥è®¡ç®—å…·ä½“å‚æ•° è„‰å†²å™ªå£°ç›´æ¥ä¼°è®¡æ¦‚ç‡ å‡å€¼æ»¤æ³¢å™¨ ç®—æœ¯å‡å€¼æ»¤æ³¢å™¨ å–å½“å‰ç‚¹ä¸ºä¸­å¿ƒçš„ä¸€ä¸ªåŒºåŸŸçš„ç®—æœ¯å¹³å‡æ•°ä½œä¸ºå½“å‰ç‚¹çš„åƒç´ å€¼ å¹³æ»‘å›¾åƒä¸­çš„å±€éƒ¨å˜åŒ– å‡ ä½•å‡å€¼æ»¤æ³¢å™¨ å–å½“å‰ç‚¹ä¸ºä¸­å¿ƒçš„ä¸€ä¸ªåŒºåŸŸçš„å‡ ä½•å¹³å‡æ•°ä½œä¸ºå½“å‰ç‚¹çš„åƒç´ å€¼ ä¸¢å¤±çš„ç»†èŠ‚å°‘ è°æ³¢å‡å€¼æ»¤æ³¢å™¨ éš¾ä»¥æ–‡å­—æè¿°â€¦åæ­£ä¸è€ƒå…¬å¼ é€‚ç”¨äºç›ç²’å™ªå£°ï¼Œä¸é€‚ç”¨äºèƒ¡æ¤’å™ªå£° é€†è°æ³¢å‡å€¼æ»¤æ³¢å™¨ æœ‰ä¸ªé˜¶æ•°$Q$ $Q&gt;0$ï¼šæ¶ˆé™¤èƒ¡æ¤’å™ªå£° $Q=0$ï¼šç®—æœ¯å‡å€¼å™ªå£° $Q&lt;0$ï¼šæ¶ˆé™¤ç›ç²’å™ªå£° $Q=-1$ï¼šè°æ³¢å‡å€¼æ»¤æ³¢å™¨ ç»Ÿè®¡æ’åºæ»¤æ³¢å™¨ ä¸­å€¼æ»¤æ³¢å™¨ $(x,y)$å¤„çš„åƒç´ ä¹Ÿå‚ä¸è®¡ç®— è‰¯å¥½çš„å»å™ªèƒ½åŠ›ï¼Œå¹¶ä¸”æ¨¡ç³Šå°‘ å°¤å…¶é€‚ç”¨äºå•ææˆ–åŒæçš„è„‰å†²ä¿¡å· æœ€å¤§å€¼æ»¤æ³¢å™¨ å¯»æ‰¾å›¾åƒä¸­çš„äº®ç‚¹ é™ä½èƒ¡æ¤’å™ªå£° é»‘è‰²ç‰©ä½“ä¼šå˜ç»† æœ€å°å€¼æ»¤æ³¢å™¨ å¯»æ‰¾å›¾åƒä¸­çš„æš—ç‚¹ é™ä½ç›ç²’å™ªå£° é»‘è‰²ç‰©ä½“ä¼šå˜ç²— ä¸­ç‚¹æ»¤æ³¢å™¨ï¼ˆ1/2(max+min)) æœ€å¤§å€¼å’Œæœ€å°å€¼çš„ä¸­ç‚¹ ç»“åˆäº†ç»Ÿè®¡æ’åºå’Œæ±‚å¹³å‡ é€‚ç”¨äºéšæœºå™ªå£°ï¼ˆé«˜æ–¯å™ªå£°ã€å‡åŒ€å™ªå£° $\\alpha$æˆªæ–­çš„å‡å€¼æ»¤æ³¢ å»æ‰$S_{xy}$ä¸­ç°åº¦æœ€é«˜ã€æœ€ä½å„$d/2$ä¸ªåƒç´  é€‚ç”¨äºå­˜åœ¨å¤šç§å™ªå£°çš„æƒ…å†µï¼ˆé«˜æ–¯å™ªå£°ã€æ¤’ç›å™ªå£°æ··åˆ æ»¤æ³¢æ¬¡æ•°å¤ªå¤šï¼Œå›¾åƒä¼šå˜æ¨¡ç³Š Ch11-12 å½©è‰²å›¾åƒå¤„ç†è€ƒç‚¹ï¼š 3ç§é¢œè‰²æ¨¡å‹ï¼Œå«ä¹‰ï¼Œç‰¹ç‚¹ï¼Œä¸è€ƒé¢œè‰²æ¨¡å‹è½¬æ¢ RGBå½©è‰²æ¨¡å‹ ç¬›å¡å°”åæ ‡ç³» çº¢ç»¿è“åœ¨3ä¸ªè§’(1,0,0),(0,1,0),(0,0,1) é»‘è‰²åœ¨åŸç‚¹(0,0,1) ç™½è‰²åœ¨æœ€è¿œçš„è§’(1,1,1) è¿‡åŸç‚¹çš„ä½“å¯¹è§’çº¿æ˜¯ç°è‰² 3å¹…åˆ†é‡å›¾åƒ æ¯ç§ä¸»é¢œè‰²å¯¹åº”ä¸€å¹…å›¾åƒ å åŠ åœ¨ä¸€èµ·åˆæˆä¸€å¹…å½©è‰²å›¾åƒ åƒç´ æ·±åº¦ï¼šè¡¨ç¤ºæ¯ä¸ªåƒç´ çš„æ¯”ç‰¹æ•° å…¨å½©è‰²å›¾åƒï¼š24æ¯”ç‰¹çš„RGBå›¾åƒï¼Œé¢œè‰²æ•°ç›®$2^{24}$ é«˜ç«¯è®¾å¤‡æ”¯æŒ24æ¯”ç‰¹çš„RGBå›¾åƒï¼Œä½ç«¯è®¾å¤‡é€šå¸¸åªèƒ½æ˜¾ç¤º256ç§å½©è‰² ç¨³å®šRGBè‰²ï¼šçœŸå®å±•ç°ã€ä¸ç¡¬ä»¶æ— å…³ï¼Œé€šå¸¸åŒ…æ‹¬$6^3=216$ç§ CMY é¢œè‰²æ¨¡å‹ é’è‰²(C)ï¼Œæ´‹çº¢(M)ï¼Œé»„è‰²(Y) å½©è‰²æ‰“å°æœº è½¬æ¢å…¬å¼ï¼šCMY=1-RGBï¼ˆè‡ªè¡Œè„‘è¡¥åˆ—çŸ©é˜µï¼‰ CMYKé¢œè‰²æ¨¡å‹ï¼šæ·»åŠ äº†é»‘è‰²ï¼ˆè¡¨é¢è¯´ä¸çº¯å…¶å®æ˜¯ä¾¿å®œ HSIé¢œè‰²æ¨¡å‹RGB/CMYé¢œè‰²æ¨¡å‹ä¸å¤Ÿç›´è§‚ï¼ˆäººä¸ä¼šç”¨é¢œè‰²ç›¸å…³çš„ä¿¡æ¯ï¼šè‰²è°ƒã€é¥±å’Œåº¦ï¼Œå¯¹äººè€Œè¨€æ›´ç›´è§‚ è‰²è°ƒï¼ˆHueï¼‰ï¼šä¸»æ³¢é•¿ï¼Œä¹Ÿå°±æ˜¯æ„ŸçŸ¥åˆ°çš„é¢œè‰² ä¸çº¢è‰²è½´çš„å¤¹è§’ï¼ŒæŸ±åæ ‡ä¸­çš„$\\theta$ é¥±å’Œåº¦(Saturation)ï¼šåæ˜ ç™½å…‰çš„æ¯”ä¾‹ï¼Œç™½å…‰è¶Šå¤šè¶Šä¸é¥±å’Œ ä¸å¼ºåº¦è½´çš„è·ç¦»ï¼ŒæŸ±åæ ‡ä¸­çš„$r$ äº®åº¦(Brightness)ï¼šä¸»è§‚æç»˜ï¼Œç±»ä¼¼äºæ— è‰²å…‰çš„å¼ºåº¦ï¼ˆIntensity) å¼ºåº¦è½´ä¸ºä½“å¯¹è§’çº¿ï¼ŒæŸ±åæ ‡ä¸­çš„$z$è½´ ä¼šå‡ºç°è‰²è°ƒçš„ä¸è¿ç»­ç°è±¡ï¼ˆå› ä¸ºè‰²è°ƒä»¥çº¢è‰²è½´ä¸ºåŸºå‡†ï¼‰ Ch13-14 å›¾åƒåˆ†å‰²è€ƒç‚¹ åŸºæœ¬è¾¹ç¼˜æ£€æµ‹ é«˜çº§è¾¹ç¼˜æ£€æµ‹ï¼ˆMHå’ŒCanny æ‹‰æ™®æ‹‰æ–¯ ç®—æ³•çš„åŸºæœ¬åŸç†ï¼Œç®—å­çš„ä¼˜ç‚¹ åŸºæœ¬è¾¹ç¼˜æ£€æµ‹è¾¹ç¼˜æ£€æµ‹ä¸‰ä¸ªåŸºæœ¬æ­¥éª¤ ä¸ºé™å™ªå¯¹å›¾åƒè¿›è¡Œå¹³æ»‘å¤„ç†ï¼šå¯¼æ•°å¯¹å™ªå£°æ•æ„Ÿ è¾¹ç¼˜ç‚¹çš„æ£€æµ‹ï¼šæŠ½å–æ‰€æœ‰æ½œåœ¨è¾¹ç¼˜ç‚¹ è¾¹ç¼˜å®šä½ï¼šé€‰å‡ºçœŸæ­£çš„è¾¹ç¼˜ç‚¹ æ¢¯åº¦çš„å¤§å°å’Œæ–¹å‘ï¼ˆç•¥ï¼‰è¾¹ç¼˜çš„æ–¹å‘å’Œæ¢¯åº¦æ­£äº¤ æ¢¯åº¦è®¡ç®—æ¨¡æ¿ï¼š ä¸¾ä¾‹ï¼š æ¢¯åº¦å‘é‡å’Œè¾¹ç¼˜æ³•çº¿ï¼š æ¢¯åº¦ç®—å­ ä¸€ç»´æ¨¡æ¿ äºŒç»´æ¨¡æ¿ï¼šç½—ä¼¯ç‰¹äº¤å‰æ¢¯åº¦ç®—å­ï¼Œæ™®é²ä¼Šç‰¹ç®—å­ï¼ˆåŒä¸Šé¢æˆªå›¾ä¸­çš„ï¼‰ï¼ŒSobelç®—å­ï¼ˆåˆ»åœ¨DNAé‡Œçš„ï¼‰ é˜ˆå€¼åŒ–ï¼šå¦‚æœåˆå§‹å›¾åƒæœªå¹³æ»‘å¤„ç†ï¼Œåˆ™è¾¹ç¼˜å¯èƒ½ä¼šå‡ºç°ä¸­æ–­ï¼›å¦‚æœå¹³æ»‘å¤„ç†è¿‡ï¼Œåˆ™è¾¹ç¼˜ä¸­æ–­ä¼šç¼“è§£ï¼Œä½†éƒ¨åˆ†è¾¹ç¼˜ä¼šæ¶ˆå¤± Marr-Hildrethè¾¹ç¼˜æ£€æµ‹å™¨è®¾è®¡ç†å¿µ ç°åº¦å˜åŒ–å’Œå›¾åƒå°ºåº¦æœ‰å…³ éœ€è¦ç”¨ä¸åŒå°ºå¯¸çš„ç®—å­ ç°åº¦å˜åŒ–ä¼šå½±å“å¯¼æ•° ä¸€é˜¶å¯¼æ•°å‡ºç°æ³¢å³°æˆ–æ³¢è°· äºŒé˜¶å¯¼æ•°å‡ºç°é›¶äº¤å‰ ç†æƒ³çš„æ£€æµ‹å™¨å…·å¤‡å¦‚ä¸‹åŠŸèƒ½ èƒ½å¤Ÿè¿‘ä¼¼ï¼‘é˜¶æˆ–2é˜¶å¯¼æ•° èƒ½å¤Ÿè¢«è°ƒæ•´ä»¥åœ¨ä¸åŒå°ºå¯¸ä¸Šèµ·ä½œç”¨ å¤§çš„ç®—å­æ£€æµ‹æ¨¡ç³Šè¾¹ç¼˜ã€å°çš„ç®—å­æ£€æµ‹ç»†èŠ‚ æ»¤æ³¢å™¨ï¼š$\\Delta^2 G$ï¼šæ‹‰æ™®æ‹‰æ–¯ç®—å­å’Œé«˜æ–¯å‡½æ•°ï¼ˆLoGï¼‰åˆåå¢¨è¥¿å“¥è‰å¸½ç®—å­ç±»ä¼¼ç©ºé—´åŸŸçš„é«˜é€šæ»¤æ³¢å™¨ ç”¨æ³• å¯¹$G(x,y)$è¿›è¡Œé‡‡æ ·ï¼Œå¾—åˆ°$n\\times n$çš„æ¨¡æ¿ ä¸æ‹‰æ™®æ‹‰æ–¯æ¨¡æ¿å·ç§¯â€”â€”ç³»æ•°ä¹‹å’Œè‡ªåŠ¨ä¸º0 å°†LoGæ»¤æ³¢å™¨å’Œå›¾åƒå·ç§¯ï¼Œå¯»æ‰¾é›¶äº¤å‰æ¥ç¡®å®šè¾¹ç¼˜ä½ç½® ç­‰ä»·äºå…ˆç”¨é«˜æ–¯æ»¤æ³¢å™¨å¹³æ»‘å›¾åƒï¼Œç„¶åç”¨æ‹‰æ™®æ‹‰æ–¯ç®—å­ $n$æ˜¯$\\ge 6\\sigma$çš„æœ€å°å¥‡æ•° ä¼˜ç‚¹ï¼š é«˜æ–¯éƒ¨åˆ†ä¼šæ¨¡ç³Šå›¾åƒï¼Œå¯ä»¥å»æ‰å°ºå¯¸å°äº$\\sigma$çš„ç»†èŠ‚ï¼Œæ¯”å¦‚å™ªå£° äºŒé˜¶å¯¼æ•°ï¼šå„å‘åŒæ€§ï¼Œå¯¹ä»»ä½•æ–¹å‘çš„å˜åŒ–æœ‰ç›¸åŒçš„å“åº”ï¼›ç¬¦åˆäººçš„è§†è§‰ç³»ç»Ÿ ç¼ºç‚¹: å¯èƒ½ä¼šäº§ç”Ÿé—­ç¯ï¼Œâ€æ„å¤§åˆ©ç©ºå¿ƒç²‰â€œæ•ˆåº”â€”â€”é€šè¿‡é˜ˆå€¼åŒ–å¯ä»¥ç¼“è§£ Cannyè¾¹ç¼˜æ£€æµ‹å™¨ç†å¿µ ä½é”™è¯¯ç‡ï¼šæ‰€æœ‰è¾¹ç¼˜éƒ½è¢«æ‰¾åˆ°ï¼Œå¹¶ä¸”æ²¡æœ‰ä¼ªå“åº” è¾¹ç¼˜ç‚¹åº”è¢«å¾ˆå¥½åœ°å®šä½ï¼šå·²å®šä½çš„è¾¹ç¼˜å¿…é¡»å°½å¯èƒ½æ¥è¿‘çœŸå®è¾¹ç¼˜ å•ä¸€çš„è¾¹ç¼˜ç‚¹å“åº”ï¼šå¯¹æ¯ä¸ªçœŸå®è¾¹ç¼˜ç‚¹ï¼Œæ£€æµ‹å™¨ä»…è¿”å›1ä¸ªç‚¹ ç”¨æ³• é«˜æ–¯å‡½æ•°å¹³æ»‘è¾“å…¥å›¾åƒ è®¡ç®—å›¾åƒ$f_s$çš„æ¢¯åº¦ éæœ€å¤§æŠ‘åˆ¶ ç›®çš„ï¼šæŠŠæ¢¯åº¦ç”Ÿæˆçš„ç²—è¾¹ç¼˜å˜ç»† æŒ‡å®šæ¢¯åº¦çš„4ä¸ªç¦»æ•£æ–¹å‘ï¼ˆæ°´å¹³ã€å‚ç›´ã€$+45^{\\circ}$ã€$-45^{\\circ}$ï¼‰ æ ¹æ®æ¢¯åº¦çš„æ–¹å‘ç¡®å®šè¾¹ç¼˜çš„æ–¹å‘ï¼š è€ƒè™‘$(x,y)$ä¸ºä¸­å¿ƒçš„$3\\times 3$åŒºåŸŸå’Œä¸Šè¿°4ä¸ªæ–¹å‘ï¼Œç¡®å®šå’Œæ¢¯åº¦$\\alpha(x,y)$æœ€æ¥è¿‘çš„æ–¹å‘$d_k$ å¦‚æœ$M(x,y)$çš„å€¼æ¯”$(x,y)$åœ¨$d_k$æ–¹å‘çš„ä»»ä¸€é‚»å±…æ•°å€¼å°ï¼Œåˆ™æŠ‘åˆ¶($g_N(x,y)=0)$ï¼›å¦åˆ™ä¿ç•™($g_N(x,y)=M(x,y)$) æ»åé˜ˆå€¼ ç›®çš„ï¼šå‡å°‘ä¼ªè¾¹ç¼˜ç‚¹ ä½é˜ˆå€¼$T_L$ï¼Œé«˜é˜ˆå€¼$T_H$ï¼Œä¸€è¾¹æ¯”ä¾‹ä¸º2:1æˆ–3:1 å¤§äºç­‰äº$T_H$çš„ä¸ºå¼ºè¾¹ç¼˜ç‚¹ï¼Œå…¨éƒ¨ä¿ç•™ï¼›å°äº$T_L$çš„å…¨éƒ¨æŠ‘åˆ¶ï¼›å‰©ä¸‹çš„æ˜¯å¼±è¾¹ç¼˜ç‚¹ è¿é€šæ€§åˆ†æï¼ˆè¿™é‡Œæˆ‘æ€€ç–‘è®²ä¹‰å†™åäº†ï¼‰ éå†å¼±è¾¹ç¼˜ç‚¹ï¼Œä¿ç•™å’Œå¼ºè¾¹ç¼˜ç‚¹è¿é€šï¼ˆéšä¾¿æ˜¯ä»€ä¹ˆè¿é€šï¼‰çš„ç‚¹ Ch15 å›¾åƒå‹ç¼©è€ƒç‚¹ï¼š å‹ç¼©çš„åŸºæœ¬æ¦‚å¿µï¼Œç›¸å¯¹å†—ä½™ï¼Œå‹ç¼©æ¯” ç°åº¦å›¾åƒä¸­3ç§å†—ä½™ è§£å†³å†—ä½™é—®é¢˜çš„ç¼–ç æ–¹å¼ï¼ˆéœå¤«æ›¼è¦æŒæ¡ï¼Œå…¶ä»–ä¸è€ƒï¼‰ åŸºæœ¬æ¦‚å¿µæ•°æ®å‹ç¼©ï¼šå‡å°‘è¡¨ç¤ºç»™å®šä¿¡æ¯æ‰€éœ€çš„æ•°æ®é‡å†—ä½™æ•°æ®ï¼šåŒ…å«ä¸ç›¸å…³æˆ–é‡å¤ä¿¡æ¯çš„è¡¨ç¤º $b$å’Œ$bâ€™$ï¼ˆ$b&gt;bâ€™$ï¼‰æ˜¯ä¸¤ç§ä¸åŒè¡¨ç¤ºæ–¹å¼çš„æ¯”ç‰¹æ•°ç›¸å¯¹æ•°æ®å†—ä½™$R=1-\\frac{1}{C}=1-\\frac{bâ€™}{b}$å‹ç¼©æ¯”$C=\\frac{b}{bâ€™}&gt;1$ï¼ˆå¤§çš„é™¤ä»¥å°çš„ï¼‰e.g.$C=10$æ„å‘³ç€æœ‰90%çš„å†—ä½™ ç°åº¦å›¾åƒçš„3ç§å†—ä½™ç¼–ç å†—ä½™ ç¼–ç ï¼šè¡¨ç¤ºä¿¡æ¯çš„ç¬¦å·ç³»ç»Ÿ ç å­—ï¼šç¬¦å·åºåˆ— ç°åº¦å›¾åƒçš„8ä½ç¼–ç å¾€å¾€æ˜¯å†—ä½™çš„ é‡‡ç”¨å›ºå®šé•¿åº¦ç¼–ç æ™®éå­˜åœ¨å†—ä½™ï¼Œå› ä¸ºç°åº¦ç›´æ–¹å›¾ä¸æ˜¯å‡åŒ€åˆ†å¸ƒçš„ ç©ºé—´å’Œæ—¶é—´å†—ä½™ å›¾åƒä¸­ç´§é‚»ç‚¹æ˜¯ç©ºé—´ç›¸å…³çš„ è§†é¢‘ä¸­è¿ç»­å¸§æ˜¯æ—¶é—´ç›¸å…³çš„ è¡Œç¨‹å¯¹ï¼šç°åº¦å€¼+è¯¥ç°åº¦å€¼è¿ç»­å‡ºç°çš„æ¬¡æ•° å›¾åƒä¸­çš„åƒç´ å¾€å¾€æ˜¯ç©ºé—´å’Œæ—¶é—´ç›¸å…³çš„ï¼šå¯ä»¥é€šè¿‡ç´§é‚»åƒç´ é¢„æµ‹è¯¥åƒç´ çš„å€¼ æ›´åŠ é«˜æ•ˆä½†æ˜¯è§†è§‰ä¸å¯è§çš„è¡¨ç¤ºï¼šè¡Œç¨‹+ç›¸é‚»åƒç´ çš„ç°åº¦å·®ï¼ˆç°åº¦å·®å€¼å…·æœ‰è§„å¾‹æ€§ æ˜ å°„ï¼šå¯é€†/ä¸å¯é€† ä¸ç›¸å…³çš„ä¿¡æ¯ è¢«è§†è§‰ç³»ç»Ÿå¿½ç•¥çš„ä¿¡æ¯ ä¸å›¾åƒç”¨é€”æ— å…³çš„ä¿¡æ¯ ä¸¢å¤±ä¿¡æ¯ï¼Œä¸å¯é€†æ˜ å°„ éœå¤«æ›¼ç¼–ç  ç®€åŒ–ä¿¡æº å¯¹ç¬¦å·çš„æ¦‚ç‡è¿›è¡Œæ’åºï¼Œåˆå¹¶ä½æ¦‚ç‡ç¬¦å· é‡å¤è¯¥è¿‡ç¨‹ç›´åˆ°å‰©ä½™2ä¸ªç¬¦å· å¯¹ç®€åŒ–åçš„ä¿¡æ¯æºç¼–ç  ä»æœ€å°ä¿¡æºå¼€å§‹ï¼Œè¿”å›åˆ°åŸä¿¡æº ä¸ºæ¯ä¸€ä¸ªåˆ†æ”¯åˆ†é…ç¬¦å· å®ç° æ„é€ éœå¤«æ›¼ç¼–ç  æŸ¥è¡¨æ³•ç¼–ç ã€è§£ç  ç¬æ—¶æ€§ï¼šæ¯ä¸ªç¼–ç ç‹¬ç«‹è§£ç  å”¯ä¸€å¯è§£ç ï¼šåºåˆ—çš„è§£ç æ–¹å¼å”¯ä¸€ Ch16 å½¢æ€å­¦å¤„ç†è€ƒç‚¹ï¼š è…èš€è†¨èƒ€ å¼€é—­æ“ä½œ å®šä¹‰æ¦‚å¿µï¼Œç†è§£ï¼Œæ•ˆæœ è…èš€ä¸è†¨èƒ€è…èš€ é›†åˆ$B$å¯¹é›†åˆ$A$çš„è…èš€ï¼š$A\\ominus B={z|(B)_z\\subseteq A}$ $(B)_z$è¡¨ç¤ºæŠŠ$B$çš„åŸç‚¹å¹³ç§»åˆ°åæ ‡$z$ é€šå¸¸å‡è®¾$B$ä¸ºç»“æ„å…ƒ ç­‰ä»·å®šä¹‰ï¼š$A\\ominus B={z|(B)_z\\cap A^c=\\emptyset}$ è†¨èƒ€ é›†åˆ$B$å¯¹é›†åˆ$A$çš„è†¨èƒ€ï¼š$A\\oplus B={z|(\\hat{B})_z\\cap A\\neq\\emptyset}$ $\\hat{B}$è¡¨ç¤ºé›†åˆ$B$çš„åå°„ï¼Œåå°„æŒ‡$\\hat{B}={w|w=-b, b\\in B}$ï¼ˆå…³äºåŸç‚¹çš„ä¸­å¿ƒå¯¹ç§°ï¼‰ é€šå¸¸å‡è®¾$B$ä¸ºç»“æ„å…ƒ ç­‰ä»·å®šä¹‰ï¼š$A\\oplus B=\\bigcup\\limits_{b\\in B}(A)_b$ å¯¹å¶æ€§ (A\\ominus B)^c=A^c\\oplus \\hat{B} (A\\oplus B)^c=A^c\\ominus \\hat{B}å¼€é—­æ“ä½œå¼€æ“ä½œ A\\circ B=(A\\ominus B)\\oplus B å…ˆè…èš€åè†¨èƒ€ å¹³æ»‘ç‰©ä½“çš„è½®å»“ æ–­å¼€çª„çš„è¿æ¥ æ¶ˆé™¤ç»†çš„çªå‡º é—­æ“ä½œ A\\bullet B=(A\\oplus B)\\ominus B å…ˆè†¨èƒ€åè…èš€ ç†”åˆçª„çš„é—´æ–­å’Œé•¿æ²Ÿå£‘ æ¶ˆé™¤å°å­”æ´ å¡«è¡¥è½®å»“ä¸­çš„ç©ºéš™ æ€§è´¨ å¯¹å¶æ€§ $(A\\bullet B)^c=(A^c\\circ \\hat{B})$ $(A\\circ B)^c=(A^c\\bullet \\hat{B})$ å¼€æ“ä½œ $A\\circ B\\subseteq A$ å¦‚æœ$C$æ˜¯$D$çš„å­é›†ï¼Œé‚£ä¹ˆ$C\\circ B$æ˜¯$C\\circ D$çš„å­é›† ç¦æ­¢å¥—å¨ƒï¼š$(A\\circ B)\\circ B=A\\circ B$ é—­æ“ä½œ $A\\subseteq A\\bullet B$ å¦‚æœ$C$æ˜¯$D$çš„å­é›†ï¼Œé‚£ä¹ˆ$C\\bullet B$æ˜¯$C\\bullet D$çš„å­é›† ç¦æ­¢å¥—å¨ƒï¼š$(A\\bullet B)\\bullet B=A\\bullet B$ ä¸¾ä¾‹ï¼šå»å™ªï¼ˆæŒ‡çº¹ï¼‰ Ch17 ç›®æ ‡è¯†åˆ«è€ƒç‚¹ï¼š æœ€å°è·ç¦»åˆ†ç±»å™¨ æœ€ä½³ç»Ÿè®¡åˆ†ç±»æ¨¡å‹ï¼ˆè´å¶æ–¯é«˜æ–¯ï¼‰ æœ€å°è·ç¦»åˆ†ç±»å™¨ æŠŠåŸå‹å®šä¹‰ä¸ºæ¯ä¸ªç±»çš„å¹³å‡å‘é‡ï¼š$mj=\\frac{1}{N_j}\\sum\\limits{x_j\\in \\omega_j}x_j, j=1,\\ldots W$ $N_j$æ˜¯ç±»åˆ«$\\omega_j$åŒ…å«çš„æ¨¡å¼æ•°é‡ å°±æ˜¯æŠŠè¿™ä¸ªç±»é‡Œé¢æ‰€æœ‰çš„å‘é‡åŠ èµ·æ¥å–å¹³å‡ åˆ©ç”¨æ¬§å¼è·ç¦»åˆ¤æ–­è¿œè¿‘ï¼š$D_j(x)=||x-m_j||, j=1,\\ldots W$ $||a||=(a^Ta)^{1/2}$ å¦‚æœ$D_i(x)$æ˜¯æœ€çŸ­è·ç¦»ï¼Œé‚£ä¹ˆ$x\\in\\omega_i$ ç­‰ä»·è®¡ç®—æ–¹å¼ï¼š$d_j(x)=x^Tm_j-\\frac{1}{2}m_j^Tm_j$ï¼Œå¦‚æœ$d_i(x)$æ˜¯æœ€å¤§å€¼ï¼Œé‚£ä¹ˆ$x\\in\\omega_i$ $\\omegai$å’Œ$\\omega_j$ä¹‹é—´çš„å†³ç­–è¾¹ç•Œï¼š$d{ij}(x)=d_i(x)-d_j(x)=0$ $n=2$å¯¹åº”ç›´çº¿ï¼Œ$n=3$å¯¹åº”å¹³é¢ æœ€ä½³ç»Ÿè®¡åˆ†ç±»å™¨åŸºç¡€çŸ¥è¯†æ²¡å­¦è¿‡MLæˆ‘å“­äº† æŠŠ$\\omegai$çš„æ¨¡å¼é¢„æµ‹ä¸ºå±äº$\\omega_j$ï¼Œé­å—æŸå¤±$L{ij}$ æ¨¡å¼$x$å±äºç±»åˆ«$\\omega_i$çš„æ¦‚ç‡è®°ä¸º$p(\\omega_i/x)$ æ¡ä»¶å¹³å‡é£é™©ï¼ˆæŠŠ$x$é¢„æµ‹ä¸º$\\omegaj$ä¼šé­å—çš„æŸå¤±ï¼š$r_j=\\sum\\limits{k=1}^WL_{kj}p(\\omega_k/x)$ æ ¹æ®è´å¶æ–¯å…¬å¼å¯ä»¥å†™æˆï¼š$rj(x)=\\frac{1}{p(x)}\\sum\\limits{k=1}^WL_{kj}p(x/\\omega_k)P(\\omega_k)$ è´å¶æ–¯åˆ†ç±»å™¨ï¼šé¢„æµ‹$x\\in\\omega_i$å¦‚æœï¼š$\\forall j\\neq i, r_j(x)&lt;r_i(x)$ ä¸€èˆ¬ä½¿ç”¨0-1æŸå¤±å‡½æ•°ï¼šæ­£ç¡®æ— æŸå¤±ï¼Œé”™è¯¯æŸå¤±ä¸º1 ç”¨0-1æŸå¤±å‡½æ•°å¹¶ç»è¿‡ä¸€é€šè®¡ç®—ï¼Œå†³ç­–å‡½æ•°$d_j(x)=p(x/\\omega_j)P(\\omega_j)$ è´å¶æ–¯åˆ†ç±»å™¨ï¼šèƒ½å¤Ÿæœ€å°åŒ–å¹³å‡æŸå¤± å‰æï¼šæ¯ä¸ªç±»$\\omega_i$å‡ºç°çš„æ¦‚ç‡$P(\\omega_i)$å·²çŸ¥ï¼ˆä»æ•°æ®ä¸­ä¼°è®¡æˆ–ç›´æ¥$1/W$ï¼‰ï¼›æ¯ä¸ªç±»çš„æ¦‚ç‡å¯†åº¦$p(x/\\omega_i)$å·²çŸ¥ï¼ˆå›°éš¾ï¼Œé€šå¸¸å‡è®¾å¯†åº¦å‡½æ•°ä¸ºæŸç§è§£æå½¢å¼e.g.é«˜æ–¯åˆ†å¸ƒï¼‰ é’ˆå¯¹é«˜æ–¯æ¨¡å¼ç±»çš„è´å¶æ–¯åˆ†ç±»å™¨å‡è®¾æ¦‚ç‡å¯†åº¦$p(\\bf{x}/\\omega_j)$ä¸ºé«˜æ–¯å‡½æ•° è€ƒè™‘ä¸€ç»´ç©ºé—´å†…çš„äºŒåˆ†ç±»é—®é¢˜ å†³ç­–å‡½æ•°å°±ä¸€é«˜æ–¯å‡½æ•° d_j(\\bf{x})=\\frac{1}{\\sqrt{2\\pi}\\sigma_j}e^{-\\frac{(\\bf{x}-m_j)^2}{2\\sigma_j^2}}P(\\omega_j) å‚æ•°ä¸ºå‡å€¼å’Œæ ‡å‡†å·® è€ƒè™‘$n$ç»´ç©ºé—´å†…çš„$W$åˆ†ç±»é—®é¢˜ å…¬å¼å¤ªå¤šäº†ï¼Œè‡ªå·±çœ‹å›¾å§ å½“åæ–¹å·®çŸ©é˜µ$C_j$éƒ½ç›¸ç­‰ä¸”ä¸ºå•ä½çŸ©é˜µæ—¶ï¼Œç­‰ä»·äºæœ€å°è·ç¦»åˆ†ç±»å™¨","categories":[],"tags":[]},{"title":"æ•°æ®åº“å­¦ä¹ ç¬”è®°","slug":"database","date":"2019-10-09T11:41:22.000Z","updated":"2020-01-03T07:24:25.366Z","comments":true,"path":"2019/10/09/database/","link":"","permalink":"https://mengzelev.github.io/2019/10/09/database/","excerpt":"","text":"Ch1 æ•°æ®åº“ç³»ç»Ÿæ¦‚è¿°åŸºæœ¬æ¦‚å¿µ æ•°æ®åº“ï¼ˆDBï¼‰ï¼š é•¿æœŸå­˜å‚¨åœ¨è®¡ç®—æœºå†…ã€æœ‰ç»„ç»‡ã€å¤§é‡çš„ã€å…±äº«çš„æ•°æ®é›†åˆ æ˜¯æ•°æ®é›†åˆï¼Œå…·æœ‰ç»Ÿä¸€çš„ç»“æ„å½¢å¼å¹¶å­˜æ”¾äºç»Ÿä¸€çš„å­˜å‚¨ä»‹è´¨å†…ï¼Œå®ƒç”±å¤šç§åº”ç”¨æ•°æ®é›†æˆï¼Œå¹¶å¯è¢«åº”ç”¨æ‰€å…±äº«ã€‚ æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼ˆDBMSï¼‰ï¼š ä½äºç”¨æˆ·ä¸OSä¹‹é—´çš„ä¸€å±‚æ•°æ®ç®¡ç†è½¯ä»¶ï¼Œä¸ºç”¨æˆ·æˆ–åº”ç”¨ç¨‹åºæä¾›è®¿é—®æ•°æ®åº“çš„æ–¹æ³•å’Œæ¥å£ èƒ½å¯¹æŒä¹…æ€§æ•°æ®è¿›è¡Œç®¡ç† èƒ½å¯¹å¤§é‡æ•°æ®è¿›è¡Œæœ‰æ•ˆå­˜å– å¯ä¸ºä¼—å¤šä½¿ç”¨è€…ä½¿ç”¨åŒä¸€æ•°æ®ï¼ˆå³æ•°æ®å…±äº«ï¼‰ æ•°æ®åº“ç³»ç»Ÿï¼ˆDBSï¼‰ï¼š å®ç°æœ‰ç»„ç»‡åœ°ã€åŠ¨æ€åœ°å­˜å‚¨å¤§é‡å…³è”æ•°æ®ã€æ–¹ä¾¿å¤šç”¨æˆ·è®¿é—®çš„è®¡ç®—æœºç¡¬ä»¶ã€è½¯ä»¶å’Œæ•°æ®èµ„æºç»„æˆçš„ç³»ç»Ÿï¼›é‡‡ç”¨æ•°æ®åº“æŠ€æœ¯çš„è®¡ç®—æœºç³»ç»Ÿ æ˜¯ä¸€ä¸ªä»¥å¯¹æµ·é‡çš„ã€å…·æœ‰å¤æ‚æ•°æ®ç»“æ„çš„ã€å¯ä»¥æŒä¹…ä¿å­˜çš„ã€å¯ä¾›å¤šç”¨æˆ·å…±äº«çš„æ•°æ®è¿›è¡Œç»Ÿä¸€ç®¡ç†ä¸ºç›®æ ‡çš„è®¡ç®—æœºç³»ç»Ÿã€‚ ç»„æˆï¼šDBï¼ŒDBMSï¼ŒDBAï¼Œè½¯ä»¶å¹³å°ï¼Œç¡¬ä»¶å¹³å° æ•°æ®åº“ç®¡ç†å‘˜ï¼ˆDBAï¼‰ï¼šå¯¹æ•°æ®åº“è¿›è¡Œè§„åˆ’ã€è®¾è®¡ã€ç»´æŠ¤ã€ç›‘è§†çš„ä¸“èŒäººå‘˜ æ•°æ®åº“è®¾è®¡ã€å»ºç«‹ä¸è°ƒæ•´+ æ•°æ®åº“ç»´æŠ¤ æ”¹å–„ç³»ç»Ÿæ€§èƒ½ï¼Œæé«˜ç³»ç»Ÿæ•ˆç‡ æ•°æ®åº“ç³»ç»Ÿçš„åŸºæœ¬ç‰¹ç‚¹ æ•°æ®é›†æˆæ€§ï¼šé›†å¤šç§åº”ç”¨æ•°æ®äºä¸€ä½“ã€‚è¡¨ç°ï¼šé‡‡ç”¨ç»Ÿä¸€çš„æ•°æ®ç»“æ„ï¼Œå»ºç«‹ä¸€ä¸ªå…¨å±€ç»Ÿä¸€çš„æ•°æ®æ¨¡å¼ï¼Œæ ¹æ®æ¯ä¸ªåº”ç”¨çš„æ•°æ®éœ€è¦æ„ä½œå±€éƒ¨æ¨¡å¼ã€‚ æ•°æ®ç‹¬ç«‹æ€§ï¼šæ•°æ®åº“ä¸­çš„æ•°æ®ä¸ä½¿ç”¨è¿™äº›æ•°æ®çš„åº”ç”¨ç¨‹åºä¹‹é—´çš„äº’ä¸ä¾èµ–æ€§ã€‚ ç‰©ç†ç‹¬ç«‹æ€§ï¼šç‰©ç†ç»“æ„ï¼ˆå­˜å‚¨ç»“æ„ã€å­˜å–æ–¹å¼ç­‰ï¼‰ é€»è¾‘ç‹¬ç«‹æ€§ï¼šæ€»ä½“é€»è¾‘ç»“æ„çš„æ”¹å˜ï¼Œå¦‚ä¿®æ”¹æ•°æ®æ¨¡å¼ï¼Œå¢åŠ æ–°çš„æ•°æ®ç±»å‹ï¼Œæ”¹å˜æ•°æ®é—´è”ç³»ç­‰ï¼Œä¸éœ€è¦ä¿®æ”¹ç›¸åº”åº”ç”¨ç¨‹åº æ•°æ®å…±äº«ï¼šå¯ä¾›å¤šä¸ªåº”ç”¨ç¨‹åºä½¿ç”¨ï¼Œå¹¶å¯ç”¨äºä¸åŒçš„ç›®çš„ï¼›å¯ä»¥åœ¨å·²æœ‰çš„æ•°æ®åº“ç³»ç»Ÿä¸Šå¼€å‘æ–°çš„åº”ç”¨ç¨‹åºï¼›å¯å‘å¤–ç•Œæä¾›ä¿¡æ¯æœåŠ¡åŠŸèƒ½ æ•°æ®å†—ä½™ï¼šåŒä¸€ä¸ªæ•°æ®åœ¨ä¸åŒçš„åœ°æ–¹å‡ºç°äº†é‡å¤å­˜å‚¨ æ•°æ®çš„å®Œæ•´æ€§æ£€æŸ¥ï¼šå¯¹æ•°æ®åº“ä¸­æ•°æ®æ­£ç¡®æ€§ä½œæ£€æŸ¥ä»¥ä¿è¯æ•°æ®çš„æ­£ç¡®ã€‚ æ•°æ®çš„å®‰å…¨æ€§ä¿æŠ¤ï¼šå¯¹æ•°æ®åº“è®¿é—®è€…ä½œæ£€æŸ¥ä»¥é˜²æ­¢éæ³•è®¿é—®ã€‚ å¹¶å‘æ§åˆ¶ï¼šå¯¹å¤šä¸ªåº”ç”¨å¹¶å‘è®¿é—®æ‰€äº§ç”Ÿçš„ç›¸äº’å¹²æ‰°ä½œæ§åˆ¶ä»¥ä¿è¯å…¶æ­£ç¡®æ€§ã€‚ æ•…éšœæ¢å¤ï¼šå¯¹é­å—ç ´åçš„æ•°æ®å…·æœ‰æ¢å¤èƒ½åŠ›ï¼Œä½¿æ•°æ®åº“å…·æœ‰æŠ—ç ´åæ€§ã€‚ æ•°æ®åº“å†…éƒ¨ç»“æ„ä½“ç³»æ•°æ®æ¨¡å¼ï¼šæ•°æ®åº“ç³»ç»Ÿä¸­æ•°æ®ç»“æ„çš„ä¸€ç§è¡¨ç¤ºå½¢å¼ï¼Œå®ƒå…·æœ‰ä¸åŒçš„å±‚æ¬¡ä¸ç»“æ„æ–¹å¼ ä¸‰çº§æ¨¡å¼ æ¦‚å¿µæ¨¡å¼ï¼ˆç®€ç§°æ¨¡å¼ï¼‰ æ˜¯å…³äºæ•´ä¸ªæ•°æ®åº“ä¸­æ•°æ®çš„å…¨å±€é€»è¾‘ç»“æ„çš„æè¿°ã€‚ æ˜¯é¢å‘æ•°æ®åº“ç³»ç»Ÿçš„ï¼Œå®ƒä¸€èˆ¬ä»¥æŸç§æ•°æ®æ¨¡å‹ä¸ºåŸºç¡€ï¼Œåˆ©ç”¨å…·ä½“çš„DBMSæ‰€æä¾›çš„æ•°æ®å®šä¹‰è¯­è¨€ï¼ˆDDLï¼‰æ¥æè¿°ï¼š æ•°æ®çš„ç±»å‹ã€é•¿åº¦ã€ç‰¹å¾ æ•°æ®é—´çš„è”ç³» å®‰å…¨æ€§ã€å®Œæ•´æ€§ç­‰æ–¹é¢çš„è¦æ±‚ å¤–æ¨¡å¼ï¼ˆä¹Ÿç§°å­æ¨¡å¼ã€ç”¨æˆ·æ¨¡å¼ï¼‰ æ˜¯å…³äºæŸä¸ªï¼ˆç»„ï¼‰ç”¨æˆ·æ‰€éœ€æ•°æ®çš„é€»è¾‘ç»“æ„çš„æè¿°ã€‚ å¯ç”±æ¦‚å¿µæ¨¡å¼æ¨å¯¼è€Œå‡ºï¼Œæ˜¯æ¦‚å¿µæ¨¡å¼çš„ä¸€ä¸ªå­é›†ã€‚ä¸€ä¸ªæ¦‚å¿µæ¨¡å¼å¯å¯¹åº”ç€å¤šä¸ªå¤–æ¨¡å¼ã€‚ æœ‰åˆ©ä¹‹å¤„ï¼š ç®€åŒ–ç”¨æˆ·æ¥å£ï¼Œä¾¿äºä½¿ç”¨ é™ä½æ•°æ®å†—ä½™åº¦ æœ‰åˆ©äºæ•°æ®çš„å®‰å…¨æ€§ä¿æŠ¤å’Œä¿å¯† å†…æ¨¡å¼ï¼ˆä¹Ÿç§°ç‰©ç†æ¨¡å¼ï¼‰ æ˜¯å…³äºæ•°æ®åº“ä¸­æ•°æ®çš„ç‰©ç†å­˜å‚¨ç»“æ„å’Œç‰©ç†å­˜å–æ–¹æ³•çš„æè¿°ã€‚ åªæœ‰ç‰©ç†æ•°æ®åº“çœŸå®å­˜åœ¨äºå¤–å­˜ä¸­ï¼Œå…¶å®ƒç”±ç‰©ç†æ•°æ®åº“é€šè¿‡DBMSæ„é€ è€Œæˆã€‚ ä¸‰çº§æ¨¡å¼æ˜¯å¯¹æ•°æ®åœ¨ä¸‰ç§ä¸åŒçš„æŠ½è±¡çº§åˆ«ä¸Šè¿›è¡Œçš„æè¿°ã€‚ä¸Šè¿°ä¸‰ç§æ¨¡å¼å¯ä»¥æ„é€ å‡ºä¸‰ä¸ªå±‚æ¬¡ä¸Šçš„æ•°æ®åº“æ¦‚å¿µï¼šæ¦‚å¿µæ•°æ®åº“ã€ç”¨æˆ·æ•°æ®åº“ã€ç‰©ç†æ•°æ®åº“ äºŒçº§æ˜ å°„ æ¦‚å¿µæ¨¡å¼åˆ°å†…æ¨¡å¼çš„æ˜ å°„ è¯¥æ˜ å°„ç»™å‡ºäº†æ¦‚å¿µæ¨¡å¼ä¸­æ•°æ®çš„å…¨å±€é€»è¾‘ç»“æ„åˆ°æ•°æ®çš„ç‰©ç†å­˜å‚¨ç»“æ„é—´çš„å¯¹åº”å…³ç³» æ­¤ç§æ˜ å°„ä¸€èˆ¬ç”±DBMSå®ç°ã€‚ å¯å®ç°ç‰©ç†ç‹¬ç«‹æ€§ å¤–æ¨¡å¼åˆ°æ¦‚å¿µæ¨¡å¼çš„æ˜ å°„ è¯¥æ˜ å°„ç»™å‡ºäº†å¤–æ¨¡å¼ä¸æ¦‚å¿µæ¨¡å¼çš„å¯¹åº”å…³ç³» è¿™ç§æ˜ å°„ä¸€èˆ¬ä¹Ÿç”±DBMSå®ç°ã€‚ ä¸€ä¸ªæ¦‚å¿µæ¨¡å¼å¯ä»¥å®šä¹‰å¤šä¸ªå¤–æ¨¡å¼ï¼Œè€Œæ¯ä¸ªå¤–æ¨¡å¼æ˜¯æ¦‚å¿µæ¨¡å¼çš„ä¸€ä¸ªåŸºæœ¬è§†å›¾ã€‚ æ¦‚å¿µæ¨¡å¼æ˜¯ä¸€ä¸ªå…¨å±€æ¨¡å¼ï¼Œè€Œå¤–æ¨¡å¼åˆ™æ˜¯ç”¨æˆ·çš„å±€éƒ¨æ¨¡å¼ã€‚ å¯å®ç°â€œé€»è¾‘ç‹¬ç«‹æ€§ ä¸‰çº§æ¨¡å¼ä¸æ•°æ®ç‹¬ç«‹æ€§çš„å…³ç³» æ•°æ®åº“ç³»ç»Ÿé€šè¿‡ä¸¤çº§æ˜ å°„å»ºç«‹ä¸‰çº§æ¨¡å¼é—´çš„è”ç³»ä¸è½¬æ¢ï¼Œä½¿å¾—æ¦‚å¿µæ¨¡å¼ä¸å¤–æ¨¡å¼è™½ç„¶åœ¨ç‰©ç†ä¸Šå¹¶ä¸å­˜åœ¨ï¼Œä½†ä¹Ÿèƒ½é€šè¿‡æ˜ å°„è€Œè·å¾—å…¶å­˜åœ¨çš„å®ä½“ï¼› ä¸‰çº§æ¨¡å¼ä¹‹é—´çš„ä¸¤çº§æ˜ å°„ä¹Ÿä¿è¯äº†æ•°æ®åº“ç³»ç»Ÿä¸­çš„æ•°æ®ç‹¬ç«‹æ€§çš„å®ç°ï¼Œå³æ•°æ®çš„å†…æ¨¡å¼æˆ–æ¦‚å¿µæ¨¡å¼çš„æ”¹å˜ï¼Œå¹¶ä¸å½±å“ç”¨æˆ·å®é™…ä½¿ç”¨åˆ°çš„å¤–æ¨¡å¼ï¼Œåªè¦è°ƒæ•´å®ƒä»¬ä¹‹é—´çš„æ˜ å°„æ–¹å¼å³å¯ã€‚ Ch2 æ•°æ®æ¨¡å‹æ•°æ®æ¨¡å‹çš„åŸºæœ¬æ¦‚å¿µæ•°æ®æ¨¡å‹å®šä¹‰ï¼šæè¿°æ•°æ®çš„ç»“æ„ï¼Œå®šä¹‰åœ¨è¯¥æ•°æ®ç»“æ„ä¸Šå¯ä»¥æ‰§è¡Œçš„æ“ä½œä»¥åŠæ•°æ®ä¹‹é—´å¿…é¡»æ»¡è¶³çš„çº¦æŸæ¡ä»¶ï¼ˆç»“æ„+æ“ä½œ+çº¦æŸï¼‰ æ•°æ®ç»“æ„ï¼ˆæ•°æ®æ¨¡å¼ï¼‰ æè¿°æ•°æ®çš„ç±»å‹ã€å†…å®¹ã€æ€§è´¨ä»¥åŠæ•°æ®é—´çš„è”ç³» æ•°æ®ç»“æ„æ˜¯ä¸€ä¸ªæ•°æ®æ¨¡å‹çš„åŸºç¡€ï¼Œæ•°æ®æ“ä½œä¸æ•°æ®çº¦æŸå‡æ˜¯å»ºç«‹åœ¨ç›¸åº”çš„æ•°æ®ç»“æ„ä¸Šçš„ ä¸ºäº†ä¾¿äºåŒºåˆ«ï¼Œæ•°æ®æ¨¡å‹ä¸­çš„æ•°æ®ç»“æ„è¢«ç§°ä¸ºâ€œæ•°æ®æ¨¡å¼â€ æ•°æ®æ¨¡å¼æ˜¯åˆ’åˆ†ä¸åŒç±»å‹çš„æ•°æ®æ¨¡å‹çš„ä¾æ® æ•°æ®æ“ä½œ åœ¨ç›¸åº”æ•°æ®ç»“æ„ä¸Šå¯ä»¥æ‰§è¡Œçš„æ“ä½œç±»å‹ä¸æ“ä½œæ–¹å¼ æ•°æ®çº¦æŸ ä¸»è¦æè¿°æ•°æ®ç»“æ„å†…æ•°æ®é—´çš„ç›¸äº’å…³ç³»ï¼ŒåŒ…æ‹¬ï¼š æ•°æ®é—´çš„è¯­æ³•/è¯­ä¹‰è”ç³» æ•°æ®é—´çš„åˆ¶çº¦ä¸ä¾å­˜å…³ç³» æ•°æ®ï¼ˆé—´ï¼‰çš„åŠ¨æ€å˜åŒ–è§„åˆ™ å…¶ç›®çš„æ˜¯ç¡®ä¿æ•°æ®çš„æ­£ç¡®ã€æœ‰æ•ˆä¸ç›¸å®¹ æ•°æ®æ¨¡å‹çš„æ ¸å¿ƒï¼šæ•°æ®ç»“æ„ ä¸‰ä¸ªæŠ½è±¡å±‚æ¬¡ä¸Šçš„æ•°æ®æ¨¡å‹æ¦‚å¿µ æ¦‚å¿µæ•°æ®æ¨¡å‹ ä¾§é‡äºå¯¹å®¢è§‚ä¸–ç•Œä¸­å¤æ‚äº‹ç‰©çš„ç»“æ„æè¿°åŠå®ƒä»¬ä¹‹é—´å†…åœ¨è”ç³»çš„åˆ»ç”»ï¼Œä¸æ¶‰åŠå…·ä½“çš„æè¿°ç»†èŠ‚å’Œç‰©ç†å®ç°å› ç´  æ˜¯ä¸€ç§é¢å‘å®¢è§‚ä¸–ç•Œå’Œç”¨æˆ·çš„æ¨¡å‹ï¼Œä¸å…·ä½“é‡‡ç”¨çš„DBMSåŠè®¡ç®—æœºå®ç°æ— å…³ ä¸»è¦çš„å‡ ç§æ¦‚å¿µæ¨¡å‹ï¼šE-Ræ¨¡å‹ï¼ŒEE-Ræ¨¡å‹ï¼›é¢å‘å¯¹è±¡æ¨¡å‹ï¼›è°“è¯æ¨¡å‹ ä¾§é‡äºå¯¹å®¢è§‚å¯¹è±¡çš„æ•°æ®ç‰¹å¾åŠå…¶ç›¸äº’å…³ç³»è¿›è¡Œæè¿°ï¼ŒåŒ…æ‹¬ æœ‰å“ªäº›å®¢è§‚å¯¹è±¡ï¼Ÿï¼ˆe.g.å­¦ç”Ÿã€æ•™å¸ˆã€è¯¾ç¨‹â€¦â€¦ æ¯ä¸€ç±»å®¢è§‚å¯¹è±¡éƒ½æœ‰å“ªäº›æ•°æ®ç‰¹å¾ï¼Ÿï¼ˆe.g.å­¦ç”Ÿï¼šå­¦å·ã€å§“åã€ä¸“ä¸šã€æ€§åˆ«â€¦â€¦ ä»–ä»¬ä¹‹é—´æœ‰å“ªäº›ç›¸äº’å…³ç³»ï¼Ÿ è¦äº†è§£æ¯ä¸ªæ•°æ®é¡¹çš„è¯­ä¹‰å«ä¹‰ï¼Œä½†å¹¶ä¸éœ€è¦å®šä¹‰å…¶å®ç°ç»†èŠ‚ï¼ˆå¦‚æ•°æ®ç±»å‹ã€å–å€¼çº¦æŸç­‰ é€»è¾‘æ•°æ®æ¨¡å‹ ç€é‡äºæ•°æ®æ¨¡å‹åœ¨æ•°æ®åº“ç³»ä¸€çº§çš„å®ç°ï¼Œå³åˆ©ç”¨å…·ä½“çš„DBMSæ‰€æä¾›çš„å·¥å…·(DDL)æ¥å®šä¹‰çš„æ•°æ®æ¨¡å‹ ä¸€ç§é¢å‘æ•°æ®åº“ç³»ç»Ÿçš„æ¨¡å‹ï¼Œæ¦‚å¿µæ•°æ®æ¨¡å‹åªæœ‰åœ¨è½¬æ¢æˆé€»è¾‘æ•°æ®æ¨¡å‹åæ‰èƒ½åœ¨æ•°æ®åº“ä¸­å¾—ä»¥è¡¨ç¤º ä¸€ä¸ªä¸­ä»‹æ¨¡å‹ï¼Œå…·æœ‰æ‰¿ä¸Šå¯ä¸‹çš„ä½œç”¨ æ›¾ç»æµè¡Œè¿‡çš„ï¼šå±‚æ¬¡ã€ç½‘çŠ¶ã€å…³ç³»ã€é¢å‘å¯¹è±¡ã€å¯¹è±¡å…³ç³»â€¦â€¦ åæ¥å°†æ•°æ®æ¨¡å‹åˆ’åˆ†ä¸ºä¸‰ç±»ï¼š ç»“æ„åŒ–ï¼šæ¨¡å‹ä¸€æ—¦å®šä¸‹æ¥å°±åŸºæœ¬ä¸ä¼šå‘ç”Ÿæ”¹å˜ï¼Œä¼ ç»Ÿæ•°æ®åº“ç³»ç»ŸåŸºæœ¬å±äºè¿™ä¸€ç±»ã€‚ åŠç»“æ„åŒ–ï¼šæœ‰æ¨¡å‹å®šä¹‰ä½†åˆæ˜“äºå˜åŒ–ï¼Œæœ‰è‡ªå·±çš„æ¨¡å‹å®šä¹‰è¯­è¨€ä¸æ•°æ®æ“ä½œè¯­è¨€ã€‚XMLæ•°æ®åº“ã€‚ éç»“æ„åŒ–ï¼šæ•°æ®ç»“æ„ä¸è§„åˆ™æˆ–ä¸å®Œæ•´ï¼Œæ²¡æœ‰é¢„å®šä¹‰çš„æ•°æ®æ¨¡å‹ï¼Œå¦‚æ–‡æ¡£ã€å›¾ç‰‡ã€ç½‘é¡µã€éŸ³è§†é¢‘ç­‰ ç°åœ¨ä¸€èˆ¬åˆ†ä¸ºç»“æ„åŒ–ï¼ˆå…³ç³»æ¨¡å‹ï¼‰å’Œéç»“æ„åŒ–ï¼ˆNoSQLï¼‰ å®¢è§‚äº‹ç‰©çš„å®ç°ç»“æ„ï¼šè¡¨åŠå…¶å±æ€§çš„å®šä¹‰ï¼›ç›¸äº’å…³ç³»çš„å®ç°ç»“æ„ï¼šè¡¨åŠå…¶å¤–é”® ç‰©ç†æ•°æ®æ¨¡å‹ ç”¨äºæè¿°æ•°æ®æ˜¯å¦‚ä½•åœ¨è®¡ç®—æœºä¸­è¿›è¡Œå­˜å‚¨ï¼Œå¦‚ä½•è¡¨è¾¾è®°å½•ç»“æ„ã€è®°å½•é¡ºåºå’Œè®¿é—®è·¯å¾„ç­‰ä¿¡æ¯ é¢å‘è®¡ç®—æœºç‰©ç†å®ç°çš„æ¨¡å‹ å¤§éƒ½ç”±DBMSæ¥è´Ÿè´£ï¼Œä½†ä¹Ÿå‘ç”¨æˆ·æä¾›å¦‚ï¼šç´¢å¼•çš„å®šä¹‰ã€é›†ç°‡çš„å®šä¹‰ã€å­˜å‚¨åŒºåŸŸçš„é€‰æ‹© æ•°æ®æ¨¡å‹çš„å››ä¸ªä¸–ç•Œ ç°å®ä¸–ç•Œï¼šåœ¨å®¢è§‚ä¸–ç•Œä¸­æ ¹æ®ç”¨æˆ·çš„éœ€æ±‚ç›®æ ‡è€Œåˆ’å®šè¾¹ç•Œçš„ä¸€ä¸ªåº”ç”¨ç¯å¢ƒã€‚ä¸ºæ•´ä¸ªè½¬æ¢è¿‡ç¨‹æä¾›äº†å®¢è§‚åŸºç¡€ä¸åˆå§‹å¯åŠ¨ç¯å¢ƒã€‚ æ¦‚å¿µä¸–ç•Œï¼šä»¥ç°å®ä¸–ç•Œä¸ºåŸºç¡€ä½œè¿›ä¸€æ­¥çš„æŠ½è±¡è€Œå½¢æˆçš„æ¦‚å¿µæ¨¡å‹ã€‚DBè®¾è®¡äººå‘˜è¿›è¡Œç”¨æˆ·éœ€æ±‚åˆ†æï¼Œå½¢æˆä¸€äº›åŸºæœ¬æ¦‚å¿µä¸åŸºæœ¬å…³ç³»ï¼Œå¹¶ç”¨æŸä¸€ç§æ¦‚å¿µæ•°æ®æ¨¡å‹ä¸­æ‰€æä¾›çš„æœ¯è¯­å’Œæ–¹æ³•æ¥ç»Ÿä¸€è¡¨ç¤ºã€‚æ¦‚å¿µä¸–ç•Œä¸å…·ä½“çš„DBMSå’Œè®¡ç®—æœºæ— å…³ã€‚ ä¿¡æ¯ä¸–ç•Œï¼šä»¥æ¦‚å¿µä¸–ç•Œä¸ºåŸºç¡€ï¼Œé€‰ç”¨ç‰¹å®šçš„DBMSæ„é€ è€Œæˆçš„é€»è¾‘æ•°æ®æ¨¡å‹ã€‚ä¿¡æ¯ä¸–ç•Œä¸å…·ä½“çš„DBMSæœ‰å…³ã€‚ è®¡ç®—æœºä¸–ç•Œï¼šåŸºäºé€»è¾‘æ•°æ®æ¨¡å‹åœ¨è®¡ç®—æœºä¸­çš„ç‰©ç†å®ç°è€Œå½¢æˆçš„ç‰©ç†æ•°æ®æ¨¡å‹ã€‚ä¾§é‡äºæ•°æ®åº“ç‰©ç†å­˜å‚¨ç»“æ„çš„æè¿°ï¼Œæ˜¯DBçš„æœ€ç»ˆå®ç°ç»“æ„ã€‚ æ¦‚å¿µä¸–ç•Œä¸æ¦‚å¿µæ¨¡å‹E-Ræ¨¡å‹ä¸E-Rå›¾ æœ€æ ¸å¿ƒçš„ä¸‰ä¸ªæ¦‚å¿µï¼šå®ä½“ï¼ˆçŸ©å½¢ï¼‰ã€å±æ€§ï¼ˆæ¤­åœ†å½¢ï¼‰ã€è”ç³»ï¼ˆè±å½¢ï¼‰ å®ä½“ï¼šå®¢è§‚å­˜åœ¨ä¸”åˆèƒ½ç›¸äº’åŒºåˆ«çš„äº‹ç‰©ã€‚æ˜¯å¯¹ç°å®ä¸–ç•Œä¸­çš„å®¢è§‚äº‹ç‰©çš„æŠ½è±¡ï¼Œæ˜¯æ¦‚å¿µä¸–ç•Œä¸­çš„åŸºæœ¬å•ä½ã€‚ å±æ€§ï¼šå®ä½“æ‰€å…·æœ‰çš„æŸç§ç‰¹æ€§æˆ–ç‰¹å¾ï¼Œå±æ€§å¯ä»¥æœ‰å€¼ã€‚å¯ä»¥å–çš„å€¼çš„é›†åˆï¼Œè¢«ç§°ä¸ºè¯¥å±æ€§çš„åŸŸ (domain)ã€‚ ç»„åˆå±æ€§ï¼šç”¨äºæè¿°å®ä½“æˆ–è”ç³»çš„æ€§è´¨çš„ç®€å•å±æ€§çš„é›†åˆ å¤šå€¼å±æ€§ï¼šä¸€ä¸ªå¯¹äºå•ä¸ªå®ä½“å‘ˆç°å¤šä¸ªå€¼çš„å±æ€§ è”ç³»ï¼šä¸€ä¸ªå®ä½“é›†ä¸­çš„å®ä½“ä¸å¦ä¸€ä¸ªå®ä½“é›†ä¸­çš„å®ä½“ä¹‹é—´å­˜åœ¨ç€æŸç§å¯¹åº”å…³ç³»ã€‚åœ¨æ¦‚å¿µä¸–ç•Œä¸­ï¼Œæˆ‘ä»¬ç”¨ä¸¤ä¸ªå®ä½“é›†çš„è”ç³»æ¥åæ˜ å®ƒä»¬ä¹‹é—´çš„è¿™ç§å…³ç³»ã€‚ ä¸¤ä¸ªå®ä½“é›†é—´çš„è”ç³»ï¼ˆäºŒå…ƒè”ç³»ï¼‰ å¤šä¸ªå®ä½“é›†é—´çš„è”ç³»ï¼ˆå¤šå…ƒè”ç³»ï¼‰ å•ä¸ªå®ä½“é›†å†…éƒ¨çš„è”ç³» è”ç³»çš„å‡½æ•°å¯¹åº”å…³ç³» ä¸€ä¸€å¯¹åº” ä¸€å¤šå¯¹åº”ï¼šä¸€ä¸ªAå¯¹åº”å¤šä¸ªBï¼Œä¸€ä¸ªBåªèƒ½å¯¹åº”ä¸€ä¸ªA(e.g.å®¿èˆvs.å­¦ç”Ÿ) å¤šå¤šå¯¹åº” å®ä½“é›†ï¼ˆè”ç³»ï¼‰ä¸å±æ€§é—´çš„è¿æ¥å…³ç³» å±æ€§çš„æè¿°ï¼šå±æ€§å å®ä½“çš„æè¿°ï¼šå®ä½“å+å®ä½“å‹ï¼ˆå®ä½“ä¸­çš„æ‰€æœ‰å±æ€§åæ‰€æ„æˆçš„é›†åˆï¼‰ å®ä½“é›†çš„æè¿°ï¼šå®ä½“å+å®ä½“å‹+å…³é”®å­—ï¼ˆåŒºåˆ†åŒä¸€ä¸ªå®ä½“é›†ä¸­ä¸åŒå®ä½“çš„ â€˜æœ€å°å±æ€§é›†åˆâ€™ï¼‰ è”ç³»ä¸å®ä½“é›†é—´çš„è¿æ¥å…³ç³» è”ç³»å è”ç³»çš„å±æ€§ å‡½æ•°å¯¹åº”å…³ç³» è¿æ¥å…³ç³»çš„è¡¨ç¤ºï¼šæ— å‘çº¿æ®µ å±æ€§ä¾é™„å®ä½“orè”ç³»ï¼Ÿ å®ä½“ä¸­çš„å±æ€§ï¼šè¯¥å®ä½“çš„å†…åœ¨ç‰¹å¾ï¼Œä¸ä¼šå› æŸäº›è”ç³»çš„å‡ºç°è€Œæ”¹å˜æˆ–æ¶ˆäº¡ è”ç³»ä¸Šçš„å±æ€§ï¼šç”¨äºæè¿°å› è”ç³»çš„å‘ç”Ÿè€Œéœ€è¦è®°å½•ã€å­˜å‚¨ä¸‹æ¥çš„ä¿¡æ¯ï¼Œå’Œè”ç³»åŒç”ŸåŒç­ EE-Ræ¨¡å‹ä¸EE-Rå›¾ IS-Aè”ç³» å¦‚æœå®ä½“é›†Bæ˜¯å®ä½“é›†Açš„ä¸€ä¸ªå­é›†ï¼Œä¸”å…·æœ‰æ¯”å®ä½“é›†Aæ›´å¤šçš„å±æ€§ï¼Œåˆ™æˆ‘ä»¬ç§°åœ¨å®ä½“é›†Aä¸å®ä½“é›†Bä¹‹é—´å­˜åœ¨ç€ä¸€ç§ç‰¹æ®Šçš„â€˜IS-Aè”ç³»â€™ã€‚å…¶ä¸­å®ä½“é›†Aè¢«ç§°ä¸ºè¶…(å®ä½“)é›†ï¼Œå®ä½“é›†Bè¢«ç§°ä¸ºå­(å®ä½“)é›†ã€‚å­é›†Bå¯ä»¥é€šè¿‡IS-Aè”ç³»ç»§æ‰¿è¶…é›†Aä¸­çš„æ‰€æœ‰å±æ€§ã€‚ è¡¨ç¤ºæ–¹æ³•ï¼šç”¨ä»â€˜å­å®ä½“é›†â€™æŒ‡å‘â€˜è¶…å®ä½“é›†â€™çš„å•å‘ç®­å¤´è¡¨ç¤º ç»§æ‰¿æ€§ä¸ä¼ é€’æ€§ è¦†ç›–çº¦æŸï¼šæ‰€æœ‰å­é›†çš„å¹¶é›†=è¶…é›†ï¼›ä¸€ä¸ªå®ä½“è‡³å°‘éš¶å±äºæŸä¸€ä¸ªå­é›† ä¸ç›¸äº¤çº¦æŸï¼šä»»æ„ä¸¤ä¸ªå­é›†éƒ½æ˜¯äº’ä¸ç›¸äº¤çš„ï¼›ä¸€ä¸ªå®ä½“è‡³å¤šéš¶å±äºæŸä¸€ä¸ªå­é›† å¼±å®ä½“ å¦‚æœä¸€ä¸ªå®ä½“Açš„å­˜åœ¨éœ€è¦ä¾èµ–äºå…¶ä»–æŸä¸ªå®ä½“çš„å­˜åœ¨ï¼Œé‚£ä¹ˆå®ä½“Aè¢«ç§°ä¸ºå¼±å®ä½“ã€‚å¼±å®ä½“(é›†)ä¸æ‰€ä¾èµ–çš„å®ä½“(é›†)ä¹‹é—´çš„å‡½æ•°å¯¹åº”å…³ç³»é€šå¸¸åº”è¯¥æ˜¯â€œå¤šå¯¹ä¸€â€çš„å…³ç³»ã€‚ è¡¨ç¤ºæ–¹æ³•ï¼šä»å¼±å®ä½“åˆ°è”ç³»çš„æœ‰å‘ç®­å¤´ ä¸åœ¨è€ƒçº²é‡Œçš„ï¼š å±æ€§åˆ’åˆ† å±æ€§åŸºæ•°ï¼šå¯ä»¥ç”¨ä¸€ä¸ªäºŒå…ƒç»„ (x, y) æ¥æè¿°ä¸€ä¸ªå®ä½“åœ¨è¯¥å±æ€§ä¸Šçš„å–å€¼æ•°é‡ç‰¹å¾ã€‚ æ ‡è¯†ç¬¦ï¼šå…³é”®å­—æˆ–å€™é€‰å…³é”®å­— æè¿°ç¬¦ï¼šéå…³é”®å­—çš„å±æ€§ å±æ€§åŸºæ•° ç”¨äºŒå…ƒç»„(x,y)æè¿°ä¸€ä¸ªå®ä½“åœ¨è¯¥å±æ€§ä¸Šçš„å–å€¼æ•°é‡ç‰¹å¾ (0, ?)ï¼šè¯¥å±æ€§å¯ä»¥å–ç©ºå€¼ (1, ?)ï¼šè¯¥å±æ€§å¿…é¡»æœ‰å€¼ (?, 1)ï¼šæ¯ä¸€ä¸ªå®ä½“åœ¨è¯¥å±æ€§ä¸Šæœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªå€¼ï¼Œå•å€¼å±æ€§ (?, N)ï¼šå¤šå€¼å±æ€§ xè¡¨ç¤ºèƒ½å¦å–ç©ºå€¼ï¼Œyè¡¨ç¤ºå•å€¼orå¤šå€¼ å‚ä¸åŸºæ•° ç”»å®ä½“è”ç³»å›¾ï¼ˆæ¤­åœ†ç‚¹-ç‚¹æ¤­åœ†ï¼‰ æœ€å¤§å‚ä¸åŸºæ•°max-card(E,R)ï¼šä»å·¦è¾¹ä¸€ä¸ªç‚¹å‡ºå‘çš„æœ€å¤šçš„è¾¹æ•°ï¼ˆ1 or N) æœ€å°å‚ä¸åŸºæ•°min-card(E,R)ï¼šæœ€å°‘è¾¹æ•°(0 or 1) å‚ä¸åŸºæ•°ï¼šcard(E, R)=(min-card(E, R), max-card(E, R)) (?, 1) ï¼šå•å€¼å‚ä¸ï¼ˆåªèƒ½æœ‰ä¸€ä¸ªï¼‰ï¼›(?, N)ï¼šå¤šå€¼å‚ä¸ï¼ˆå¯ä»¥æœ‰å¤šä¸ªï¼‰ (1, ?)ï¼šå¼ºåˆ¶å‚ä¸ï¼ˆå¿…é¡»è¦æœ‰ï¼‰ï¼›(0, ?)ï¼šå¯é€‰å‚ä¸ï¼ˆå¯ä»¥æ²¡æœ‰ï¼‰ å¤šå¯¹ä¸€å…³ç³»ï¼šå¤šå€¼å‚ä¸çš„æ˜¯â€œä¸€â€ï¼Œå•å€¼å‚ä¸çš„æ˜¯â€œå¤šâ€ï¼ˆæå•¥ï¼Ÿï¼Ÿï¼Ÿ é¢å‘å¯¹è±¡æ¨¡å‹ å¯¹è±¡ï¼šå®¢è§‚ä¸–ç•Œä¸­èƒ½å¤Ÿç›¸äº’åŒºåˆ«å¼€æ¥çš„äº‹ç‰©ã€‚OOæ¨¡å‹ä¸­çš„æœ€åŸºæœ¬çš„æ¦‚å¿µã€‚ å¯¹è±¡æ ‡è¯†ç¬¦ï¼ˆOIDï¼‰ï¼šæ¯ä¸ªå¯¹è±¡å‡å…·æœ‰çš„ä¸€ä¸ªèƒ½ç›¸äº’åŒºåˆ«çš„åå­— æ–¹æ³•ï¼šæ˜¯å¯ä»¥ä½œç”¨åœ¨å¯¹è±¡ä¸Šçš„ä¸€æ®µç¨‹åºã€‚ç”¨äºåæ˜ å¯¹è±¡çš„è¡Œä¸ºç‰¹å¾ï¼Œæ˜¯å¯¹è±¡çš„å›ºæœ‰åŠ¨æ€è¡Œä¸ºçš„è¡¨ç¤ºï¼Œå¯ç”¨äºå®¡è§†å¹¶æ”¹å˜å¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ï¼ˆå±æ€§å€¼ï¼‰ã€‚ ç±»ï¼šå…·æœ‰ç›¸åŒå±æ€§ã€æ–¹æ³•çš„å¯¹è±¡é›†åˆã€‚å¯ä»¥è¢«æŠ½è±¡æˆä¸€ä¸ªå¯¹è±¡ï¼Œæˆ‘ä»¬ç§°å…¶ä¸ºâ€˜ç±»å¯¹è±¡â€™æˆ–å®ä¾‹ã€‚ ç»§æ‰¿ ä¸€ä¸ªç±»çš„å®šä¹‰å’Œå®ç°å»ºç«‹åœ¨å…¶å®ƒç±»çš„åŸºç¡€ä¹‹ä¸Šï¼Œå¹¶å…±äº«å…¶å®ƒç±»çš„å®šä¹‰å’Œå®ç° IS-Aè”ç³»ï¼Œè¢«ç»§æ‰¿çš„æ˜¯è¶…ç±»ï¼Œç»§æ‰¿çš„æ˜¯å­ç±» ç»§æ‰¿å…³ç³»æ„æˆå•å‘ä¸å¾ªç¯çš„å±‚æ¬¡ç»“æ„ ä½œç”¨ï¼šæ”¯æŒä»£ç çš„å…±äº«ä¸é‡ç”¨ï¼›æœ‰åŠ©äºç³»ç»Ÿçš„æ‰©å…… ç±»çš„èšåˆä¸åˆ†è§£ ç±»çš„èšåˆï¼šç”±è‹¥å¹²ä¸ªç®€å•ç±»èšåˆæˆä¸€ä¸ªå¤æ‚çš„ç±»çš„è¿‡ç¨‹ ç±»çš„åˆ†è§£ï¼šç”±å¤æ‚ç±»åˆ†è§£æˆè‹¥å¹²å±‚æ¬¡ä¸Šçš„ç®€å•ç±»çš„è¿‡ç¨‹ ä¸‰ç§è¯­ä¹‰ï¼šç»„æˆè¯­ä¹‰ã€åµŒå¥—è¯­ä¹‰ã€è”ç³»è¯­ä¹‰ å®è´¨ä¸Šååº”äº†ç±»ä¸­å¯¹è±¡ä¹‹é—´çš„ç»„åˆä¸åˆ†è§£å…³ç³» ä¿¡æ¯ä¸–ç•Œå’Œé€»è¾‘æ¨¡å‹ å…³ç³»æ¨¡å‹ åŸºæœ¬æ•°æ®ç»“æ„ï¼šäºŒç»´è¡¨ï¼Œç®€ç§°â€˜è¡¨â€™ æ•°æ®æ“çºµï¼šå»ºç«‹åœ¨äºŒç»´è¡¨ä¸Šçš„æ“ä½œï¼ŒåŒ…æ‹¬æŸ¥è¯¢ã€åˆ é™¤ã€æ’å…¥ã€ä¿®æ”¹ å…³ç³»ï¼šç”±è¡Œå’Œåˆ—ç»„æˆçš„äºŒç»´è¡¨æ ¼ åŒä¸€è¡¨ä¸­çš„å±æ€§åå„ä¸ç›¸åŒ è¡¨ä¸­çš„å±æ€§ä¸å±æ€§çš„æ’æ”¾æ¬¡åºæ— å…³ è¡¨ä¸­çš„å…ƒç»„å‡ä¸ç›¸åŒ è¡¨ä¸­çš„å…ƒç»„ä¸å…ƒç»„çš„æ’åˆ—æ¬¡åºæ— å…³ è¡¨ä¸­çš„æ¯ä¸€åˆ†é‡å¿…é¡»æ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„åŸºæœ¬æ•°æ®é¡¹ å±æ€§ï¼šå®ä½“æ‰€å…·æœ‰çš„æŸç§ç‰¹æ€§æˆ–ç‰¹å¾ å€¼åŸŸï¼ˆåŸŸï¼‰ï¼šå±æ€§çš„å–å€¼èŒƒå›´ å…ƒç»„ï¼šå…³ç³»ä¸­çš„æ¯ä¸€è¡Œ å…³ç³»æ¨¡å¼ï¼šä¸€ä¸ªå…³ç³»çš„å…³ç³»ååŠå…¶å±æ€§åçš„é›†åˆ å…³ç³»æ•°æ®åº“æ¨¡å¼ï¼šè¯¥å…³ç³»æ•°æ®åº“ä¸­æ‰€æœ‰å…³ç³»çš„å…³ç³»æ¨¡å¼çš„é›†åˆ å…³é”®å­—ï¼šå…³ç³»ä¸­çš„ä¸€ä¸ªå±æ€§é›†çš„å€¼èƒ½å”¯ä¸€æ ‡è¯†å…³ç³»ä¸­çš„ä¸€ä¸ªå…ƒç»„ï¼Œä¸”åˆä¸å«å¤šä½™çš„å±æ€§å€¼ï¼Œåˆ™ç§°è¯¥å±æ€§é›†ä¸ºè¯¥å…³ç³»çš„å…³é”®å­—ã€‚ä¸€ä¸ªå…³ç³»ä¹Ÿå¯ä»¥æœ‰å¤šä¸ªå…³é”®å­—ï¼Œæ‰€ä»¥å…³é”®å­—ä¹Ÿè¢«ç§°ä¸ºâ€˜å€™é€‰å…³é”®å­—â€™ã€‚ ä¸»å…³é”®å­—ï¼šå¯ä»¥ä»å…³ç³»çš„å€™é€‰å…³é”®å­—ä¸­é€‰å–ä¸€ä¸ªä½œä¸ºè¯¥å…³ç³»çš„ä¸»å…³é”®å­— å¤–å…³é”®å­—ï¼šè®¾å…³ç³»Rä¸­çš„å±æ€§é›†Fï¼Œå…¶å–å€¼æ¥è‡ªäºå…³ç³»Sä¸­çš„ä¸»å…³é”®å­—Kï¼Œåˆ™ç§°å±æ€§é›†Fæ˜¯å…³ç³»Rçš„å¤–å…³é”®å­—ã€‚å…³ç³»Rå’Œå…³ç³»Så¯ä»¥æ˜¯åŒä¸€ä¸ªå…³ç³»ã€‚ äº”ç§åŸºæœ¬æ“ä½œï¼šå±æ€§æŒ‡å®šã€å…ƒç»„é€‰æ‹©ã€å…³ç³»åˆå¹¶ã€å…ƒç»„æ’å…¥ã€å…ƒç»„åˆ é™¤ è®¡ç®—æœºä¸–ç•Œä¸ç‰©ç†æ¨¡å‹é€»è¾‘æ¨¡å‹çš„æ•°æ®å­˜å‚¨ é¡¹ï¼šæ–‡ä»¶ç³»ç»Ÿä¸­æœ€å°åŸºæœ¬å•ä½ï¼Œé¡¹å†…ç¬¦å·æ˜¯ä¸èƒ½ç»§ç»­åˆ†å‰²çš„ã€‚ è®°å½•ï¼šç”±è‹¥å¹²é¡¹ç»„æˆï¼Œè®°å½•å†…çš„å„é¡¹é—´æœ‰å†…åœ¨è¯­ä¹‰è”ç³» æ–‡ä»¶ï¼šè®°å½•çš„é›†åˆ ç´¢å¼•ï¼šå°†æ–‡ä»¶ä¸­çš„è®°å½•ä¸å…¶ç‰©ç†åœ°å€(å³ç£ç›˜å—)é—´å»ºç«‹ä¸€å¼ å¯¹åº”å…³ç³»è¡¨ä»¥ä¾¿äºå¿«é€ŸæŸ¥æ‰¾ã€‚å¯ä»¥æœ‰å¤šçº§ç´¢å¼•ã€‚B+æ ‘æ˜¯å…³ç³»æ•°æ®åº“çš„ç‰©ç†å®ç°ä¸­æœ€å¸¸ç”¨çš„ä¸€ç§å¤šçº§ç´¢å¼•æŠ€æœ¯ã€‚ é›†ç°‡ï¼šåœ¨è®°å½•æŸ¥æ‰¾ä¸­å¾€å¾€éœ€è¦æŒ‰æŸé¡¹çš„é¡¹å€¼æŸ¥æ‰¾ï¼Œå°†å…·æœ‰ç›¸åŒæˆ–ç›¸é‚»é¡¹å€¼çš„è®°å½•èšé›†åœ¨ç›¸åŒç£ç›˜å—å†…æˆ–åœ†æŸ±ä½“å†…ä»¥å‡å°‘è¯»ç›˜æ¬¡æ•°ï¼Œæé«˜æŸ¥æ‰¾é€Ÿåº¦ã€‚ æé«˜æ–‡ä»¶è®¿é—®æ•ˆç‡çš„å¸¸ç”¨æ–¹æ³• ç´¢å¼•ï¼šè§ä¸Š é›†ç°‡ï¼šè§ä¸Š HASHæ³•ï¼šä¸€ç§å‡½æ•°è½¬æ¢æ³•ã€‚é€šè¿‡ä¸€ä¸ªhashå‡½æ•°å°†è¦æŸ¥æ‰¾çš„è®°å½•è½¬æ¢æˆè¯¥è®°å½•æ‰€åœ¨çš„ç‰©ç†åœ°å€ï¼Œç„¶åå¯ä»¥ç›´æ¥è¿›è¡Œè®°å½•çš„å®šä½è¯»å–æ“ä½œã€‚ Ch3 å…³ç³»æ•°æ®åº“ç³»ç»Ÿæ¦‚è¿°ä¼˜ç‚¹ æ•°æ®ç»“æ„ç®€å•ï¼ˆäºŒç»´è¡¨ï¼‰ ä½¿ç”¨æ–¹ä¾¿ åŠŸèƒ½å¼º æ•°æ®ç‹¬ç«‹æ€§é«˜ ç†è®ºåŸºç¡€æ·± å¯ç§»æ¤æ€§å¥½ æ ‡å‡†åŒ–ç¨‹åº¦é«˜ åˆ†å¸ƒå¼åŠŸèƒ½ å¼€æ”¾æ€§ å…¶ä»–æ–¹é¢çš„åŠŸèƒ½æ‰©å±• å®Œå…¨å…³ç³»å‹çš„12æ¡è¡¡é‡å‡†åˆ™å®Œå…¨å…³ç³»å‹çš„12æ¡ä¸¥æ ¼æ ‡å‡† ä¿¡æ¯å‡†åˆ™(å…³ç³»æ•°æ®åº“çš„æ‰€æœ‰ä¿¡æ¯éƒ½åº”èƒ½åœ¨é€»è¾‘ä¸€çº§å”¯ä¸€åœ°ç”¨â€˜è¡¨â€™ä¸­çš„å€¼æ˜¾å¼è¡¨ç¤º) ç¡®ä¿è®¿é—®å‡†åˆ™(åº”èƒ½ä¿è¯ç”¨é€»è¾‘æ–¹å¼ä¾é è¡¨åã€å…³é”®å­—å€¼ä¸åˆ—åçš„ç»„åˆæ¥è®¿é—®æ•°æ®åº“ä¸­æ¯ä¸€ä¸ªåŸå­æ•°æ®) ç©ºå€¼çš„å…³ç³»å¤„ç†å‡†åˆ™(ç³»ç»Ÿåº”è¯¥å…·æœ‰å¤„ç†ç©ºå€¼çš„èƒ½åŠ›) åŸºäºèµ„æºç®¡ç†çš„åŠ¨æ€è”æœºç›®å½•(æ•°æ®åº“çš„æè¿°ä¿¡æ¯(æ•°æ®å­—å…¸)ä¸ç”¨æˆ·æ•°æ®å…·æœ‰ç›¸åŒçš„è¡¨ç¤ºå½¢å¼ä¸æ“ä½œæ–¹å¼) ç»Ÿä¸€æ˜“ç”¨çš„æ•°æ®å­è¯­è¨€(è‡³å°‘æœ‰ä¸€ç§æ•°æ®å­è¯­è¨€èƒ½å…¨é¢æ”¯æŒä¸‹åˆ—åŠŸèƒ½:æ•°æ®å®šä¹‰ã€è§†å›¾å®šä¹‰ã€æ•°æ®æ“çºµã€å®Œæ•´æ€§çº¦æŸèƒ½åŠ›ã€æˆæƒæœºåˆ¶ã€äº‹åŠ¡å¤„ç†èƒ½åŠ›) è§†å›¾æ›´æ–°å‡†åˆ™(é€šè¿‡è§†å›¾ä¸ä»…å¯ä»¥æŸ¥è¯¢,è¿˜å¯ä»¥æ‰§è¡Œå¯¹æ•°æ®çš„å¢ã€åˆ ã€æ”¹ç­‰æ“ä½œ) é«˜çº§çš„æ’å…¥ã€åˆ é™¤åŠä¿®æ”¹æ“ä½œ(ä¸€æ¡å‘½ä»¤å¯ä»¥æ’å…¥ã€åˆ é™¤åŠä¿®æ”¹æ“ä½œå¤šæ¡å…ƒç»„) ç‰©ç†æ•°æ®ç‹¬ç«‹æ€§ é€»è¾‘æ•°æ®ç‹¬ç«‹æ€§ æ•°æ®å®Œæ•´æ€§å‡†åˆ™(æä¾›ä¸‰ç±»æ•°æ®å®Œæ•´æ€§çº¦æŸçš„å®šä¹‰åŠŸèƒ½) åˆ†å¸ƒç‹¬ç«‹æ€§(æ•°æ®åˆ†å¸ƒçš„æ”¹å˜ä¸å½±å“åŸæœ‰çš„åº”ç”¨ç¨‹åº) æ— æŸå®³åŸåˆ™(å¯¹æä¾›ä½çº§æ•°æ®å­è¯­è¨€çš„è¦æ±‚) å…³ç³»æ•°æ®åº“äº§å“åˆ†ç±» åŠå…³ç³»å‹ç³»ç»Ÿï¼šæ»¡è¶³12æ¡ä¸­å°‘é‡å‡†åˆ™ åŸºæœ¬å…³ç³»å‹ç³»ç»Ÿï¼šæ»¡è¶³12æ¡ä¸­å¤§éƒ¨åˆ† å®Œå…¨å…³ç³»å‹ï¼šä¸¥æ ¼ç¬¦åˆ12æ¡ åŸºæœ¬æ•°æ®ç»“æ„éƒ½æ˜¯å…³ç³» ç©ºå€¼ï¼ˆNULLï¼‰çš„å®šä¹‰ï¼šæ— æ„ä¹‰æˆ–å½“å‰æœªçŸ¥çš„å€¼ã€‚ å…³ç³»ä»£æ•°å…³ç³»æ¨¡å‹ï¼ˆæ¦‚å¿µï¼‰åè¯æœ¯è¯­å¯¹åº”å…³ç³» å…³ç³»â€”è¡¨ å±æ€§â€”åˆ— å…ƒç»„â€”è¡Œ æ¨¡å¼(schema)â€”è¡¨å¤´ï¼ˆæœ‰åå­—çš„åˆ—çš„é›†åˆï¼‰ å…³ç³»æ•°æ®ç»“æ„ è¡¨æ¡†æ¶ ç”±$n$ä¸ªå‘½åçš„å±æ€§ç»„æˆï¼Œ$n$ç§°ä¸ºè¡¨çš„å…ƒæ•°ï¼ˆ$n$å…ƒè¡¨ï¼‰ æ¯ä¸ªå±æ€§æœ‰ä¸€ä¸ªå–å€¼èŒƒå›´ï¼Œç§°ä¸ºå€¼åŸŸ å…ƒç»„ åœ¨è¡¨æ¡†æ¶ä¸­æŒ‰è¡Œå­˜æ”¾æ•°æ®ï¼Œæ¯ä¸€è¡Œæ•°æ®è¢«ç§°ä¸ºä¸€ä¸ªå…ƒç»„ $n$å…ƒè¡¨ä¸­ï¼Œä¸€ä¸ªå…ƒç»„ç”±$n$ä¸ªåˆ†é‡ç»„æˆï¼Œç¬¬$j$ä¸ªåˆ†é‡æ˜¯è¡¨æ¡†æ¶ä¸­çš„ç¬¬$i$ä¸ªå±æ€§ ä¸€ä¸ªè¡¨æ¡†æ¶å¯å­˜æ”¾$m$ä¸ªå…ƒç»„ï¼Œ$m$ç§°ä¸ºè¡¨çš„åŸºæ•°ï¼ˆè¡Œæ•°ï¼‰ å…³ç³» å¯¹äºŒç»´è¡¨çš„ä¸€ç§æŠ½è±¡ï¼Œæ˜¯å…³ç³»æ¨¡å‹çš„åŸºæœ¬æ•°æ®å•ä½ å…³ç³»å($R$)åŠå…¶æ‰€æœ‰çš„å±æ€§å($A_1,A_2\\ldots, A_n$)æ„æˆäº†å…³ç³»æ¡†æ¶$R(A_1,A_2,\\ldots, A_n)$ å…³ç³»æ¨¡å‹ï¼šä»¥ç¬¦åˆ7ä¸ªæ€§è´¨çš„äºŒç»´è¡¨ä¸ºåŸºæœ¬æ•°æ®ç»“æ„æ‰€å»ºç«‹çš„æ¨¡å‹ æ€§è´¨ï¼šä¸èƒ½æœ‰å¤šå€¼å±æ€§ï¼ˆFirst Normal Form Ruleï¼‰ã€è¡Œåˆ—æ— åºæ€§(Access row by content only)ã€ä¸èƒ½æœ‰å®Œå…¨ç›¸åŒçš„ä¸¤è¡Œ(The unique row rule) å…³é”®å­—Key åœ¨äºŒç»´è¡¨ä¸­èƒ½å”¯ä¸€æœ€å°æ ‡è¯†å…ƒç»„çš„å±æ€§é›†(è¦æ ¹æ®è¯­ä¹‰æ¥åˆ¤æ–­ æ¯å¼ äºŒç»´è¡¨éƒ½è‡³å°‘å­˜åœ¨ä¸€ä¸ªé”® å€™é€‰é”®ï¼šå€™é€‰å…³é”®å­—ï¼ˆå…³é”®å­—ä¸ä¸€å®šå”¯ä¸€ï¼‰ ä¸»é”®ï¼šæ‰€æœ‰å€™é€‰é”®ä¸­è¢«é€‰ä¸­çš„ä¸€ä¸ª è¶…é”®ï¼ša set of columns that has the uniqueness propertyï¼Œé”®æ˜¯æœ€å°è¶…é”® å¤–é”®ï¼šå¦‚æœè¡¨Aä¸­çš„å±æ€§é›†Fæ˜¯è¡¨Bçš„é”®ï¼Œåˆ™ç§°è¯¥å±æ€§é›†Fæ˜¯è¡¨Açš„å¤–é”®ã€‚ï¼ˆå­¦ç”Ÿè¡¨é‡Œçš„å­¦å·vsé€‰è¯¾è¡¨é‡Œçš„å­¦å·ï¼‰ è¡¨Aæ˜¯å¼•ç”¨è¡¨ï¼Œè¡¨Bæ˜¯è¢«å¼•ç”¨è¡¨ã€‚ è¡¨Aå’Œè¡¨Bå¯ä»¥æ˜¯åŒä¸€å¼ äºŒç»´è¡¨ å…³ç³»æ•°æ®åº“ï¼šå…³ç³»å­æ¨¡å¼-è§†å›¾ï¼ˆæ²¡æ‰¾åˆ°ï¼‰ å…³ç³»æ“ä½œå»ºç«‹åœ¨å…³ç³»ä¸Šçš„æ•°æ®æ“çºµåŠŸèƒ½ æ•°æ®æŸ¥è¯¢ï¼šä¸¤ä¸ªå…³ç³»çš„åˆå¹¶ã€å•ä¸ªå…³ç³»å†…çš„å…ƒç»„é€‰æ‹©ï¼ˆé€‰æ‹©æ»¡è¶³æŒ‡å®šæ¡ä»¶çš„å…ƒç»„ï¼‰ã€å•ä¸ªå…³ç³»å†…çš„å±æ€§æŒ‡å®šï¼ˆé€‰æ‹©ç»“æœæ‰€éœ€è¦çš„å±æ€§ï¼‰ æ•°æ®åˆ é™¤ï¼šç¡®å®šè¢«åˆ é™¤çš„å…ƒç»„ï¼ˆæ»¡è¶³ç»™å®šé€»è¾‘æ¡ä»¶ï¼‰ã€æ‰§è¡Œåˆ é™¤æ“ä½œï¼ˆä¸€æ¬¡åˆ é™¤æ“ä½œåªèƒ½åˆ é™¤ä¸€ä¸ªå…³ç³»å†…çš„å…ƒç»„ï¼‰ æ•°æ®æ’å…¥ï¼šåœ¨æŒ‡å®šå…³ç³»ä¸­æ’å…¥ä¸€ä¸ªæˆ–å¤šä¸ªæ–°çš„å…ƒç»„ï¼ˆä¸€æ¡æ•°æ®æ’å…¥æ“ä½œåªèƒ½å‘ä¸€ä¸ªå…³ç³»ä¸­å¢åŠ æ–°çš„å…ƒç»„ï¼‰ æ•°æ®ä¿®æ”¹ï¼šåœ¨æŒ‡å®šå…³ç³»ä¸­æ’å…¥ä¸€ä¸ªæˆ–å¤šä¸ªæ–°çš„å…ƒç»„ï¼ˆä¸€æ¡æ•°æ®æ’å…¥æ“ä½œåªèƒ½å‘ä¸€ä¸ªå…³ç³»ä¸­å¢åŠ æ–°çš„å…ƒç»„ï¼‰ã€‚ä¸æ˜¯åŸºæœ¬æ“ä½œï¼Œå¯ä»¥ç”±åˆ é™¤+æ’å…¥å®ç° ç©ºå€¼å¤„ç† ä¸»é”®ä¸­ä¸å…è®¸å‡ºç°ç©ºå€¼ ç®—æœ¯è¡¨è¾¾å¼ä¸­å‡ºç°ç©ºå€¼åˆ™ç»“æœä¸ºç©ºå€¼ é€»è¾‘è¡¨è¾¾å¼ä¸­å‡ºç°ç©ºå€¼åˆ™ç»“æœä¸ºå‡ è®¡ç®—SUMï¼ŒAVGï¼ŒMAXï¼ŒMINï¼ŒCOUNTæ—¶ç©ºå€¼ä¸ç»Ÿè®¡åœ¨å†… å¯¹ç©ºå€¼ä½œSUMï¼ŒAVGï¼ŒMAXæˆ–MINç»Ÿè®¡æ“ä½œæ—¶ï¼Œç»“æœå‡ä¸ºç©ºå€¼ å¯¹ç©ºé›†ä½œCOUNTç»Ÿè®¡æ“ä½œæ—¶ï¼Œç»“æœä¸º0 äº”ç§åŸºæœ¬æ“ä½œï¼š å…ƒç»„é€‰æ‹© å±æ€§æŒ‡å®š ä¸¤ä¸ªå…³ç³»çš„åˆå¹¶ å…ƒç»„æ’å…¥ å…ƒç»„åˆ é™¤ å…³ç³»ä¸­çš„æ•°æ®çº¦æŸä¸‰ç±»æ•°æ®å®Œæ•´æ€§çº¦æŸ å®ä½“å®Œæ•´æ€§çº¦æŸï¼šä¸»é”®ä¸­çš„å±æ€§ä¸èƒ½æœ‰ç©º å‚ç…§å®Œæ•´æ€§çº¦æŸï¼šå¤–é”®è¦ä¹ˆå–ç©ºå€¼ï¼Œè¦ä¹ˆæ˜¯è¢«å¼•ç”¨è¡¨å½“å‰å­˜åœ¨çš„æŸå…ƒç»„ä¸Šçš„ä¸»é”®å€¼ ç”¨æˆ·å®šä¹‰çš„å®Œæ•´æ€§ï¼šç”¨æˆ·è‡ªå·±å®šä¹‰çš„å±æ€§å–å€¼çº¦æŸ å…³ç³»ä»£æ•°$(A, \\pi, \\sigma, \\times, \\cup, -)$ç”±å…³ç³»çš„é›†åˆï¼¡åŠå…³ç³»é—´çš„äº”ç§åŸºæœ¬è¿ç®—æ‰€æ„æˆçš„ä»£æ•°ç³»ç»Ÿè¢«ç§°ä¸ºå…³ç³»ä»£æ•° å…³ç³»çš„è¡¨ç¤º $n$å…ƒå…³ç³»$R$æ˜¯ä¸€ä¸ª$n$å…ƒæœ‰åºç»„çš„é›†åˆ è®¾$n$å…ƒå…³ç³»$R$çš„å±æ€§åŸŸåˆ†åˆ«æ˜¯$D_1,D_2,\\dots, D_n$ï¼Œé‚£ä¹ˆè¿™$n$ä¸ªåŸŸçš„ç¬›å¡å„¿ä¹˜ç§¯ä¹Ÿæ˜¯ å…³ç³»æ“ä½œçš„è¡¨ç¤º å…³ç³»ä¸Šçš„äº”ç§åŸºæœ¬æ“ä½œ å…³ç³»ä»£æ•°ä¸­çš„äº”ç§åŸºæœ¬è¿ç®— å…ƒç»„é€‰æ‹© é€‰æ‹©è¿ç®— å±æ€§æŒ‡å®š æŠ•å½±è¿ç®— å…³ç³»åˆå¹¶ ç¬›å¡å°”ä¹˜ç§¯ å…ƒç»„æ’å…¥ å¹¶è¿ç®— å…ƒç»„åˆ é™¤ å·®è¿ç®— å…³ç³»ä»£æ•°ä¸­çš„äº”ç§åŸºæœ¬è¿ç®—æ¯ç§è¿ç®—çš„æ‰§è¡Œæ¡ä»¶å’Œç»“æœå…³ç³» å¹¶è¿ç®—ï¼š æ¡ä»¶ï¼šå‚ä¸è¿ç®—çš„ä¸¤ä¸ªå…³ç³»å¿…é¡»æ˜¯åŒç±»å…³ç³»ï¼ˆå…·æœ‰ç›¸åŒçš„å±æ€§ä¸ªæ•°ï¼Œä¸”å¯¹åº”åˆ—æ‰€è¡¨ç¤ºçš„å±æ€§åº”å…·æœ‰ç›¸åŒçš„å€¼åŸŸï¼‰ã€‚ ç»“æœï¼šå…³ç³»æ¨¡å¼ä¸å˜ï¼Œç”±æ‰€æœ‰å±äºå…³ç³»$R$æˆ–å±äºå…³ç³»$S$çš„å…ƒç»„æ‰€ç»„æˆçš„é›†åˆã€‚ ç›¸å®¹è¡¨ï¼šæœ‰ç›¸åŒè¡¨å¤´çš„è¡¨æ˜¯ç›¸å®¹è¡¨ï¼ˆå±æ€§ç›¸åŒï¼Œå€¼åŸŸç›¸åŒï¼Œå«ä¹‰ç›¸åŒï¼‰ã€‚å¹¶äº¤å·®è¿ç®—éƒ½åªèƒ½ä½œç”¨åœ¨ç›¸å®¹è¡¨ä¸Šã€‚ å·®è¿ç®—ï¼š æ¡ä»¶ï¼šå‚ä¸è¿ç®—çš„ä¸¤ä¸ªå…³ç³»å¿…é¡»æ˜¯åŒç±»å…³ç³»ã€‚ ç»“æœï¼šå…³ç³»æ¨¡å¼ä¸å˜ï¼Œç”±æ‰€æœ‰å±äºå…³ç³»$R$ä½†ä¸å±äºå…³ç³»$S$çš„å…ƒç»„æ‰€ç»„æˆçš„é›†åˆã€‚ å·®è¿ç®—ä¸æ»¡è¶³äº¤æ¢å¾‹ä¸ç»“åˆå¾‹ äº¤è¿ç®—ä¸æ˜¯åŸºæœ¬è¿ç®—ï¼Œå¯ä»¥ç”±å·®è¿ç®—å¾—åˆ°ï¼š$R\\cap S=R-(R-S)=S-(S-R)$ æŠ•å½±è¿ç®—ï¼š$\\pi_{B_1,B_2,\\dots, B_m} (R)$ï¼Œå…¶ä¸­$B_i\\in{ A_1,A_2,\\dots, A_n } (i=1,2,\\dots,m)$ã€‚ ç»“æœï¼šæ˜¯ä¸€ä¸ªç”±$B_1,B_2,\\dots, B_m$æ‰€ç»„æˆçš„$m$å…ƒå…³ç³»ã€‚å…³ç³»$R$ä¸­çš„æ¯ä¸ªå…ƒç»„$t$åœ¨$B_1,B_2,\\dots, B_m$è¿™$m$ä¸ªå±æ€§ä¸Šçš„å–å€¼$t_1,t_2,\\dots, t_m$æ„æˆç»“æœå…³ç³»ä¸­çš„ä¸€ä¸ªå…ƒç»„ã€‚ ä¸æ»¡è¶³äº¤æ¢å¾‹ é€‰æ‹©è¿ç®—ï¼š $\\sigma_F(R)$ï¼Œæ ¹æ®ç»™å®šçš„æ¡ä»¶$F$ä»å…³ç³»$R$ä¸­é€‰å‡ºç¬¦åˆæ¡ä»¶çš„å…ƒç»„ã€‚ ç»“æœï¼šç»“æœå…³ç³»çš„å…³ç³»æ¨¡å¼ä¸å˜ï¼Œç”±å±äºå…³ç³»$R$ä¸”æ»¡è¶³æ¡ä»¶$F$çš„å…ƒç»„æ‰€ç»„æˆã€‚ å…ˆé€‰æ‹©å†æŠ•å½± ï¼Œé¢ å€’åçš„è¡¨è¾¾å¼ä¸ä¸€å®šåˆæ³•ï¼›$\\pi_A\\sigma_F(R)$é»˜è®¤è¿ç®—é¡ºåºï¼šä»å³å‘å·¦ æ»¡è¶³äº¤æ¢å¾‹ ç¬›å¡å„¿ä¹˜ç§¯ï¼š è®¾å…³ç³»$R$å’Œ$S$åˆ†åˆ«æœ‰$n$å’Œ$m$ä¸ªå±æ€§ï¼Œå³ï¼š$R(A_1,A_2,\\dots, A_n)$å’Œ$S(B_1,B_2,\\dots, B_m)$ï¼Œåˆ™å®ƒä»¬çš„ç¬›å¡å„¿ä¹˜ç§¯$T = R\\times S$æœ‰$(n+m)$ä¸ªå±æ€§ï¼Œå³ï¼š$T(A_1,A_2,\\dots, A_n, B_1,B_2,\\dots, B_m)$ã€‚ è‹¥å…³ç³»Rå’ŒSåˆ†åˆ«æœ‰$p$å’Œ$q$ä¸ªå…ƒç»„ï¼Œé‚£ä¹ˆå®ƒä»¬çš„ç¬›å¡å„¿ä¹˜ç§¯ä¸­å°±å«æœ‰$(p\\times q)$ä¸ªå…ƒç»„ã€‚ ã€ç¬›å¡å„¿ä¹˜ç§¯æ»¡è¶³äº¤æ¢å¾‹å’Œç»“åˆå¾‹ã€‘ å¦‚æœå­˜åœ¨ç›¸åŒå±æ€§åï¼Œå¿…é¡»å¯¹å…¶ä¸­è‡³å°‘ä¸€ä¸ªè¿›è¡Œæ¢å å…³ç³»æ¨¡å‹ä¸å…³ç³»ä»£æ•°ï¼šç”±å…³ç³»çš„é›†åˆ$A$åŠå…³ç³»é—´çš„äº”ç§åŸºæœ¬è¿ç®—ï¼ˆ$\\pi, \\sigma, \\times, \\cup, -$ï¼‰æ‰€æ„æˆçš„ä»£æ•°ç³»ç»Ÿè¢«ç§°ä¸ºå…³ç³»ä»£æ•°ã€‚ æ‰©å……è¿ç®— äº¤è¿ç®— æ¡ä»¶ï¼šåŒç±»å…³ç³» ç»“æœï¼šå…³ç³»æ¨¡å¼ä¸å˜ï¼Œç”±æ‰€æœ‰æ—¢å±äºå…³ç³»$R$ä¹Ÿå±äºå…³ç³»$S$çš„å…ƒç»„æ‰€ç»„æˆçš„é›†åˆ é™¤è¿ç®— $T=R\\div S$: $Head(T)=Head(R)-Head(S)$ èƒ½å–éå…³ç³»$S$ä¸­æ‰€æœ‰å€¼çš„$R$ä¸­çš„å…ƒç»„ç»„æˆçš„é›†åˆï¼ˆè§ä¾‹å­ï¼‰ è‹¥$R=T\\times S$ï¼Œåˆ™$T=R\\div S$ä¸”$S=R\\div T$ã€‚è‹¥$T=R\\div S$ï¼Œåˆ™$T\\times S\\subseteq R$ $T\\times S\\subseteq R$ ã€è®°ä½ï¼ï¼ï¼ã€‘$R\\div S=\\pi{A_1,A_2\\ldots A_n}(R)-\\pi{A1,A_2\\ldots A_n}((\\pi{A_1,A_2\\ldots A_n}(R)\\times S)-R)$ è”æ¥(join)è¿ç®— $R\\underset{F}{\\Join}S$: å°†å…³ç³»$R$å’Œå…³ç³»$S$æ ¹æ®è”æ¥æ¡ä»¶$F$åˆå¹¶ä¸ºä¸€ä¸ªå…³ç³»ï¼Œåˆç§°$\\theta$-è”æ¥è¿ç®— ä¸å¿…æ¶ˆé™¤å®ƒä»¬ä¹‹é—´çš„åŒåå±æ€§ï¼Œä½†åœ¨ç»“æœä¸­åŒåå±æ€§éœ€è¦æ¢å $R\\underset{F}{\\Join}S=\\sigma_F(R\\times S)$ è‡ªç„¶è”æ¥($R\\Join S$)ï¼šæ ¹æ®åŒåå±æ€§è¿›è¡Œç­‰å€¼è”æ¥ï¼ŒåŒåå±æ€§åªä¿ç•™ä¸€ä»½ æ¡ä»¶ï¼šè¦æ±‚å…³ç³»$R$å’Œå…³ç³»$S$æœ‰å…¬å…±å±æ€§å³$\\textrm{Head}(R)\\cap\\textrm{Head}(S)\\neq\\emptyset$ å¤–è”æ¥ï¼šå…è®¸å¤–çš„å¦ä¸€è¾¹çš„æœ‰null å…³ç³»ä»£æ•°çš„ä¸€äº›æ —å­æŸ¥è¯¢æŠ˜æ‰£æœ€é«˜çš„å®¢æˆ·çš„ç¼–å· $\\pi{C.cid}(C)-\\pi{C.cid}(\\sigma_{C.discnt&lt;S.discnt}(C\\times S)), S:=C$ $\\pi{C.cid,S.cid}(\\sigma{C.discnt&gt;=S.discnt}(C\\times S))\\div \\pi_{cid}(C)$ å…³ç³»æ¼”ç®—åŸºæœ¬æ¦‚å¿µï¼ˆä¸åœ¨è€ƒçº²é‡Œï¼‰ å‘½é¢˜ ä¸ªä½“è¯ã€‚ä¸ªä½“åŸŸï¼ˆä¸ªä½“å˜å…ƒçš„å–å€¼èŒƒå›´ï¼‰ è°“è¯ æŒ‡æ´¾ é‡è¯ï¼š$\\forall, \\exists$ è¿æ¥ç¬¦ï¼šä¸æˆ–éè•´å« å…³ç³»çš„è¡¨ç¤ºï¼ˆä¸åœ¨è€ƒçº²é‡Œï¼‰ å…ƒç»„å…³ç³»æ¼”ç®—ï¼š$R={t\\mid P(t)}$, å¯ç®€å†™ä¸º$P(t)$ å…¬å¼ä¸­çš„æ¯ä¸ªå˜å…ƒçš„å–å€¼éƒ½æ˜¯ä¸€ä¸ªå…ƒç»„ï¼Œç§°ä¸ºå…ƒç»„å˜é‡ $n$å…ƒå…³ç³»$R$å¯ç”¨ä¸€ä¸ªè°“è¯$R(t)$è¡¨ç¤ºï¼Œ$t$æ˜¯å…ƒç»„å˜é‡ï¼Œ$t(i)$è¡¨ç¤ºå…³ç³»$R$ä¸­çš„ç¬¬$i$ä¸ªå±æ€§ ç”¨æ¥æè¿°ç”±è°“è¯$P(t)$çš„æ‰€æœ‰æˆçœŸæŒ‡æ´¾æ‰€æ„æˆçš„å…ƒç»„é›†åˆ åŸŸå…³ç³»æ¼”ç®—ï¼š$R={\\mid P(x_1,x_2,â€¦,x_n) }$ æ¯ä¸ªå˜å…ƒçš„å–å€¼æ˜¯å•ä¸ªçš„å±æ€§å€¼ï¼Œç§°ä¸ºåŸŸå˜é‡ $n$å…ƒå…³ç³»$R$ç”¨$n$å…ƒè°“è¯$R(x_1,x_2,\\cdots x_n)$è¡¨ç¤º é€šå¸¸æ··ç”¨ åŸå­å…¬å¼ è°“è¯$R(t)$æ˜¯åŸå­å…¬å¼ $u(i)\\theta v(j)$æ˜¯åŸå­å…¬å¼ï¼ˆå…¶ä¸­ï¼š$u$ï¼Œ$v$æ˜¯ä¸¤ä¸ªå…ƒç»„å˜é‡ï¼Œ$u(i)$ä»£è¡¨å…ƒç»„$u$åœ¨ç¬¬$i$ä¸ªå±æ€§ä¸Šçš„å€¼ï¼Œ$v(j)$ä»£è¡¨å…ƒç»„$v$åœ¨ç¬¬$j$ä¸ªå±æ€§ä¸Šçš„å€¼ï¼Œ$\\theta$æ˜¯æ¯”è¾ƒè¿ç®—ç¬¦ï¼‰ $u(i)\\theta a$æ˜¯åŸå­å…¬å¼ï¼ˆå…¶ä¸­$a$æ˜¯å¸¸é‡ï¼‰ å…¬å¼çš„å®šä¹‰ åŸå­å…¬å¼æ˜¯å…¬å¼ å¦‚æœ$\\varphi_1,\\varphi_2$æ˜¯å…¬å¼ï¼Œåˆ™$(\\varphi_1\\wedge\\varphi_2),(\\varphi_1\\vee\\varphi_2),(\\varphi_1\\rightarrow\\varphi_2)$åŠ$(\\neg\\varphi_2)$å‡ä¸ºå…¬å¼ å¦‚æœ$\\varphi$æ˜¯å…¬å¼ï¼Œ$\\varphi$ä¸­æœ‰è‡ªç”±å˜å…ƒ$r$ï¼Œåˆ™$\\exists r(\\varphi),\\forall r(\\varphi)$å‡ä¸ºå…¬å¼ å…¬å¼ç”±ä¸”ä»…ç”±ä¸Šé¢ä¸‰ç§æ–¹å¼é€šè¿‡æœ‰é™æ¬¡ç»„åˆæ„æˆ åŸºäºå…³ç³»æ¼”ç®—çš„æ•°æ®æŸ¥è¯¢è¡¨ç¤º åŸºäºå…³ç³»æ¼”ç®—çš„æ•°æ®æŸ¥è¯¢è¡¨ç¤º æ‰€æœ‰ç›®æ ‡å±æ€§å‡ä»¥è‡ªç”±å˜å…ƒå½¢å¼å‡ºç°ï¼Œå…¶å®ƒå±æ€§ä»¥çº¦æŸå˜å…ƒå½¢å¼å‡ºç°ã€‚(å…ˆå†™å®ŒæŸ¥è¯¢æ ‡å‡ºç›®æ ‡å±æ€§ï¼Œåå¡«ä¸Šçº¦æŸå˜å…ƒ) ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬ä½¿ç”¨å­˜åœ¨é‡è¯å¯¹å˜å…ƒä½œçº¦æŸï¼Œæ ¹æ®é¢˜ç›®çš„éœ€è¦ä¹Ÿå¯ä»¥ä½¿ç”¨å…¨ç§°é‡è¯æ¥çº¦æŸå˜å…ƒã€‚ æ£€ç´¢æ¡ä»¶(å…ƒç»„é€‰æ‹©æ¡ä»¶ï¼‰ä»¥åˆå–å½¢å¼(é€»è¾‘ä¸ï¼‰ä¸è°“è¯ç›¸è”ç»“ã€‚ å½“å˜å…ƒä¸å¸¸é‡è¿›è¡Œç›¸ç­‰æ¯”è¾ƒæ—¶ï¼Œå¯ä»¥ç”¨å¸¸é‡å€¼ä»£æ›¿å˜å…ƒç›´æ¥å‡ºç°åœ¨è°“è¯ä¸­ã€‚ å…³ç³»æ“ä½œçš„è¡¨ç¤ºå…³ç³»æ¨¡å‹æœ‰5ç§åŸºæœ¬æ“ä½œï¼Œåˆ†åˆ«å¯¹åº”5ä¸­åŸºæœ¬å…³ç³»è¿ç®— $R\\cup S={t\\mid R(t)\\vee S(t) }$ $R-S={t\\mid R(t)\\wedge \\neg S(t) }$ $\\sigma_F(R)={t\\mid R(t)\\wedge F }$ $\\pi_{A_1,A_2}(R)={u^{(2)}\\mid \\exists t, (R(t)\\wedge u(1)=t(1)\\wedge u(2)=t(2))} $ $R\\times S={t^{m+n}\\mid\\exists u^{(m)}\\exists v^{(n)}(R(u)\\wedge S(v)\\wedge t(1)=u(1)\\wedge t(2)=u(2)\\wedge\\ldots t(m)=u(m)\\wedge t(m+1)=v(1)\\wedge \\ldots t(m+n)=v(n))}$ ${t\\mid\\Phi(t)}$å¯ä»¥ç®€å†™ä¸º$\\Phi(t)$ è¿ç®—ä¼˜å…ˆçº§ï¼š æ¯”è¾ƒè¿ç®—ç¬¦ &gt; é‡è¯ &gt; é &gt; ä¸æˆ–è•´å« å…³ç³»çš„è”ç»“ é€»è¾‘ä¸å®ç°ç¬›å¡å°”ä¹˜ç§¯ï¼š$R(q)\\wedge S(q)$ é€šè¿‡é€‰æ‹©æ¡ä»¶$F$å®ç°$\\theta$-è”ç»“ï¼š$R(q)\\wedge S(q)\\wedge F$ é€šè¿‡ä¸¤ä¸ªè°“è¯ä¸­çš„å…¬å…±å˜å…ƒï¼ˆåŒåå˜å…ƒï¼‰å®ç°ä¸¤ä¸ªå…³ç³»çš„è‡ªç„¶è”ç»“ï¼š$R(x,y,z)\\wedge S(y,u,v)$ è‡ªè”ç»“ï¼šè°“è¯åä¸å˜ï¼Œå¯¹éƒ¨åˆ†å˜å…ƒè¿›è¡Œé‡å‘½å å…³ç³»æ¼”ç®—çš„ä¾‹å­ æ£€ç´¢æ‰€æœ‰å­¦ç”Ÿçš„å­¦å·ã€å§“åï¼š$\\exists sd,sa (S(\\underline{sno}, \\underline{sn}, sd ,sa))$ æ£€ç´¢ä¿®è¯»è¯¾ç¨‹å·$C_1$çš„æ‰€æœ‰å­¦ç”Ÿçš„å§“åï¼š$\\exists sno, sd, sa, g (S(sno,\\underline{sn},sd, sa)\\wedge SC(sno, â€˜Câ€™, g))$ æ£€ç´¢ä¿®è¯»æ‰€æœ‰è¯¾ç¨‹çš„å­¦ç”Ÿçš„å§“åï¼š$\\exists sno,sd,sa(S(sno,\\underline{sn},sd,sa)\\wedge \\forall cno(\\exists cn,pno(C(cno, cn, pno))\\to \\exists g(SC(sno, cno,g))) )$ å…³ç³»æ¼”ç®—çš„å®‰å…¨æ€§é—®é¢˜ï¼ˆä¸åœ¨è€ƒçº²é‡Œï¼‰æ— é™å…³ç³»ã€æ— ç©·éªŒè¯å®‰å…¨å…¬å¼ï¼šä¸ä¼šäº§ç”Ÿæ— é™å…³ç³»å’Œæ— ç©·éªŒè¯ç°è±¡çš„å…³ç³»æ¼”ç®—è¡¨è¾¾å¼çº¦æŸé›†$\\text{DOM}(\\varphi)$ç»„æˆï¼š å…¬å¼$\\varphi$ä¸­æ‰€å‡ºç°çš„å…³ç³»ä¸­çš„æŸäº›åˆ†é‡ å…¬å¼$\\varphi$ä¸­æ˜¾å¼å‡ºç°çš„å¸¸é‡ç¬¦å· å®‰å…¨å…¬å¼çš„åˆ¤å®šæ¡ä»¶ï¼š è‹¥$t$æ»¡è¶³å…¬å¼$\\varphi$ï¼Œåˆ™$t$çš„æ¯ä¸ªåˆ†é‡å¿…å®šæ˜¯$\\text{DOM}(\\varphi)$çš„å…ƒç´ â€”â€”ä¸ä¼šäº§ç”Ÿæ— é™å…³ç³» å¯¹$\\varphi$ä¸­æ¯ä¸€ä¸ªå½¢ä¸º$\\exists t(W(t))$çš„å­å…¬å¼ï¼Œè‹¥$t$æ»¡è¶³$W$ï¼Œåˆ™$t$çš„æ¯ä¸ªåˆ†é‡ä¸€å®šå±äº$\\text{DOM}(\\varphi)$â€”â€”ä¸ä¼šå­˜åœ¨æ— ç©·éªŒè¯ å¯¹$\\varphi$ä¸­æ¯ä¸€ä¸ªå½¢ä¸º$\\forall t(W(t))$çš„å­å…¬å¼ï¼Œå¦‚æœ$t$çš„ä»»ä¸€åˆ†é‡ä¸åœ¨$\\text{DOM}(\\varphi)$ä¸­ï¼Œåˆ™$t$å¿…å®šæ»¡è¶³$W$.â€”â€”ä¸ä¼šå­˜åœ¨æ— ç©·éªŒè¯ å…³ç³»ä»£æ•°ä¸å…³ç³»æ¼”ç®—ï¼ˆä¸åœ¨è€ƒçº²é‡Œï¼‰å…³ç³»ä»£æ•°ï¼šå®‰å…¨çš„å…³ç³»æ¼”ç®— å…³ç³»æ¼”ç®—â†’å…³ç³»ä»£æ•°ï¼š $\\phi_1\\wedge \\phi_2$ï¼š$R_1\\Join R_2$ï¼ˆæœ‰å…¬å…±å˜å…ƒï¼‰æˆ–$R_1\\times R_2$ï¼ˆæ— å…¬å…±å˜å…ƒï¼‰ $\\phi_1\\vee\\phi_2$ï¼š$R_1\\cup R_2$ $\\phi_1\\to \\phi_2$ï¼š$R_1\\div R_2$ $\\neg\\phi$ï¼š $(D_1\\times D_2\\ldots \\times D_n)-R$ $\\exists r, \\varphi$ï¼š$\\pi_{â€¦}(R)$ï¼ˆä¸‹æ ‡ä¸ºåŸå…¬å¼ä¸­æ‰€æœ‰è‡ªç”±å˜å…ƒï¼‰ $\\exists r, \\varphi$ï¼š $R\\div S$ å®Œå¤‡ç³»ç»Ÿ èƒ½å¤Ÿæä¾›å…³ç³»ä»£æ•°çš„äº”ç§åŸºæœ¬è¿ç®—åŠŸèƒ½çš„å…³ç³»æ¨¡å‹ç³»ç»Ÿ å…·æœ‰å®‰å…¨çš„å…³ç³»æ¼”ç®—åŠŸèƒ½çš„å…³ç³»æ¨¡å‹ç³»ç»Ÿ SQLè¯­è¨€è¿™ä¸€å—æçº²æœ‰ç‚¹ä¹±ï¼Œä¸åšé‡æ–°æ•´ç†äº†ï¼ŒåŸºæœ¬éƒ½è¦†ç›–åˆ°äº†ï¼Œåæ­£ä¹Ÿæ˜¯è€ƒè®¡ç®—å°±å‡‘åˆç€çœ‹å§ ç»“å°¾æœ‰åˆ†å· ä¸åŒºåˆ†å¤§å°å†™ å­—ç¬¦(ä¸²)å’Œæ—¥æœŸæ—¶é—´ç±»å‹çš„å¸¸é‡éœ€è¦å®šç•Œç¬¦â€™ï¼Œæ•°å­—ä¸éœ€è¦ SQLæ¦‚è²Œ åŸºæœ¬æ¦‚å¿µ å…³ç³»â€”â€”åŸºè¡¨ï¼›å…³ç³»å­æ¨¡å¼â€”â€”è§†å›¾ï¼ˆè™šè¡¨ï¼‰ï¼›å±æ€§â€”â€”åˆ—ï¼›å…ƒç»„â€”â€”è¡Œ åŸºè¡¨å’Œè™šè¡¨ç»Ÿç§°ä¸ºè¡¨ ä½¿ç”¨æ–¹å¼ï¼š è‡ªå«å¼ï¼šç‹¬ç«‹çš„äº¤äº’å¼å‘½ä»¤è¡Œè¯­è¨€ åµŒå…¥å¼ï¼šåµŒå…¥åˆ°æŸç§é«˜çº§ç¨‹åºè®¾è®¡è¯­è¨€ï¼ˆä¸»è¯­è¨€ï¼‰ä¸­ä½¿ç”¨ã€‚åµŒå…¥æ–¹å¼ï¼šåµŒå…¥å¼SQLï¼ˆESQLï¼‰ï¼Œå‡½æ•°è°ƒç”¨ æ•°æ®å®šä¹‰åŠŸèƒ½ï¼ˆDDLï¼‰åŸºæœ¬æ•°æ®ç±»å‹ å°æ•´å‹SMALLINTï¼šåŒCçš„short, $[-32768,32767]$ å¤§æ•´å‹INT: åŒC å·¨æ•´å‹BIGINT: åŒCçš„long long æµ®ç‚¹æ•°DEC(p,s), NUM(p,s): ç²¾åº¦p(æœ€å¤§31ä½)å’Œå°æ•°ä½s(å°æ•°ç‚¹å³è¾¹æ•°å­—çš„é•¿åº¦) å­—ç¬¦å¤§å¯¹è±¡å­—ç¬¦ä¸²CLOB(n[K|M|G]) å›¾å½¢å­—ç¬¦ä¸² äºŒè¿›åˆ¶ä¸² æ—¥æœŸDATEï¼šå¹´æœˆæ—¥ æ—¶é—´TIMEï¼šæ—¶åˆ†ç§’ æ—¶é—´æˆ³TIMESTAMPï¼šå¹´æœˆæ—¥æ—¶åˆ†ç§’å’Œå¾®ç§’ åŸºè¡¨åˆ›å»º1234CREATE TABLE tablename( colname, datatype [NOT NULL] &#123;, colname datatype [NOT NULL]&#125;); [...]ä»…å…è®¸å‡ºç°0æˆ–1æ¬¡ &#123;...&#125;å¯ä»¥å‡ºç°0æˆ–è‹¥å¹²æ¬¡ e.g.12345CREATE TABLE SC( sno CHAR(5) NOT NULL, cno CHAR(4) NOT NULL, g CHAR(1)); åŸºè¡¨ä¿®æ”¹ è¡¨ä¸­å±æ€§çš„å¢åŠ /åˆ é™¤12ALTER TABLE tablename ADD colname datatype;ALTER TABLE tablename DROP colname; åˆ é™¤æ•´ä¸ªè¡¨1DROP TABLE tablename æ•°æ®æ“çºµåŠŸèƒ½ SQLå’Œå…³ç³»ä»£æ•°çš„å…³ç³»å•ä¸ªå…³ç³»ä¸Šçš„é€‰æ‹©å’ŒæŠ•å½±$\\pi_{A_1, A_2,\\cdots A_m}(\\sigma_F(R_1\\times R_2\\times\\cdots\\times R_n))$ 123SELECT A1, A2, ..., AmFROM R1, R2, ..., RnWHERE F ç¬›å¡å°”ç§¯$R\\times S$ 12SELECT R.A1, R.A2, ..., R.An, S.B1, S.B2, ..., S.BmFROM R,S $\\theta$-è¿æ¥$R\\underset{F}{\\Join}S$ 123SELECT R.A1, R.A2, ..., R.An, S.B1, S.B2, ..., S.BmFROM R,SWHERE F è‡ªç„¶è¿æ¥$R\\Join S$ 12345SELECT R.A1, R.A2, ..., R.An, R.B1, R.B2, ..., R.Bk, S.C1, S.C2, ..., S.CmFROM R,SWHERE R.B1=S.B1 and R.B2=S.B2 and ... and R.Bk=S.Bk å¾ˆéº»çƒ¦ï¼Œä¸€èˆ¬ç”¨ç¬›å¡å°”ç§¯+é€‰æ‹©+æŠ•å½± 123SELECT attr_1, attr_2, ..., attr_x FROM R, SWHERE F å¯ä»¥å°†ä¸¤ä¸ªå…³ç³»æŒ‰ä»»æ„æŒ‡å®šçš„æ–¹å¼Fè¿›è¡Œåˆå¹¶ æ˜ åƒè¯­å¥çš„ç»“æ„ ç±»å‹ å½¢å¼ ç›®æ ‡å­å¥ `SELECT * \\ colname { , colname â€¦ }` èŒƒå›´å­å¥ FROM tablename &#123; , tablename ... &#125; æ¡ä»¶å­å¥ [WHERE search_condition ] åˆ†ç»„å­å¥ [ GROUP BY colname &#123; , colname ... &#125; åˆ†ç»„æŸ¥è¯¢å­å¥ [ HAVING group_condition ] ] æ’åºè¾“å‡ºå­å¥ `[ ORDER BY colname [ ASC DESC ] { , colname [ ASC DESC ] â€¦ } ];` ä¸¤ä¸ªå¿…é¡»æœ‰çš„å­å¥ï¼šSELECT,FROM HAVINGå­å¥å‰å¿…é¡»æœ‰GROUP BY ç›®æ ‡å­å¥1SELECT * \\| colname &#123; , colname ... &#125; å®šä¹‰ç»“æœå…³ç³»æ‰€éœ€è¦çš„å±æ€§ ç»™å‡ºç»“æœå±æ€§çš„å±æ€§å è¡¨æ˜.å±æ€§å å¯ä»¥ç»™ç»“æœå±æ€§é‡å‘½åï¼š &lt;column_expr&gt; AS &lt;colname&gt; *è¡¨ç¤ºè¡¨ä¸­æ‰€æœ‰å±æ€§ distinctæ¶ˆé™¤ç»“æœå…³ç³»ä¸­çš„é‡å¤å…ƒç»„ èŒƒå›´å­å¥1FROM tablename &#123; , tablename ... &#125; æŒ‡å®šæ“ä½œå¯¹è±¡ å¯ä»¥åœ¨FROMå­å¥ä¸­å¯¹ä¸€ä¸ªå…³ç³»é‡å‘½åï¼š&lt;tablename&gt; &lt;aliasname&gt; å¤šä¸ªè¡¨é€šè¿‡ç¬›å¡å°”ä¹˜ç§¯åˆå¹¶ SELECTå­å¥å’ŒFROMå­å¥æ˜¯ä¸€æ¡æ˜ åƒè¯­å¥ä¸­å¿…ä¸å¯å°‘çš„ä¸¤ä¸ªç»„æˆéƒ¨åˆ† æ¡ä»¶å­å¥1WHERE search_condition åŒ…æ‹¬å•ä¸ªå…³ç³»ä¸­çš„å…ƒç»„é€‰æ‹©æ¡ä»¶ å’Œå…³ç³»ä¸å…³ç³»ä¹‹é—´çš„è”æ¥æ¡ä»¶ å¸¸ç”¨è°“è¯ DISTINCT BETWEEN...AND... LIKE column [NOT] LIKE val1 [ESCAPE val2] æ¨¡æ¿val1:ä»»æ„å­—ç¬¦_ï¼Œ ä»»æ„å­—ç¬¦ä¸²%(åŒ…æ‹¬ç©ºå­—ç¬¦ä¸²)ï¼Œå…¶ä»–å­—ç¬¦åŒ¹é…è‡ªèº« è½¬ä¹‰æŒ‡ç¤ºå­—ç¬¦val2ï¼šç´§è·Ÿåœ¨val2å­—ç¬¦åçš„_å’Œ%ä¸å†æ˜¯é€šé…ç¬¦è€Œæ˜¯å…¶è‡ªèº« æŸ¥è¯¢è¯¾ç¨‹åä¸­å«æœ‰ç™¾åˆ†å·çš„è¯¾ç¨‹çš„è¯¾ç¨‹å·123SELECT cnoFROM CWHERE cn LIKE &#x27;%A%%&#x27; ESCAPE &#x27;A&#x27; IS NULL/IS NOT NULL æŸ¥è¯¢æ— è¯¾ç¨‹åˆ†æ•°çš„é€‰è¯¾è®°å½•ä¸­çš„å­¦å·ä¸è¯¾ç¨‹å·123SELECT sno, cnoFROM SCWHERE g is NULL; å¸ƒå°”è¿ç®—AND,OR,NOT è‡ªè¿æ¥è¿æ¥ä¸¤å¼ ç›¸åŒçš„è¡¨æ—¶ï¼Œå¯ä»¥åœ¨FROMè¯­å¥ä¸­å¯¹å…¶ä¸­ä¸€å¼ æ¢å 12tablename AS newnametablename newname (ASå¯ä»¥çœç•¥) e.g.æŸ¥è¯¢è‡³å°‘ä¿®è¯»å­¦å·ä¸ºS5çš„å­¦ç”Ÿæ‰€ä¿®è¯»çš„ä¸€é—¨è¯¾ç¨‹çš„å­¦ç”Ÿçš„å­¦å·123SELECT SC1.snoFROM SC SC1, SC SC2 //é‡å‘½åWHERE SC1.cno=SC2.cno AND SC2.cno=&#x27;S5&#x27;; ç»“æœæ’åº123ORDER BY colname [ASC | DESC] &#123;, ...&#125;-- colname: éœ€è¦æ’åºçš„åˆ—å-- ASC/DESC å‡åº/é™åºï¼Œ é»˜è®¤å‡åº åµŒå¥—æŸ¥è¯¢ åœ¨ä¸€æ¡æ˜ åƒè¯­å¥çš„æŸä¸ªå­å¥ä¸­åµŒå…¥å¦ä¸€æ¡æ˜ åƒè¯­å¥(å­æŸ¥è¯¢) é€šå¸¸åœ¨WHEREä¸­ å­æŸ¥è¯¢çš„ç»“æœæ˜¯ä¸€ä¸ªé›†åˆâ€”â€”é›†åˆè°“è¯ INï¼šå…ƒç´ å’Œé›†åˆä¹‹é—´çš„å…³ç³» é™å®šæ¯”è¾ƒè°“è¯SOME|ANY|ALLï¼šæ ‡é‡ä¸é›†åˆå…ƒç´ ä¹‹é—´çš„é‡åŒ–æ¯”è¾ƒ12345678// æŸ¥è¯¢æœ‰å­¦ç”Ÿæˆç»©å¤§äºC1è¯¾ç¨‹å·ä¸­æ‰€æœ‰å­¦ç”Ÿæˆç»©çš„å­¦ç”Ÿå­¦å·SELECT snoFROM SCWHERE g &gt; ALL( SELECT g FROM SC WHERE cno=&#x27;C1&#x27;); EXISTSï¼šæ˜¯å¦ä¸ºç©ºé›†çš„åˆ¤æ–­è°“è¯ é™¤æ³•çš„è¡¨ç¤ºe.g.æŸ¥è¯¢è‡³å°‘ä¿®è¯»å­¦å·ä¸ºS4çš„å­¦ç”Ÿæ‰€ä¿®è¯»çš„æ‰€æœ‰è¯¾ç¨‹çš„å­¦ç”Ÿçš„å­¦å·å…³ç³»ä»£æ•°è¡¨ç¤ºï¼š$\\pi{sno,cno}(SC)\\div\\pi{cno}(\\sigma_{sno=â€™S4â€™}(SC))$123456789101112131415161718192021222324SELECT S.snoFROM SWHERE NOT EXISTS ( SELECT * FROM SC x WHERE x.sno = &#x27;S4&#x27; and NOT EXISTS ( SELECT * FROM SC y WHERE y.cno = x.cno and y.sno = S.sno ));//å¦ä¸€ç§è¡¨ç¤ºSELECT S.snoFROM SWHERE NOT EXISTS ( SELECT * FROM SC x WHERE x.sno = &#x27;S4&#x27; and x.cno NOT IN ( SELECT y.cno //æ³¨æ„è¿™é‡Œå°±è¦ç”¨åˆ«å FROM SC y WHERE y.sno = S.sno )) å­æŸ¥è¯¢çš„åˆå¹¶ å¹¶ï¼šUNION[ALL] äº¤: INTERSECT[ALL] å·®ï¼šEXCEPT[ALL] SQLç»Ÿè®¡åŠŸèƒ½å¯ä»¥åœ¨åŒä¸€æ¡SQLè¯­å¥ä¸­åŒæ—¶æ‰§è¡Œå¤šä¸ªç»Ÿè®¡è®¡ç®—ä¸èƒ½åœ¨WHEREå­å¥ä¸­ä½¿ç”¨ç»Ÿè®¡å‡½æ•°ï¼Œéœ€è¦åµŒå¥—å­æŸ¥è¯¢ count count(*)è¿”å›é›†åˆä¸­å…ƒç»„çš„ä¸ªæ•° count(colname): è¿”å›åœ¨colnameå±æ€§ä¸Šå–å€¼éç©ºçš„å…ƒç»„ä¸ªæ•° count(distinct, colname): è¿”å›colnameå–å€¼éç©ºä¸”äº’ä¸ç›¸åŒçš„å…ƒç»„ä¸ªæ•° ç©ºå€¼å¤„ç† ç»Ÿè®¡å‡½æ•°å°†å¿½ç•¥ç©ºå€¼å…ƒç´  åœ¨ç©ºé›†ä¸Šè¿›è¡Œç»Ÿè®¡è®¡ç®—æ—¶ï¼ŒCOUNT()è¿”å›0ï¼ŒSUM,AVG,MIN,MAXè¿”å›NULL æ’å…¥è®°å½•æ˜¯å¦‚æœæ²¡æœ‰ç»™å‡ºæŸä¸ªå±æ€§çš„å–å€¼ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ä¸ºè¯¥å±æ€§èµ‹ä¸Šç©ºå€¼ 123456789-- ç»™å‡ºå­¦å·ä¸ºS1çš„å­¦ç”Ÿä¿®è¯»çš„è¯¾ç¨‹é—¨æ•°SELECT COUNT(*)FROM SCWHERE sno = &#x27;S1&#x27;;-- ç»™å‡ºå­¦å·ä¸ºS7çš„å­¦ç”Ÿæ‰€ä¿®è¯»è¯¾ç¨‹çš„å¹³å‡æˆç»©SELECT AVG(G)FROM SCWHERE sno = &#x27;S7&#x27; è®¡ç®—åŠŸèƒ½1234//ç»™å‡ºè®¡ç®—æœºç³»ä¸‹ä¸€å¹´åº¦å­¦ç”Ÿçš„å¹´é¾„SELECT sn, sa + 1FROM SWHERE sd = &#x27;CS&#x27;; åˆ†ç±»åŠŸèƒ½åˆ†ç»„æŸ¥è¯¢å­å¥GROUP BY colname &#123;, colname ...&#125; æ ¹æ®å±æ€§colnameçš„å–å€¼ä¸åŒï¼Œå°†æ»¡è¶³WHEREæ¡ä»¶çš„å…ƒç»„åˆ’åˆ†ä¸ºä¸åŒçš„é›†åˆ å¯ä»¥åœ¨SELECTå­å¥ä¸­é’ˆå¯¹ä¸åŒçš„å…ƒç»„é›†åˆåˆ†åˆ«è¿›è¡Œç»Ÿè®¡è®¡ç®—ï¼Œå®ç°åˆ†ç±»ç»Ÿè®¡æŸ¥è¯¢ DBMSä¼šè‡ªåŠ¨å¯¹åˆ†ç»„è¿›è¡Œæ’åº åˆ†ç»„ç»Ÿè®¡æŸ¥è¯¢ä¸­ï¼Œç›®æ ‡å±æ€§å¿…é¡»åŒ…å«æ‰€æœ‰çš„åˆ†ç»„å±æ€§ 1234//ç»™å‡ºæ¯ä¸ªå­¦ç”Ÿçš„å¹³å‡æˆç»©SELECT sno, AVG(G)FROM SCGROUP BY sno åˆ†ç»„é€‰æ‹©å­å¥HAVING group_condition æ ¹æ®GROUP BYå­å¥çš„åˆ†ç»„ç»“æœï¼Œå®šä¹‰åˆ†ç»„é€‰æ‹©æ¡ä»¶ åªæœ‰æ»¡è¶³group_conditionçš„å…ƒç»„æ‰ä¼šè¢«ä¿ç•™ 12345//ç»™å‡ºé€‰ä¿®äººæ•°è¶…è¿‡5ä¸ªçš„è¯¾ç¨‹çš„è¯¾ç¨‹å·åŠå…¶é€‰ä¿®äººæ•°SELECT cno,COUNT(sno)FROM SCGROUP BY cnoHAVING COUNT(*) &gt; 5; SELECTè¯­å¥ä½¿ç”¨çš„ä¸€èˆ¬è§„åˆ™ï¼ˆä¸åœ¨è€ƒçº²ä¸­ï¼‰å¤„ç†é¡ºåº åˆå¹¶FROMå­å¥ä¸­çš„è¡¨(ç¬›å¡å°”ä¹˜ç§¯) åˆ©ç”¨WHEREå­å¥ä¸­çš„æ¡ä»¶è¿›è¡Œå…ƒç»„é€‰æ‹© æ ¹æ®GROUP BYå­å¥å¯¹ä¿ç•™ä¸‹æ¥çš„å…ƒç´ è¿›è¡Œåˆ†ç»„ åˆ©ç”¨HAVINGå­å¥ä¸­çš„æ¡ä»¶å¯¹åˆ†ç»„åçš„å…ƒç»„é›†åˆè¿›è¡Œé€‰æ‹© æ ¹æ®SELECTå­å¥è¿›è¡Œç»Ÿè®¡è®¡ç®—ï¼Œç”Ÿæˆç»“æœå…³ç³» æ ¹æ®ORDER BYå­å¥å¯¹æŸ¥è¯¢ç»“æœè¿›è¡Œæ’åº SQLæ›´æ–°åŠŸèƒ½å…ƒç»„åˆ é™¤12DELETE FROM tablename [WHERE search_condition] åˆ é™¤ç¬¦åˆæ¡ä»¶çš„å…ƒç»„ ä¸€æ¡è¯­å¥åªèƒ½åˆ é™¤ä¸€å¼ è¡¨ä¸­çš„å…ƒç»„ æ²¡æœ‰WHEREå­å¥å°±åˆ é™¤è¡¨ä¸­æ‰€æœ‰å…ƒç»„ WHEREä¸­ä¹Ÿå¯ä»¥åµŒå…¥å­æŸ¥è¯¢ å…ƒç»„æ’å…¥12345INSERT INTO tablename[(colname&#123;, colname ...&#125;)] -- å±æ€§ååˆ—è¡¨ï¼Œé»˜è®¤æ˜¯åŸºè¡¨å®šä¹‰ä¸­çš„é¡ºåºVALUES (expr | NULL &#123;, expr | NULL ...&#125;) | subquery;-- è¢«æ’å…¥çš„å¸¸é‡å…ƒç»„å€¼ï¼Œå±æ€§å€¼çš„æ•°é‡ä¸æ’åˆ—é¡ºåºå¿…é¡»ä¸INTOå­å¥ä¸­çš„ä¸€è‡´-- ä¹Ÿå¯ä»¥å°†å­æŸ¥è¯¢çš„ç»“æœæ’å…¥è¡¨ä¸­ï¼Œæ³¨æ„å±æ€§çš„æ•°é‡å’Œæ’åˆ—é¡ºåº å¸¸é‡å…ƒç»„æ’å…¥e.g.12INSERT INTO SCVALUES (&#x27;S10&#x27;, &#x27;C25&#x27;, &#x27;B&#x27;)å¸¦å­æŸ¥è¯¢çš„å…ƒç»„æ’å…¥e.g.12345-- æ’å…¥è®¡ç®—æœºç³»å­¦å·å­¦ç”Ÿé€‰ä¿®æ•°æ®åº“çš„é€‰è¯¾è®°å½•INSERT INTO SC(sno, cno)SELECT sno, cnoFROM S, CWHERE sd = &#x27;CS&#x27; and cn = &#x27;Database&#x27;; å…ƒç»„ä¿®æ”¹123UPDATE tablenameSET colname = expr | NULL | subquery, ...[WHERE search_condition]; ä¿®æ”¹æŒ‡å®šåŸºè¡¨ä¸­æ»¡è¶³WHEREæ¡ä»¶çš„å…ƒç»„e.g12345678-- å°†è®¡ç®—æœºç³»å­¦ç”Ÿçš„æˆç»©å…¨ç½®é›¶UPDATE SCSET g = 0WHERE sno IN ( SELECT sno FROM S WHERE sd = &#x27;CS&#x27;); è§†å›¾ 12CREATE VIEW viewname [(colname&#123;, colname, ...&#125; )]AS &lt;æ˜ åƒè¯­å¥&gt; [WITH CHECK OPTION] è§†å›¾æ¦‚å¿µï¼šç”±è‹¥å¹²å¼ è¡¨ç»æ˜ åƒè¯­å¥æ„ç­‘è€Œæˆçš„è¡¨ï¼Œåˆç§°â€œå¯¼å‡ºè¡¨â€ è§†å›¾ä¸åŸºè¡¨çš„åŒºåˆ«ï¼š è§†å›¾çš„äºŒç»´è¡¨æœ¬èº«ï¼ˆç»“æ„ä¸æ•°æ®ï¼‰å¹¶ä¸å®é™…å­˜åœ¨ä¸æ•°æ®åº“å†…ï¼Œè€Œä»…ä»…ä¿ç•™äº†å…¶æ„é€ ä¿¡æ¯ï¼ˆæœ‰å…³è§†å›¾çš„å®šä¹‰ä¿¡æ¯ï¼‰ï¼Œå› æ­¤è§†å›¾åˆè¢«ç§°ä¸ºâ€œè™šè¡¨â€ å½“ç”¨æˆ·æ‰§è¡Œè§†å›¾ä¸Šçš„è®¿é—®æ“ä½œæ—¶ï¼ŒDBMSå°†æ ¹æ®è§†å›¾çš„å®šä¹‰å‘½ä»¤æŠŠè§†å›¾è®¿é—®æ“ä½œè½¬æ¢æˆç›¸åº”çš„åŸºè¡¨è®¿é—®æ“ä½œ WITH OPTION CHECKç”¨äºçº¦æŸè§†å›¾ä¸Šçš„ä¿®æ”¹æ“ä½œï¼Œä½¿ä¿®æ”¹åçš„æ–°å…ƒç»„ä»èƒ½å¤Ÿé€šè¿‡è§†å›¾ä¸Šçš„æŸ¥è¯¢æ“ä½œæŸ¥å‡ºæ¥ e.g.123456-- å®šä¹‰å­¦ç”Ÿçš„å­¦å·ã€å§“ååŠå…¶å¹³å‡æˆç»©çš„è§†å›¾CREATE VIEW S_G(sno, sn, Avg_G)AS SELECT sno, sn, AVG(G)FROM S, SCWHERE S.sno = SC.snoGROUP BY sno, sn è§†å›¾çš„åµŒå¥—å®šä¹‰å¯ä»¥ç”¨å·²æœ‰çš„è§†å›¾å®šä¹‰æ–°çš„è§†å›¾12345-- S_C_Gæ˜¯ä¸€ä¸ªå·²ç»å­˜åœ¨çš„è§†å›¾CREATE VIEW C_G(cn, Cavg)AS SELECT cn, AVG(G)FROM S_C_GGROUP BY cn è§†å›¾åˆ é™¤1DROP VIEW viewname å°†è¿å¸¦åˆ é™¤å®šä¹‰åœ¨è¯¥è§†å›¾ä¸Šçš„å…¶ä»–è§†å›¾ å¯æ›´æ–°è§†å›¾çš„åˆ¤æ–­æ ‡å‡† è§†å›¾çš„æ¯ä¸€è¡Œå¿…é¡»å¯¹åº”åŸºè¡¨çš„æƒŸä¸€ä¸€è¡Œ è§†å›¾çš„æ¯ä¸€åˆ—å¿…é¡»å¯¹åº”åŸºè¡¨çš„æƒŸä¸€ä¸€åˆ— è§†å›¾çš„ä½œç”¨ æé«˜äº†æ•°æ®ç‹¬ç«‹æ€§ ç®€åŒ–ç”¨æˆ·è§‚ç‚¹ æä¾›è‡ªåŠ¨çš„å®‰å…¨ä¿æŠ¤åŠŸèƒ½ã€‚ ç»ƒä¹ ä¸­çš„ä¸€äº›éš¾é¢˜12345678910111213141516171819202122232425262728293031323334353637383940414243-- 3.2 æ£€ç´¢ä¸ºå±…ä½åœ¨Duluthå’ŒKyotoçš„æ‰€æœ‰å®¢æˆ·è®¢è´­è¿‡åŒä¸€ç§å•†å“çš„ç»é”€å•†çš„ç¼–å·-- æ³¨æ„è°ƒç”¨å­æŸ¥è¯¢æ—¶è¦åŠ ä¸Šå¤–å±‚æŸ¥è¯¢çš„çº¦æŸæ¡ä»¶SELECT a.aidFROM Agents aWHERE EXISTS ( SELECT * FROM Orders o WHERE o.aid = a.aid and o.pid IN ( SELECT p.pid -- æ‰€æœ‰è¿™ä¸¤ä¸ªåŸå¸‚çš„å±…æ°‘éƒ½ä¹°è¿‡çš„å•†å“ FROM Products p WHERE NOT EXISTS ( SELECT * FROM Customers c WHERE (c.city = &#x27;Duluth&#x27; or c.city = &#x27;Kyoto&#x27;) and NOT EXISTS ( SELECT * FROM Orders x WHERE x.pid = p.pid and x.cid = c.cid and x.aid = a.aid ) ) ) );-- è¿”å›æ¯ä¸ªå®¢æˆ·çš„ç¼–å·åŠæœ€åä¸¤ä»½è®¢å•çš„è®¢è´­æ—¥æœŸ-- è‡³å°‘æœ‰2æ¡è®¢å•çš„å®¢æˆ·SELECT o1.cid, o1.orddate AS last_but_one_ord, o2.ordate AS last_ordFROM Orders o1, Orders o2WHERE o1.cid = o2.cid and o1.ordno &lt; o2.ordno NOT EXISTS ( SELECT * FROM Orders o WHERE o.cid = o1.cid and o.ordno &lt;&gt; o2.ordno and o.ordno &gt; o1.ordno);-- åªæœ‰ä¸€æ¡è®¢å•çš„å®¢æˆ·SELECT o1.cid, o1.orddate AS last_but_one_ord, NULLFROM orders o1WHERE NOT EXISTS ( SELECT * FROM orders o WHERE o.cid = o1.cid and o.ordno &lt;&gt; o1.ordno);-- æ²¡æœ‰è®¢å•çš„å®¢æˆ·ï¼ˆè‡ªå·±æƒ³å§ï¼‰-- ç»“æœæ˜¯æŠŠä»¥ä¸Šä¸‰ä¸ªæŸ¥è¯¢UNIONèµ·æ¥ å…¨ç§°é‡è¯å¯ä»¥ç”¨ALLã€NOT EXISTSã€NOT INæˆ–MAX()/MIN()æ¥å®ç° CH4 æ•°æ®åº“çš„å®‰å…¨æ€§ä¸å®Œæ•´æ€§ä¿æŠ¤4.1 æ•°æ®åº“çš„å®‰å…¨æ€§ä¿æŠ¤æ•°æ®åº“å®‰å…¨çš„åŸºæœ¬æ¦‚å¿µä¸å†…å®¹ ä¸»ä½“ï¼šæ•°æ®åº“ä¸­æ•°æ®çš„è®¿é—®è€… å®¢ä½“ï¼šæ•°æ®åº“ä¸­çš„æ•°æ®åŠå…¶è½½ä½“ï¼Œå¦‚è¡¨ã€è§†å›¾ã€å¿«ç…§ã€å­˜å‚¨è¿‡ç¨‹ã€æ•°æ®æ–‡ä»¶ç­‰ èº«ä»½æ ‡è¯†ä¸é‰´åˆ«ï¼šæ¯ä¸ªä¸»ä½“å¿…é¡»æœ‰ä¸€ä¸ªæ ‡è¯†è‡ªå·±èº«ä»½çš„æ ‡è¯†ç¬¦ï¼ˆä»¥åŒºåˆ«ä¸åŒçš„ä¸»ä½“ï¼‰ä»¥åŠä¸€ä¸ªç”¨ä»¥éªŒè¯å…¶èº«ä»½çš„è®¿é—®å£ä»¤ã€‚å½“ä¸»ä½“è®¿é—®å®¢ä½“æ—¶ï¼ŒTCB å°†å¯¹ä¸»ä½“æ‰€æäº¤çš„èº«ä»½æ ‡è¯†ç¬¦å’Œå£ä»¤è¿›è¡Œé‰´åˆ«ï¼Œä»¥é˜»æ­¢éæ³•è®¿é—®ã€‚ è‡ªä¸»è®¿é—®æ§åˆ¶ï¼ˆDACï¼‰ï¼šæ˜¯ä¸€ç§åŸºäºå­˜å–çŸ©é˜µçš„å®‰å…¨æ§åˆ¶æ¨¡å‹ã€‚ç”¨æˆ·å¯¹ä¿¡æ¯çš„å­˜å–æ§åˆ¶æ˜¯åŸºäºâ€œç”¨æˆ·çš„é‰´åˆ«â€å’Œâ€œå­˜å–è®¿é—®è§„åˆ™çš„ç¡®å®šâ€ æ¯ä¸ªç”¨æˆ·éƒ½è¦ç»™ä»¥å¯¹ç³»ç»Ÿä¸­æ¯ä¸ªå­˜å–å¯¹è±¡çš„å­˜å–æƒé™ å½“ä¸€ä¸ªä¸»ä½“è¦æ±‚è®¿é—®ä¸€ä¸ªå®¢ä½“æ—¶ï¼Œç³»ç»Ÿå°†æ£€æŸ¥è¯¥ä¸»ä½“åœ¨ç›¸åº”å®¢ä½“ä¸Šæ˜¯å¦æ‹¥æœ‰æ‰€éœ€è¦çš„å­˜å‚¨æƒé™ å­˜å–æƒé™ï¼šä¸€ä¸ªå®¢ä½“çš„æ‰€æœ‰è€…è‡ªåŠ¨æ‹¥æœ‰è¯¥å®¢ä½“ä¸Šçš„æ‰€æœ‰æ“ä½œæƒé™ï¼›æ‹¥æœ‰æƒé™çš„ç”¨æˆ·å¯ä»¥è‡ªä¸»åœ°å°†ä»–æ‰€æ‹¥æœ‰çš„æƒé™ä¼ æˆç»™å…¶å®ƒä»»æ„åœ¨ç³»ç»Ÿç™»å½•çš„ç”¨æˆ·ã€‚ç”¨æˆ·åªèƒ½é€šè¿‡è¿™ä¸¤ç§æ–¹å¼æ¥è·å¾—åœ¨ä¸€ä¸ªå®¢ä½“ä¸Šçš„å­˜å–æƒé™ã€‚ è®¿é—®æ§åˆ¶ï¼šåœ¨ç”¨æˆ·ç™»å½•æ—¶è¿›è¡Œç”¨æˆ·çš„èº«ä»½é‰´åˆ«ï¼›åœ¨ç”¨æˆ·è®¿é—®æ•°æ®åº“æ—¶æ‰§è¡Œè®¿é—®æ£€æŸ¥æ§åˆ¶ å®¡è®¡ï¼šè·Ÿè¸ªè®°å½•ç”¨æˆ·å¯¹æ•°æ®çš„è®¿é—®æ“ä½œï¼šè®¿é—®æ—¶é—´/è®¿é—®å†…å®¹/ç”¨æˆ·å/ç»ˆç«¯å/æ“ä½œç±»å‹/æ“ä½œç»“æœï¼Œå¹¶å¯æ ¹æ®å®¡è®¡ç»“æœç»™å‡ºæŠ¥è­¦ä¿¡æ¯ã€‚ æ‰§è¡Œå®¡è®¡æ“ä½œéœ€è¦é¢å¤–çš„æ—¶é—´å’Œç©ºé—´å¼€é”€ï¼Œå› æ­¤åœ¨DBMSä¸­ï¼Œå®¡è®¡é€šå¸¸æ˜¯ä¸€ä¸ªå¯é€‰æ‹©çš„å®‰å…¨ä¿æŠ¤æ‰‹æ®µï¼Œä¸»è¦ç”¨äºå®‰å…¨æ€§è¦æ±‚è¾ƒé«˜çš„éƒ¨é—¨ã€‚ SQLå¯¹æ•°æ®åº“å®‰å…¨çš„æ”¯æŒ åœ¨SQLâ€™92ä¸­æä¾›çš„C1çº§æ•°æ®åº“å®‰å…¨çš„æ”¯æŒï¼šä¸»ä½“ã€å®¢ä½“åŠä¸»å®¢ä½“åˆ†ç¦»ï¼›èº«ä»½æ ‡è¯†ä¸é‰´åˆ«ï¼›æ•°æ®å®Œæ•´æ€§ï¼›è‡ªä¸»è®¿é—®æ§åˆ¶ä¸æˆæƒåŠŸèƒ½ï¼›å®¡è®¡ã€‚ SQLçš„è‡ªä¸»è®¿é—®æ§åˆ¶ä¸æˆæƒåŠŸèƒ½ï¼šSQLä¸­çš„è‡ªä¸»è®¿é—®æ§åˆ¶æ˜¯é€šè¿‡ï¼ˆç”¨æˆ·ã€æ“ä½œå¯¹è±¡ã€æ“ä½œæƒé™ï¼‰è¿™æ ·çš„ä¸‰å…ƒç»„æ¥å®šä¹‰ç”¨æˆ·å¯¹æ•°æ®çš„è®¿é—®æƒé™çš„ï¼Œå¹¶å¯é€šè¿‡æˆæƒï¼ˆGrantï¼‰å’Œå›æ”¶ï¼ˆRevokeï¼‰è¯­å¥æ¥æ”¹å˜ç”¨æˆ·çš„è®¿é—®æƒé™ã€‚ SQLçš„å­˜å–æƒé™ï¼ˆæ“ä½œæƒé™ï¼‰ï¼šSELECTæƒï¼ŒINSERTæƒï¼ŒDELETEæƒï¼ŒUPDATEæƒï¼ŒREFERENCYæƒï¼ŒEXECUTEæƒï¼ŒUSAGEæƒ SQLä¸­çš„æˆæƒå‘½ä»¤GRANT123GRANT &lt;æ“ä½œæƒé™åˆ—è¡¨&gt; ON &lt;æ“ä½œå¯¹è±¡&gt; TO &lt;ç”¨æˆ·ååˆ—è¡¨&gt; [WITH GRANT OPTION]--e.g.GRANT SELECT, UPDATE on S to XULIN with grant option SQLä¸­çš„æƒé™çš„å›æ”¶å‘½ä»¤REVOKE123REVOKE &lt;æ“ä½œæƒé™åˆ—è¡¨&gt; ON &lt;æ“ä½œå¯¹è±¡&gt; FROM &lt;ç”¨æˆ·ååˆ—è¡¨&gt; [RESTRICT | CASCADE]--e.g.REVOKE UPDATE on S from XULIN CASCADE CASCADEï¼šè¿é”å›æ”¶ RESTRICT:åœ¨ä¸å­˜åœ¨è¿é”å›æ”¶é—®é¢˜æ—¶æ‰èƒ½å›æ”¶æƒé™ï¼Œå¦åˆ™æ‹’ç»å›æ”¶ 4.2 æ•°æ®åº“çš„å®Œæ•´æ€§ä¿æŠ¤ æ•°æ®åº“å®Œæ•´æ€§ä¿æŠ¤ ç›®çš„ï¼šåŠæ—¶å‘ç°é”™è¯¯ï¼›èƒ½å¤Ÿé‡‡å–æªæ–½é˜²æ­¢é”™è¯¯çš„è¿›ä¸€æ­¥è”“å»¶ï¼›æœ€ç»ˆå°†æ•°æ®åº“å›å¤åˆ°æ­£ç¡®çŠ¶æ€ã€‚ å¸¸ç”¨å®ç°æªæ–½ï¼šå®Œæ•´æ€§çº¦æŸæ¡ä»¶çš„å®šä¹‰åŠå®¡æŸ¥ï¼›è§¦å‘å™¨ï¼›å¹¶å‘æ§åˆ¶æŠ€æœ¯ åŠŸèƒ½ï¼šä¸‰ä¸ªåŸºæœ¬åŠŸèƒ½ï¼šè®¾ç½®åŠŸèƒ½ã€æ£€æŸ¥åŠŸèƒ½ã€å¤„ç†åŠŸèƒ½ å®Œæ•´æ€§è§„åˆ™ å®ä½“å®Œæ•´æ€§è§„åˆ™ï¼šåœ¨ä¸€ä¸ªåŸºè¡¨çš„ä¸»å…³é”®å­—ï¼ˆä¸»é”®ï¼‰ä¸­ï¼Œå…¶å±æ€§çš„å–å€¼ä¸èƒ½ä¸ºç©ºå€¼ã€‚ å‚ç…§å®Œæ•´æ€§ï¼šå…³ç³»Rä¸­çš„æ¯ä¸ªå…ƒç»„åœ¨å¤–å…³é”®å­—Fä¸Šçš„å€¼æˆ–è€…æ˜¯ç©ºå€¼ï¼ˆNULLï¼‰ï¼Œæˆ–å¿…é¡»å¼•ç”¨åœ¨å…³ç³»Sä¸­å­˜åœ¨çš„å…ƒç»„ï¼Œå³ä¸èƒ½å¼•ç”¨ä¸å­˜åœ¨çš„å®ä½“ã€‚ å¼•ç”¨ï¼šè‹¥å…³ç³»Rä¸­æœ‰å±æ€§é›†Fä¸å¦ä¸€ä¸ªå…³ç³»Sçš„å…³é”®å­—$K_s$ç›¸å¯¹åº”ï¼ˆå…·æœ‰ç›¸åŒçš„è¯­ä¹‰å’Œå–å€¼èŒƒå›´ï¼‰ï¼Œåˆ™ç§°å…³ç³»Rå¼•ç”¨å…³ç³»Sä¸­çš„å…ƒç»„ã€‚ ç”¨æˆ·å®šä¹‰å®Œæ•´æ€§ï¼šç”±ç”¨æˆ·æ¥å®šä¹‰çš„æ•°æ®åº“å®Œæ•´æ€§è¦æ±‚ã€‚ å®Œæ•´çš„CREATE TABLEå‘½ä»¤ éœ€è¦å®šä¹‰çš„å†…å®¹ï¼šæ¨¡å¼åä¸è¡¨åã€‚å±æ€§çš„å®šä¹‰ï¼šå±æ€§åä¸æ•°æ®ç±»å‹ã€ç¼ºçœå€¼ã€æ•°æ®çº¦æŸã€‚è¡¨çº§ï¼ˆå…ƒç»„çº§ï¼‰çš„æ•°æ®çº¦æŸå®šä¹‰ã€‚ åŸºè¡¨çš„åˆ›å»º12345678910[CONSTRAINT constraint_name]&#123; UNIQUE(colname &#123;, colname, ...&#125;) | PRIMARY KEY (colname, &#123;, colname, ...&#125;) | CHECK (search_condition) | FOREIGN KEY (colname, &#123;, colname, ...&#125;) REFERENCES table_name[(colname &#123;, colname, ...&#125;)] [ON DELETE CASCADE | RESTRICT | SET NULL] [ON UPDATE CASCADE | RESTRICT | SET NULL]&#125;-- åŸºäºå¤šä¸ªå±æ€§çš„å–å€¼çº¦æŸ NOT NULL v.s. DEFAULT NULL Constraint nameï¼šå¯¹æŸä¸ªæ•°æ®çº¦æŸæ¡ä»¶è¿›è¡Œå‘½åï¼ˆå¯é€‰é¡¹ï¼‰ï¼Œä»¥åˆ©äºä»¥åä½¿ç”¨ALTER TABLEå‘½ä»¤æ¥ä¿®æ”¹è¡¨ä¸­æ•°æ®çº¦æŸå®šä¹‰ UNIQUE v.s. NOT NULLï¼šUNIQUEå±æ€§å¯ä»¥å–ç©ºå€¼ï¼Œå€™é€‰é”®ï¼šUNIQUE+NOT NULL PRIMARY KEY v.s. NOT NULLï¼šä¸»é”®å®šä¹‰è‡ªåŠ¨è•´å«ç€â€œéç©ºâ€çš„çº¦æŸè¦æ±‚ REFERENCESï¼šå¤–é”®v.s.ä¸»é”®ï¼›å¤–é”®ä¸Šçš„å–å€¼çº¦æŸåŠå…¶ä¸€è‡´æ€§çš„ä¿è¯æªæ–½ CHECKï¼šå…¶ä»–ä»»æ„çš„å±æ€§å–å€¼çº¦æŸ FOREIGN KEYï¼šå®šä¹‰ä¸»å¤–é”®çš„å¼•ç”¨å…³ç³»ã€‚å½“å¯¹å¼•ç”¨è¡¨ä¸­çš„å¤–é”®è¿›è¡Œèµ‹å€¼æ—¶ï¼Œéœ€è¦æ£€æŸ¥å¤–é”®å€¼çš„æ­£ç¡®æ€§ã€‚ ON DELETE/UPDATEï¼šå½“åœ¨è¢«å¼•ç”¨è¡¨ä¸­åˆ é™¤å…ƒç»„æˆ–ä¿®æ”¹ä¸»é”®å€¼æ—¶ï¼Œéœ€è¦ç»´æŠ¤å¼•ç”¨è¡¨ä¸­å¤–é”®å€¼çš„æ­£ç¡®æ€§ï¼Œå…·ä½“æ–¹å¼å¦‚ä¸‹ï¼š CASCADEï¼šåŒæ­¥åšè¿å¸¦æ›´æ–°/åˆ é™¤ RESTRICTï¼šå¦‚æœåœ¨å¼•ç”¨è¡¨ä¸­å­˜åœ¨ä¸è¢«åˆ é™¤æˆ–ä¿®æ”¹çš„ä¸»é”®ç›¸å…³çš„å…ƒç»„ï¼Œåˆ™æ‹’ç»æœ¬æ¬¡å¯¹è¢«å¼•ç”¨è¡¨çš„DELETE/UPDATEæ“ä½œ SET NULLï¼šå¦‚æœåœ¨å¼•ç”¨è¡¨ä¸­å­˜åœ¨ä¸è¢«åˆ é™¤æˆ–ä¿®æ”¹çš„ä¸»é”®ç›¸å…³çš„å…ƒç»„ï¼Œåˆ™è‡ªåŠ¨åœ°å°†ç›¸å…³å…ƒç»„ä¸Šçš„å¤–é”®å€¼è®¾ç½®ä¸ºç©º å®Œæ•´æ€§çº¦æŸçš„å®šä¹‰ï¼šä¸»å…³é”®å­—ï¼Œå¤–å…³é”®å­—ï¼ŒCHECKçº¦æŸï¼ŒUNIQUEï¼ŒNOT NULL, DEFAULT ä¸»é”®å®šä¹‰ï¼šPRIMARY KEY (&lt;column-list&gt;) å”¯ä¸€é”®å®šä¹‰ï¼šUNIQUE(&lt;column-list&gt;) å¤–é”®å®šä¹‰1234FOREIGN KEY (&lt;fk-col-list&gt;)REFERENCES &lt;table-name&gt; (&lt;pk-col-list&gt;)[ON DELETE [CASCADE | RESTRICT | SET NULL]][ON UPDATE [CASCADE | RESTRICT | SET NULL]] e.g.123456789101112CREATE TABLE EMP ( ... CONSTRAINT pk PRIMARY KEY(Empno) --ä¸»é”®å®šä¹‰ CONSTRAINT uni_name UNIQUE(PersonId) --å€™é€‰é”®çš„å®šä¹‰ --å¤–é”®Deptnoçš„å®šä¹‰ CONSTRAINT fk_depy FOREIGN KEY(Deptno) REFERENCES DEPT(Deptno) ON UPDATE CASCADE --DEPTè¡¨ä¸­Deptnoæ›´æ–°æ—¶åŒæ­¥æ›´æ–°EMPçš„Deptno ON DELETE RESTRICT --åˆ é™¤æŸä¸ªéƒ¨é—¨çš„å‘˜å·¥ï¼Œç¦æ­¢åœ¨éƒ¨é—¨è¡¨ä¸­åˆ é™¤è¯¥éƒ¨é—¨å…ƒç»„ CONSTRAINT chk_1 CHECK (...)); è§¦å‘å™¨åŠå…¶åˆ›å»ºå‘½ä»¤ å®šä¹‰ï¼šä¸€ä¸ªäº‹ä»¶çš„å‘ç”Ÿä¼šå¯¼è‡´å¦å¤–ä¸€äº›äº‹ä»¶çš„å‘ç”Ÿ åŠŸèƒ½ï¼šæŸä¸ªäº‹ä»¶çš„å‘ç”Ÿä¼šå¯¼è‡´å¦å¤–ä¸€äº›äº‹ä»¶çš„æ‰§è¡Œï¼Œä»¥æ¶ˆé™¤å‰ä¸€ä¸ªäº‹ä»¶å¯¹æ•°æ®å®Œæ•´æ€§æ‰€èµ·çš„å½±å“ã€‚ ç»„æˆï¼šè§¦å‘äº‹ä»¶ã€ç»“æœäº‹ä»¶ã€è§¦å‘è¿‡ç¨‹ å®šä¹‰å‘½ä»¤1234567891011121314151617CREATE TRIGGER trigger_name&#123;BEFORE | AFTER&#125; --è§¦å‘äº‹ä»¶ &#123; INSERT | DELETE | UPDATE [OF &lt;col-list&gt;] ON table_name &#125; --æ‰§è¡Œæ–¹å¼ [REFERENCING corr_name_def&#123;, ...&#125;] [FOR EACH ROW | FOR EACH STATEMENT] [WHEN (search_condition)] &#123;statement | BEGIN ATOMIC statement; &#123;statement; ...&#125;&#125;--ç»“æœäº‹ä»¶END--e.gCREATE TRIGGER update_sal BEFORE INSERT or UPDATE(sal, pos) ON Teach FOR EACH ROW WHEN (:new.Pos = &#x27;Prof.&#x27;) BEGIN IF :new.sal &lt; 2000 THEN :new.sal := 2000; END IFEND; CH5 äº‹åŠ¡å¤„ç†ã€å¹¶å‘æ§åˆ¶ä¸æ•…éšœæ¢å¤æŠ€æœ¯ 5.1 äº‹åŠ¡å¤„ç†ï¼ˆæ¦‚å¿µï¼‰ äº‹åŠ¡çš„å®šä¹‰ï¼šç”±æŸä¸ªç”¨æˆ·æ‰€æ‰§è¡Œçš„ä¸€ä¸ªä¸èƒ½è¢«æ‰“æ–­çš„å¯¹æ•°æ®åº“çš„æ“ä½œåºåˆ— åº”ç”¨ç¨‹åºè®¿é—®æ•°æ®åº“çš„åŸºæœ¬é€»è¾‘å·¥ä½œå•ä½ é€šå¸¸ç”±ä¸€ç»„å¯¹äºæ•°æ®åº“çš„è®¿é—®æ“ä½œç»„æˆï¼Œåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æŒ‰ç…§é¢„å®šçš„æ¬¡åºé¡ºåºæ‰§è¡Œ ä¸²è¡Œæ‰§è¡Œï¼›ä¸­é—´çŠ¶æ€å¯èƒ½ä¼šä¸ä¸€è‡´ï¼Œä½†ç»“æŸæ—¶ç³»ç»Ÿä¿è¯æ•°æ®ä¸€è‡´æ€§ ACIDæ€§è´¨ åŸå­æ€§ï¼ˆAtomicityï¼‰ï¼šæ‰€æœ‰æ“ä½œè¦ä¹ˆéƒ½ä¸æ‰§è¡Œè¦ä¹ˆéƒ½æ‰§è¡Œï¼› DBMSè‡ªåŠ¨ç»´æŠ¤ï¼šDBMSçš„äº‹åŠ¡ç®¡ç†å­ç³»ç»Ÿ + äº‹åŠ¡æ—¥å¿— ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ï¼šä¸€ä¸ªäº‹åŠ¡çš„æˆåŠŸ67æ‰§è¡Œæ€»æ˜¯å°†æ•°æ®åº“ä»ä¸€ä¸ªä¸€è‡´çš„çŠ¶æ€è½¬æ¢åˆ°å¦ä¸€ä¸ªä¸€è‡´çš„çŠ¶æ€ã€‚ çŠ¶æ€ï¼šæ•°æ®åº“ä¸­æ‰€æœ‰æ•°æ®å¯¹è±¡çš„å½“å‰å–å€¼æƒ…å†µ ä¸€è‡´çŠ¶æ€ï¼šæ•°æ®å¿…é¡»æ»¡è¶³1.åœ¨æ•°æ®åº“ä¸­æ˜¾å¼å®šä¹‰çš„å„ç§å®Œæ•´æ€§çº¦æŸ2.ç”¨æˆ·å¿ƒç›®ä¸­çš„éšå¼æ•°æ®çº¦æŸ ä¸€è‡´æ€§åŸåˆ™åŸºäºå‡è®¾ï¼šåœ¨ä¸€ä¸ªäº‹åŠ¡å¼€å§‹æ‰§è¡Œä¹‹å‰æ•°æ®åº“å¤„äºä¸€ä¸ªä¸€è‡´çš„çŠ¶æ€ï¼Œå¦‚æœæ²¡æœ‰å…¶å®ƒäº‹åŠ¡çš„å¹²æ‰°å’Œç³»ç»Ÿæ•…éšœï¼Œé‚£ä¹ˆå½“è¯¥äº‹åŠ¡æ‰§è¡Œç»“æŸæ—¶æ•°æ®åº“ä»ç„¶å¤„äºä¸€è‡´çš„çŠ¶æ€ã€‚ ä¸€è‡´æ€§ç”±ä¸¤æ–¹é¢å®Œæˆï¼šDBMSä¸­çš„â€œæ•°æ®å®Œæ•´æ€§ä¿æŠ¤â€å­ç³»ç»Ÿ + ç¼–å†™äº‹åŠ¡çš„åº”ç”¨ç¨‹åºå‘˜ éš”ç¦»æ€§ï¼ˆIsolationï¼‰ï¼šä¸€ä¸ªäº‹åŠ¡çš„æ‰§è¡Œä¸å¹¶å‘æ‰§è¡Œçš„å…¶å®ƒäº‹åŠ¡ä¹‹é—´æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œäº’ä¸å¹²æ‰°ã€‚ å¤šä¸ªäº‹åŠ¡å¹¶å‘æ‰§è¡Œçš„æœ€ç»ˆç»“æœï¼Œåº”è¯¥ä¸å®ƒä»¬çš„æŸç§ä¸²è¡Œæ‰§è¡Œçš„æœ€ç»ˆç»“æœç›¸ç­‰ï¼Œè¿™è¢«ç§°ä¸ºå¹¶å‘äº‹åŠ¡çš„å¯ä¸²è¡ŒåŒ–ã€‚ å®ç°ï¼šDBMSçš„å¹¶å‘æ§åˆ¶å­ç³»ç»Ÿï¼ˆåŒ…å«åœ¨äº‹åŠ¡ç®¡ç†å­ç³»ç»Ÿä¸­ï¼‰ æŒä¹…æ€§ï¼ˆDurabilityï¼‰ï¼šä¸€ä¸ªäº‹åŠ¡ä¸€æ—¦å®Œæˆå…¶å…¨éƒ¨æ“ä½œåï¼Œå®ƒå¯¹æ•°æ®åº“çš„æ‰€æœ‰æ›´æ–°åº”æ°¸ä¹…åœ°åæ˜ åœ¨æ•°æ®åº“ä¸­ï¼Œå³ä½¿ä»¥åç³»ç»Ÿå‘ç”Ÿæ•…éšœä¹Ÿåº”è¯¥èƒ½å¤Ÿé€šè¿‡æ•…éšœæ¢å¤æ¥ä¿ç•™è¿™ä¸ªäº‹åŠ¡çš„æ‰§è¡Œç»“æœ å®ç°ï¼šDBMSçš„æ¢å¤ç®¡ç†å­ç³»ç»Ÿ äº‹åŠ¡æ´»åŠ¨åŠå…¶çŠ¶æ€è½¬æ¢å›¾ ä¸¤ç»„ç±»å‹çš„è¯»å†™æ“ä½œï¼šäº‹åŠ¡ä¸Cacheä¹‹é—´ï¼ŒCacheä¸Disk Filesä¹‹é—´ æ´»åŠ¨çŠ¶æ€ äº‹åŠ¡åœ¨å¼€å§‹æ‰§è¡Œåç«‹å³è¿›å…¥â€œæ´»åŠ¨çŠ¶æ€â€ï¼Œäº‹åŠ¡å°†æ‰§è¡Œå¯¹æ•°æ®åº“çš„è®¿é—®æ“ä½œ åœ¨DBMSçš„äº‹åŠ¡ç®¡ç†å­ç³»ç»Ÿçœ‹æ¥ï¼Œç”¨æˆ·äº‹åŠ¡å¯¹æ•°æ®åº“çš„è®¿é—®æ“ä½œå°±æ˜¯å¯¹æ•°æ®åº“ä¸­æ•°æ®çš„è¯»å†™æ“ä½œ â€œé¢„æäº¤â€çŠ¶æ€ å½“äº‹åŠ¡çš„æœ€åä¸€æ¡è®¿é—®è¯­å¥æ‰§è¡Œç»“æŸä¹‹åï¼Œäº‹åŠ¡è¿›å…¥é¢„æäº¤çŠ¶æ€ã€‚æ­¤æ—¶æ•°æ®éƒ½åœ¨Cacheé‡Œã€‚ é¢„æäº¤é˜¶æ®µå¿…é¡»ç¡®ä¿å°†å½“å‰äº‹åŠ¡çš„æ‰€æœ‰ä¿®æ”¹æ“ä½œçš„æ‰§è¡Œç»“æœè¢«çœŸæ­£å†™å…¥åˆ°æ•°æ®åº“çš„ç£ç›˜ä¸­å»ã€‚ åœ¨æ‰€æœ‰å†™ç£ç›˜æ“ä½œæ‰§è¡Œç»“æŸåï¼Œäº‹åŠ¡å°±è¿›å…¥æäº¤çŠ¶æ€ã€‚ å®Œæˆæäº¤ä»»åŠ¡çš„è¿‡ç¨‹ä¸­ä»ç„¶ä¼šå‘ç”Ÿç³»ç»Ÿæ•…éšœï¼Œå¯¼è‡´å½“å‰äº‹åŠ¡æ‰§è¡Œå¤±è´¥ã€‚é¢„æäº¤å¤±è´¥åå½“å‰äº‹åŠ¡ä¹Ÿå°†è¢«æ”¾å¼ƒï¼ˆabortï¼‰ï¼Œè¿›å…¥å¤±è´¥çŠ¶æ€ â€œå¤±è´¥â€çŠ¶æ€ ä»æ´»åŠ¨çŠ¶æ€è½¬å˜ä¸ºå¤±è´¥çš„åŸå› ï¼šç”¨æˆ·æˆ–åº”ç”¨ç¨‹åºä¸»åŠ¨æ”¾å¼ƒï¼ˆabortï¼‰å½“å‰äº‹åŠ¡ï¼›å› å¹¶å‘æ§åˆ¶è€Œè¢«æ”¾å¼ƒçš„äº‹åŠ¡ï¼›å‘ç”Ÿç³»ç»Ÿæ•…éšœ ä»é¢„æäº¤çŠ¶æ€è½¬å˜ä¸ºå¤±è´¥çš„åŸå› ï¼šå‘ç”Ÿç³»ç»Ÿæ•…éšœ â€œå¼‚å¸¸ç»ˆæ­¢â€çŠ¶æ€ å¤±è´¥çŠ¶æ€ä¸‹äº‹åŠ¡å¾ˆå¯èƒ½ä¿®æ”¹äº†ç£ç›˜çš„ä¸€éƒ¨åˆ†æ•°æ®ï¼Œä¸ºäº†ä¿è¯åŸå­æ€§ï¼Œéœ€è¦æ’¤é”€è¿™äº›ä¿®æ”¹ã€‚æ’¤é”€å®Œæˆåï¼Œäº‹åŠ¡è¢«æ‰“ä¸Šabortedæ ‡å¿—ï¼Œè½¬è€Œè¿›å…¥å¼‚å¸¸ç»ˆæ­¢â€çŠ¶æ€ å›é€€ï¼ˆrollbackï¼‰ï¼šå¯¹äº‹åŠ¡çš„æ’¤é”€æ“ä½œï¼Œä¹Ÿç§°ä¸ºäº‹åŠ¡çš„â€œå›é€€â€æˆ–â€œå›æ»šâ€ï¼›ç”±DBMSçš„æ¢å¤å­ç³»ç»Ÿå®ç° è¿›å…¥å¼‚å¸¸ç»ˆæ­¢åä¸¤ç§é€‰æ‹©ï¼šä½œä¸ºä¸€ä¸ªæ–°çš„äº‹åŠ¡é‡å¯ï¼›å–æ¶ˆäº‹åŠ¡ â€œæäº¤â€çŠ¶æ€ é¢„æäº¤åæ£€æŸ¥é€šè¿‡ï¼Œç³»ç»Ÿæ‰§è¡Œcommitæ“ä½œï¼ŒæŠŠæ•°æ®ä¿®æ”¹å†™åˆ°ç£ç›˜ä¸Šï¼Œå¹¶é€šçŸ¥ç³»ç»Ÿäº‹åŠ¡æˆåŠŸç»“æŸ ä¸ºäº‹åŠ¡æ‰“ä¸Šä¸€ä¸ªæäº¤æ ‡å¿—ï¼ˆcommitedï¼‰ï¼Œäº‹åŠ¡å°±è¿›å…¥æäº¤çŠ¶æ€ â€œå¼‚å¸¸ç»ˆæ­¢â€å’Œâ€œæäº¤â€éƒ½æ„å‘³ç€ä¸€ä¸ªäº‹åŠ¡çš„æ‰§è¡Œç»“æŸ äº‹åŠ¡å¼€å§‹è¿è¡Œï¼šæ´»è·ƒçŠ¶æ€(active transaction);æ‰§è¡Œç»“æŸï¼šä¸æ´»è·ƒçŠ¶æ€(inactive transaction) å¹¶å‘æ§åˆ¶åªé’ˆå¯¹æ´»è·ƒçŠ¶æ€çš„äº‹åŠ¡ äº‹åŠ¡æ§åˆ¶å³ç›¸å…³çš„å‚æ•°è®¾ç½®è¯­å¥ äº‹åŠ¡çš„å¼€å§‹ï¼ˆè€ƒçº²æ— ï¼‰ äº‹åŠ¡æäº¤ï¼šæäº¤å½“å‰äº‹åŠ¡ï¼Œäº‹åŠ¡åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¯¹äºæ•°æ®åº“çš„æ‰€æœ‰ä¿®æ”¹æ“ä½œéƒ½å°†æ°¸ä¹…åœ°ååº”åˆ°æ•°æ®åº“ä¸­ï¼Œå¹¶ä¸”ä¸å¯è¢«å–æ¶ˆã€‚ äº‹åŠ¡å›æ»šï¼šå–æ¶ˆåœ¨è¯¥äº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­çš„æ‰€æœ‰æ“ä½œï¼Œå›æ»šè¯¥äº‹åŠ¡è‡³äº‹åŠ¡çš„èµ·ç‚¹æˆ–æŸä¸ªä¿å­˜ç‚¹ï¼Œä»¥ä¾¿é‡æ–°æ‰§è¡Œæˆ–æ”¾å¼ƒï¼ˆabortï¼‰è¯¥äº‹åŠ¡ã€‚ ä¿å­˜ç‚¹ï¼šäº‹åŠ¡ä¸­çš„å­˜æ¡£ç‚¹ã€‚ç”¨æˆ·äº‹åŠ¡å¯ä»¥ä½¿ç”¨Rollbackå‘½ä»¤å°†å½“å‰äº‹åŠ¡å›é€€åˆ°å‰é¢æŸä¸ªä¿å­˜ç‚¹spã€‚ä¸å¸¦ä¿å­˜ç‚¹çš„å›é€€æ“ä½œå°†ç»“æŸå¹¶æ”¾å¼ƒæ•´ä¸ªäº‹åŠ¡ã€‚ è®¾ç½®äº‹åŠ¡çš„è‡ªåŠ¨æäº¤å‘½ä»¤ï¼šSET AUTOCOMMIT ON|OFF è®¾ç½®äº‹åŠ¡çš„è¯»å†™ç±»å‹ï¼šSET TRANSACTION READONLY|READWRITE åªè¯»å‹äº‹åŠ¡ è¯»å†™å‹äº‹åŠ¡ï¼ˆç¼ºçœå®šä¹‰ï¼‰ è®¾ç½®äº‹åŠ¡çš„éš”ç¦»çº§åˆ« SET TRANSACTION ISOLATION LEVEL READUNCOMMITED | READCOMMITED | READREPEATABLE | SERIALIZABLE éš”ç¦»çº§åˆ«ä¸åŒï¼Œç³»ç»Ÿæ‰€é‡‡ç”¨çš„å°é”ç­–ç•¥ä¸åŒ æœªæäº¤è¯»ï¼šå½“å‰äº‹åŠ¡ä¸éœ€è¦ç”³è¯·ä»»ä½•ç±»å‹çš„å°é”ï¼Œå› è€Œå¯èƒ½ä¼šè¯»åˆ°æœªæäº¤çš„ä¿®æ”¹ç»“æœã€‚ï¼ˆå†™ä¸å¯ä»¥è¿™æ ·ï¼‰ æäº¤è¯»ï¼šåœ¨è¯»æ•°æ®å¯¹è±¡Aä¹‹å‰éœ€è¦å…ˆç”³è¯·å¯¹æ•°æ®å¯¹è±¡Açš„å…±äº«æ€§å°é”ï¼Œåœ¨è¯»æ“ä½œæ‰§è¡Œç»“æŸä¹‹åç«‹å³é‡Šæ”¾è¯¥å°é”ï¼Œä»¥é¿å…è¯»åˆ°å…¶ä»–å¹¶å‘äº‹åŠ¡æœªæäº¤çš„ä¿®æ”¹ç»“æœã€‚ å¯é‡å¤è¯»ï¼šåœ¨è¯»æ•°æ®å¯¹è±¡Aä¹‹å‰éœ€è¦å…ˆç”³è¯·å¯¹æ•°æ®å¯¹è±¡Açš„å…±äº«æ€§å°é”ï¼Œå¹¶å°†è¯¥å°é”ç»´æŒåˆ°å½“å‰äº‹åŠ¡çš„ç»“æŸã€‚å¯ä»¥é¿å…å…¶å®ƒçš„å¹¶å‘äº‹åŠ¡å¯¹å½“å‰äº‹åŠ¡æ­£åœ¨ä½¿ç”¨çš„æ•°æ®å¯¹è±¡çš„ä¿®æ”¹ã€‚ å¯åºåˆ—åŒ–ï¼ˆå¯ä¸²è¡ŒåŒ–ï¼‰ï¼šå¹¶å‘äº‹åŠ¡ä»¥ä¸€ç§å¯ä¸²è¡ŒåŒ–çš„è°ƒåº¦ç­–ç•¥å®ç°å…¶å¹¶å‘æ‰§è¡Œï¼Œä»¥é¿å…å®ƒä»¬ç›¸äº’ä¹‹é—´çš„å¹²æ‰°ç°è±¡ã€‚ ä¸è®ºä½•ç§éš”ç¦»çº§åˆ«ï¼Œâ€œå†™â€æ“ä½œä¹‹å‰å…ˆè¦ç”³è¯·æ•°æ®å¯¹è±¡çš„â€œæ’ä»–æ€§â€å°é”ï¼Œå¹¶å°†è¯¥å°é”ç»´æŒåˆ°å½“å‰äº‹åŠ¡çš„ç»“æŸã€‚ å¯èƒ½çš„å¹¶å‘é”™è¯¯ç°è±¡ï¼šæ›´æ–°ä¸¢å¤±ã€è„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è±¡è¯»ï¼ˆåŒä¸€ä¸ªäº‹åŠ¡å¤šæ¬¡æ‰§è¡ŒåŒä¸€ä¸ªæŸ¥è¯¢è¿”å›çš„ç»“æœä¸åŒï¼‰ éš”ç¦»çº§åˆ« è„è¯» ä¸å¯é‡å¤è¯» å¹»è±¡è¯» æœªæäº¤è¯» æœ‰ æœ‰ æœ‰ æäº¤è¯» æ—  æœ‰ æœ‰ å¯é‡å¤è¯» æ—  æ—  æœ‰ å¯ä¸²è¡ŒåŒ– æ—  æ—  æ—  äº‹åŠ¡çš„è¯­å¥ç»„æˆæˆåˆ†äº‹åŠ¡ç›¸å…³çš„æ“ä½œåŒ…å«ä¸¤ç±»ï¼šäº‹åŠ¡æ§åˆ¶æ“ä½œ &amp; æ•°æ®è®¿é—®æ“ä½œ äº‹åŠ¡æ§åˆ¶æ“ä½œ äº‹åŠ¡çš„å¼€å§‹ï¼šSTART T0ï¼ˆå¯åŠ¨ä¸€ä¸ªæ–°äº‹åŠ¡æ—¶ï¼ŒDBMSè‡ªåŠ¨åˆ†é…ä¸€ä¸ªå”¯ä¸€çš„äº‹åŠ¡æ ‡è¯†ç¬¦ æäº¤äº‹åŠ¡ï¼šCOMMIT T0 å›é€€ï¼ˆæ”¾å¼ƒï¼‰äº‹åŠ¡ï¼šABORT T0 æ•°æ®è®¿é—®æ“ä½œ å°†æ•°æ®å¯¹è±¡Açš„å€¼ä»ç£ç›˜ä¸­è¯»å…¥å†…å­˜ç¼“å†²åŒºï¼šINPUT(A) å°†å†…å­˜ç¼“å†²åŒºä¸­æ•°æ®å¯¹è±¡Açš„å€¼å†™å…¥ç£ç›˜ï¼šOUTPUT(A) å°†å†…å­˜ç¼“å†²åŒºä¸­æ•°æ®å¯¹è±¡Açš„å€¼è¯»å…¥å†…å­˜å˜é‡tï¼šREAD(A, t)å¯èƒ½éšå«INPUT(A) å°†å†…å­˜å˜é‡tçš„å€¼å†™å…¥å†…å­˜ç¼“å†²åŒºä¸­æ•°æ®å¯¹è±¡Aï¼šWRITE(A, t) 5.2 å¹¶å‘æ§åˆ¶æŠ€æœ¯ï¼ˆæ¦‚å¿µï¼‰äº‹åŠ¡ äº‹åŠ¡çš„å¹¶å‘æ€§ï¼šæ•°æ®åº“æ˜¯ä¸€ä¸ªå¤šç”¨æˆ·å…±äº«ç³»ç»Ÿï¼Œæ¯ä¸ªç”¨æˆ·ï¼ˆæˆ–ç”¨æˆ·ç¨‹åºï¼‰éƒ½æ˜¯ä»¥â€œäº‹åŠ¡â€ä¸ºå•ä½è®¿é—®æ•°æ®åº“ å¹¶å‘æ§åˆ¶ï¼šç”¨äºå®ç°å¤šä¸ªç”¨æˆ·çš„å¹¶å‘æ‰§è¡Œçš„æŠ€æœ¯ã€‚ç›®æ ‡æ˜¯å®ç°å¹¶å‘äº‹åŠ¡çš„å¯ä¸²è¡ŒåŒ–è°ƒåº¦ã€‚ è°ƒåº¦ï¼šä¸€ä¸ªæˆ–å¤šä¸ªäº‹åŠ¡ä¸­çš„æ•°æ®åº“è®¿é—®æ“ä½œï¼ŒæŒ‰ç…§è¿™äº›æ“ä½œåœ¨DBMSä¸­è¢«æ‰§è¡Œçš„æ—¶é—´å…ˆåï¼Œæ’åºæ‰€å½¢æˆçš„ä¸€ä¸ªæ“ä½œåºåˆ— å¿…é¡»æ»¡è¶³ä¸¤ä¸ªè¦æ±‚ï¼šå¿…é¡»åŒ…æ‹¬æ‰€æœ‰äº‹åŠ¡çš„æ‰€æœ‰æ“ä½œï¼ŒåŒ…æ‹¬æ¯ä¸€ä¸ªäº‹åŠ¡çš„ç»“æŸå‘½ä»¤ ï¼ˆcommitæˆ–abortï¼‰ï¼›å•ä¸ªäº‹åŠ¡å†…éƒ¨çš„æ“ä½œé¡ºåºå¿…é¡»ä¿æŒä¸å˜ ä¸²è¡Œè°ƒåº¦ï¼šé¦–å…ˆæ˜¯ä¸€ä¸ªäº‹åŠ¡çš„æ‰€æœ‰æ“ä½œï¼Œç„¶åæ˜¯å¦ä¸€ä¸ªäº‹åŠ¡çš„æ‰€æœ‰æ“ä½œï¼Œä¾æ­¤ç±»æ¨ï¼Œåˆ™æˆ‘ä»¬ç§°è¯¥è°ƒåº¦æ˜¯ä¸²è¡Œçš„ å¯ä¸²è¡ŒåŒ–è°ƒåº¦ï¼šå¦‚æœä¸€ä¸ªè°ƒåº¦å¯¹æ•°æ®åº“çŠ¶æ€çš„å½±å“å’ŒæŸä¸ªä¸²è¡Œè°ƒåº¦ç›¸åŒï¼Œåˆ™æˆ‘ä»¬ç§°è¯¥è°ƒåº¦æ˜¯å¯ä¸²è¡ŒåŒ–çš„ å†²çªï¼šè°ƒåº¦ä¸­çš„ä¸€å¯¹ç›¸é‚»æ“ä½œï¼Œå¦‚æœäº¤æ¢å®ƒä»¬ä¸¤è€…çš„æ‰§è¡Œé¡ºåºï¼Œé‚£ä¹ˆæ¶‰åŠçš„äº‹åŠ¡ä¸­è‡³å°‘æœ‰ä¸€ä¸ªçš„è¡Œä¸ºä¼šæ”¹å˜ æ¥è‡ªåŒä¸€ä¸ªäº‹åŠ¡çš„ä»»æ„ä¸¤ä¸ªç›¸é‚»æ“ä½œéƒ½æ˜¯å†²çªï¼Œä¸å¯ä»¥äº¤æ¢æ‰§è¡Œé¡ºåº æ¥è‡ªä¸åŒäº‹åŠ¡çš„ä¸¤ä¸ªç›¸é‚»æ“ä½œé™¤éæ¶‰åŠåŒä¸€ä¸ªæ•°æ®å¯¹è±¡ä¸”è‡³å°‘æœ‰ä¸€ä¸ªæ˜¯å†™æ“ä½œï¼Œéƒ½å¯ä»¥äº¤æ¢é¡ºåº å†²çªå¯ä¸²è¡ŒåŒ–ï¼šå¯¹äºåˆå§‹ç»™å®šçš„ä¸€ä¸ªè°ƒåº¦ï¼Œå¦‚æœé€šè¿‡ä¸€ç»„éå†²çªæ“ä½œçš„äº¤æ¢ï¼Œèƒ½å¤Ÿå°†è¯¥è°ƒåº¦è½¬æ¢æˆä¸€ä¸ªä¸²è¡Œè°ƒåº¦ï¼Œåˆ™æˆ‘ä»¬è®¤ä¸ºæœ€åˆçš„è°ƒåº¦å°±æ˜¯ä¸€ä¸ªå¯ä¸²è¡ŒåŒ–è°ƒåº¦ å†²çªå¯ä¸²è¡Œæ˜¯å¯ä¸²è¡ŒåŒ–çš„å……åˆ†ä¸å¿…è¦æ¡ä»¶ å†²çªå¯ä¸²è¡ŒåŒ–çš„åˆ¤å®šæ–¹æ³• ä¼˜å…ˆï¼šä¸¤ä¸ªäº‹åŠ¡$T_1$å’Œ$T_2$ï¼Œå„æœ‰ä¸€ä¸ªåŠ¨ä½œ$A_1$å’Œ$A_2$ã€‚å¦‚æœåœ¨è°ƒåº¦$H$ä¸­ï¼Œ$A_1$åœ¨$A_2$ä¹‹å‰ï¼Œä¸”$A_1$å’Œ$A_2$æ¶‰åŠåŒä¸€ä¸ªæ•°æ®å¯¹è±¡ï¼Œä¸”$A_1$å’Œ$A_2$è‡³å°‘æœ‰ä¸€ä¸ªå†™æ“ä½œï¼Œåˆ™ç§°$T_1$ä¼˜å…ˆäº$T_2$ï¼Œè®°ä½œ$T_1&lt;_sT_2$ ä¼˜å…ˆå›¾ï¼š$(i,j)\\in E\\quad iff.\\quad T_i&lt;_sT_j$ è°ƒåº¦$S$æ˜¯å†²çªå¯ä¸²è¡ŒåŒ–è°ƒåº¦å½“ä¸”ä»…å½“äº‹åŠ¡ä¼˜å…ˆå›¾ä¸­æ— ç¯ è§†å›¾å¯ä¸²è¡ŒåŒ– ç›¸åŒçš„ä¸€ç»„äº‹åŠ¡ï¼Œä¸¤ä¸ªä¸åŒçš„è°ƒåº¦Sä¸Hã€‚Så’ŒHè¢«ç§°ä¸ºè§†å›¾ç­‰ä»·å½“ä¸”ä»…å½“æ»¡è¶³ä¸‹åˆ—ä¸‰ä¸ªæ¡ä»¶ï¼šå¯¹æ¯ä¸€ä¸ªæ•°æ®é¡¹Dï¼Œ å¦‚æœåœ¨è°ƒåº¦Sä¸­äº‹åŠ¡$T_k$è¯»åˆ°Dçš„åˆå§‹å€¼ï¼Œåˆ™åœ¨è°ƒåº¦Hä¸­äº‹åŠ¡$T_k$ä¹Ÿå¿…é¡»è¯»åˆ°Dçš„åˆå§‹å€¼ï¼›ï¼ˆéƒ½è¯»åˆ°åˆå§‹å€¼ï¼‰ å¦‚æœåœ¨è°ƒåº¦Sä¸­äº‹åŠ¡$T_k$æ‰§è¡Œäº†$r_k(D)$ï¼Œå¹¶ä¸”è¯»åˆ°çš„æ˜¯ç”±äº‹åŠ¡$T_j$å†™å…¥çš„Dçš„å€¼ï¼Œåˆ™åœ¨è°ƒåº¦Hä¸­äº‹åŠ¡$T_k$çš„$r_k(D)$è¯»åˆ°çš„ä¹Ÿå¿…é¡»æ˜¯ç”±äº‹åŠ¡$T_j$å†™å…¥çš„Dçš„å€¼ï¼›ï¼ˆè¯»åˆ°çš„åŒä¸€ä¸ªæ•°æ®å¯¹è±¡çš„å€¼éƒ½æ˜¯åŒä¸€ä¸ªäº‹åŠ¡å†™å…¥çš„ï¼‰ å¦‚æœåœ¨è°ƒåº¦Sä¸­æ˜¯ç”±äº‹åŠ¡$T_k$æ¥æ‰§è¡Œæœ€åä¸€æ¡å…³äºDçš„å†™æ“ä½œ$w_k(D)$ï¼Œåˆ™åœ¨è°ƒåº¦Hä¸­ä¹Ÿä¸€å®šæ˜¯äº‹åŠ¡$T_k$æ‰§è¡Œæœ€åä¸€æ¡å…³äºDçš„å†™æ“ä½œ$w_k(D)$ã€‚ï¼ˆæ¯ä¸ªæ•°æ®å¯¹è±¡çš„æœ€åä¸€æ¡å†™æ“ä½œæ˜¯åŒä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œçš„ï¼‰ ä¸æ­£ç¡®çš„äº‹åŠ¡å¹¶å‘æ‰€å¯¼è‡´çš„æ•°æ®ä¸ä¸€è‡´ç°è±¡ï¼šä¸¢å¤±ä¿®æ”¹ã€è„è¯»ã€ä¸å¯é‡å¤è¯» ä¸¢å¤±ä¿®æ”¹ ç°è±¡ï¼šä¸€ä¸ªäº‹åŠ¡çš„ä¿®æ”¹ç»“æœç ´åäº†å¦ä¸€ä¸ªäº‹åŠ¡çš„ä¿®æ”¹ç»“æœ åŸå› ï¼šå¯¹å¤šä¸ªäº‹åŠ¡çš„å¹¶å‘ä¿®æ”¹åŒä¸€ä¸ªæ•°æ®å¯¹è±¡çš„æƒ…å†µæœªåŠ æ§åˆ¶ è„è¯» ç°è±¡ï¼šè¯»åˆ°äº†é”™è¯¯çš„æ•°æ®ï¼ˆä¸æ•°æ®åº“ä¸­çš„æƒ…å†µä¸ç›¸ç¬¦ï¼‰ åŸå› ï¼šä¸€ä¸ªäº‹åŠ¡è¯»å–äº†å¦ä¸€ä¸ªäº‹åŠ¡æœªæäº¤çš„ä¿®æ”¹ç»“æœ ä¸å¯é‡å¤è¯» ç°è±¡ï¼šåœ¨ä¸€ä¸ªäº‹åŠ¡çš„æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå‰åä¸¤æ¬¡è¯»åŒä¸€ä¸ªæ•°æ®å¯¹è±¡æ‰€è·å¾—çš„æŒ‡å‡ºç°äº†ä¸ä¸€è‡´ åŸå› ï¼šåœ¨ä¸¤æ¬¡è¯»æ“ä½œä¹‹é—´æ’å…¥äº†å¦ä¸€ä¸ªäº‹åŠ¡çš„å†™æ“ä½œ å¹»è±¡è¯» åœ¨åŒä¸€ä¸ªäº‹åŠ¡Tä¸­ï¼ŒåŒä¸€æ¡æŸ¥è¯¢å‘½ä»¤Qå¯èƒ½è¢«å¤šæ¬¡æ‰§è¡Œã€‚åœ¨æ­¤æœŸé—´ï¼Œå¦‚æœæœ‰å…¶ä»–å¹¶å‘äº‹åŠ¡æ‰§è¡Œäº†å…ƒç»„æ’å…¥æ“ä½œå¹¶æäº¤ï¼Œé‚£ä¹ˆäº‹åŠ¡Tä¸­çš„æŸ¥è¯¢Qï¼Œå‰åæ‰§è¡Œå¯èƒ½è¿”å›ä¸ä¸€æ ·çš„ç»“æœé›†ï¼Œè¿™ç§ç°è±¡è¢«ç§°ä¸ºå¹»åƒè¯». å°é” å¸¸ç”¨å°é”ç±»å‹ å…±äº«é”ï¼ˆSé”ï¼‰ï¼šåªèƒ½è¯»ï¼›å…¶ä»–äº‹åŠ¡ä¹Ÿå¯ä»¥è¯»ï¼ˆæé«˜å¹¶å‘æ€§ï¼‰ä¸èƒ½å†™ï¼›ä¸å¿…ç»´æŒåˆ°äº‹åŠ¡æ‰§è¡Œç»“æŸã€‚ æ’å®ƒé”ï¼ˆXé”ï¼‰ï¼šå¯è¯»å¯å†™ï¼›å…¶ä»–äº‹åŠ¡ç¦æ­¢è®¿é—®ï¼›ç»´æŒåˆ°äº‹åŠ¡æ‰§è¡Œç»“æŸï¼›ç¼ºç‚¹ï¼šé™ä½äº†æ•´ä¸ªç³»ç»Ÿçš„å¹¶è¡Œæ€§ã€‚ é”ç›¸å®¹çŸ©é˜µï¼šæŠŠä¸Šé¢çš„é”çš„è·å¾—å…³ç³»åˆ—æˆè¡¨ï¼Œè‡ªå·±è„‘è¡¥å§ é”ç”³è¯·/é”é‡Šæ”¾ç®—æ³•ï¼ˆOSå†æ”¾é€ï¼‰ ç”³è¯·å¯¹æ•°æ®å¯¹è±¡Açš„Sé”ï¼šread_lock(A)123456789101112Bï¼š if (LOCK(A) &#x3D;&#x3D; â€˜Unlocked&#39;) &#123; LOCK(A) &#x3D; &#39;Read_locked&#39;; no_of_reads(A) &#x3D; 1; &#125; else &#123; if (LOCK(A) &#x3D;&#x3D; &#39;Read_locked&#39;) no_of_reads(A) &#x3D; no_of_reads(A) + 1; else &#123; wait ( until LOCK(A) !&#x3D; &#39;Write_locked&#39; and the lock manager wakes up the transaction); go to B; &#125; &#125; ç”³è¯·å¯¹æ•°æ®å¯¹è±¡Açš„Xé”ï¼šwrite_lock(A) 12345678 Bï¼šif LOCK(A) &#x3D; &#39;Unlocked&#39;&#123; LOCK(A) :&#x3D; &#39;Write_locked&#39;;&#125;else &#123; wait ( until LOCK(A) &#x3D; &#39;Unlocked&#39; and the lock manager wakes up the transaction); go to B;&#125; é‡Šæ”¾å¯¹æ•°æ®å¯¹è±¡Açš„å°é”ï¼šunlock(A)1234567891011 if LOCK(A) &#x3D; &#39;Write_locked&#39; &#123; LOCK(A) :&#x3D; &#39;Unlocked&#39;; wake up one of the waiting transaction, if any&#125;else if LOCK(A) &#x3D; &#39;Read_locked&#39; &#123; no_of_reads(A) :&#x3D; no_of_reads(A) - 1; if no_of_reads(A) &#x3D; 0 &#123; LOCK(A) :&#x3D; &#39;Unlocked&#39; wake up one of the waiting transaction, if any &#125;&#125; åœ¨DBMSçš„â€œå°é”ç®¡ç†å™¨â€ä¸­ç»´æŠ¤è€…ä¸€å¼ é”è¡¨ï¼Œè®°å½•å½“å‰å°é”çš„æŒæœ‰æƒ…å†µå’Œç”³è¯·ç­‰å¾…æƒ…å†µ åŸºäºå°é”æŠ€æœ¯çš„å¹¶å‘æ§åˆ¶å®ç°æ–¹æ³• ä¸‰çº§å°é”åè®®ä»¥åŠä¸æ•°æ®ä¸ä¸€è‡´ç°è±¡ä¹‹é—´çš„å…³ç³» ä¸€çº§å°é”åè®®ï¼šäº‹åŠ¡Tåœ¨å†™æ•°æ®å¯¹è±¡Aä¹‹å‰ï¼Œå¿…é¡»å…ˆç”³è¯·å¹¶è·å¾—Aä¸Šçš„Xé”ï¼Œå¹¶ç»´æŒåˆ°äº‹åŠ¡Tçš„æ‰§è¡Œç»“æŸ(åŒ…æ‹¬Commitä¸Rollback)æ‰é‡Šæ”¾è¢«åŠ åœ¨Aä¸Šçš„Xé”ã€‚ äºŒçº§å°é”åè®®ï¼šåœ¨ä¸€çº§å°é”åè®®çš„åŸºç¡€ä¸Šï¼Œäº‹åŠ¡Tåœ¨è¯»æ•°æ®å¯¹è±¡Aä¹‹å‰ï¼Œå¿…é¡»å…ˆç”³è¯·å¹¶è·å¾—Aä¸Šçš„Sé”ï¼Œåœ¨è¯»æ“ä½œå®Œæˆåå³å¯é‡Šæ”¾Aä¸Šçš„Sé”ï¼ˆæ²¡æœ‰è§„å®šé‡Šæ”¾Sé”çš„æ—¶é—´ï¼‰ã€‚ ä¸‰çº§å°é”åè®®ï¼šåœ¨ä¸€çº§å°é”åè®®çš„åŸºç¡€ä¸Šï¼Œäº‹åŠ¡Tåœ¨è¯»æ•°æ®å¯¹è±¡Aä¹‹å‰ï¼Œå¿…é¡»å…ˆç”³è¯·å¹¶è·å¾—Aä¸Šçš„Sé”ï¼Œå¹¶ç»´æŒåˆ°äº‹åŠ¡Tçš„æ‰§è¡Œç»“æŸ(åŒ…æ‹¬Commitä¸Rollback)æ‰é‡Šæ”¾è¢«åŠ åœ¨Aä¸Šçš„Sé”ã€‚ ä¸€çº§ï¼šé˜²æ­¢ä¸¢å¤±ä¿®æ”¹ï¼›äºŒçº§ï¼šé˜²æ­¢ä¸¢å¤±ä¿®æ”¹å’Œè„è¯»ï¼›ä¸‰çº§ï¼šé˜²æ­¢ä¸¢å¤±ä¿®æ”¹ã€è„è¯»å’Œä¸å¯é‡å¤è¯» ä¸¤é˜¶æ®µå°é”åè®®ä»¥åŠä¸å†²çªå¯ä¸²è¡ŒåŒ–ä¹‹é—´çš„å…³ç³» ç¬¬ä¸€ä¸ªé˜¶æ®µï¼šç”³è¯·å¹¶è·å¾—é”ã€‚äº‹åŠ¡å¯ä»¥ç”³è¯·æ•´ä¸ªæ‰§è¡Œè¿‡ç¨‹ä¸­éœ€è¦çš„æ‰€ã€‚ä½†ä¸èƒ½é‡Šæ”¾å·²ç»ç”³è¯·åˆ°çš„é”ï¼›ä¹Ÿæˆä¸ºâ€œé”çš„æ‰©å±•é˜¶æ®µâ€ ç¬¬äºŒä¸ªé˜¶æ®µï¼šé‡Šæ”¾æŒæœ‰çš„é”ã€‚â€œé”çš„æ”¶ç¼©é˜¶æ®µâ€ï¼›ä¸€æ—¦å¼€å§‹é‡Šæ”¾å°±ä¸èƒ½å†ç”³è¯· ä¸¤é˜¶æ®µå°é”äº‹åŠ¡ï¼ˆ2PLäº‹åŠ¡ï¼‰ï¼šæ‰€æœ‰å°é”è¯·æ±‚éƒ½å…ˆäºæ‰€æœ‰è§£é”è¯·æ±‚ å®šç†: ç”±2PLäº‹åŠ¡æ‰€æ„æˆçš„ä»»æ„åˆæ³•è°ƒåº¦Séƒ½æ˜¯å†²çªå¯ä¸²è¡ŒåŒ–çš„ å¤šç²’åº¦å°é”å°é”ç²’åº¦/å¹¶å‘åº¦/å¹¶å‘æ§åˆ¶å®ç°å¼€é”€ä¹‹é—´çš„å…³ç³» å°é”ç²’åº¦ï¼šä¸€æŠŠé”å¯ä»¥å°é”çš„æ•°æ®å¯¹è±¡çš„å¤§å° å°é”ç²’åº¦ ç³»ç»Ÿå¹¶å‘åº¦ å¹¶å‘æ§åˆ¶çš„å¼€é”€ å¤§ ä½ å° å° é«˜ å¤§ å¤šç²’åº¦å°é”ï¼šåœ¨ä¸€ä¸ªç³»ç»Ÿä¸­åŒæ—¶æ”¯æŒå¤šç§å°é”ç²’åº¦ä¾›äº‹åŠ¡é€‰æ‹©ä½¿ç”¨çš„å°é”æ–¹æ³•ã€‚ å¤šç²’åº¦æ ‘ï¼š å¯ä»¥æŒ‰ç…§å°é”ç²’åº¦çš„å¤§å°æ„é€ å‡ºä¸€æ£µå¤šç²’åº¦æ ‘ï¼Œä»¥æ ‘ä¸­çš„æ¯ä¸ªç»“ç‚¹ä½œä¸ºå°é”å¯¹è±¡ï¼Œå¯ä»¥æ„æˆä¸€ä¸ªå¤šç²’åº¦å°é”åè®®ã€‚ åŸºäºæ„å‘é”çš„å¤šç²’åº¦å°é”åè®® å¯ä»¥å¯¹å¤šç²’åº¦æ ‘ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ç‹¬ç«‹åŠ é”ï¼ˆæ˜¾å¼å°é”ï¼‰ å¯¹ä¸€ä¸ªèŠ‚ç‚¹åŠ é”æ„å‘³ç€è¯¥èŠ‚ç‚¹çš„æ‰€æœ‰åè£”èŠ‚ç‚¹ä¹Ÿè¢«åŠ ä»¥åŒæ ·ç±»å‹çš„é”ï¼ˆéšå¼å°é”ï¼‰ æ„å‘é”ï¼š å¦‚æœå¯¹ä¸€ä¸ªç»“ç‚¹åŠ æ„å‘é”ï¼Œåˆ™è¯´æ˜è¯¥ç»“ç‚¹çš„ä¸‹å±‚ç»“ç‚¹æ­£åœ¨è¢«åŠ é”ï¼›å¯¹ä»»ä¸€ç»“ç‚¹åŠ é”æ—¶ï¼Œå¿…é¡»å…ˆå¯¹å®ƒçš„ä¸Šå±‚ç»“ç‚¹åŠ æ„å‘é”ã€‚ 3ç§å¸¸è§æ„å‘é”ï¼šæ„å‘å…±äº«é”ï¼ˆISé”ï¼‰, æ„å‘æ’ä»–é”ï¼ˆIXé”ï¼‰, å…±äº«æ„å‘æ’å®ƒé”ï¼ˆSIXé”ï¼‰ æ„å‘å…±äº«é”ï¼ˆISé”ï¼‰ï¼šå¦‚æœå¯¹ç»“ç‚¹NåŠ ISé”ï¼Œè¡¨ç¤ºå‡†å¤‡åœ¨ç»“ç‚¹Nçš„æŸäº›åè£”ç»“ç‚¹ä¸ŠåŠ Sé” æ„å‘æ’å®ƒé”ï¼ˆIXé”ï¼‰ï¼šå¦‚æœå¯¹ç»“ç‚¹NåŠ IXé”ï¼Œè¡¨ç¤ºå‡†å¤‡åœ¨ç»“ç‚¹Nçš„æŸäº›åè£”ç»“ç‚¹ä¸ŠåŠ Xé” å…±äº«æ„å‘æ’å®ƒé”ï¼ˆSIXé”ï¼‰ï¼šå¦‚æœå¯¹ç»“ç‚¹NåŠ SIXé”ï¼Œè¡¨ç¤ºå¯¹ç»“ç‚¹Næœ¬èº«åŠ Sé”ï¼Œå¹¶å‡†å¤‡åœ¨Nçš„æŸäº›åè£”ç»“ç‚¹ä¸ŠåŠ Xé” æ„å‘é”é”ç›¸å®¹çŸ©é˜µï¼šSï¼ŒXï¼ŒIS, IX, SIX æ„å‘é”é”ç”³è¯·/é‡Šæ”¾ç®—æ³• å¦‚æœè¦å¯¹ä¸€ä¸ªç»“ç‚¹åŠ é”ï¼Œå¿…é¡»å…ˆå¯¹å®ƒçš„ä¸Šå±‚ç»“ç‚¹åŠ æ„å‘é” ç”³è¯·å°é”çš„é¡ºåºï¼šè‡ªä¸Šè€Œä¸‹ é‡Šæ”¾å°é”çš„é¡ºåºï¼šç”±åº•å‘ä¸Š æ­»é”çš„æ£€æµ‹ä¸é¢„é˜² æ­»é”ï¼šæ¯ä¸ªäº‹åŠ¡éƒ½å¯èƒ½æ‹¥æœ‰ä¸€éƒ¨åˆ†é”ï¼Œå¹¶å› ç”³è¯·å…¶å®ƒäº‹åŠ¡æ‰€æŒæœ‰çš„é”è€Œç­‰å¾…ï¼Œå› æ­¤äº§ç”Ÿçš„å¾ªç¯ç­‰å¾…ç°è±¡è¢«ç§°ä¸ºæ­»é”ã€‚ æ´»é”ï¼šæ´»é”ï¼šæœ‰éƒ¨åˆ†äº‹åŠ¡å› å°é”ç”³è¯·å¾—ä¸åˆ°æ»¡è¶³è€Œå¤„äºé•¿æœŸç­‰å¾…çŠ¶æ€ï¼Œä½†å…¶å®ƒçš„äº‹åŠ¡ä»ç„¶å¯ä»¥ç»§ç»­è¿è¡Œä¸‹å»ï¼Œè¿™ç§æƒ…å†µè¢«ç§°ä¸ºæ´»é”ã€‚ï¼ˆæ²¡æ­»å…¨çš„é”ï¼‰ æ­»é”çš„æ£€æµ‹åŠå…¶å¤„ç†åŠæ³• ç­‰å¾…å›¾æ³•ï¼šï¼ˆpptä¸Šæ— ï¼‰ä½¿ç”¨ä¸€ä¸ªåè°ƒè€…æ¥é›†ä¸­æ£€æµ‹ç³»ç»ŸçŠ¶æ€ï¼Œå¹¶æ¶ˆé™¤å‡ºç°çš„æ­»é”ã€‚ç»´æŠ¤ä¸€ä¸ªå…¨å±€çš„ç­‰å¾…å›¾ã€‚æœ‰å¿…è¦æ—¶æ£€æŸ¥è€…è¿è¡Œå›è·¯ç®—æ³•ã€‚ è¶…æ—¶æ­»é”æ£€æµ‹æ³•ï¼šé”ç”³è¯·ç­‰å¾…è¶…æ—¶ &amp; äº‹åŠ¡æ‰§è¡Œè¶…æ—¶ æ—¶é—´æˆ³æ­»é”æ£€æµ‹æ³•ï¼šæ¯ä¸ªäº‹åŠ¡éƒ½å…·æœ‰ä¸€ä¸ªç”¨äºæ­»é”æ£€æµ‹çš„æ—¶é—´æˆ³ï¼Œè¯¥æ—¶é—´æˆ³åæ˜ å½“å‰äº‹åŠ¡çš„æ–°è€ç¨‹åº¦ï¼ˆå³å·²è¿è¡Œæ—¶é—´çš„é•¿çŸ­ï¼‰ã€‚å¦‚æœäº‹åŠ¡Tå¿…é¡»ç­‰å¾…å¦ä¸€ä¸ªäº‹åŠ¡Uæ‰€æŒæœ‰çš„é”ï¼Œé‚£ä¹ˆæœ‰ä¸¤ç§æ­»é”æ£€æµ‹ç­–ç•¥ï¼ˆç‰ºç‰²çš„å¾€å¾€æ˜¯è¾ƒå¹´è½»çš„äº‹åŠ¡ï¼‰ ç­‰å¾…-æ­»äº¡æ–¹æ¡ˆï¼šå¦‚æœTæ¯”Uè€ï¼Œé‚£ä¹ˆå…è®¸Tç­‰å¾…UæŒæœ‰çš„é”ï¼›å¦‚æœUæ¯”Tè€ï¼Œé‚£ä¹ˆäº‹åŠ¡Tæ­»äº¡ï¼ˆè¢«å›æ»šï¼‰ã€‚ï¼ˆå¹´è½»çš„åœ¨ç­‰å¾…å°±å›æ»šï¼‰ ä¼¤å®³-ç­‰å¾…æ–¹æ¡ˆï¼šå¦‚æœTæ¯”Uè€ï¼Œå®ƒå°†ä¼¤å®³Uï¼ŒUå¿…é¡»è¢«å›æ»šï¼›å¦‚æœUæ¯”Tè€ï¼Œé‚£ä¹ˆTç­‰å¾…UæŒæœ‰çš„é”ã€‚ï¼ˆå¹´è½»çš„è¢«ç­‰å¾…å°±å›æ»šï¼‰ 5.3 æ•°æ®åº“æ¢å¤æŠ€æœ¯ æ•°æ®åº“æ¢å¤ å«ä¹‰ï¼šåœ¨æ•°æ®åº“é­å—ç ´ååå³ä½¿è¿›è¡Œæ¢å¤çš„åŠŸèƒ½ æ–¹æ³•ï¼šåˆ©ç”¨æ•°æ®å†—ä½™åŸç†ï¼Œå°†æ•°æ®åº“ä¸­çš„æ•°æ®åœ¨ä¸åŒçš„å­˜å‚¨ä»‹è´¨ä¸Šè¿›è¡Œå†—ä½™å­˜å‚¨ï¼Œå½“æ•°æ®åº“æœ¬èº«å—åˆ°ç ´åæ—¶ï¼Œå¯ä»¥åˆ©ç”¨è¿™äº›å†—ä½™ä¿¡æ¯è¿›è¡Œæ¢å¤ã€‚ å¸¸ç”¨æªæ–½ï¼šæ•°æ®è½¬å‚¨ã€æ—¥å¿—ã€æ•°æ®åº“é•œåƒ æ•°æ®åº“æ•…éšœçš„åˆ†ç±»ï¼ˆä¸‰ç±»å…­ç§ï¼‰ å°å‹æ•…éšœï¼ˆäº‹åŠ¡å†…éƒ¨æ•…éšœï¼‰ï¼šæ•…éšœçš„å½±å“èŒƒå›´åœ¨ä¸€ä¸ªäº‹åŠ¡ä¹‹å†…ï¼Œä¸å½±å“æ•´ä¸ªç³»ç»Ÿçš„æ­£å¸¸è¿è¡Œ ä¸­å‹æ•…éšœï¼ˆç³»ç»Ÿæ•…éšœï¼Œå¤–éƒ¨å½±å“ï¼‰ï¼šå¯å¯¼è‡´æ•´ä¸ªç³»ç»Ÿåœæ­¢å·¥ä½œï¼Œä½†ç£ç›˜æ•°æ®ä¸å—å½±å“ã€‚åœ¨ç³»ç»Ÿé‡å¯æ—¶ï¼Œå¯é€šè¿‡å½“å‰çš„æ—¥å¿—æ–‡ä»¶è¿›è¡Œæ¢å¤ å¤§å‹æ•…éšœï¼ˆç£ç›˜æ•…éšœã€è®¡ç®—æœºç—…æ¯’ã€é»‘å®¢å…¥ä¾µï¼‰ï¼šå¯å¯¼è‡´å†…å­˜åŠç£ç›˜æ•°æ®çš„ä¸¥é‡ç ´åï¼Œéœ€è¦å¯¹æ•°æ®åº“åšå½»åº•çš„æ¢å¤â€™ æ•°æ®åº“æ•…éšœæ¢å¤ä¸‰å¤§æŠ€æœ¯ æ•°æ®è½¬å‚¨ï¼šå®šæœŸåœ°å°†æ•°æ®åº“ä¸­çš„å†…å®¹å¤åˆ¶åˆ°å…¶å®ƒå­˜å‚¨è®¾å¤‡ä¸­å»çš„è¿‡ç¨‹ åå¤‡å‰¯æœ¬ï¼šç»è½¬å‚¨è€Œå¾—åˆ°çš„å¤‡ä»½æ•°æ® åˆ†ç±»ï¼šé™æ€è½¬å‚¨/åŠ¨æ€è½¬å‚¨ï¼›æµ·é‡è½¬å‚¨/å¢é‡è½¬å‚¨ ï¼ˆåŠ¨æ€è½¬å‚¨ï¼‰éœ€è¦ç»“åˆæ—¥å¿—è¿›è¡Œæ•…éšœæ¢å¤ æ—¥å¿—ï¼šæ˜¯ç”±æ•°æ®åº“ç³»ç»Ÿåˆ›å»ºå’Œç»´æŠ¤çš„ï¼Œç”¨äºè‡ªåŠ¨è®°è½½æ•°æ®åº“ä¸­ä¿®æ”¹å‹æ“ä½œçš„æ•°æ®æ›´æ–°æƒ…å†µçš„æ–‡ä»¶ã€‚ å†…å®¹ï¼šæ¯ä¸ªæ›´æ–°æ“ä½œçš„äº‹åŠ¡æ ‡è¯†ã€æ›´æ–°å¯¹è±¡ã€æ›´æ–°å‰çš„å€¼å’Œ/æˆ–æ›´æ–°åçš„å€¼ï¼›æ¯ä¸ªäº‹åŠ¡çš„å¼€å§‹ã€ç»“æŸç­‰æ‰§è¡Œæƒ…å†µï¼›å…¶ä»–ä¿¡æ¯ã€‚ ç»„æˆï¼šæ—¥å¿—æ˜¯æ—¥å¿—è®°å½•çš„ä¸€ä¸ªåºåˆ—ï¼Œæ¯ä¸ªæ—¥å¿—è®°å½•è®°è½½æœ‰å…³æŸä¸ªäº‹åŠ¡å·²æ‰§è¡Œæ“ä½œçš„æƒ…å†µï¼ˆä¸»è¦æ˜¯äº‹åŠ¡çš„æ›´æ–°æ“ä½œçš„æ‰§è¡Œæƒ…å†µï¼‰ã€‚ç”±äºäº‹åŠ¡é€šå¸¸æ˜¯å¹¶å‘æ‰§è¡Œçš„ï¼Œæ‰€ä»¥å¤šä¸ªäº‹åŠ¡çš„æ—¥å¿—è®°å½•é€šå¸¸æ˜¯äº¤é”™åœ¨ä¸€èµ·çš„ã€‚ ä½œç”¨ï¼šç¡®ä¿äº‹åŠ¡æ‰§è¡Œçš„åŸå­æ€§ï¼›å®ç°å¢é‡è½¬å‚¨ï¼›å®ç°æ•…éšœæ¢å¤ï¼ˆcommitâ€”â€”redoï¼Œabortâ€”æ’¤é”€ï¼‰ã€‚ è®°è½½åŸåˆ™ï¼šæŒ‰ç…§æ“ä½œæ‰§è¡Œçš„å…ˆåæ¬¡åºï¼Œéµå¾ªå…ˆå†™æ—¥å¿—ï¼Œåä¿®æ”¹æ•°æ®åº“çš„åŸåˆ™ã€‚ åœ¨æ—¥å¿—ä¸­è®¾ç½®æ£€æŸ¥ç‚¹çš„ä½œç”¨ï¼šé™ä½æ•°æ®åº“æ•…éšœæ¢å¤å¼€é”€ã€‚åœ¨æ•…éšœæ¢å¤æ—¶ï¼Œåªè¦é€†å‘æ‰«æåˆ°ç¬¬ä¸€æ¡&lt;CKPT&gt;è®°å½•(æœ€åä¸€ä¸ªè¢«è®°å…¥çš„æ£€æŸ¥ç‚¹)å°±å¯ä»¥ç»“æŸæ•…éšœæ¢å¤å·¥ä½œã€‚ äº‹åŠ¡çš„æ’¤é”€ï¼ˆUNDOï¼‰ï¼šåå‘æ‰«ææ—¥å¿—æ–‡ä»¶ï¼ŒæŸ¥æ‰¾åº”è¯¥æ’¤æ¶ˆçš„äº‹åŠ¡ï¼ŒæŸ¥æ‰¾è¿™äº›äº‹åŠ¡çš„æ›´æ–°æ“ä½œï¼Œå¯¹æ›´æ–°æ“ä½œåšé€†æ“ä½œï¼ˆæ’å…¥å˜åˆ é™¤ã€åˆ é™¤å˜é‡æ–°æ’å…¥ã€ä¿®æ”¹å˜ä¿®æ”¹å‰çš„å€¼ï¼‰ï¼Œå¦‚æ­¤åå‘æ‰«æç›´åˆ°æ—¥å¿—æ–‡ä»¶çš„å¤´éƒ¨ã€‚ äº‹åŠ¡çš„é‡åšï¼ˆREDOï¼‰ï¼šæ­£å‘æ‰«ææ—¥å¿—æ–‡ä»¶ï¼ŒæŸ¥æ‰¾åº”è¯¥é‡åšçš„äº‹åŠ¡ï¼ŒæŸ¥æ‰¾è¿™äº›äº‹åŠ¡çš„æ›´æ–°æ“ä½œï¼Œå¯¹æ›´æ–°æ“ä½œä½œé‡åšå¤„ç†ï¼ˆé‡æ–°æ’å…¥ã€é‡æ–°åˆ é™¤ã€é‡æ–°ä¿®æ”¹ï¼‰ï¼Œå¦‚æ­¤æ­£å‘æ‰«æç›´åˆ°æ—¥å¿—æ–‡ä»¶çš„å°¾éƒ¨ã€‚ UNDOæ—¥å¿— å†…å®¹ï¼ˆè®°å½•æ ¼å¼ï¼‰ï¼š å¼€å§‹ä¸€ä¸ªäº‹åŠ¡ï¼š&lt;Start T&gt; æäº¤äº‹åŠ¡Tï¼š&lt;Commit T&gt; æ”¾å¼ƒäº‹åŠ¡Tï¼š&lt;Abort T&gt; æ›´æ–°è®°å½•ï¼š&lt;T,X,V&gt;ï¼ˆäº‹åŠ¡Tä¿®æ”¹äº†æ•°æ®åº“å…ƒç´ Xçš„å€¼ï¼ŒXçš„æ—§å€¼æ˜¯Vï¼‰ è®°è½½è§„åˆ™ï¼šï¼ˆæ›´æ–°å‰æäº¤åï¼‰ $U_1$ï¼šå¦‚æœäº‹åŠ¡Tä¿®æ”¹äº†æ•°æ®åº“å…ƒç´ Xï¼Œåˆ™æ›´æ–°æ—¥å¿—&lt;T,X,V&gt;å¿…é¡»åœ¨Xçš„æ–°å€¼å†™åˆ°ç£ç›˜å‰å†™åˆ°ç£ç›˜ $U_2$ï¼šå¦‚æœäº‹åŠ¡Tæäº¤ï¼Œåˆ™æ—¥å¿—è®°å½•&lt;Commit T&gt;å¿…é¡»åœ¨äº‹åŠ¡Tæ”¹å˜çš„æ‰€æœ‰DBå…ƒç´ å·²å†™åˆ°ç£ç›˜åå†å†™åˆ°ç£ç›˜ï¼ˆä¹‹åè¿˜è¦FLushä¸€æ¬¡ç¡®ä¿äº‹åŠ¡Tè¢«æäº¤ ä½œç”¨ï¼šç”¨äºè¢«æ”¾å¼ƒäº‹åŠ¡ï¼ˆåŒ…æ‹¬å‘ç”Ÿåœ¨æ•…éšœæ—¶ä¸Šä½ç»“æŸçš„äº‹åŠ¡ï¼‰çš„æ’¤é”€å·¥ä½œ åŸºäºUNDOæ—¥å¿—çš„æ•…éšœæ¢å¤æµç¨‹ å°†æ‰€æœ‰äº‹åŠ¡åˆ’åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼šå·²æäº¤äº‹åŠ¡ï¼ˆæœ‰&lt;Start T&gt;å’Œ&lt;Commit T&gt;ï¼‰ï¼Œæœªæäº¤äº‹åŠ¡ï¼ˆæœ‰Startæ— Commitï¼‰ ä»undoæ—¥å¿—çš„å°¾éƒ¨å¼€å§‹ï¼ˆæœ€æ™šçš„ï¼‰å‘åï¼ˆå‘å¤´éƒ¨ï¼‰å¼€å§‹æ‰«ææ•´ä¸ªæ—¥å¿—ï¼Œå¯¹æ¯ä¸€æ¡æ›´æ–°è®°å½•&lt;T,X,V&gt;ä½œå¦‚ä¸‹å¤„ç†ï¼š å¦‚æœ&lt;Commit T&gt;å·²è¢«æ‰«æåˆ°ï¼Œåˆ™ç»§ç»­æ‰«æä¸‹ä¸€æ¡æ—¥å¿—è®°å½•ï¼ˆåŸºäºè§„åˆ™U2ï¼‰ å¦åˆ™ï¼Œç”±æ¢å¤ç®¡ç†å™¨å°†æ•°æ®åº“ä¸­Xçš„å€¼æ”¹ä¸ºVï¼ˆåŸºäºè§„åˆ™U1ï¼‰ åœ¨æ—¥å¿—çš„å°¾éƒ¨ä¸ºæ¯ä¸ªæœªç»“æŸçš„äº‹åŠ¡Tå†™å…¥ä¸€æ¡æ—¥å¿—è®°å½•&lt;Abort T&gt;ï¼Œå¹¶åˆ·æ–°æ—¥å¿—ï¼ˆFlush Log) ä¸è¶³ï¼šå°†äº‹åŠ¡æ”¹å˜çš„æ‰€æœ‰æ•°æ®å†™åˆ°ç£ç›˜å‰ä¸èƒ½æäº¤è¯¥äº‹åŠ¡ï¼Œä¼šå¯¼è‡´åœ¨äº‹åŠ¡çš„æäº¤è¿‡ç¨‹ä¸­éœ€è¦æ‰§è¡Œè®¸å¤šå†™ç£ç›˜æ“ä½œï¼Œä»è€Œå¢åŠ äº†äº‹åŠ¡æäº¤çš„æ—¶é—´å¼€é”€ REDOæ—¥å¿— å†…å®¹ï¼ˆè®°å½•æ ¼å¼ï¼‰ï¼šåŒundoï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯åœ¨&lt;T,X,V&gt;ä¸­è®°è½½çš„æ˜¯æ›´æ–°åçš„å€¼ è®°è½½è§„åˆ™ï¼šï¼ˆæ›´æ–°å‰æäº¤å‰ï¼‰ $R_1$ï¼šåœ¨ç”±äºæŸä¸ªäº‹åŠ¡Tæ‰€åšçš„æ”¹å˜è€Œä¿®æ”¹ç£ç›˜ä¸Šçš„æ•°æ®åº“å…ƒç´ Xä¹‹å‰ï¼Œè¦ä¿è¯æ‰€æœ‰ä¸Xè¿™ä¸€ä¿®æ”¹æœ‰å…³çš„æ—¥å¿—è®°å½•ï¼ˆåŒ…æ‹¬æ›´æ–°è®°å½•å’Œæäº¤è®°å½•ï¼‰éƒ½å¿…é¡»å‡ºç°åœ¨ç£ç›˜ä¸Šã€‚ï¼ˆäº‹åŠ¡æäº¤(Commit)å’Œå†™æ•°æ®åº“ç£ç›˜(Output)çš„æ“ä½œé¡ºåºæ˜¯éšæœºçš„ï¼‰ ä½œç”¨ï¼šç”¨äºå·²æäº¤äº‹åŠ¡çš„é‡åšå·¥ä½œ åŸºäºREDOæ—¥å¿—çš„æ•…éšœæ¢å¤æµç¨‹ å…ˆæ‰«æä¸€éæ—¥å¿—æ–‡ä»¶ï¼Œç¡®å®šæ‰€æœ‰å·²æäº¤çš„äº‹åŠ¡ ä»æ—¥å¿—æ–‡ä»¶çš„å¤´éƒ¨å¼€å§‹æ‰«ææ—¥å¿—ï¼Œå¯¹é‡åˆ°çš„æ¯ä¸€æ¡æ›´æ–°è®°å½•&lt;T,X,V&gt; å¦‚æœTæ˜¯æœªæäº¤äº‹åŠ¡ï¼Œåˆ™ç»§ç»­æ‰«ææ—¥å¿— å¦‚æœTæ˜¯å·²æäº¤çš„äº‹åŠ¡ï¼Œåˆ™ä¸ºæ•°æ®åº“å…ƒç´ Xå†™å…¥æ–°å€¼V å¯¹æ¯ä¸ªæœªå®Œæˆçš„äº‹åŠ¡Tï¼Œåœ¨æ—¥å¿—çš„å°¾éƒ¨å†™å…¥ç»“æŸæ ‡å¿—&lt;Abort T&gt;å¹¶åˆ·æ–°æ—¥å¿— ä¸è¶³ï¼šè¦æ±‚äº‹åŠ¡æäº¤å’Œæ—¥å¿—è®°å½•åˆ·æ–°ä¹‹å‰æ‰€æœ‰ä¿®æ”¹è¿‡çš„æ•°æ®ä¿ç•™åœ¨å†…å­˜ç¼“å†²åŒºä¸­ï¼Œå¯èƒ½å¢åŠ äº‹åŠ¡éœ€è¦çš„å¹³å‡ç¼“å†²åŒºæ•°é‡ UNDOå’ŒREDOçš„ä¸è¶³ï¼šå¦‚æœè¢«è®¿é—®çš„æ•°æ®å¯¹è±¡Xä¸æ˜¯å®Œæ•´çš„æ•°æ®å—ï¼Œé‚£ä¹ˆåœ¨Undoæ—¥å¿—å’ŒRedoæ—¥å¿—ä¹‹é—´å¯èƒ½äº§ç”Ÿç›¸äº’çŸ›ç›¾çš„è¯·æ±‚ã€‚ UNDO/REDOæ—¥å¿— å†…å®¹ï¼ˆè®°å½•æ ¼å¼ï¼‰ï¼šä¸undoæˆ–redoçš„å…¬å¼åŸºæœ¬ä¸€æ ·ï¼ŒåŒºåˆ«åœ¨äºæ›´æ–°è®°å½•&lt;T,X,v,w&gt;ï¼Œvä¸ºæ›´æ–°å‰çš„å€¼ï¼Œwä¸ºæ›´æ–°åçš„å€¼ã€‚ è®°è½½è§„åˆ™ï¼šï¼ˆæ›´æ–°å‰ï¼‰ $UR_1$ï¼šåœ¨äº‹åŠ¡Tä¿®æ”¹ç£ç›˜ä¸Šçš„æ•°æ®åº“å…ƒç´ Xä¹‹å‰ï¼Œæ›´æ–°è®°å½•&lt;T,X,v,w&gt;å¿…é¡»å‡ºç°åœ¨ç£ç›˜ä¸Šã€‚ï¼ˆäº‹åŠ¡æäº¤(Commit)å’Œå†™æ•°æ®åº“ç£ç›˜(Output)çš„æ“ä½œé¡ºåºæ˜¯éšæœºçš„ï¼‰ ä¸ºäº†ç¡®ä¿åœ¨æ—¥å¿—ä¸­å†™å…¥&lt;Commit T&gt;è®°å½•çš„äº‹åŠ¡Tç¡®å®è¢«æäº¤ï¼Œåœ¨æ¯ä¸€æ¡&lt;Commit T&gt;åé¢å¿…é¡»ç´§è·Ÿä¸€æ¡Flush Logæ“ä½œã€‚ ä½œç”¨ï¼šè§£å†³UNDOå’ŒREDOæ—¥å¿—çš„çŸ›ç›¾ åŸºäºUNDO/REDOæ—¥å¿—çš„æ•…éšœæ¢å¤æµç¨‹ æ ¹æ®&lt;Commit T&gt;æ˜¯å¦å·²ç»å‡ºç°åœ¨ç£ç›˜ä¸­æ¥å†³å®šäº‹åŠ¡ï¼´æ˜¯å¦å·²ç»è¢«æäº¤ æŒ‰ç…§ä»åå¾€å‰çš„é¡ºåºï¼Œæ’¤é”€æ‰€æœ‰æœªæäº¤çš„äº‹åŠ¡ æŒ‰ç…§ä»å‰å¾€åçš„é¡ºåºï¼Œé‡åšæ‰€æœ‰å·²æäº¤çš„äº‹åŠ¡ UNDO/REDOæ—¥å¿—çš„ä¼˜ç‚¹ä¸ç¼ºç‚¹ï¼šä¼˜ç‚¹æ²¡å†™ï¼Œç¼ºç‚¹è§ä¸Š æ¢å¤ç­–ç•¥ å°å‹æ•…éšœï¼šåˆ©ç”¨æœªç»“æŸäº‹åŠ¡çš„undoæ“ä½œè¿›è¡Œæ¢å¤ ä¸­å‹æ•…éšœï¼š éæ­£å¸¸ä¸­æ­¢äº‹åŠ¡ï¼šæ‰§è¡Œundoæ“ä½œ å·²å®Œæˆæäº¤çš„äº‹åŠ¡ï¼šå…¶æ›´æ–°æ“ä½œçš„ä¿®æ”¹ç»“æœè¿˜ç•™åœ¨å†…å­˜ç¼“å†²åŒºä¸­ï¼Œå°šæœªæ¥å¾—åŠå†™å…¥ç£ç›˜ï¼Œç”±äºæ•…éšœä½¿å†…å­˜ç¼“å†²åŒºä¸­çš„æ•°æ®è¢«ä¸¢å¤±ï¼Œæ•…æ‰§è¡Œredoæ“ä½œ å¤§å‹æ•…éšœï¼šå…ˆåˆ©ç”¨åå¤‡å‰¯æœ¬è¿›è¡Œæ•°æ®åº“æ¢å¤ï¼Œå†åˆ©ç”¨æ—¥å¿—è¿›è¡Œæ•°æ®åº“çš„æ¢å¤ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹â€”â€” å°†åå¤‡å‰¯æœ¬ä¸­çš„æ•°æ®æ‹·è´åˆ°æ•°æ®åº“ä¸­ æ£€æŸ¥æ—¥å¿—æ–‡ä»¶ï¼šç¡®å®šå“ªäº›äº‹åŠ¡å·²ç»æ‰§è¡Œç»“æŸï¼Œå“ªäº›å°šæœªç»“æŸ æŒ‰ç…§æ—¥å¿—çš„è®°è½½é¡ºåºï¼šé€†å‘ï¼šå¯¹å°šæœªç»“æŸçš„äº‹åŠ¡ä½œæ’¤æ¶ˆå¤„ç†(undo)ï¼›æ­£å‘ï¼šå¯¹å·²ç»ç»“æŸçš„äº‹åŠ¡ä½œé‡åšå¤„ç†(redo) Ch6-7 æ•°æ®äº¤æ¢ä¸å­˜å‚¨é¢˜ç›®æ˜¯è‡ªå·±xjbèµ·çš„ æ¸¸æ ‡ç®¡ç† æ¸¸æ ‡çš„ä½œç”¨ï¼šå°†SQLå˜é‡ä¸­çš„é›†åˆå‹å˜é‡é€ä¸ªå–å‡ºåé€å…¥åº”ç”¨ç¨‹åºï¼ˆæ ‡é‡å‹ï¼‰å˜é‡å†…ä¾›å…¶ä½¿ç”¨ å®šä¹‰æ¸¸æ ‡ ä¸ºæŸä¸€ä¸ªæ˜ åƒè¯­å¥ï¼ˆå¯èƒ½è¿”å›å¤šä¸ªç»“æœå…ƒç»„ï¼‰çš„ç»“æœé›†åˆå®šä¹‰ä¸€ä¸ªå‘½åçš„æ¸¸æ ‡12345678910EXEC SQL DECLARE cursor-name CURSOR FOR subquery [ORDER BY ...] [FOR &#123;READ ONLY | UPDATE[OF columnname ...]&#125;];-- e.g.EXEC SQL DECLARE agent_dollars CURSOR FOR SELECT aid, SUM(dollars) FROM orders WHERE cid = :cust_id --ä¸»è¯­è¨€å˜é‡ GROUP BY aid; å¦‚æœä¸€æ¡æŸ¥è¯¢è¯­å¥çš„æ‰§è¡Œè¿”å›å¤šæ¡ç»“æœå…ƒç»„ï¼Œé‚£ä¹ˆå¿…é¡»ä½¿ç”¨æ¸¸æ ‡æ¥è·å–ç»“æœé›†åˆä¸­çš„æ¯ä¸€ä¸ªç»“æœå…ƒç»„ ä»…å½“ç”¨æˆ·ç¡®ä¿¡åªå¯èƒ½è¿”å›å•ä¸ªç»“æœå…ƒç»„çš„æƒ…å†µä¸‹æ‰å¯ä»¥ä½¿ç”¨SELECT... INTO...å½¢å¼çš„åµŒå…¥å¼SQLæŸ¥è¯¢è¯­å¥ æ‰“å¼€æ¸¸æ ‡ æ‰§è¡Œç›¸åº”çš„æ˜ åƒè¯­å¥å¹¶æ‰“å¼€è·å¾—ç»“æœé›†ï¼Œæ­¤æ—¶æ¸¸æ ‡å¤„äºæ´»åŠ¨çŠ¶æ€å¹¶æŒ‡å‘ç»“æœé›†åˆçš„ç¬¬ä¸€æ¡è®°å½•çš„å‰é¢1EXEC SQL OPEN agent_dollars ä½¿ç”¨æ¸¸æ ‡ å°†æ¸¸æ ‡æ¨å‘ç»“æœé›†åˆä¸­çš„ä¸‹ä¸€æ¡è®°å½•ï¼Œè¯»å‡ºæ¸¸æ ‡æ‰€æŒ‡å‘è®°å½•çš„å€¼å¹¶èµ‹ç»™å¯¹åº”çš„ä¸»è¯­è¨€å˜é‡ fetch the result rows1234while(TRUE)&#123; -- loop to fetch rows exec sql fetch agent_dollars into :agent_id, :dollar_sum; printf(&quot;%s %11.2f\\n&quot;, agent_id, dollar_sum)l&#125; end fetch loop12345678exec sql whenever not found goto finish;-- å£°æ˜&#x27;not foundâ€™äº‹ä»¶å¤„ç†...while(TRUE) &#123; exec sql fetch ... into ...; ...&#125;finish: exec sql close agent_dollars; å…³é—­æ¸¸æ ‡ å…³é—­æ‰€ä½¿ç”¨çš„æ¸¸æ ‡ï¼Œé‡Šæ”¾ç›¸å…³çš„ç³»ç»Ÿèµ„æº1EXEC SQL CLOSE agent_dollars; æ¸¸æ ‡ä¸€æ—¦è¢«å®šä¹‰(declare)ï¼Œå¯ä»¥è¢«é‡æ–°ä½¿ç”¨(open-fetch-close)ã€‚æ¯ä¸€æ¬¡openä¸€ä¸ªæ¸¸æ ‡ï¼Œéƒ½å°†é‡æ–°æ‰§è¡Œå¯¹åº”çš„queryï¼Œå¹¶ç”Ÿæˆæ–°çš„ç»“æœé›†ã€‚ ä¸€ä¸ªæ¸¸æ ‡ç»“æœé›†åªèƒ½è¢«æ¯”é‚£é‡Œä¸€æ¬¡ï¼Œå…¶ä¸­çš„ç»“æœå…ƒç»„è¢«fetchçš„é¡ºåºæ˜¯éšæœºçš„ï¼ˆå¦‚æœæ¸¸æ ‡å®šä¹‰ä¸­æ— order byå­å¥ï¼‰ åº”ç”¨ç¨‹åºå¯ä»¥é€šè¿‡â€œæ¸¸æ ‡çŠ¶æ€å˜é‡â€æ¥äº†è§£ä¸€ä¸ªæ¸¸æ ‡çš„å½“å‰çŠ¶æ€ï¼ˆæ˜¯å¦å¤„äºæ‰“å¼€çŠ¶æ€ã€ç»“æœå…ƒç»„çš„ä¸ªæ•°ã€æ˜¯å¦fetchåˆ°ç»“æœå…ƒç»„â€¦..) å¯æ»šåŠ¨æ¸¸æ ‡çš„å®šä¹‰åŠå…¶åœ¨æ•°æ®æ›´æ–°å‘½ä»¤ä¸­çš„ä½¿ç”¨ å®šä¹‰123456EXEC SQL DECLARE cursor_name [INSENSITIVE] [SCROLL] CURSOR [WITH HOLD] FOR subquery &#123;UNION subquery&#125; [ORDER BY] [FOR READ ONLY | FOR UPDATE OF columnname]; Fetch by scrollable Cursors123EXEC SQL FETCH [&#123;NEXT | PRIOR | FIRST | LAST | &#123;ABSOLUTE | RELATIVE&#125; value_spec&#125; FROM]cursor_name INTO ... B+ç´¢å¼• æ•°æ®ç»“æ„ å¶èŠ‚ç‚¹æ„æˆçš„æœ€ä¸‹é¢çš„ä¸€çº§ç´¢å¼•é€šå¸¸é‡‡ç”¨ç¨ å¯†ç´¢å¼•ï¼Œå…¶ä»–å±‚æ¬¡ä¸Šçš„ç´¢å¼•é‡‡ç”¨ç¨€ç–ç´¢å¼• ç‰¹ç‚¹ï¼šå¹³è¡¡æ€§ï¼Œè¿‡åŠæ€§ï¼Œé¡ºåºæ€§ï¼Œè‡ªé€‚åº”æ€§ ç»“ç‚¹ï¼šæ¯ä¸ªç»“ç‚¹å ç”¨ä¸€ä¸ªç£ç›˜å—ï¼Œæ¯æ£µB+æ ‘éƒ½æœ‰ä¸€ä¸ªè¢«ç§°ä¸ºç§©çš„æ•´å‹å‚æ•°$n$ã€‚æ¯ä¸ªç»“ç‚¹èƒ½å®¹çº³$n$ä¸ªé”®å’Œ$n+1$ä¸ªæŒ‡é’ˆï¼Œå°†$n$å–å¾—å°½å¯èƒ½å¤§ã€‚ æœç´¢ç®—æ³• CH8 å…³ç³»æ•°æ®åº“è§„èŒƒåŒ–ç†è®ºæ¦‚è¿° æ¨¡å¼è®¾è®¡è´¨é‡çš„è¯„ä»·æŒ‡æ ‡ï¼šæ•°æ®å†—ä½™åº¦ã€æ’å…¥/åˆ é™¤ç­‰æ›´æ–°å¼‚å¸¸ å¥½çš„è®¾è®¡æ–¹æ¡ˆï¼šæ—¢å…·æœ‰åˆç†çš„æ•°æ®å†—ä½™åº¦ï¼Œåˆæ²¡æœ‰æ’å…¥å’Œåˆ é™¤ç­‰æ“ä½œå¼‚å¸¸ç°è±¡ å…³ç³»çš„è§„èŒƒåŒ–ï¼šåœ¨æ¯ä¸ªå…³ç³»ä¸­ï¼Œå±æ€§ä¸å±æ€§ä¹‹é—´çš„è¯­ä¹‰è”ç³»ï¼ˆå‡½æ•°ä¾èµ–ã€å¤šå€¼ä¾èµ–ï¼‰éœ€è¦æ»¡è¶³ä¸€å®šçš„è¦æ±‚ èŒƒå¼ï¼šèŒƒå¼(Normal Form)ï¼šå¯¹ä¸€ä¸ªå…³ç³»ä¸­å…è®¸å­˜åœ¨çš„ä¾èµ–çš„è¦æ±‚ è§„èŒƒåŒ–çš„é€”å¾„ï¼šå°†ä¸€ä¸ªå…³ç³»åˆ†è§£å½¢æˆå¤šä¸ªå­å…³ç³»ï¼Œåœ¨æ¨¡å¼è®¾è®¡ä¸­ï¼Œç”¨åˆ†è§£åçš„è¿™ä¸€ç»„å­å…³ç³»ä»£æ›¿åŸæ¥çš„å•ä¸ªå…³ç³»ã€‚ ç«–å‘è§„èŒƒåŒ–ï¼šå…³ç³»æ¨¡å¼çš„åˆ†è§£ã€‚é‡‡ç”¨æŠ•å½±å’Œè”æ¥è¿ç®—ï¼Œå°†ä¸€ä¸ªå…³ç³»æ¨¡å¼çš„å±æ€§é›†åˆ†è§£æ„æˆè‹¥å¹²ä¸ªå­å…³ç³»æ¨¡å¼ã€‚æœ‰å…³ç†è®ºæ„æˆäº†å…³ç³»æ•°æ®åº“çš„è§„èŒƒåŒ–ç†è®ºã€‚ æ°´å¹³è§„èŒƒåŒ–ï¼šé‡‡ç”¨é€‰æ‹©å’Œå¹¶è¿ç®—ï¼Œå°†ä¸€ä¸ªå…³ç³»çš„å…ƒç»„é›†åˆåˆ†è§£æˆè‹¥å¹²ä¸ªå­é›†ï¼Œä»è€Œæ„æˆè‹¥å¹²ä¸ªä¸åŸæ¥å…³ç³»å…·æœ‰ç›¸åŒå…³ç³»æ¨¡å¼çš„å­å…³ç³»ï¼Œå°šæœªå½¢æˆä¸€ä¸ªæˆç†Ÿçš„è§„èŒƒåŒ–ç†è®ºã€‚ è§„èŒƒåŒ–çš„ç›®çš„ï¼šé™ä½æ•°æ®å†—ä½™åº¦ï¼Œæ¶ˆé™¤æ’å…¥ã€åˆ é™¤åŠä¿®æ”¹å¼‚å¸¸ è§„èŒƒåŒ–çš„æ‰‹æ®µï¼šæ¨¡å¼åˆ†è§£ è§„èŒƒåŒ–ç†è®ºè§„èŒƒåŒ–é€”å¾„ï¼ˆä¸åœ¨è€ƒçº²é‡Œï¼‰ å°†ä¸€ä¸ªå…³ç³»åˆ†è§£æˆå¤šä¸ªå­å…³ç³»ï¼Œç”¨åˆ†è§£åçš„è¿™ä¸€ç»„å­å…³ç³»ä»£æ›¿åŸæ¥çš„å•ä¸ªå…³ç³»ã€‚ ç«–å‘è§„èŒƒåŒ– å…³ç³»æ¨¡å¼çš„åˆ†è§£ æŠ•å½±å’Œè”æ¥ å°†ä¸€ä¸ªå…³ç³»æ¨¡å¼çš„å±æ€§é›†åˆ†è§£æ„æˆè‹¥å¹²ä¸ªå­å…³ç³»æ¨¡å¼ æ°´å¹³è§„èŒƒåŒ– å…ƒç»„é›†åˆçš„åˆ†è§£ é€‰æ‹©å’Œå¹¶ å‡½æ•°ä¾èµ–ï¼ˆFDï¼‰ å®šä¹‰ï¼šä¸€ä¸ªå…³ç³»ä¸­ä¸¤ç»„å±æ€§ä¹‹é—´çš„æŸç§å–å€¼çº¦æŸï¼Œç®€ç§°FD $X\\to Y$: Xå‡½æ•°å†³å®šï¼¹, Yå‡½æ•°ä¾èµ–äºXï¼Œå…³ç³»$R$æ»¡è¶³å‡½æ•°ä¾èµ–$X\\to Y$ å³å…³ç³»$R$ä¸­ï¼Œæ¯ä¸€ä¸ªXå€¼éƒ½æœ‰å”¯ä¸€çš„ä¸€ä¸ªYå€¼ä¸ä¹‹ç›¸å¯¹åº” $X$: å†³å®šå› ç´ ï¼Œ $Y$: ä¾èµ–å› ç´  ç¬¦å·è¯´æ˜ï¼ˆä¸åœ¨è€ƒçº²é‡Œï¼‰ $ABC={A,B,C}$, ABCä¸‰ä¸ªå±æ€§æ„æˆçš„é›†åˆ $XY=X\\cup Y$ï¼Œ X,Yæ˜¯å…³ç³»çš„å±æ€§å­é›† $R(U,F)$ï¼š å…³ç³»åRï¼Œå…³ç³»ä¸­çš„å±æ€§é›†åˆUï¼Œå‡½æ•°ä¾èµ–é›†F $r,s,t$: å…³ç³»å®ä¾‹ $r_1,s_1,t_1$: å…³ç³»ä¸­çš„å…ƒç»„ $r_1(A)$: å…ƒç»„$r_1$åœ¨å±æ€§$A$ä¸Šçš„å–å€¼ å¦‚ä½•å¯»æ‰¾å‡½æ•°ä¾èµ– è¯­ä¹‰è”ç³» æ ¹æ®å…·ä½“æ•°æ®å¦å®šå‡½æ•°ä¾èµ– æ ¹æ®ä¸¤ç»„å±æ€§é—´çš„å¯¹åº”å…³ç³»ï¼ˆä¸€ä¸€å¯¹åº”å’Œå¤šä¸€å¯¹åº” åˆ†ææ•°æ®å®Œæ•´æ€§çš„çº¦æŸæ¡ä»¶ ä¸€äº›å®šä¹‰ï¼ˆéï¼‰å¹³å‡¡å‡½æ•°ä¾èµ–ï¼š$X\\to Y$è‹¥æ»¡è¶³$Y\\not\\subseteq X$ï¼Œåˆ™ç§°æ­¤å‡½æ•°ä¾èµ–æ˜¯éå¹³å‡¡å‡½æ•°ä¾èµ–ã€‚å¦åˆ™æ˜¯å¹³å‡¡å‡½æ•°ä¾èµ–ã€‚æåˆ°å‡½æ•°ä¾èµ–æ—¶é»˜è®¤éå¹³å‡¡ã€‚å®Œå…¨å‡½æ•°ä¾èµ–: $X\\to Y$ï¼Œä¸”å¯¹$X$çš„ä»»æ„çœŸå­é›†$Xâ€™$éƒ½æœ‰$Xâ€™\\not\\to Y$ï¼Œåˆ™ç§°$Y$å®Œå…¨ä¾èµ–äº$X$ï¼Œè®°ä¸º$X\\overset{f}{\\to}Y$.éƒ¨åˆ†å‡½æ•°ä¾èµ–: $X\\to Y$ä¸”$Y$ä¸å®Œå…¨ä¾èµ–äº$X$ï¼Œè®°ä½œ$X\\overset{p}{\\to} Y$ä¼ é€’å‡½æ•°ä¾èµ–: $X\\to Y, Y\\not\\subset X, Y\\not\\to X, Y\\to Z$, åˆ™ç§°$Z$ä¼ é€’å‡½æ•°ä¾èµ–äº$X$; å¦åˆ™ç§°ä¸ºéä¼ é€’å‡½æ•°ä¾èµ–ã€‚ Armstrongå…¬ç†ç³»ç»Ÿ $R_1$è‡ªåè§„åˆ™ï¼šè‹¥$Y\\subseteq X$, åˆ™$X\\to Y$ $R_2$å¢å¹¿è§„åˆ™ï¼šè‹¥$X\\to Y$, åˆ™$XZ\\to YZ$ $R_3$ä¼ é€’è§„åˆ™ï¼šè‹¥$X\\to Y, Y\\to Z$, åˆ™$X\\to Z$ $R_4$åˆ†è§£è§„åˆ™ï¼šè‹¥$X\\to YZ$, åˆ™$X\\to Y$ä¸”$X\\to Z$ $R_5$åˆå¹¶è§„åˆ™ï¼šè‹¥$X\\to Y$ä¸”$X\\to Z$, åˆ™$X\\to YZ$ $R_6$ä¼ªä¼ é€’è§„åˆ™: è‹¥$X\\to Y$ä¸”$WY\\to Z$, åˆ™$WX\\to Z$ æ•°ç†é€»è¾‘å¤ä¹ ï¼š $F$é€»è¾‘è•´å«$X\\to Y$($F\\models X\\to Y$)ï¼šèƒ½ä»$F$çš„å·²æœ‰å‡½æ•°ä¾èµ–æ¨å¯¼å‡º$X\\to Y$ é—­åŒ…$F^+$: è¢«$F$é€»è¾‘è•´æ¶µçš„æ‰€æœ‰å‡½æ•°ä¾èµ–æ„æˆçš„é›†åˆ åŸºäºå‡½æ•°ä¾èµ–çš„å…³é”®å­—å®šä¹‰å…³é”®å­—: åœ¨å…³ç³»æ¨¡å¼$R(U,F)$ä¸­ï¼Œå¦‚æœ‰$K\\subseteq U$ä¸”æ»¡è¶³$K\\overset{f}{\\to}U$ï¼Œåˆ™ç§°$K$ä¸ºå…³ç³»$R$çš„å…³é”®å­—ã€‚å…³é”®å­—å¯èƒ½ä¸å”¯ä¸€ã€‚ ä¸»å±æ€§é›†: ç”±å…³ç³»æ¨¡å¼$R$çš„æ‰€æœ‰å…³é”®å­—ä¸­çš„å±æ€§æ‰€æ„æˆçš„é›†åˆã€‚ï¼ˆæ‰€æœ‰å…³é”®å­—é›†åˆçš„å¹¶ï¼‰ä¸»å±æ€§: ä¸»å±æ€§é›†ä¸­çš„å±æ€§éä¸»å±æ€§é›†: ä¸»å±æ€§çš„è¡¥é›† å¯»æ‰¾å…³é”®å­—ï¼ˆä¸åœ¨è€ƒçº²é‡Œï¼‰ æ–¹æ³•ä¸€ï¼šç”¨Armstrongå…¬ç†ç³»ç»Ÿæ¨å¯¼ æ–¹æ³•äºŒï¼šè¿ç”¨å±æ€§é›†é—­åŒ…çš„æ¦‚å¿µï¼Œå¯»æ‰¾æ»¡è¶³æ¡ä»¶($K_F^+=U$)çš„æœ€å°å±æ€§é›†åˆ$K$ ä¼˜ç‚¹ï¼šæœ‰ç®—æ³•æ”¯æŒ ç¼ºç‚¹ï¼šè®¡ç®—å·¥ä½œé‡å¤§ æ–¹æ³•ä¸‰ï¼šè¿ç”¨æœ€å°å‡½æ•°ä¾èµ–é›†æ¥ä¼˜åŒ–æ–¹æ³•äºŒä¸­çš„å…³é”®å­—è®¡ç®—ç®—æ³• å±æ€§é›†é—­åŒ…ï¼š$X_F^+={A\\mid F\\models X\\to A }$ï¼Œå¯ä»¥ç®€å†™ä¸º$X^+$ã€‚æ‰€æœ‰å‡½æ•°ä¾èµ–äº$X$çš„å±æ€§æ‰€æ„æˆçš„é›†åˆã€‚ ç®—æ³•8-1ï¼šè®¡ç®—å±æ€§é›†$X$åœ¨å‡½æ•°ä¾èµ–é›†$F$ä¸Šçš„é—­åŒ…ï¼šè¾“å…¥ï¼šå‡½æ•°ä¾èµ–é›†$F$ï¼Œå±æ€§é›†$X$è¾“å‡ºï¼šé—­åŒ…$X_F^+$ $X^+=X$repeat:&nbsp;&nbsp;&nbsp;&nbsp; old$X^+ := X^+$&nbsp;&nbsp;&nbsp;&nbsp; for each functional dependency $Y\\to Z$ in $F$ do&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if $Y\\subseteq X^+$ then $X^+=X^+\\cup Z$until(old$X^+=X^+$) ä¸€è¨€ä»¥è”½ä¹‹ï¼šä¸æ–­æ‹‰æ–°çš„å±æ€§è¿›æ¥çŸ¥é“æ²¡æœ‰å¯æ‹‰çš„ è‹¥$K$æ˜¯å…³ç³»æ¨¡å¼$R(U)$çš„ä¸€ä¸ªå…³é”®å­—ï¼Œåˆ™ $K_F^+=U$ å¯¹äº$K$çš„ä»»æ„ä¸€ä¸ªçœŸå­é›†éƒ½æœ‰$Z_F^+\\neq U$(å¯ä»¥ç”¨æ¥éªŒè¯å…¬ç†æ¨å¯¼çš„ç»“æœ) å¯ä»¥ç”¨æ¥éªŒè¯æŸä¸ªé›†åˆæ˜¯ä¸æ˜¯å…³é”®å­— ç®—æ³•8-2ï¼šå¯»æ‰¾å…³ç³»æ¨¡å¼$R(U,F)$çš„å…³é”®å­—$K$set $K:=U$for each attribute $A$ in $K$:&nbsp;&nbsp;&nbsp;&nbsp; if $(K-A)_F^+ = U$&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; then set $K:= K-A$return $K$ ä¸€è¨€ä»¥è”½ä¹‹ï¼šéå†æ¯ä¸ªå±æ€§ï¼Œå¦‚æœåˆ ä¸åˆ éƒ½ä¸€æ ·å°±åˆ æ‰æ³¨æ„ï¼šæ ¹æ®éå†å±æ€§çš„é¡ºåºä¸åŒï¼Œå¾—åˆ°çš„å…³é”®å­—ä¸å”¯ä¸€ å…³é”®å­—è®¡ç®—ä¼˜åŒ–ç®—æ³•$F$æ˜¯æœ€å°å‡½æ•°ä¾èµ–é›†ï¼Œå¯ä»¥å°†å±æ€§é›†$U$åˆ’åˆ†ä¸ºä¸‰ä¸ªå­é›† $U_L$: åªåœ¨å‡½æ•°ä¾èµ–çš„å·¦è¾¹å‡ºç° $U_R$: åªåœ¨å‡½æ•°ä¾èµ–çš„å³è¾¹å‡ºç° $U_A$: åœ¨ä¸¤è¾¹éƒ½å‡ºç°è¿‡ å…¶ä¸­ï¼Œ $U_L$ä¸­çš„å±æ€§æ˜¯æ¯ä¸€ä¸ªå…³é”®å­—çš„ç»„æˆéƒ¨åˆ† $U_R$ä¸­çš„å±æ€§ä¸å¯èƒ½å‡ºç°åœ¨ä»»ä½•ä¸€ä¸ªå…³é”®å­—ä¸­ å…³é”®å­—è®¡ç®—åªéœ€è¦éå†$U_A$ä¸­çš„å±æ€§ ä¸å‡½æ•°ä¾èµ–æœ‰å…³çš„èŒƒå¼ ç¬¬ä¸€èŒƒå¼(1NF)ï¼šå¦‚æœå…³ç³»æ¨¡å¼$R(U)$ä¸­çš„æ¯ä¸ªå±æ€§å€¼éƒ½æ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„æ•°æ®é‡ï¼Œåˆ™ç§°è¯¥å…³ç³»æ¨¡å¼æ»¡è¶³ç¬¬ä¸€èŒƒå¼ï¼Œè®°ä¸º$R\\in 1\\text{NF}$ å…³ç³»æ¨¡å¼çš„åŸºç¡€ï¼Œæ¯ä¸ªå…³ç³»éƒ½å¿…é¡»æ»¡è¶³$1\\text{NF}$ å¯èƒ½æœ‰æ•°æ®å†—ä½™ï¼Œä¼šäº§ç”Ÿæ›´æ–°å¼‚å¸¸ ç¬¬äºŒèŒƒå¼ï¼ˆ2NFï¼‰: è®¾æœ‰å…³ç³»æ¨¡å¼ $R(U)\\in 1\\text{NF}$ï¼Œä¸”å…¶æ¯ä¸ªéä¸»å±æ€§éƒ½å®Œå…¨å‡½æ•°ä¾èµ–äºå…³é”®å­—ï¼Œåˆ™ç§°å…³ç³»æ¨¡å¼$R(U)$æ»¡è¶³ç¬¬äºŒèŒƒå¼ï¼Œå¹¶è®°ä½œï¼š$R\\in 2\\text{NF}$ æ‰¾åˆ°å…³ç³»$R$çš„æ‰€æœ‰éä¸»å±æ€§å’Œæ‰€æœ‰çš„å€™é€‰å…³é”®å­—ï¼ˆæ³¨æ„ä¸å”¯ä¸€ï¼‰ æ£€æŸ¥æ¯ä¸€ä¸ªéä¸»å±æ€§å’Œæ¯ä¸€ä¸ªå€™é€‰å…³é”®å­—ä¹‹é—´çš„å‡½æ•°ä¾èµ–ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨â€œéä¸»å±æ€§å¯¹å…³é”®å­—çš„éƒ¨åˆ†å‡½æ•°ä¾å†—ä½™ æ»¡è¶³2NFä»å¯èƒ½æœ‰æ•°æ®å†—ä½™ï¼Œå› ä¸ºå¯èƒ½å­˜åœ¨éä¸»å±æ€§å¯¹å…³é”®å­—çš„ä¼ é€’å‡½æ•°ä¾èµ–ã€‚ ç¬¬ä¸‰èŒƒå¼ï¼ˆ3NFï¼‰ï¼šè®¾æœ‰å…³ç³»æ¨¡å¼ $R(U)\\in 2\\text{NF}$ï¼Œä¸”å…¶æ¯ä¸ªéä¸»å±æ€§éƒ½ä¸ä¼ é€’å‡½æ•°ä¾èµ–äºå…³é”®å­—ï¼Œåˆ™ç§°å…³ç³»æ¨¡å¼$R(U)$æ»¡è¶³ç¬¬ä¸‰èŒƒå¼ï¼Œå¹¶è®°ä½œï¼š$R\\in 3\\text{NF}$ å­˜åœ¨å‡½æ•°ä¾èµ–$X\\to Y$ï¼Œå…¶ä¸­$X$æ˜¯å…³é”®å­—çš„çœŸå­é›†ï¼ˆä¸æ˜¯2NFï¼‰æˆ–$X$ä¸æ˜¯å…³é”®å­—ã€‚ BCNF: è®¾å…³ç³»æ¨¡å¼$R(U)$æ»¡è¶³1NFï¼Œä¸”è‹¥ $X\\to Y$æ—¶$X$å¿…å«æœ‰è¯¥å…³ç³»æ¨¡å¼çš„å…³é”®å­—ï¼Œåˆ™ç§°å…³ç³»æ¨¡å¼$R(U)$æ»¡è¶³BCNFèŒƒå¼ï¼Œå¹¶è®°ä½œ$R\\in \\text{BCNF}$ å¦‚æœå…³ç³»æ¨¡å¼$R(U)\\in\\text{BCNF}$, åˆ™$R(U)\\in 3\\text{NF}$ï¼Œåä¹‹ä¸æˆç«‹ã€‚ å„çº§èŒƒå¼ä¸æ•°æ®å†—ä½™åº¦ã€æ’å…¥åˆ é™¤å¼‚å¸¸çš„å…³ç³»ï¼ˆè§ä¸Šï¼‰ 1NFï¼Œ2NFï¼šæœ‰å¼‚å¸¸æœ‰å†—ä½™ 3NFï¼šæ— å¼‚å¸¸ï¼Œå°å†—ä½™ æ¨¡å¼åˆ†è§£ ï¼ˆä¸åœ¨è€ƒçº²é‡Œä½†æˆ‘è§‰å¾—ä¼šè€ƒï¼‰ç›®æ ‡ï¼šæ¯ä¸ªå°çš„å…³ç³»æ¨¡å¼éƒ½èƒ½å¤Ÿæ»¡è¶³2NFï¼ˆæ›´é«˜è¦æ±‚çš„èŒƒå¼ï¼‰çš„è¦æ±‚ï¼Œæ¶ˆé™¤å› éä¸»å±æ€§å…³é”®å­—å¯¹å…³é”®å­—çš„éƒ¨åˆ†å‡½æ•°ä¾èµ–è€Œäº§ç”Ÿçš„æ•°æ®å†—ä½™ æ¨¡å¼åˆ†è§£æ–¹æ³•ï¼ˆå¯¹æ‰€æœ‰NFéƒ½é€‚ç”¨ï¼‰ æ‰¾å‡ºæ‰€æœ‰ä¸æ»¡è¶³èŒƒå¼$M$è¦æ±‚çš„å‡½æ•°ä¾èµ–å…³ç³» é€‰æ‹©ä¸€ä¸ªä¸ç¬¦åˆè¦æ±‚çš„å‡½æ•°ä¾èµ–å…³ç³»ä½œå¦‚ä¸‹åˆ†è§£ï¼šå‡è®¾$X\\overset{f}{\\to}Y\\in F^+$ä¸”ä¸æ»¡è¶³èŒƒå¼$M$çš„è¦æ±‚ï¼Œåˆ™æˆ‘ä»¬å°†å…³ç³»æ¨¡å¼$R$åˆ†è§£ä¸ºå¦‚ä¸‹ä¸¤ä¸ªå­å…³ç³»ï¼š $R_1(X\\cup Y, {X\\to Y})$ $R_2(Head(R)-Y, F_2)$, å…¶ä¸­ï¼š$F_2={A\\to B\\mid A\\to B\\in F^+ \\text{ and }(A\\cup B)\\subseteq Head(R_2) }$ ä¸€è¨€ä»¥è”½ä¹‹ï¼š$Y$è·Ÿç€$X$è·‘äº†ï¼Œ$Head(R)$å°±æŠŠ$Y$ç»™Täº†ï¼ˆ$X$æ²¡Tï¼‰ å¯¹äºåˆ†è§£å¾—åˆ°çš„å­å…³ç³»æ¨¡å¼$R_2$é‡å¤ä¸Šè¿°æ­¥éª¤1å’Œ2ï¼Œç›´åˆ°æ‰€æœ‰çš„å­å…³ç³»æ¨¡å¼éƒ½èƒ½æ»¡è¶³èŒƒå¼$M$çš„è¦æ±‚ åˆå¹¶é‚£äº›å…·æœ‰ç›¸åŒå…³é”®å­—çš„å­å…³ç³»æ¨¡å¼ å¤šå€¼ä¾èµ–ä¸ç¬¬å››èŒƒå¼ å¤šå€¼ä¾èµ–(multivalued dependency, ç®€ç§°MVD) å¯¹$X,Y\\subseteq U$ï¼Œå¯¹$X$çš„ä¸€ä¸ªç¡®å®šå€¼ï¼Œå­˜åœ¨$Y$çš„ä¸€ç»„å€¼ä¸ä¹‹å¯¹åº”ï¼›ä¸”$Y$çš„è¿™ç»„å€¼åˆä¸å…³ç³»ä¸­çš„å…¶ä»–å±æ€§$(U-X-Y)$çš„å–å€¼ä¸ç›¸å…³ï¼Œæ­¤æ—¶ç§°$Y$å¤šå€¼ä¾èµ–äº$X$ï¼Œå¹¶è®°ä¸º$X\\to\\to Y$ã€‚ï¼ˆâ€œä¸ç›¸å…³â€å¯ä»¥ç†è§£ä¸ºä¸¤ä¸ªå±ä¹‹é—´æ„æˆå®Œå…¨äºŒéƒ¨å›¾çš„äº¤å‰å…³ç³»ï¼‰ e.g. ä¸€é—¨è¯¾æœ‰å¤šä¸ªä»»è¯¾è€å¸ˆï¼Œåˆæœ‰å¤šæœ¬å‚è€ƒä¹¦ï¼Œä»»è¯¾è€å¸ˆå’Œå‚è€ƒä¹¦ä¸ç›¸å…³ äº§ç”ŸåŸå› ï¼šå­˜åœ¨ä¸¤ä¸ªç›¸äº’ç‹¬ç«‹çš„ å±æ€§é—´çš„ä¸€å¯¹å¤šæ•°é‡å¯¹åº”å…³ç³»ï¼Œåˆå¹¶èµ·æ¥å°±ä¼šäº§ç”Ÿå¤šå€¼ä¾èµ– ä¼šé€ æˆå¤§é‡æ•°æ®å†—ä½™ å¹³å‡¡å¤šå€¼ä¾èµ–ï¼š$U-X-Y$æ˜¯ç©ºé›† éå¹³å‡¡å¤šå€¼ä¾èµ–ï¼š$U-X-Y$ä¸æ˜¯ç©ºé›† å¤šå€¼ä¾èµ–ä¸å‡½æ•°ä¾èµ–çš„å…³ç³»ï¼ˆæ€§è´¨ï¼‰ è‹¥$X\\to\\to Y$ï¼Œåˆ™å¿…æœ‰$X\\to\\to (U-X-Y)$ï¼ˆéå¹³å‡¡å‡½æ•°ä¾èµ–æ€»æ˜¯æˆå¯¹å‡ºç°çš„ï¼‰ è‹¥$X\\to Y$, åˆ™å¿…æœ‰$X\\to\\to Y$ï¼ˆå‡½æ•°ä¾èµ–ä¹Ÿæ˜¯ä¸€ç§å¤šå€¼ä¾èµ–ï¼Œåä¹‹æœªå¿…) ç¬¬å››èŒƒå¼ åœ¨å…³ç³»æ¨¡å¼$R(U)$ä¸­ï¼Œè‹¥$X\\to\\to Y$æ˜¯éå¹³å‡¡å¤šå€¼ä¾èµ–ï¼Œåˆ™$X$å¿…å«æœ‰å…³é”®å­—ï¼Œæ­¤æ—¶ç§°å…³ç³»æ¨¡å¼$R$æ»¡è¶³ç¬¬å››èŒƒå¼ï¼Œå¹¶è®°ä½œ$R\\in 4\\text{NF}$ å‡½æ•°ä¾èµ–è¦æ»¡è¶³$\\text{BCNF}$ ä¸æ˜¯FDçš„å¤šå€¼ä¾èµ–ä¸€å®šæ˜¯å¹³å‡¡çš„ æ¨å¯¼è§„åˆ™ï¼ˆä¸åœ¨è€ƒçº²é‡Œï¼‰ $IR_1$è‡ªåè§„åˆ™ï¼šåŒ$R_1$ $IR_2$å¢å¹¿è§„åˆ™ï¼šåŒ$R_2$ $IR_3$ä¼ é€’è§„åˆ™ï¼šåŒ$R_3$ $IR_4$æ±‚è¡¥è§„åˆ™ï¼šè‹¥$X\\to\\to Y$, åˆ™$X\\to\\to (U-X-Y)$ $IR_5$å¤šå€¼ä¾èµ–çš„å¢å¹¿è§„åˆ™ï¼šè‹¥$X\\to\\to Y$ä¸”$W\\subseteq Z$ï¼Œåˆ™$WX\\to\\to YZ$ $IR_6$å¤šå€¼ä¾èµ–çš„ä¼ é€’è§„åˆ™ï¼šè‹¥$X\\to\\to Y, Y\\to\\to Z$ï¼Œåˆ™$X\\to\\to (Z-Y)$ $IR_7$è½¬æ¢è§„åˆ™ï¼šè‹¥$X\\to Y$ï¼Œåˆ™$X\\to\\to Y$ $IR_8$ç»“åˆè§„åˆ™ï¼šè‹¥$X\\to\\to Y$ï¼Œä¸”å­˜åœ¨å¦ä¸€ä¸ªå±æ€§ç»“åˆ$W$æ»¡è¶³ï¼š$W\\cap Y=\\emptyset, W\\to Z, Z\\subseteq Y$ï¼Œåˆ™$X\\to Z$ è§„èŒƒåŒ–æ‰€å¼•èµ·çš„ä¸€äº›é—®é¢˜ å‡½æ•°ä¾èµ–çš„è•´å« è®¾$F$æ˜¯å…³ç³»æ¨¡å¼$R(U)$çš„ä¸€ä¸ªå‡½æ•°ä¾èµ–é›†ï¼Œ$X$, $Y$æ˜¯å…³ç³»æ¨¡å¼$R$çš„å±æ€§å­é›†ï¼Œå¦‚æœä»$F$ä¸­çš„å·²æœ‰å‡½æ•°ä¾èµ–å…³ç³»åˆ©ç”¨Armstrongå…¬ç†ç³»ç»Ÿèƒ½å¤Ÿæ¨å‡º$X\\rightarrow Y$ï¼Œåˆ™ç§°$F$é€»è¾‘è•´æ¶µ$X\\rightarrow Y$ï¼Œå¹¶è®°ä¸ºï¼š$F\\models X\\rightarrow Y$ã€‚ å‡½æ•°ä¾èµ–é›†çš„ç­‰ä»· è‹¥ä¸¤ä¸ªå‡½æ•°ä¾èµ–é›†çš„é—­åŒ…æ˜¯ç›¸ç­‰çš„ï¼Œåˆ™è¿™ä¸¤ä¸ªå‡½æ•°ä¾èµ–é›†æ˜¯ç­‰ä»·çš„ å¦‚æœå…¶ä¸­ä»»ä½•ä¸€ä¸ªå‡½æ•°ä¾èµ–é›†ä¸­çš„æ¯ä¸€ä¸ªå‡½æ•°ä¾èµ–éƒ½è¢«å¦ä¸€ä¸ªæ‰€è•´æ¶µï¼Œåˆ™ä¸¤ä¸ªå‡½æ•°ä¾èµ–é›†æ˜¯ç­‰ä»·çš„ å‡½æ•°ä¾èµ–çš„é—­åŒ…ï¼šç”±è¢«$F$é€»è¾‘è•´æ¶µçš„æ‰€æœ‰å‡½æ•°ä¾èµ–å…³ç³»æ„æˆçš„é›†åˆè¢«ç§°ä¸ºå‡½æ•°ä¾èµ–é›†$F$çš„é—­åŒ…ï¼Œå¹¶è®°ä¸º$F^+$ï¼Œæœ‰$F^+={X\\rightarrow Y â”‚ F\\models X\\rightarrow Y }$ã€‚ æœ€å°å‡½æ•°ä¾èµ–é›†åŠå…¶åˆ¤å®šæ¡ä»¶ æœ€å°å‡½æ•°ä¾èµ–é›† $F$çš„æœ€å°å‡½æ•°ä¾èµ–é›†ï¼š ä¸$F$çš„ç›¸ç­‰ä»·çš„æ‰€æœ‰å‡½æ•°ä¾èµ–é›†ä¸­çš„æœ€å°è€… åˆ¤å®šæ¡ä»¶ï¼šå¯¹äº$F$ä¸­çš„æ¯ä¸€ä¸ªFDå…³ç³»$X\\to A$å‡ä½œå¦‚ä¸‹åˆ¤æ–­ï¼š ä¾èµ–å› ç´ $A$ä¸ºå•ä¸ªå±æ€§ï¼ˆéå¿…éœ€ï¼‰ ä»¤$F_1=F-{X\\to A}$, åˆ™$F_1^+\\neq F^+$(ä¸å­˜åœ¨å†—ä½™çš„å‡½æ•°ä¾èµ–) å¯¹äºå†³å®šå› ç´ $X$çš„æ¯ä¸€ä¸ªçœŸå­é›†$Y$($Y\\subset X$)å‡ä½œåˆ¤æ–­ï¼šä»¤$F_2=F-{X\\to A}\\cup{Y\\to A}$, åˆ™$F_2^+\\neq F^+$(ä¸å­˜åœ¨éƒ¨åˆ†å‡½æ•°ä¾èµ–) ç®—æ³•8-3ï¼šå¯»æ‰¾ä¸å‡½æ•°ä¾èµ–é›†$F$ç­‰ä»·çš„æœ€å°å‡½æ•°ä¾èµ–é›†$G$ä»»åŠ¡ï¼š æ¶ˆé™¤$F$ä¸­çš„éƒ¨åˆ†å‡½æ•°ä¾èµ– æ¶ˆé™¤å†—ä½™çš„å‡½æ•°ä¾èµ– æ‡’å¾—æ‰“å­—äº† è¾“å…¥ï¼šå‡½æ•°ä¾èµ–é›†$F$è¾“å‡ºï¼šä¸$F$ç­‰ä»·çš„æœ€å°å‡½æ•°ä¾èµ–é›† ä¸€è¨€ä»¥è”½ä¹‹ï¼šå…ˆåˆ éƒ¨åˆ†FDï¼Œå†åˆ å†—ä½™FDï¼› P.S.è¦è¯æ˜ä¸¤ä¸ªåªå·®ä¸€ä¸ªå‡½æ•°ä¾èµ–çš„é›†åˆçš„é—­åŒ…ç›¸ç­‰ï¼Œåªéœ€è¦è¯æ˜äº’ç›¸è•´å«è‡ªå·±ä¸åŒ…å«çš„é‚£ä¸ªå‡½æ•°ä¾èµ– æœ€å°ä¾èµ–é›†å¯èƒ½ä¸å”¯ä¸€ï¼Œåªéœ€è¦è®¡ç®—ä¸€ä¸ª(è€Œå‡½æ•°ä¾èµ–è¦å†™å…¨) æ¨¡å¼åˆ†è§£çš„ç ”ç©¶ æ— æŸè”æ¥æ€§ åˆ†è§£åï¼ŒåŸå…³ç³»ä¸­çš„ä¿¡æ¯ä¸ä¼šä¸¢å¤± è®¾$R$æ˜¯ä¸€ä¸ªå…³ç³»æ¨¡å¼ï¼Œ$F$æ˜¯å…³ç³»æ¨¡å¼ä¸Š$R$çš„å‡½æ•°ä¾èµ–é›†ï¼Œ$\\rho = { R1, R_2, â€¦, R_k }$ æ˜¯å¯¹$R$çš„ä¸€ä¸ªåˆ†è§£ã€‚å¦‚æœå¯¹$R$ä¸­æ»¡è¶³$F$çš„æ¯ä¸€ä¸ªå…³ç³»å®ä¾‹$r$éƒ½æœ‰ï¼š$$r=\\pi{R1}(r)\\Join \\pi{R2}(r)\\Join \\cdots\\Join\\pi{R_k}(r)$$,åˆ™ç§°è¯¥åˆ†è§£$\\rho$ç›¸å¯¹äº$F$æ˜¯â€œæ— æŸè”æ¥åˆ†è§£â€ï¼Œæˆ–ç§°åˆ†è§£$\\rho$å…·æœ‰æ— æŸè”æ¥æ€§ åˆ¤å®šå®šç†: å¦‚æœ$R$çš„åˆ†è§£ä¸º$\\rho={R_1, R_2}$ï¼Œ$F$ä¸º$R$æ‰€æ»¡è¶³çš„å‡½æ•°ä¾èµ–é›†åˆï¼Œåˆ†è§£$\\rho$å…·æœ‰æ— æŸè”æ¥æ€§çš„å……è¦æ¡ä»¶æ˜¯$R_1\\cap R_2\\to(R_1-R_2)$æˆ–$R_1\\cap R_2\\to (R_2-R_1)$ï¼ˆå…¬å…±éƒ¨åˆ†å¯ä»¥æ¨å‡ºå‰©ä½™éƒ¨åˆ†ï¼‰ ä¾èµ–ä¿æŒæ€§ åŸæœ‰çš„å‡½æ•°ä¾èµ–å…³ç³»åœ¨åˆ†è§£åçš„å…³ç³»æ¨¡å¼ä¸Šä¾ç„¶å­˜åœ¨ åˆ¤å®šæ–¹æ³•ï¼šè®¾$F$æ˜¯å±æ€§é›†$U$ä¸Šçš„å‡½æ•°ä¾èµ–é›†ï¼Œ$Z$æ˜¯$U$çš„ä¸€ä¸ªå­é›†ï¼Œ$F$åœ¨$Z$ä¸Šçš„æŠ•å½±ç”¨$\\piZ(F)$è¡¨ç¤ºï¼š$$\\pi{Z}(F)={X\\to Y\\mid X\\to Y\\wedge (X\\cap Y)\\subseteq Z }.è®¾å­˜åœ¨å…³ç³»æ¨¡å¼$R$çš„ä¸€ä¸ªåˆ†è§£$\\rho = \\{ R_1, R_2, â€¦, R_k \\}$,$F$æ˜¯$R$ä¸Šçš„å‡½æ•°ä¾èµ–é›†ï¼Œå¦‚æœF^+=(\\pi{R_1}(F)\\cup\\pi{R2}(F)\\cup\\cdots\\cup\\pi{R_k}(F))^+$$,åˆ™ç§°åˆ†è§£$\\rho$å…·æœ‰ä¾èµ–ä¿æŒæ€§ ä¸€è¨€ä»¥è”½ä¹‹ï¼šï¼ˆåˆ†è§£åçš„æ‰€æœ‰å‡½æ•°ä¾èµ–å¹¶èµ·æ¥å’ŒåŸæ¥çš„å‡½æ•°ä¾èµ–ç­‰ä»·ï¼‰ åœ¨å¿…é¡»åŒæ—¶æ»¡è¶³æ— æŸè”æ¥æ€§å’Œä¾èµ–ä¿æŒæ€§çš„è¦æ±‚ä¸‹ï¼Œä¸€ä¸ªå…³ç³»æ¨¡å¼æœ€é«˜å¯ä»¥è¢«åˆ†è§£åˆ°æ»¡è¶³ç¬¬ä¸‰èŒƒå¼ ç®—æ³•8-4ï¼šæŠŠå…³ç³»æ¨¡å¼åˆ†è§£åˆ°æ»¡è¶³ç¬¬ä¸‰èŒƒå¼å¹¶æ»¡è¶³æ— æŸè”æ¥æ€§å’Œä¾èµ–ä¿æŒæ€§ è®¡ç®—$F$çš„æœ€å°å‡½æ•°ä¾èµ–é›†ï¼Œå¹¶ç”¨æ¥ä»£æ›¿$F$è¿›è¡Œä¸‹é¢çš„æ¨¡å¼åˆ†è§£; $S=\\emptyset$ å¯¹ F ä¸­çš„æ¯ä¸€ä¸ªå‡½æ•°ä¾èµ–$X\\to Y$åšå¦‚ä¸‹å¤„ç†ï¼š å¦‚æœåœ¨é›†åˆ$S$ä¸­æ‰¾ä¸åˆ°æ»¡è¶³ä¸‹è¿°æ¡ä»¶çš„å­å…³ç³»æ¨¡å¼$Z$ï¼šX\\cup Y\\subseteq Z åˆ™ç”±$X$å’Œ$Y$æ„æˆä¸€ä¸ªæ–°çš„å­å…³ç³»åŠ å…¥åˆ°é›†åˆ$S$ä¸­ï¼Œå³$S=S\\cup \\text{Heading}(X\\cup Y)$ å¦‚æœå…³ç³»$R$çš„æ¯ä¸€ä¸ªå€™é€‰å…³é”®å­—$K$éƒ½æ²¡æœ‰å‡ºç°åœ¨åˆ†è§£åçš„å­å…³ç³»æ¨¡å¼ä¸­ï¼Œå³ï¼šæ‰¾ä¸åˆ°ä¸€ä¸ªå…³é”®å­—$K$å’Œä¸€ä¸ªå­å…³ç³»æ¨¡å¼$Z$ï¼Œä»–ä»¬ä¹‹é—´æ»¡è¶³$K\\subseteq Z$, é‚£ä¹ˆï¼Œå°±ä»å…³ç³»Rä¸­ä»»é€‰ä¸€ä¸ªå€™é€‰å…³é”®å­—$K$, ç”±$K$ä¸­çš„å±æ€§å•ç‹¬æ„æˆä¸€ä¸ªå­å…³ç³»æ¨¡å¼å¹¶åŠ å…¥åˆ°é›†åˆ$S$ä¸­å»ï¼Œå³ï¼š$S=S\\cup\\text{Heading}(K)$ ä¸€è¨€ä»¥è”½ä¹‹ï¼šå…ˆæŠŠæ‰€æœ‰å‡½æ•°ä¾èµ–çš„Headingséƒ½ç»„èµ·æ¥ï¼Œç„¶åæŠŠå…³é”®å­—è¡¥ä¸Šå» Ch9 æ•°æ®åº“è®¾è®¡9.1 æ•°æ®åº“è®¾è®¡æ¦‚è¿° æ•°æ®åº“è®¾è®¡çš„åŸºæœ¬ä»»åŠ¡ æ ¹æ®ç”¨æˆ·å¯¹è±¡çš„ä¿¡æ¯éœ€æ±‚ï¼ˆç”¨æˆ·çš„æ•°æ®ã€ç»“æ„åŠå…¶è¦æ±‚ï¼‰ã€å¤„ç†éœ€æ±‚ï¼ˆç”¨æˆ·å¯¹æ•°æ®çš„å¤„ç†è¿‡ç¨‹å’Œæ–¹å¼ï¼‰å’Œæ•°æ®åº“çš„æ”¯æŒç¯å¢ƒï¼ˆåŒ…æ‹¬ç¡¬ä»¶ã€æ“ä½œç³»ç»Ÿä¸DBMSï¼‰è®¾è®¡å‡ºæ•°æ®æ¨¡å¼ã€‚ æ•°æ®åº“çš„ç”Ÿå‘½å‘¨æœŸï¼šéœ€æ±‚åˆ†æ$\\rightarrow$æ¦‚å¿µè®¾è®¡$\\rightarrow$é€»è¾‘è®¾è®¡$\\rightarrow$ç‰©ç†è®¾è®¡$\\rightarrow$ç¼–ç $\\rightarrow$æµ‹è¯•$\\rightarrow$è¿è¡Œ$\\rightarrow$è¿›ä¸€æ­¥ä¿®æ”¹ï¼ˆå‰å››ä¸ªä¸ºæ•°æ®åº“è®¾è®¡çš„å››ä¸ªé˜¶æ®µï¼‰ 9.2 æ•°æ®åº“è®¾è®¡çš„éœ€æ±‚åˆ†æ éœ€æ±‚è¯´æ˜ä¹¦ï¼šä»è°ƒæŸ¥ç”¨æˆ·å•ä½ç€æ‰‹ï¼Œæ·±å…¥äº†è§£ç”¨æˆ·å•ä½çš„æ•°æ®æµç¨‹ã€æ•°æ®ä½¿ç”¨æƒ…å†µï¼Œæ•°æ®çš„æ•°é‡ã€æµé‡ã€æµå‘ã€æ€§è´¨ï¼Œå¹¶ä½œå‡ºåˆ†æï¼Œç¡®å®šéœ€è¦åœ¨æ•°æ®åº“ä¿å­˜å…¶ä¿¡æ¯çš„å®¢è§‚äº‹ç‰©ï¼ˆthingsï¼‰åŠå…¶ç›¸äº’å…³ç³»ï¼ˆrelationshipï¼‰ï¼Œæœ€ç»ˆæŒ‰ä¸€å®šè§„èŒƒè¦æ±‚ä»¥æ–‡æ¡£å½¢å¼å†™å‡ºæ•°æ®çš„éœ€æ±‚è¯´æ˜ä¹¦ã€‚ ä¸‰ä¸ªè§’åº¦ Things Attributses of Things Relationships among Things 9.3 æ•°æ®åº“çš„æ¦‚å¿µè®¾è®¡ æ•°æ®åº“æ¦‚å¿µè®¾è®¡çš„è¿‡ç¨‹ ç”¨æˆ·åˆ†è§£ï¼šé¦–å…ˆå°†æ‰€æœ‰ç”¨æˆ·åˆ’åˆ†ä¸ºåŠŸèƒ½ç›¸å¯¹ç‹¬ç«‹çš„è‹¥å¹²ä¸ªç”¨æˆ·ç»„ï¼Œç„¶åé’ˆå¯¹æ¯ä¸ªç”¨æˆ·ç»„è¿›è¡Œè§†å›¾è®¾è®¡ã€‚ è§†å›¾è®¾è®¡ï¼šé’ˆå¯¹æ¯ä¸ªç”¨æˆ·ç»„è®¾è®¡å…¶æ•°æ®è§†å›¾ï¼Œä»¥åæ˜ è¯¥ç»„ç”¨æˆ·å¯¹äºæ•°æ®çš„éœ€æ±‚ã€‚ è§†å›¾é›†æˆï¼šå°†è®¾è®¡å¥½çš„è‹¥å¹²ä¸ªå±€éƒ¨æ•°æ®è§†å›¾é›†æˆä¸ºä¸€ä¸ªå®Œæ•´çš„å…¨å±€æ•°æ®è§†å›¾ã€‚ ç­‰åŒï¼šä¸¤ä¸ªæˆ–å¤šä¸ªæ•°æ®å¯¹è±¡å…·æœ‰ç›¸åŒçš„è¯­ä¹‰ èšåˆï¼šæ•°æ®å¯¹è±¡ä¹‹é—´çš„ä¸€ç§ç»„æˆå…³ç³»ï¼ˆå±æ€§èšåˆæˆå®ä½“ï¼Œå±æ€§å’Œå®ä½“èšåˆæˆæ–°çš„å®ä½“ï¼‰ æŠ½å–ï¼šå°†ä¸åŒå®ä½“ä¸­çš„ç›¸åŒå±æ€§æå–æˆä¸€ä¸ªæ–°çš„å®ä½“ï¼Œå¹¶æ„é€ æˆå…·æœ‰é›†æˆå…³ç³»çš„ç»“æ„ å‘½åå†²çªï¼ˆåŒä¹‰å¼‚åï¼ŒåŒåå¼‚ä¹‰ï¼‰$\\rightarrow$é‡å‘½å æ¦‚å¿µå†²çªï¼ˆåŒä¸€æ¦‚å¿µåœ¨ä¸€å¤„ä¸ºå®ä½“ï¼Œè€Œåœ¨å¦ä¸€å¤„åˆ™ä¸ºå±æ€§æˆ–è”ç³»ï¼‰$\\rightarrow$ç»Ÿä¸€ä¸ºåŒä¸€ä¸ªæ¦‚å¿µï¼ˆä¸€èˆ¬ä¸ºå®ä½“ï¼‰ åŸŸå†²çªï¼ˆç±»å‹å†²çªã€åº¦é‡å•ä½å†²çªï¼‰$\\rightarrow$ç»Ÿä¸€ â€œæ•°æ®ç±»å‹â€ å’Œ â€œåº¦é‡å•ä½â€ çº¦æŸå†²çª$\\rightarrow$ç»Ÿä¸€æ•°æ®çº¦æŸï¼Œæˆ–è€…å¦‚æœä¸åŒæ•°æ®çº¦æŸçš„è¯­ä¹‰ä¹‹é—´æœ‰åŒ…å«å…³ç³»ï¼Œå¯ä»¥å°è¯•æ„å»ºå…·æœ‰â€˜çˆ¶å­â€™å…³ç³»çš„ç»§æ‰¿å±‚æ¬¡ç»“æ„ï¼Œå­ç±»å¯ä»¥æœ‰æ¯”çˆ¶ç±»æ›´ä¸¥æ ¼çš„æ•°æ®çº¦æŸã€‚æˆ–æ„å»ºä¸åŒçš„å®ä½“é›†ã€‚ E-Ræ¨¡å‹ä¸æ‰©å……E-Ræ¨¡å‹çš„è®¾è®¡ï¼šè§ç¬¬äºŒç«  9.4 æ•°æ®åº“çš„é€»è¾‘è®¾è®¡ ä»E-Ræ¨¡å‹å’ŒEE-Ræ¨¡å‹å‘å…³ç³»æ¨¡å‹çš„è½¬æ¢ ï¼ˆæ­¤å¤„å»ºè®®çœ‹åŸppt/gtmdç›´æ¥åšï¼‰ åŸºæœ¬æ–¹æ³•ï¼šæ¯ä¸ªå®ä½“é›†$\\to$ä¸€ä¸ªå…³ç³»æ¨¡å¼ï¼›æ¯ä¸ªè”ç³»$\\to$ä¸€ä¸ªå…³ç³»æ¨¡å¼ å®ä½“é›†çš„è½¬æ¢æ–¹æ³•ï¼ˆè§„åˆ™R1ï¼‰ï¼šæ¯ä¸ªå®ä½“é›†è¢«è½¬æ¢æˆä¸€ä¸ªå…³ç³»ï¼ˆæ¨¡å¼ï¼‰ï¼Œå…³ç³»åŠå…¶å±æ€§çš„å‘½åé‡‡ç”¨åŸå®ä½“é›†åŠå…¶å±æ€§çš„åç§°ã€‚ è”ç³»çš„è½¬æ¢æ–¹æ³•ï¼ˆè§„åˆ™R2ï¼‰ï¼šåœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ¯ä¸ªè”ç³»ä¹Ÿè¢«è½¬æ¢æˆä¸€ä¸ªå…³ç³»æ¨¡å¼ï¼Œè”ç³»åè¢«ç”¨ä½œè½¬æ¢å¾—åˆ°çš„å…³ç³»æ¨¡å¼çš„å…³ç³»åã€‚æ¥è‡ªäºç›¸å…³å®ä½“é›†çš„æ ‡è¯†å±æ€§ä¹Ÿæ˜¯ç›¸å…³å®ä½“é›†è½¬æ¢å¾—åˆ°çš„å…³ç³»æ¨¡å¼çš„ä¸»å…³é”®å­—ï¼Œå› æ­¤å®ƒä»¬ä¹Ÿæ˜¯è”ç³»è½¬æ¢å¾—åˆ°çš„å…³ç³»æ¨¡å¼ä¸­çš„å¤–å…³é”®å­—ã€‚ å‘½åä¸å±æ€§åŸŸçš„å¤„ç† å…³ç³»åŠå±æ€§çš„å‘½åï¼šå°½é‡é‡‡ç”¨åœ¨EE-Ræ¨¡å‹ä¸­åŸæœ‰çš„åç§°ï¼›å¯ä»¥é‡æ–°å‘½åï¼Œä½†è¦é¿å…å‘½åçš„å†²çªç°è±¡ã€‚ å±æ€§åŸŸçš„å®šä¹‰ï¼šæ ¹æ®DBMSçš„é€‰å‹è¿›è¡Œå¿…è¦çš„æ•°æ®ç±»å‹è½¬æ¢ éåŸå­å±æ€§çš„å¤„ç† é›†åˆå±æ€§çš„å¤„ç†ï¼ˆè§„åˆ™R1.1ï¼‰ï¼šå…³ç³»æ¨¡å¼ä¸å˜ï¼Œä½†åŸæœ‰å…³ç³»çš„ä¸€ä¸ªå…ƒç»„å°†è¢«çºµå‘å±•å¼€æˆå¤šä¸ªå…ƒç»„ã€‚è½¬æ¢å¾—åˆ°çš„å…³ç³»æ¨¡å¼çš„ä¸»å…³é”®å­—ç”±åŸå®ä½“é›†çš„æ ‡è¯†å±æ€§å’Œè¯¥é›†åˆå±æ€§è”åˆæ„æˆã€‚ä¾‹å¦‚å¼ ä¸‰ä¸€ä¸ªäººé€‰ä¿®äº†3é—¨è¯¾å°±æ‹†æˆ3ä¸ªå…ƒç»„ã€‚ å…ƒç»„å±æ€§çš„å¤„ç†ï¼ˆè§„åˆ™R1.2ï¼‰ï¼šå°†ä¸€ä¸ªå…ƒç»„å±æ€§æ¨ªå‘å±•å¼€æˆå¤šä¸ªå±æ€§ã€‚å¦‚å®ä½“é›†â€˜åœ†â€™æœ‰ä¸‰ä¸ªå±æ€§ï¼šåœ†æ ‡è¯†ç¬¦ï¼Œåœ†å¿ƒå’ŒåŠå¾„ï¼Œè€Œåœ†å¿ƒåˆç”±å…¶Xåæ ‡è½´å’ŒYåæ ‡è½´çš„å€¼ç»„æˆã€‚è½¬æ¢å¾—åˆ°çš„å…³ç³»æ¨¡å¼å³ä¸ºï¼ˆåœ†æ ‡è¯†ç¬¦ï¼ŒXè½´ï¼ŒYè½´ï¼ŒåŠå¾„ï¼‰ è”ç³»çš„è½¬æ¢ å…¨å‚ä¸ï¼šå¦‚æœ$E_1$ä¸­çš„æ¯ä¸ªå®ä½“éƒ½ä¸$E_2$ä¸­çš„æŸäº›å®ä½“æœ‰å…³è”ï¼›å¦åˆ™æ˜¯éå…¨å‚ä¸ 1:1äºŒå…ƒå…³ç³» è‹¥$E_1$å’Œ$E_2$éƒ½æ˜¯éå…¨å‚ä¸ å¯ä»¥è½¬åŒ–ä¸ºä¸‰ä¸ªå…³ç³»æ¨¡å¼ï¼š $E_1(k_1,a)$ï¼ˆå…³é”®å­—ä¸º$k_1$ï¼‰ $E_2(k_2,b)$ï¼ˆå…³é”®å­—ä¸º$k_2$ï¼‰ $R(k_1,k_2,r)$ï¼ˆå…³é”®å­—ä¸º$k_1$æˆ–$k_2$ï¼‰ + **è‹¥$E_1$å…¨å‚ä¸ï¼Œ$E_2$éå…¨å‚ä¸** å¯ä»¥è½¬åŒ–ä¸ºä¸¤ä¸ªå…³ç³»æ¨¡å¼ï¼š $E_1(k_1,a,k_2,r)$ï¼ˆå…³é”®å­—ä¸º$k_1$ï¼Œå¤–é”®ä¸º$k_2$ï¼‰ $E_2(k_2,b)$ï¼ˆå…³é”®å­—ä¸º$k_2$ï¼‰ + **è‹¥$E_1$å’Œ$E_2$éƒ½æ˜¯å…¨å‚ä¸** å¯ä»¥è½¬åŒ–ä¸ºä¸€ä¸ªå…³ç³»æ¨¡å¼ï¼š $E(k_1,a,k_2,b,r)$ï¼ˆ$k_1, k_2$æ˜¯ä¸¤ä¸ªå€™é€‰å…³é”®å­—ï¼‰ 1:näºŒå…ƒå…³ç³» è‹¥å¤šç«¯$E_2$æ˜¯å…¨å‚ä¸ å¯ä»¥è½¬åŒ–ä¸ºä¸¤ä¸ªå…³ç³»æ¨¡å¼ï¼š $E_1(k_1,a)$ï¼ˆå…³é”®å­—ä¸º$k_1$ï¼‰ $E_2(k_2,b,k_1,r)$ï¼ˆå…³é”®å­—ä¸º$k_2$ï¼Œå¤–é”®ä¸º$k_1$ï¼‰ è‹¥å¤šç«¯$E_2$æ˜¯éå…¨å‚ä¸ å¯ä»¥è½¬åŒ–ä¸ºä¸‰ä¸ªå…³ç³»æ¨¡å¼ï¼š $E_1(k_1,a)$ï¼ˆå…³é”®å­—ä¸º$k_1$ï¼‰ $E_2(k_2,b)$ï¼ˆå…³é”®å­—ä¸º$k_2$ï¼‰ $R(k_2,k_1,r)$ï¼ˆå…³é”®å­—ä¸º$k_2$ï¼Œå¤–é”®ä¸º$k_1$ï¼‰ m:näºŒå…ƒå…³ç³» å¯ä»¥è½¬åŒ–ä¸ºä¸‰ä¸ªå…³ç³»æ¨¡å¼ï¼š $E_1(k_1,a)$ï¼ˆå…³é”®å­—ä¸º$k_1$ï¼‰ $E_2(k_2,b)$ï¼ˆå…³é”®å­—ä¸º$k_2$ï¼‰ $R(k_1,k_2,r)$ï¼ˆå…³é”®å­—ä¸º$(k_1,k_2)$ï¼Œä¸¤è€…éƒ½ä¸ºå¤–é”®ï¼‰ å•ä¸ªå®ä½“é›†å†…éƒ¨çš„è”ç³» å°†è¯¥è”ç³»è½¬æ¢æˆä¸¤ä¸ªå®ä½“é›†ä¹‹é—´çš„äºŒå…ƒè”ç³»ï¼Œå†æŒ‰ç…§äºŒå…ƒè”ç³»çš„å¤„ç†æ–¹å¼è½¬æ¢æˆå…³ç³»æ¨¡å¼å°†ä¸¤ä¸ªå®ä½“é›†è½¬æ¢å¾—åˆ°çš„å…³ç³»æ¨¡å¼åˆå¹¶ä¸ºä¸€ä¸ªå…³ç³»ã€‚ 1:1è”ç³»å¯åˆå¹¶ä¸º$E(k,a,kâ€™,r)$ 1:nè”ç³»å¯åˆå¹¶ä¸º$E(k,a,kâ€™,r)$ m:nè”ç³»å¯åˆå¹¶ä¸º$E(k,a)$, $R(k_1,k_2,r)$ ç»§æ‰¿çš„è½¬æ¢ è‹¥$E1,E_2$ç»§æ‰¿äº$S$ï¼Œ$S$çš„å±æ€§æœ‰$(k,A_1,A_2,\\dots,A_n)$ï¼Œå…¶ä¸­$k$ä¸ºæ ‡è¯†å±æ€§ï¼›å®ä½“é›†$E_1$çš„å±æ€§æœ‰$(B{11},B{12},\\dots,B{1i})$ï¼Œå®ä½“é›†$E2$çš„å±æ€§æœ‰$(B{21},B{22},\\dots,B{2j})$ã€‚æœ‰ä¸‰ç§è½¬æ¢æ–¹å¼ï¼š æ¯ä¸€ä¸ªå®ä½“é›†éƒ½å°†è¢«è½¬æ¢ä¸ºä¸€ä¸ªå…³ç³»ï¼š $S(k,A1,A_2,\\dots,A_n)$ $E_1(k,B{11},B{12},\\dots,B{1i})$ $E2(k,B{21},B{22},\\dots,B{2j})$ åªæœ‰æœ€åº•å±‚çš„å¶å­ç»“ç‚¹æ‰ä¼šè¢«è½¬æ¢ä¸ºå…³ç³»ï¼Œå¹¶ä»å…¶æ‰€æœ‰è¶…å®ä½“é›†ä¸­ç»§æ‰¿å±æ€§ï¼š $E1(k,A_1,A_2,\\dots,A_n,B{11},B{12},\\dots,B{1i})$ $E2(k,A_1,A_2,\\dots,A_n,B{21},B{22},\\dots,B{2j})$ è¢«è½¬æ¢ä¸ºå•ä¸ªå…³ç³»ï¼Œå…¶ä¸­å«æœ‰æ‰€æœ‰å®ä½“é›†ä¸­çš„å±æ€§ï¼š $E1(k,A_1,A_2,\\dots,A_n,B{11},B{12},\\dots,B{1i},B{21},B{22},\\dots,B_{2j})$ å¯¹è½¬æ¢å¾—åˆ°çš„å…³ç³»æ¨¡å¼è¿›è¡Œè§„èŒƒåŒ–è®¾è®¡ï¼ˆè§Ch8ï¼‰â€”â€”åˆ°3NF æ ¹æ®ç»™å®šçš„æ•°æ®å®Œæ•´æ€§çº¦æŸå‘ç°å‡½æ•°ä¾èµ–ï¼ˆæœ€å°å‡½æ•°ä¾èµ–é›†ï¼‰ å…³é”®å­—çš„è®¡ç®— èŒƒå¼çš„åˆ¤æ–­åŠåˆ†è§£9.5 æ•°æ®åº“çš„ç‰©ç†è®¾è®¡ è®¾è®¡ç›®æ ‡ï¼šå¯¹æ•°æ®åº“å†…éƒ¨ç‰©ç†ç»“æ„ä½œè°ƒæ•´å¹¶é€‰æ‹©åˆç†çš„å­˜å–è·¯å¾„ï¼Œä»¥æé«˜æ•°æ®åº“è®¿é—®é€Ÿåº¦åŠæœ‰æ•ˆåˆ©ç”¨å­˜å‚¨ç©ºé—´ã€‚ ç´¢å¼•è®¾è®¡çš„ä½œç”¨åŠè®¾è®¡ç­–ç•¥ åœ¨ä¸»å…³é”®å­—åŠå¤–å…³é”®å­—ä¸Šå»ºç«‹ç´¢å¼•ï¼šæé«˜å…³ç³»è”æ¥æŸ¥è¯¢çš„é€Ÿåº¦ï¼Œæœ‰åˆ©äºå®ä½“å®Œæ•´æ€§åŠå¼•ç”¨å®Œæ•´æ€§çš„æ£€æŸ¥ã€‚ ä»¥è¯»ä¸ºä¸»çš„å…³ç³»åº”å°½å¯èƒ½å¤šåœ°å»ºç«‹ç´¢å¼• å¦‚æœæ ¹æ®æŸå±æ€§çš„ç­‰å€¼æŸ¥è¯¢æ‰€å¾—åˆ°çš„ç»“æœå…ƒç»„æ•°é‡è¾ƒå°‘ï¼Œåˆ™å¯ä»¥è€ƒè™‘å¯¹è¯¥å±æ€§å»ºç«‹ç´¢å¼• å¯¹ç»å¸¸ç”¨äºç»Ÿè®¡æŸ¥è¯¢çš„å±æ€§å»ºç«‹ç´¢å¼•ï¼šå¯ä»¥æ ¹æ®ç´¢å¼•æ•°æ®ç›´æ¥è·å–ç»Ÿè®¡ç»“æœï¼Œä¸å¿…å†å»è®¿é—®å¯¹åº”å…³ç³»çš„æ•°æ®å—ã€‚","categories":[],"tags":[]},{"title":"è®ºæ–‡é˜…è¯»ç¬”è®°","slug":"paper-reading","date":"2019-07-20T08:55:11.000Z","updated":"2019-11-15T12:23:07.081Z","comments":true,"path":"2019/07/20/paper-reading/","link":"","permalink":"https://mengzelev.github.io/2019/07/20/paper-reading/","excerpt":"","text":"é˜…è¯»ä¸€äº›è®ºæ–‡çš„æ”¶è·æ•´ç†ï¼Œå…¨æ˜¯ç§è´§(é›¾) A Large-Scale Empirical Study of Compile Errors in Continuous Integrationè¿™ç¯‡è®ºæ–‡é€šè¿‡æ•´ç†å¹¶ç­›é€‰äº†githubä¸Šçš„ä½¿ç”¨äº†ä¸€ä¸ªåå«Travis CIçš„javaé¡¹ç›®ï¼Œç»Ÿè®¡CIå†å²ä¸­å‡ºç°çš„CEä¸å„é¡¹å› ç´ çš„å…³ç³»ä¸»è¦éµå¾ªäº†é‡‡é›†æ•°æ®-åˆ†ææ•°æ®-å‘ç°è”ç³»-æå‡ºè§£é‡Š-ç»™å‡ºå»ºè®®çš„æ€è·¯æ•´ä¸ªé¡¹ç›®çš„buildåˆ†ä¸ºå¤šä¸ªè¿‡ç¨‹ï¼Œbuildçš„çŠ¶æ€æœ‰success, error, fail, canceledå’Œstartedç­‰ï¼Œmavenå’Œgradleçš„errorå’Œfailåˆ†åˆ«å‡ºç°åœ¨ä¸åŒçš„æ­¥éª¤æœ€åå¯¹developer,tool,researcherå„è‡ªæå‡ºäº†è‡ªå·±çš„å»ºè®® é¢‘ç‡åˆ†æåˆ†æäº†CEé¢‘ç‡ä¸é¡¹ç›®æ€§è´¨ã€åˆ†æ”¯ã€ä»£ç ç±»å‹(production code or test code)ã€build stateã€trgerring eventsä¹‹é—´çš„å…³ç³» åˆ†å¸ƒåˆ†æä½œè€…ä½¿ç”¨äº†æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ç»Ÿè®¡å„ç§é”™è¯¯ç±»å‹ï¼Œå¹¶ä¸googleçš„ç»“æœè¿›è¡Œäº†æ¯”è¾ƒå› ç´ ä½œç”¨å…³ç³»åŸºæœ¬åŒä¸Š fix effortåˆ†æé€šè¿‡åˆ†æCEå‡ºç°åˆ°æ¶ˆå¤±çš„æ—¶é—´æ¥è¡¡é‡fixæŸä¸ªCEæ‰€è€—è´¹çš„effort æ’é™¤æ‰äº†å¤šé”™è¯¯CEï¼Œå› ä¸ºç ”ç©¶éš¾åº¦è¿‡å¤§ æ’é™¤æ‰äº†è¶…è¿‡12ä¸ªå°æ—¶çš„fixï¼Œå› ä¸ºè¿™å¯èƒ½è·Ÿç¨‹åºå‘˜çš„ä¸ªäººç”Ÿæ´»å®‰æ’æœ‰å…³è®¾è®¡åˆ°ä»£ç æ¶æ„å®ç°CEæ¯”ä¸ªåˆ«åœ°æ–¹å†™é”™çš„CEéœ€è¦æ›´å¤šçš„æ—¶é—´fixgoogleçš„å¹³å‡fixæ—¶é•¿çŸ­ä¸€äº›ï¼Œå¯èƒ½æ˜¯å› ä¸ºgoogleå¯¹fixæ—¶é—´æœ‰è¦æ±‚ï¼Œè€Œä¸”è¿˜æœ‰æ•°æ®é›†çš„åŒºåˆ« fix patternåˆ†æäººå·¥åˆ†æ Programmersâ€™ Build Errors: A Case Study(at Google)è¿™ç¯‡è®ºæ–‡ç ”ç©¶äº†3ä¸ªé—®é¢˜ï¼š ç¼–è¯‘é”™è¯¯çš„é¢‘ç‡ ç¼–è¯‘é”™è¯¯çš„åŸå›  ä¿®å¤é”™è¯¯ç¼–è¯‘çš„æ—¶é—´ æ–¹æ³•ï¼šä¸€ä¸ªparserï¼Œå¯ä»¥å°†æŠ¥é”™åˆ†ç±» æ ‡å‡†æ•°æ®æ¥æºæ˜¯buildçš„log fileè®¡ç®—äº†ä»¥ä¸‹ç»´åº¦çš„æ•°æ®ï¼š ç¼–è¯‘æ¬¡æ•° ç¼–è¯‘å¤±è´¥ç‡ï¼šå¤±è´¥æ¬¡æ•°/æ€»ç¼–è¯‘æ¬¡æ•° ç¼–è¯‘é”™è¯¯ç±»å‹ count-all:ä¸€æ¬¡ç¼–è¯‘ä¸­å‡ºç°çš„å¤šä¸ªåŒç±»é”™è¯¯ç®—å¤šä¸ª count-distinct:â€¦.ç®—ä¸€ä¸ª ä½†æ˜¯é”™è¯¯å‡ºç°çš„æ¬¡æ•°æƒé‡æ˜¯ä¸å¯¹ç­‰çš„(æ¯”å¦‚æ¼å†™ä¸€ä¸ªå£°æ˜ä¼šæŠ¥ä¸€å †ç¬¦å·é”™è¯¯)ï¼Œæ‰€ä»¥é‡‡ç”¨count-distinctæ¯”è¾ƒåˆç† è§£å†³æ—¶é—´ï¼šç¬¬ä¸€æ¬¡build failç»“æŸåˆ°ç¬¬ä¸€æ¬¡build successå¼€å§‹ä¹‹é—´çš„æ—¶é—´ï¼ŒåŒæ—¶è®°å½•äº†è¿™æœŸé—´build failçš„æ¬¡æ•° åªè€ƒè™‘å•é”™è¯¯çš„fail building åªè€ƒè™‘åœ¨12ä¸ªå°æ—¶å†…è§£å†³çš„é”™è¯¯ RQ1ï¼šé”™è¯¯é¢‘ç‡æŠŠå¼€å‘è€…æŒ‰ç…§ç»éªŒåˆ†ç±»è¿›è¡Œäº†æ•°æ®åˆ†æä½†æ˜¯å¯¹ç»éªŒç¨‹åº¦çš„å®šä¹‰å¯èƒ½ä¸å¤Ÿå‡†ç¡® RQ2ï¼šé”™è¯¯åŸå› æŠŠå„ç§ç¼–è¯‘é”™è¯¯åˆ†æˆäº†5ä¸ªå¤§ç±»ï¼šDependency, Type mismatch, Syntax, Semantic, Otherå¯¹äºC++å’ŒJavaæ¥è¯´ï¼ŒDependency-related erroréƒ½æ˜¯æœ€å¸¸è§çš„é”™è¯¯ç±»å‹ RQ3ï¼šä¿®å¤æ—¶é—´æŠŠç ”ç©¶å¯¹è±¡é™å®šä¸ºå•ä¸€ç±»å‹çš„é”™è¯¯ä¿¡æ¯ï¼Œæ’é™¤å¤šé”™è¯¯ä¿®å¤æ—¶é—´å¸¦æ¥çš„è¯¯å·® è¿›ä¸€æ­¥åˆ†æï¼Œè¿˜è¿›è¡Œäº†case studyé¦–å…ˆéšæœºé€‰æ‹©äº†25ä¸ªJavaçš„cant.resolveç±»å‹çš„ç¼–è¯‘é”™è¯¯ï¼Œè¿™äº›é”™è¯¯éƒ½æ˜¯åœ¨ä¸‹ä¸€æ¬¡buildçš„æ—¶å€™å°±ä¿®å¤äº†çš„ï¼Œå¯¹æ¯”äº†ä¿®å¤å‰åçš„æ–‡ä»¶æ¥è§‚å¯Ÿé”™è¯¯æ˜¯å¦‚ä½•è¢«ä¿®å¤çš„ï¼Œå¹¶å°†ç»“æœè®°å…¥è¡¨æ ¼ How do fixes become bugs?Intro. ä¸¾ä¾‹è¯æ˜incorrect fixæ™®éå­˜åœ¨æ€§ æå‡ºäº†å¯¼è‡´incorrect fixçš„ä¸‰ä¸ªå¯èƒ½åŸå›  å¹ä¸€ä¸‹è‡ªå·±ç ”ç©¶çš„é‡è¦æ€§ Methodologysoftware projects under studyå››ä¸ªOS(ä¸€ä¸ªé—­æºå•†ä¸šOSï¼ŒFreeBSD, OpenSolaris, Linux)é€‰æ‹©stable&amp;widely deployedçš„seriesä¸ºäº†æœºå¯†æ€§æŠŠå››ä¸ªOSmapæˆäº†ABCDè€Œä¸çŸ¥é“å“ªä¸ªæ˜¯å“ªä¸ª find incorrect fixesdef: introduce new problems or not completely fixedidentify bug fix: whether associatied with a bug report not always systematically maintained leverage the verbal info in bug reports oir cahnge logs to reconstruct the linkssemi-automatically check whether fixed correctly: automatically select potential incorrect fix candidates source code overlap between changes -&gt; the latter may be to correct the first(more comprehensive) search for words in bug report indicating incorrect fixes manually check each candidate(unique challenge) even discuss with developersmay prune a few incorrect fixes out, but rare target bugs to studySample set1: post-release bugsSample set2: fixes to memory leaks, buffer overflow, data race, deadlock bugs Measuring code knowledgeç•¥ Significance proportion of incorrect bug fixes(14.8%~24.4%) result what kinds of problems(crash, hang, data loss, â€¦) Incorrect fix patterns concurrency bugs: hardest to fix data race -&gt; add locks -&gt; deadlock deadlock -&gt; new deadlock/hided bugs buffer overflow: use safe string function is safest, enlarged buffer may not solve, dynamic allocation introduces memory leaks memory leak -&gt; dangling pointer/null pointer dereference -&gt; good to nullify pointer after fix semantic bugs: conditions are difficult to fix","categories":[],"tags":[]},{"title":"Windows-UbuntuåŒç³»ç»Ÿé‡è£…ç¬”è®°","slug":"system-rebuild-notes","date":"2019-07-08T05:49:57.000Z","updated":"2019-07-08T07:04:40.002Z","comments":true,"path":"2019/07/08/system-rebuild-notes/","link":"","permalink":"https://mengzelev.github.io/2019/07/08/system-rebuild-notes/","excerpt":"","text":"ä¹‹å‰Linuxåªç»™äº†20ä¸ªGè¿‡äºå±€ä¿ƒï¼ŒWindowsä¼å›¾è£…WSLåˆå‡ºç°äº†å„ç§å„æ ·çš„é—®é¢˜ï¼Œäºæ˜¯å°±è„‘å­ä¸€å‘çƒ­æŠŠä¸¤ä¸ªç³»ç»Ÿå¤‡ä»½ä»¥åéƒ½é‡è£…äº†ã€‚æœŸé—´æŸ¥äº†å¾ˆå¤šæ•™ç¨‹ï¼Œå°±ç»Ÿä¸€æ±‡æ€»åœ¨è¿™é‡Œäº†ã€‚ Windowsé‡è£… åŸæ¥è£…çš„æ˜¯win10å®¶åº­ç‰ˆï¼Œå¾ˆå¤šåŠŸèƒ½è¢«é˜‰å‰²æ‰äº†ï¼Œå°±å†³å®šé‡è£…å­¦æ ¡ä¹°çš„win10æ•™è‚²ç‰ˆï¼Œå‡ ç§ç‰ˆæœ¬çš„nbç¨‹åº¦å¤§æ¦‚æ˜¯æ•™è‚²ç‰ˆâ‰ˆä¼ä¸šç‰ˆ&gt;ä¸“ä¸šç‰ˆ&gt;å®¶åº­ç‰ˆ å¦‚æœæ˜¯åŒä¸€ä¸ªç‰ˆæœ¬å†…çš„é‡è£…ï¼Œåªéœ€è¦åˆ°è®¾ç½®é‡Œæ‰¾â€é‡è£…windowsâ€å°±å¯ä»¥äº†ï¼Œç”šè‡³å¯ä»¥ä¿ç•™ä¸ªäººæ–‡ä»¶ ä¸‹è½½windowsçš„isoæ–‡ä»¶åˆ°Uç›˜é‡Œ(Uç›˜ä¸éœ€è¦æ ¼å¼åŒ–)ï¼Œè§£å‹ï¼Œå¯åŠ¨ç›˜å°±åšå¥½äº†ã€‚å› ä¸ºç°åœ¨çš„ç¬”è®°æœ¬ç”µè„‘åŸºæœ¬éƒ½è£…æœ‰UEFIï¼Œå¯ä»¥è‡ªå·±é€‰æ‹©å¯åŠ¨æ–¹å¼ï¼Œæ‰€ä»¥ä¸éœ€è¦å†æ ¼å¼åŒ–åšå¼•å¯¼ç›˜ã€‚ æŠŠåŸå…ˆCç›˜é‡Œçš„é‡è¦æ–‡ä»¶å¤‡ä»½ä¸€ä¸‹lç”µè„‘å“ç‰Œçš„å®˜ç½‘ä¸Šå»æŸ¥æ‰¾è¿›å…¥æ–¹å¼)ï¼Œé€‰æ‹©è£…äº†windowså®‰è£…ç¨‹åºçš„Uç›˜è¿›å…¥ æ¥ä¸‹æ¥æŒ‰ç…§æŒ‡ç¤ºä¸€æ­¥æ­¥åšå°±å¯ä»¥äº†ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯å¦‚æœæ˜¯è¦é‡è£…ç³»ç»Ÿï¼Œè¦é€‰æ‹©â€œè‡ªå®šä¹‰å®‰è£…â€ï¼Œç„¶åé€‰ä¸€ä¸ªä½ç½®ä½œä¸ºCç›˜å®‰è£…windows ç­‰20åˆ†é’Ÿå·¦å³ç³»ç»Ÿå°±è£…å¥½è¾£ è¿›å…¥windowsåå¦‚æœå‘ç°è¿ä¸ä¸Šwifiäº†/æ²¡æœ‰å£°éŸ³äº†ï¼Œåº”è¯¥æ˜¯ç›¸å…³é©±åŠ¨åœ¨æ ¼å¼åŒ–çš„æ—¶å€™è¢«åˆ æ‰äº†ï¼Œåªéœ€è¦åˆ°ç”µè„‘å‚å•†çš„å®˜ç½‘ä¸Šä¸‹è½½å¯¹åº”å‹å·çš„é©±åŠ¨ç¨‹åºå°±å¯ä»¥äº† psæ—¢ç„¶é‡è£…äº†windowsï¼Œå›½äº§æµæ°“è½¯ä»¶ä¾‹å¦‚3*0ï¼Œé©±åŠ¨*çµå°±ä¸è¦è£…äº†ï¼Œæˆ‘ä¹‹å‰å¹´å°‘æ— çŸ¥è£…äº†3*0å¸è½½äº†å‡ æ¬¡éƒ½æŠŠè‡ªå·±ç»™è£…å›æ¥äº† Ubuntué‡è£…ä¸é…ç½®å› ä¸ºæ‰“ç®—ä»¥åå¸¸é©»Ubuntuäº†ï¼Œè€Œä¸”å¯ä»¥ä¸ªæ€§åŒ–çš„å†…å®¹ä¹Ÿæ¯”è¾ƒå¤šï¼Œæ‰€ä»¥è¿™è¾¹è¦é…ç½®çš„ä¸œè¥¿ä¼šç›¸å¯¹å¤šä¸€äº› é‡è£…é¦–å…ˆè¦åœ¨ç£ç›˜ä¸Šå‡†å¤‡å¥½ä¸€å®šçš„ç©ºé—´ï¼ŒUbuntuæ¯”è¾ƒå°ï¼Œå¾€æ­»é‡Œå‹çš„è¯20Géƒ½èƒ½è£…å¾—ä¸‹ï¼Œä½†æ˜¯åæœŸä½¿ç”¨ä¼šç»å¸¸å‡ºç°ç£ç›˜ç©ºé—´ä¸è¶³çš„é—®é¢˜ï¼ˆä¸è¦é—®æˆ‘æ€ä¹ˆçŸ¥é“çš„ï¼‰ï¼Œæ‰€ä»¥è¿™æ¬¡æˆ‘ç»™äº†70Gï¼ˆç£ç›˜æ€»å¤§å°256Gï¼‰åˆ°windowsçš„â€œç£ç›˜æ ¼å¼åŒ–ä¸å‹ç¼©â€ï¼ˆæˆ‘å¿˜äº†æ˜¯ä¸æ˜¯å«è¿™ä¸ªäº†ï¼Œæ¬¢è¿çº æ­£ï¼‰ä¸­é€‰æ‹©ä¸€ä¸ªå¯ä»¥å‹ç¼©çš„ç£ç›˜ï¼Œå³å‡»â€œå‹ç¼©å·â€ï¼Œé€‰æ‹©éœ€è¦å‹ç¼©çš„å¤§å°ã€‚å¦‚æœéœ€è¦å‹ç¼©çš„ç©ºé—´æ¯”å¯å‹ç¼©ç©ºé—´å°è¿˜æ˜¯å¤±è´¥çš„è¯åº”è¯¥æ˜¯å½“å‰ç£ç›˜çš„ç¢ç‰‡å¤ªå¤šï¼Œå»ºè®®å¤‡ä»½ä»¥åæ ¼å¼åŒ–ä¸€ä¸‹ã€‚æ³¨æ„ï¼š åŒç³»ç»Ÿé‡è£…é€‰æ‰‹ä¸€å®šè¦å…ˆè£…Windowså†è£…Ubuntuï¼Œä¸ç„¶windowsçš„å¼•å¯¼ä¼šè¦†ç›–æ‰Ubuntuçš„å¼•å¯¼ï¼Œäº§ç”Ÿä¸å¿…è¦çš„éº»çƒ¦ ç„¶åå°±åªéœ€è¦é‡å¯è¿›å…¥UEFIåƒé‡è£…windowsä¸€æ ·æ“ä½œå³å¯ä»windowsé‡å¯å¯èƒ½ä¼šå‡ºç°è¿›ä¸äº†UEFIçš„æƒ…å†µï¼Œå¯èƒ½æ˜¯windowså¿«é€Ÿå¯åŠ¨ä¼˜åŒ–å¯¼è‡´çš„ï¼Œè§£å†³æ–¹æ³•æ˜¯é‡å¯æ—¶æŒ‰ä½shifté”®ï¼Œä¼šå‡ºç°è“è‰²çš„å±å¹•ï¼Œé€‰æ‹©é«˜çº§é€‰é¡¹-&gt;è¿›å…¥UEFI Ubuntuçš„å®‰è£…ç¨‹åºä¹Ÿæ¯”è¾ƒäº²æ°‘ï¼ŒåŸºæœ¬æŒ‰ç…§æŒ‡ç¤ºåšç‚¹Continueå°±å¯ä»¥ï¼Œå”¯ä¸€çš„ç¨å¾®æœ‰å›°éš¾çš„åœ°æ–¹æ˜¯ç£ç›˜åˆ†åŒºé‚£é‡Œï¼Œæˆ‘åªæä¾›ä¸€ä¸‹æˆ‘çš„åˆ†åŒºæ–¹æ¡ˆåšå‚è€ƒï¼Œä¸ä¿è¯ä¸€å®šæ˜¯æœ€å¥½çš„ï¼š biosgrubï¼š200M,ç”¨äºæ”¾ç½®å¼•å¯¼ swapï¼šäº¤æ¢åˆ†åŒºï¼Œæˆ‘ä¹Ÿä¸æ¸…æ¥šè¿™ä¸ªæ˜¯åšä»€ä¹ˆçš„ï¼Œçœ‹åˆ°ç½‘ä¸Šä¸å°‘åœ°æ–¹è¯´å’Œå†…å­˜å·®ä¸å¤šå¤§å°±å¯ä»¥äº†ï¼Œæˆ‘çš„å†…å­˜æ˜¯8Gï¼Œæ‰€ä»¥æˆ‘ç»™äº†10G å‰©ä¸‹çš„ç©ºé—´å…¨éƒ½ç»™æ ¹ç›®å½•â€/â€œï¼ŒæŒ‚è½½æ–¹å¼é€‰æ‹©ext4æ–‡ä»¶ç³»ç»Ÿï¼ŒæŒ‚è½½ç‚¹é€‰æ‹©â€/â€œ 20åˆ†é’Ÿä¸åˆ°ä½ å°±å¯ä»¥çœ‹åˆ°èˆ¹æ–°çš„Ubuntuäº† å®‰è£…è½¯ä»¶æ‹¿åˆ°æ–°ç³»ç»Ÿç¬¬ä¸€ä»¶äº‹æ˜¯æŠŠåŸºæœ¬çš„è½¯ä»¶éƒ½è£…äº†Linuxç³»ç»Ÿè£…è½¯ä»¶éƒ½å¾ˆæ–¹ä¾¿ï¼Œç›´æ¥sudo apt install [è½¯ä»¶å]å°±å¯ä»¥äº†ä¸€èˆ¬å¿…å¤‡çš„è½¯ä»¶æœ‰ï¼šgit, gcc, g++ç­‰ï¼Œå…¶ä»–å¯ä»¥ç­‰ç”¨åˆ°äº†çš„æ—¶å€™å†è£…ï¼Œåæ­£å¾ˆæ–¹ä¾¿ æ›´æ¢è½¯ä»¶æºåœ¨Ubuntuèœå•é‡Œé¢æ‰¾åˆ°â€Software &amp; Updatesâ€â€œDownload fromâ€ä¸‹æ‹‰æ¡é‡Œé¢é€‰æ‹©â€Otherâ€¦â€, å›½å®¶æ‰¾åˆ°Chinaï¼Œç„¶åé€‰æ‹©ä½ è¦æ¢çš„ç½‘å€ï¼Œæˆ‘ç”¨çš„æ˜¯é˜¿é‡Œäº‘çš„é•œåƒç¡®å®šå¹¶å…³é—­ä¹‹ååº”è¯¥ä¼šæœ‰æ›´æ–°æç¤ºï¼Œç­‰å°±å¯ä»¥äº† ä¸­æ–‡è¾“å…¥æ³•ç”±äºæˆ‘è£…çš„æ˜¯è‹±æ–‡ç³»ç»Ÿï¼Œä¸Šç™¾åº¦æœæ•™ç¨‹éå¸¸ä¸æ–¹ä¾¿ï¼Œæ‰€ä»¥ç¬¬ä¸€ä»¶äº‹æ˜¯æŠŠä¸­æ–‡è¾“å…¥æ³•ç»™è£…å¥½Ubuntuè‡ªå¸¦çš„ä¸­æ–‡è¾“å…¥æ³•iBuséå¸¸åäººç±»ï¼Œæ‰€ä»¥å»ºè®®è‡ªå·±è£…ä¸­æ–‡è¾“å…¥æ³•ï¼Œæˆ‘è£…çš„æ˜¯æœç‹—æ‹¼éŸ³è¾“å…¥æ³•for Linux è§£å†³Ubuntu 18.04ä¸­æ–‡è¾“å…¥æ³•çš„é—®é¢˜ï¼Œå®‰è£…æœç‹—æ‹¼éŸ³ chromeUbuntuè‡ªå¸¦çš„æ˜¯Firefoxæµè§ˆå™¨ï¼Œç›¸æ¯”äºIEæ¥è¯´ä¹Ÿå¾ˆå¥½ç”¨äº†ï¼Œä½†æ˜¯èˆä¸å¾—chromeçš„åŒæ­¥åŠŸèƒ½æ‰€ä»¥è¿˜æ˜¯å†³å®šç”¨chrome ç™¾åº¦æœç´¢chromeå®˜ç½‘ï¼Œä¸‹è½½.debæ–‡ä»¶ï¼Œå®Œæˆåç›´æ¥æ‰“å¼€ï¼ŒUbuntuçš„è½¯ä»¶å•†åº—ä¼šè·³å‡ºæ¥ï¼Œå†ç‚¹Installå°±å¯ä»¥äº† å°é£æœºè¦æƒ³ç™»å½•googleè´¦å·è‚¯å®šéœ€è¦ç§‘å­¦ä¸Šç½‘ ubuntué…ç½®å°é£æœº å€¼å¾—è¡¥å……çš„æ˜¯ï¼Œå¦‚æœä»githubä¸Šä¸‹è½½çš„SwitchyOmegaçš„crxæ–‡ä»¶æ‹–è¿›chromeæ˜¾ç¤ºINVALID_CRX_HEADERï¼Œå°±æŠŠcrxæ–‡ä»¶åç¼€ç›´æ¥æ”¹æˆzipï¼Œç„¶åè§£å‹è¯¥zipæ–‡ä»¶ï¼Œåœ¨chromeæ’ä»¶ç®¡ç†ç•Œé¢ä¸­æ‰“å¼€å¼€å‘è€…æ¨¡å¼-&gt;å¯¼å…¥(Load Unpacked)ï¼Œé€‰æ‹©ä¸€ä¸ªåå«â€SwitchyOmega_xxxâ€(xxxä¸ºç‰ˆæœ¬å·)çš„æ–‡ä»¶å¤¹å³å¯ QQ or TIMwszqkzqk/deepin-wine-ubuntu ç¾åŒ–ç”¨æƒ¯äº†windowsçš„äººè¡¨ç¤ºæƒ³è¦ä¸€ä¸ªå¥½åº·çš„GUIç¯å¢ƒï¼ŒUbuntuåŸç”Ÿçš„æœ‰ç‚¹å¤ªæ­»æ¿äº† ç¾åŒ–æ¡Œé¢ç¯å¢ƒéœ€è¦å…ˆä¸‹è½½gnome-tweak-toolsï¼Œä¸è¦é—®ï¼Œé—®å°±æ˜¯apt æ›´æ¢ä¸»é¢˜åˆ°gnome-look.orgä¸Šæ‰¾å–œæ¬¢çš„ä¸»é¢˜å’Œiconä¸»é¢˜å°±å¯ä»¥äº†æˆ‘è£…çš„æ˜¯æ’åæœ€é«˜çš„Flat Remix GNOME/Ubuntu/GDM themeå®‰è£…æ–¹æ³•é‡Œé¢éƒ½æœ‰å†™è£…å®Œä»¥ååœ¨èœå•é‡Œé¢æ‰¾Tweaksï¼Œåœ¨é‡Œé¢æ”¹Applicationsï¼Œiconsç­‰è®¾ç½®å°±å¯ä»¥äº† gnomeæ’ä»¶è¿™æ¬¡è£…æœºçªç„¶äº†è§£åˆ°ä¸€ä¸ªå¾ˆéªšçš„ç›´æ¥åœ¨æµè§ˆå™¨é‡Œç®¡ç†gnomeçš„æ’ä»¶çš„å·¥å…·å¦‚ä½•æ‰‹åŠ¨æˆ–é€šè¿‡æµè§ˆå™¨è½»æ¾å®‰è£… GNOME Shell æ‰©å±•ï¼Ÿ æˆ‘è£…çš„æ’ä»¶æœ‰ dash to dock(å¯ä»¥æŠŠä»»åŠ¡æ ä¸€æ ·çš„æ¡æ‹¿åˆ°ä¸‹é¢ï¼Œè¿˜å¯ä»¥è®¾ç½®è‡ªåŠ¨éšè—) Hide top bar(è®¾ç½®ä¸Šé¢é‚£æ¡ä¸œè¥¿è‡ªåŠ¨éšè—) User themes(è®©shellå¯ä»¥ä½¿ç”¨ä¸»é¢˜åŒæ ·çš„é£æ ¼) å­—ä½“Ubuntuæœ¬æ¥çš„å­—ä½“å°±è¿˜å¯ä»¥ï¼Œä¸è¿‡æˆ‘è¿˜æ˜¯æœ€å–œæ¬¢è‹¹æœçš„monaco ubuntu16.04å®‰è£…monacoå­—ä½“ zshUbuntué»˜è®¤çš„ç»ˆç«¯æ˜¯bashï¼Œä½†æ˜¯zshæ¯”bashå¥½çœ‹ï¼Œè€Œä¸”æ’ä»¶ä¹Ÿå¾ˆä¸°å¯Œï¼Œæ‰€ä»¥æˆ‘æŠŠé»˜è®¤ç»ˆç«¯æ¢æˆzshäº† Ubuntu 16.04ä¸‹å®‰è£…zshå’Œoh-my-zsh ä¸»é¢˜æˆ‘ç”¨çš„æ˜¯powerlevel9kå€¼å¾—æé†’çš„æ˜¯ï¼Œæ”¹.zshrcä¹‹å‰ä¸€å®šè¦è®°å¾—å¤‡ä»½ï¼Œæˆ‘å°±æŠŠè‡ªå·±çš„zshç©åè¿‡è¿˜å›ä¸å»orz vimå’Œtmuxæˆ‘ç›´æ¥ç”¨äº†githubä¸Šåˆ«äººçš„é…ç½®æ–‡ä»¶ï¼Œå®‰è£…æ–¹æ³•é‡Œé¢éƒ½æœ‰ gpakosz/.tmuxamix/vimrc è¯´å®è¯æˆ‘å·²ç»ç”¨æƒ¯äº†vscodeåŸºæœ¬ä¸ç¢°vimäº†(x)","categories":[],"tags":[]},{"title":"æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°","slug":"os-review","date":"2019-06-21T12:58:41.000Z","updated":"2019-06-23T03:37:40.845Z","comments":true,"path":"2019/06/21/os-review/","link":"","permalink":"https://mengzelev.github.io/2019/06/21/os-review/","excerpt":"","text":"è¿™å…¶å®æ˜¯jyyè¯¾ç¨‹è®²ä¹‰æ‘˜æŠ„ å­˜å‚¨ä»‹è´¨ç»´åº¦ï¼šä»·æ ¼ã€å®¹é‡ã€é€Ÿåº¦ã€å¯é æ€§ æŒä¹…åŒ–å­˜å‚¨ä»‹è´¨ç»Ÿç§°Non-Volatile Memory IOè®¾å¤‡ä¸é©±åŠ¨è®¾å¤‡ï¼šä¸‰ç§æ“ä½œï¼ˆå‘é€å‘½ä»¤ã€è¯»å–çŠ¶æ€ã€ä¼ è¾“æ•°æ®ï¼‰çš„é›†åˆ ç®¡ç†IOè®¾å¤‡æŸ¥çœ‹ç³»ç»ŸIOè®¾å¤‡ï¼šlspci,lsblk(å®ç°ï¼š open(&quot;/sys/bus/pci&quot;)) Loop Back Device(å›è·¯è®¾å¤‡)ï¼šæŠŠä¸€ä¸ªæ–‡ä»¶æ¨¡æ‹Ÿæˆä¸€ä¸ªå—è®¾å¤‡a pseudo-device that makes a file accessible as a block device in Unix-like operating systems IOè®¾å¤‡ç±»å‹ä¼—å¤šã€è®¿é—®æ¨¡å¼å·®è·å¾ˆå¤§è§£å†³ï¼šæŠ½è±¡å±‚â€”â€”è®¾å¤‡é©±åŠ¨è®¾å¤‡é©±åŠ¨ï¼šæ“ä½œç³»ç»Ÿå¯¹è®¾å¤‡è¿›è¡Œçš„é¢å¤–æŠ½è±¡ï¼Œä½¿å¾—æ›´ä¸Šå±‚çš„éƒ¨åˆ†ï¼ˆé€šå¸¸æ˜¯æ–‡ä»¶ç³»ç»Ÿï¼‰èƒ½å¤Ÿä»¥ç»Ÿä¸€çš„æ¥å£è®¿é—®è¿™äº›è®¾å¤‡ï¼Œi.e.æŠŠæ–‡ä»¶APIç¿»è¯‘æˆè®¾å¤‡å‘½ä»¤ è®¾å¤‡é©±åŠ¨å±‚å¸®åŠ©æˆ‘ä»¬å±è”½äº†åº•å±‚è®¾å¤‡çš„å…·ä½“å®ç°ç»†èŠ‚ ä½¿å¾—åˆ›å»ºâ€œè™šæ‹Ÿâ€è®¾å¤‡éå¸¸å®¹æ˜“(/dev/random,/dev/null) I/Oè®¾å¤‡æœ€ä¸»è¦çš„åŠŸèƒ½ï¼šinput/output(read/write)è¿˜æœ‰ä¸€äº›è®¾å¤‡ç›¸å…³è®¾ç½®(ioctl) DMAè§£å†³ä¸­æ–­æ²¡èƒ½è§£å†³çš„é—®é¢˜ä¸€ä¸ªå®ŒæˆCPUå’Œè®¾å¤‡ä¹‹é—´æ•°æ®ä¼ è¾“çš„I/Oè®¾å¤‡è¿™æ ·CPUå¯ä»¥åœ¨ä¼ é€æ•°æ®æ—¶åšåˆ«çš„äº‹ æ–‡ä»¶ç³»ç»Ÿæ¦‚å¿µå­˜å‚¨è®¾å¤‡è™šæ‹ŸåŒ–è™šæ‹Ÿç£ç›˜ï¼šä¸€ä¸ªå¯ä»¥è¯»å†™çš„åŠ¨æ€å­—èŠ‚åºåˆ—ä¼ ç»Ÿç†è§£ï¼šæ–‡ä»¶ç³»ç»Ÿæ˜¯ä¿å­˜åœ¨æŒä¹…å­˜å‚¨ä¸Šçš„æ•°æ®ç»“æ„(å­˜å‚¨æ ¼å¼è§„èŒƒ+å…è®¸çš„æ“ä½œ) æ–‡ä»¶ç³»ç»Ÿã€ä»¥ä¸‹æ˜¯æˆ‘èƒ½æ‰¾åˆ°çš„æ‰€æœ‰æè¿°ã€‘ å­˜å‚¨è®¾å¤‡çš„è™šæ‹ŸåŒ–æœºåˆ¶ ä¿å­˜åœ¨æŒä¹…å­˜å‚¨ä¸Šçš„æ•°æ®ç»“æ„ æ–‡ä»¶ååˆ°è™šæ‹Ÿç£ç›˜çš„æ˜ å°„ ç®¡ç†æ“ä½œç³»ç»Ÿå†…éƒ¨å¯¹è±¡çš„ä¸­é—´å±‚ è¿æ¥åº”ç”¨ç¨‹åºä¸è®¾å¤‡é©±åŠ¨çš„æ¡¥æ¢ ç®¡ç†æ“ä½œç³»ç»Ÿä¸­èƒ½å¤ŸæŠ½è±¡æˆâ€œè™šæ‹Ÿç£ç›˜â€æ¥å£è®¿é—®çš„ä»»ä½•æ•°æ® æ–‡ä»¶ç³»ç»Ÿå®ç° = æ•°æ®ç»“æ„çš„æŸ¥è¯¢/ä¿®æ”¹æ“ä½œæ–‡ä»¶ï¼šå¯è¯»å†™çš„æ•°æ®å¯¹è±¡ï¼Œç›¸å½“äºä¸€ä¸ªè™šæ‹Ÿç£ç›˜æ–‡ä»¶æ“ä½œ æ‰“å¼€ï¼ˆè¿”å›æ–‡ä»¶æè¿°ç¬¦ï¼‰ï¼Œå…³é—­ æ–‡ä»¶æè¿°ç¬¦æ“ä½œï¼šread,write,lseek,ioctl,mmapâ€¦ ç›®å½•ï¼šæ–‡ä»¶å’Œç›®å½•çš„é›†åˆç›®å½•æ“ä½œ æ”¹å˜è¿›ç¨‹å·¥ä½œç›®å½•(æ²¡æœ‰/bin/cd) ç›®å½•è§£æ è¯»å–ç›®å½• ç›®å½•æ“ä½œï¼šlink,unlink,rename æ–‡ä»¶ç³»ç»Ÿè®¾è®¡æ–‡ä»¶ï¼ˆæ‰©å±•ï¼‰ï¼šæ“ä½œç³»ç»Ÿä¸­çš„ä¸€ä¸ªå¯è¯»/å†™/æ§åˆ¶çš„å¯¹è±¡æ–‡ä»¶æè¿°ç¬¦ï¼šæŒ‡å‘æ“ä½œç³»ç»Ÿå¯¹è±¡çš„handleç®¡ç†æ“ä½œç³»ç»Ÿå¯¹è±¡çš„æœ¬è´¨ï¼šä¼ é€’æ•°æ®çš„éœ€æ±‚ ä¸ºä»€ä¹ˆ/procä¸æ˜¯è¿›ç¨‹æ ‘ï¼Ÿ-æ–¹ä¾¿æ ¹æ®pidæŸ¥æ‰¾è¿›ç¨‹ è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼šæŠŠread/writeç¿»è¯‘æˆå¯¹æ“ä½œç³»ç»Ÿå¯¹è±¡(è¿›ç¨‹çº¿ç¨‹ã€æ–‡ä»¶ç›®å½•ã€è®¾å¤‡ç­‰)çš„è¯»å†™ æ–‡ä»¶ç³»ç»ŸAPIæ–‡ä»¶ç³»ç»Ÿç®¡ç†æŒ‚è½½ï¼šmount -t type device diræŠŠä¸€ä¸ªè®¾å¤‡å’Œä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿå®ç°è”ç³»èµ·æ¥ï¼Œåœ¨è®¾å¤‡ä¸Šåˆ›å»ºä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿå®ä¾‹ï¼Œå¹¶ä¸”æŠŠåˆ›å»ºçš„æ–‡ä»¶ç³»ç»Ÿâ€œæ”¾ç½®â€åˆ°æ–‡ä»¶ç³»ç»Ÿä¸­çš„ä¸€ä¸ªè·¯å¾„é‡Œ chrootåˆ‡æ¢æ ¹ç›®å½•åªå½±å“è·¯å¾„è§£æå¦‚æœæŒæœ‰å¤–éƒ¨æ–‡ä»¶æè¿°ç¬¦å¾ˆå®¹æ˜“è¶Šç‹± ç›®å½•ç®¡ç†æœ¬è´¨ä¹Ÿæ˜¯æ–‡ä»¶ï¼Œåªæ˜¯æ“ä½œç³»ç»Ÿåœ¨è·¯å¾„è§£æã€ç›®å½•éå†æ—¶å¯¹å®ƒçš„æ•°æ®æœ‰ç‰¹æ®Šçš„è§£è¯» ç¡¬â™‚é“¾æ¥ ç›®æ ‡åªèƒ½æ˜¯æ–‡ä»¶(ä¸èƒ½æ˜¯ç›®å½•) ä¸èƒ½è·¨è¶Šæ–‡ä»¶ç³»ç»Ÿ ç¬¦å·é“¾æ¥ ç›®æ ‡å¯ä»¥æ˜¯ä»»ä½•ç›¸å¯¹/ç»å¯¹è·¯å¾„ åªæ˜¯ä¸€ä¸ªè·¯å¾„è§£ææç¤º æ–‡ä»¶ç®¡ç†ï¼šæ‰“å¼€æ–‡ä»¶æ‰“å¼€ç›®å½•ï¼šå¾—åˆ°ä¸€ä¸ªæŒ‡å‘æ–‡ä»¶ç³»ç»ŸæŸä¸ªä½ç½®çš„æŒ‡é’ˆ æ–‡ä»¶æ“ä½œï¼šæ–‡ä»¶æè¿°ç¬¦ é¿å…æ¯æ¬¡æ“ä½œéƒ½è¦é‡æ–°æ‰“å¼€æ–‡ä»¶ å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨ç®¡ç†æ–‡ä»¶è®¿é—®çš„åç§»é‡ æ–‡ä»¶ç³»ç»Ÿçš„åŒæ­¥æ“ä½œç³»ç»Ÿåšäº†å¾ˆå¤šæ¿€è¿›åœ°ç¼“å­˜ï¼Œæ‰€ä»¥å¤šç”¨sync æ–‡ä»¶ç³»ç»Ÿå®ç°å®ç°æ–‡ä»¶ç³»ç»Ÿéœ€è¦è€ƒè™‘ä»¥ä¸‹å› ç´  è™šæ‹Ÿç£ç›˜çš„æ•°æ®ç»“æ„ï¼ˆé“¾è¡¨ï¼Œæ ‘â€¦ï¼‰ ç›®å½•æ–‡ä»¶çš„æ•°æ®ç»“æ„ inodeçš„è¡¨ç¤ºå’Œå­˜å‚¨ balloc/bfreeçš„å®ç° å—è®¾å¤‡å›ºå®šå¤§å°çš„blockçš„æ•°ç»„åœ¨/sys/blocké‡Œå¯ä»¥æ‰¾åˆ°å—è®¾å¤‡APIï¼šè¿›ç¨‹/çº¿ç¨‹å‘å­˜å‚¨è®¾å¤‡æäº¤I/O request, requesté¦–å…ˆè¿›å…¥è®¾å¤‡é˜Ÿåˆ—ï¼Œç»è¿‡è°ƒåº¦å™¨è°ƒåº¦åæ‰§è¡Œè®¾å¤‡ä¸Šçš„I/Oæ“ä½œç³»ç»Ÿä¸ç®¡Block I/Oè°ƒåº¦ï¼Œåªç®¡è¿›ç¨‹å°½å¯èƒ½å…¬å¹³åœ°è·å¾—I/Oæ“ä½œå’Œè¯·æ±‚ä¼˜åŒ– è™šæ‹Ÿç£ç›˜æ•°æ®ç»“æ„ï¼šé“¾è¡¨/æ ‘ï¼Œæä¾›balloc/bfreeé“¾è¡¨åœ¨æ–‡ä»¶å°æ—¶è¡¨ç°è¾ƒå¥½ï¼Œç´¢å¼•çš„lseekæ€§èƒ½æ›´å¥½block bitmap(è”ç³»L3) æ–‡ä»¶åº”è¯¥æœ‰ ä¸€ä¸ªå”¯ä¸€çš„ç¼–å· å…ƒæ•°æ®ä¿¡æ¯ï¼ˆç±»å‹ï¼Œå¤§å°ï¼Œæƒé™ï¼Œè®¿é—®æ—¶é—´ã€é“¾æ¥æ•°é‡ã€ç´¢å¼•ï¼‰ ç›®å½•æ–‡ä»¶ç›®å½•=æ–‡ä»¶å$\\to$æ–‡ä»¶idçš„æ˜ å°„ Inodeçš„å­˜å‚¨ å­˜å‚¨æ–¹å¼ å¥½å¤„ åå¤„ åœ¨ç£ç›˜ç”¨å•ç‹¬åŒºåŸŸç»Ÿä¸€å­˜å‚¨å’Œç®¡ç† æŸ¥æ‰¾å¿«é€Ÿï¼ˆå¯ä»¥å¿«é€Ÿè®¡ç®—å‡ºinodeåœ¨ç£ç›˜ä¸­çš„ä½ç½®ï¼‰ å®¹æ˜“è¢«ç ´åï¼ˆå¤‡ä»½ï¼‰ï¼›æµªè´¹ç©ºé—´ å­˜å‚¨åœ¨ç›®å½•æ–‡ä»¶ä¸­ï¼ˆå¦‚FATï¼‰ èŠ‚çº¦ç©ºé—´ ä¸æ”¯æŒç¡¬é“¾æ¥ å­˜å‚¨åœ¨æ–‡ä»¶å¤´éƒ¨ å®¹é”™æ€§ è¯„ä»·æ–‡ä»¶ç³»ç»Ÿ æ€§èƒ½ å­˜åœ¨è¶…å¤§æ–‡ä»¶ã€è¶…å¤§ç›®å½•æ—¶å„ä¸ªæ“ä½œçš„æ€§èƒ½è¡¨ç° åœ¨å„ç§ç±»å‹workloadçš„è¯»å†™ï¼ˆé¡ºåº/éšæœºï¼Œè¯»/å†™åˆ†å¸ƒï¼‰ã€ç›®å½•æ“ä½œæ¯”ä¾‹ä¸‹çš„æ€§èƒ½è¡¨ç° å¤šè¿›ç¨‹å¹¶å‘æ—¶çš„æ–‡ä»¶ç³»ç»Ÿè¡¨ç° å¯é æ€§ åœ¨ç³»ç»Ÿå¯èƒ½æ„å¤–å´©æºƒæ—¶æ–‡ä»¶ç³»ç»Ÿå®ç°çš„æ­£ç¡®æ€§ åœ¨ç£ç›˜å¯èƒ½æŸåçš„å‰æä¸‹æ–‡ä»¶ç³»ç»Ÿçš„å¯é æ€§ FATå’Œext2File Allocationg Tableé“¾è¡¨å®ç°æ–‡ä»¶ï¼Œä¸ºæ¯ä¸ªblockç»´æŠ¤ä¸€ä¸ªnext blockæ–‡ä»¶åˆ†é…è¡¨ï¼šé›†ä¸­å­˜å‚¨next PBR(Partition Boot Record)ï¼šå­˜å‚¨åœ¨åˆ†åŒºå¤´éƒ¨ ç¼ºé™· è¯»å†™åºåˆ—ä¸å¤Ÿè¿ç»­ FATå®¹æ˜“è¢«æªæ¯™ï¼ˆä¸€èˆ¬éƒ½æœ‰ä¸¤ä¸ªå¤‡ä»½ï¼‰ æ–‡ä»¶ç³»ç»Ÿå¯èƒ½ç¢ç‰‡åŒ–ï¼ˆå·¨å¤§çš„æ–‡ä»¶å¯èƒ½æ•£è½åœ¨ç£ç›˜çš„å„ä¸ªè§’è½ï¼‰ ä¸æ”¯æŒé“¾æ¥åªæ˜¯å› ä¸ºæ‰‹å†Œé‡Œæ²¡å†™ FAT32æœ€å¤§æ–‡ä»¶åªæœ‰4GBï¼ˆå› ä¸ºæ˜¯ä»å°ç£ç›˜æ—¶ä»£è¿‡æ¥çš„ï¼‰ ç£ç›˜ç¢ç‰‡æ•´ç†ï¼šä½¿æ–‡ä»¶å°½å¯èƒ½åœ¨ç£ç›˜ä¸­å æœ‰è¿ç»­çš„å— ext2ç´¢å¼•å®ç°æ–‡ä»¶ï¼šæ··åˆå¤šç§å­˜å‚¨æ–¹å¼inodeså•ç‹¬ç®¡ç†ï¼šæ”¯æŒç¡¬é“¾æ¥inodesè¿ç»­å­˜å‚¨ï¼šæé«˜æ–‡ä»¶è®¿é—®çš„å±€éƒ¨æ€§ç›¸æ¯”äºFATç©ºé—´æµªè´¹æ¯”è¾ƒå¤š åˆ†ç»„ åˆ†é…åˆ†æˆäº†ä¸¤çº§(ç»„çº§ã€å—çº§) ä¸ç”¨ç®¡ç†å…¨å±€çš„bitmap ä¸€å®šç¨‹åº¦çš„æ€§èƒ½ä¼˜åŒ– å°½é‡æŠŠç›¸è¿‘çš„æ–‡ä»¶åˆ†é…åœ¨åŒä¸€ä¸ªç»„é‡Œ å°½é‡æŠŠåŒä¸€ä¸ªæ–‡ä»¶çš„æ•°æ®å—åˆ†é…åœ¨åŒä¸€ä¸ªç»„é‡Œ ä½¿ç£ç›˜å¤§å°å®¹æ˜“åŠ¨æ€è°ƒæ•´ æŒä¹…æ•°æ®çš„å¯é æ€§RAIDå¦‚ä½•æŠŠè™šæ‹Ÿç£ç›˜æ˜ å°„åˆ°ç‰©ç†ç£ç›˜å— RAID-0æ²¡æœ‰å†—ä½™ æ–¹æ¡ˆ1 Block ç£ç›˜1 ç£ç›˜2 #0 0 3 #1 1 4 #2 2 5 æ–¹æ¡ˆ2 Block ç£ç›˜1 ç£ç›˜2 #0 0 1 #1 2 3 #2 4 5 æ–¹æ¡ˆä¸€ æ–¹æ¡ˆäºŒ é¡ºåºè¯»å†™é€Ÿåº¦ 1X 2X éšæœºè¯»å†™é€Ÿåº¦ 2X 2X å®é™…ä½¿ç”¨ä¸­å¯¹ç›®å½•è®¿é—®è¾ƒå¤šï¼ˆé¡ºåºè¯»å†™ï¼‰ï¼Œæ–¹æ¡ˆ2ä¸­ç£ç›˜2ç­‰äºæ²¡æœ‰ æ¯«æ— å®¹é”™ RAID-1 é•œåƒç»´æŠ¤ä¸¤å—æ•°æ®å®Œå…¨ä¸€æ ·çš„ç£ç›˜å®ç°å®¹é”™ Block ç£ç›˜1 ç£ç›˜2 #0 0 0 #1 1 1 #2 2 2 #3 3 3 RAID-4 Block ç£ç›˜1 ç£ç›˜2 ç£ç›˜3 ç£ç›˜4 ç£ç›˜P #0 0 1 2 3 $0\\oplus1\\oplus2\\oplus3$ #1 4 5 6 7 $4\\oplus5\\oplus6\\oplus7$ #2 8 9 10 11 $8\\oplus9\\oplus10\\oplus11$ #3 12 13 14 15 $12\\oplus13\\oplus14\\oplus15$ é¡ºåºè¯»ï¼š4X é¡ºåºå†™ï¼š4X éšæœºè¯»ï¼š4X éšæœºå†™ï¼šX/2(æ ¡éªŒç›˜æ˜¯æ€§èƒ½ç“¶é¢ˆ) RAID-5RAID-4å‡çº§ç‰ˆ Block ç£ç›˜1 ç£ç›˜2 ç£ç›˜3 ç£ç›˜4 ç£ç›˜P #0 0 1 2 3 P #1 4 5 6 P 7 #2 8 9 P 10 11 #3 12 P 13 14 15 éšæœºå†™å¯ä»¥å¹¶å‘ å¸¦å®½åˆ†æè§OSTEP RAIDç¡¬ä»¶ ç¼“å†²&amp;æ—¥å¿— å¥‡å¶æ ¡éªŒç”µæ±  ä¿è¯æ•°æ®å†™å› å´©æºƒæ¢å¤ä¸æ—¥å¿—ç£ç›˜ä¸Šçš„æ•°æ®ç»“æ„è¯»ç£ç›˜çš„è¯·æ±‚ï¼š è¯»ä¸€ä¸ªå·²ç»å†™è¿‡çš„å—ï¼Œå¯ä»¥ä¸ä»ç£ç›˜è¯»å– è¯»ä¸€ä¸ªæœªè¢«è®¿é—®è¿‡çš„å—ï¼Œå¿…é¡»ä»ç£ç›˜è¯»å–ï¼ˆç­‰å¾…ï¼‰ å†™ç£ç›˜çš„è¯·æ±‚ï¼š åŸåˆ™ä¸Šå¯ä»¥æ— é™æ’é˜Ÿï¼Œè®©ç£ç›˜çš„è¯»è¯·æ±‚å…ˆè¡Œ ä½†åŒæ—¶æœ€ç»ˆåº”å½“è¢«å†™å…¥ç£ç›˜ åŸå­æ€§çš„ä¸§å¤±å´©æºƒ=ç¼“å­˜æ•°æ®ä¸¢å¤± ç®€å•çš„workload: è¿½åŠ å†™ $FAT[bâ€™]\\leftarrow EOF$ $data[bâ€™]\\leftarrow$ æ•°æ® $FAT[f_{end}]\\leftarrow bâ€™$ ä¸€ä¸‹è€ƒè™‘æ‰€æœ‰å¯èƒ½çš„å´©æºƒæƒ…å†µ $FAT[bâ€™]\\to$âŒ (dead block/leak) $data[bâ€™]\\to$âŒ (random writes, å†™åˆ°äº†æ²¡åŠæ³•å†è¯»åˆ°çš„åœ°æ–¹) $FAT[f{end}]\\to$âŒ (corrupted FAT, inconsistency) $data[bâ€™]\\to FAT[f_{end}]\\to$âŒ (random writes + corrupted FAT) $FAT[bâ€™]\\to data[bâ€™]\\to$âŒ (dead block * 2) $FAT[bâ€™]\\to FAT[f_{end}]\\to$âŒ (corrupted file, incorrect data) $FAT[f_endâ€™]\\to FAT[bâ€™]\\to data[bâ€™]$ âœ… dead blockä¸æ˜¯ä¸ªå¾ˆå¤§çš„é—®é¢˜æ‰€ä»¥$FAT[bâ€™]\\to FAT[f_{end}]\\to data[bâ€™]$æ˜¯ä¸ªç›¸å¯¹å¯ä»¥æ¥å—çš„æ–¹æ¡ˆï¼Œä½†è¿™åªæ˜¯è¿½åŠ å†™ï¼Œä¸€èˆ¬æƒ…å½¢å°±å¾ˆå›°éš¾äº† æ–‡ä»¶ç³»ç»Ÿä¸€è‡´æ€§å½“ç£ç›˜ä¸Šçš„æ•°æ®ç»“æ„ä¸åˆæ³•æˆ–ä¸æ»¡è¶³æ–‡ä»¶æ“ä½œçš„è¯­ä¹‰ï¼Œæ–‡ä»¶ç³»ç»Ÿå°±å¤„äºä¸ä¸€è‡´çš„çŠ¶æ€ï¼Œe.g. é“¾æ¥æˆç¯ FATæŒ‡å‘æœªè¢«åˆ†é…æ•°æ®å— ä¸¤ä¸ªæ–‡ä»¶çš„ç´¢å¼•å…±äº«æ•°æ®å— FSCKFile System Checkingåœ¨å´©æºƒåæ‰«æç£ç›˜è¿›è¡Œè¡¥æ•‘ ç¼ºé™·ï¼š ä¸ºäº†ä¸€ç‚¹å°äº‹æ‰«ææ•´ä¸ªç£ç›˜ï¼Œå¤ªèŠ±æ—¶é—´äº† æ²¡äººèƒ½è¯æ˜è¿™ä¹ˆåšä¸€å®šèƒ½å›åˆ°ä¸€ä¸ªä¸€è‡´çš„çŠ¶æ€ fsckçš„æ—¶å€™ä¹Ÿä¼šå´©æºƒ å®ç°å´©æºƒä¸€è‡´æ€§Key idea: ä½¿ç£ç›˜ä¸Šçš„çŠ¶æ€èƒ½æ¨å¯¼å‡ºæŸä¸ªè¿‡å»æ—¶åˆ»çš„æ–‡ä»¶ç³»ç»ŸçŠ¶æ€å€ŸåŠ©sync()ä¿è¯æ•°æ®å†™å…¥ç£ç›˜åæ‰è¿”å› æ—¥å¿—(Journaling)æŠŠæ“ä½œä»¥append onlyçš„æ–¹å¼è®°ä¸‹æ¥ï¼šå†™å…¥TXbeginå’Œæ•°æ®â†’syncâ†’å†™å…¥TXENDâ†’syncç”¨ä¸€ä¸ªé¢å¤–çš„æŒ‡é’ˆç»´æŠ¤journalå®Œæˆçš„æ—¶åˆ» å´©æºƒæ¢å¤ï¼šä»æŒ‡é’ˆå¼€å§‹å‘åé‡åšjournalä¸­è®°å½•çš„æ“ä½œä¼˜åŒ–ï¼šåˆå¹¶logï¼Œåªå¯¹metadataåšjournaling(ä½†å¯èƒ½å¯¼è‡´åº”ç”¨ç¨‹åºä¸¢å¤±æ•°æ®) æœŸæœ«å¤ä¹ I/Oè®¾å¤‡æ¨¡å‹ä¼ è¾“æ•°æ®ã€å‘é€å‘½ä»¤ã€è¯»å–çŠ¶æ€è¿™ä¸‰ç§æ“ä½œçš„é›†åˆ è®¾å¤‡é©±åŠ¨ï¼šæ“ä½œç³»ç»Ÿå¯¹è®¾å¤‡è¿›è¡Œçš„é¢å¤–æŠ½è±¡ï¼Œä½¿å¾—æ›´ä¸Šå±‚çš„ç¨‹åºèƒ½å¤Ÿä»¥ç»Ÿä¸€çš„æ¥å£è®¿é—®è¿™äº›è®¾å¤‡ mainå‡½æ•°ä¹‹å‰çš„æ•…äº‹helloçš„ç¬¬ä¸€æ¡æŒ‡ä»¤ï¼šld.soçš„_start helloçš„mainå‡½æ•°æ‰§è¡Œä¹‹å‰ åŠ è½½å™¨(ld.so)æŠŠhelloè¿›ç¨‹çš„åœ°å€ç©ºé—´åŠ è½½è¿›æ¥ åŠ è½½å™¨çš„_startåŠ è½½libcåˆ°helloè¿›ç¨‹çš„åœ°å€ç©ºé—´ è¿›å…¥helloè‡ªå·±çš„_start, è°ƒç”¨__libc_start_main çº¿ç¨‹å®‰å…¨çš„printfå¤ä¹ æ¡ä»¶å˜é‡å’Œä¿¡å·é‡ æ–‡ä»¶ç³»ç»Ÿçš„å®ç°FAT ç»´æŠ¤äº†ï¼ˆå¯èƒ½ä¸æ­¢ï¼‰ä¸€ä»½æ–‡ä»¶åˆ†é…è¡¨ï¼Œè®°å½•æ¯ä¸ªæ–‡ä»¶ä¸­æ¯ä¸€ä¸ªblockçš„ä¸‹ä¸€ä¸ªblockçš„ç¼–å·ï¼Œä½äºæ–‡ä»¶ç³»ç»Ÿå¤´éƒ¨ã€super blockä¹‹å blockè¢«ç§°ä¸ºsectorçš„cluster æ–‡ä»¶çš„å…ƒæ•°æ®(inode)ä¿å­˜åœ¨ç›®å½•é¡¹é‡Œï¼Œä¸æ”¯æŒé“¾æ¥ï¼Œç›®å½•é¡¹æŒ‰é¡ºåºå­˜å‚¨åœ¨æ–‡ä»¶ä¸­ ç¼ºé™·ï¼šlseekå›°éš¾ï¼ŒFATå—å®¹æ˜“è¢«æªæ¯™ï¼Œæ–‡ä»¶ç³»ç»Ÿç¢ç‰‡åŒ– ext2 å¤šçº§ç´¢å¼• inodeå•ç‹¬ç®¡ç†ï¼Œæé«˜äº†æ–‡ä»¶è®¿é—®çš„å±€éƒ¨æ€§ ç›®å½•é¡¹é¡ºåºå­˜å‚¨inodeç¼–å·ã€è¯¥ç›®å½•é¡¹é•¿åº¦ã€ç±»å‹ã€æ–‡ä»¶å åˆ†ç»„ï¼šä¸ç”¨ç®¡ç†å…¨å±€çš„bitmapï¼Œæ€§èƒ½ä¼˜åŒ–ï¼Œç®€åŒ–ç£ç›˜å¤§å°åŠ¨æ€è°ƒæ•´ ä¿æŠ¤æ•°æ®ä¸å—æŸå®³RAID RAID lv. å®¹é‡ å®¹é”™ é¡ºåºè¯» é¡ºåºå†™ éšæœºè¯» éšæœºå†™ 0 $n$ 0 $n$ $n$ $n$ $n$ 1 $n/2$ $1â€¦n/2$ $&gt;n/2$ $n/2$ $n$ $n/2$ 4 $n-1$ 1 $n-1$ $n-1$ $n-1$ $1/2$ 5 $n-1$ 1 $n-1$ $n-1$ $n$ $n/4$ fsckå´©æºƒä¹‹åçš„è¡¥æ•‘æªæ–½ æ‰«æinodesé‡Œæ‰€æœ‰æ•°æ®å—ï¼Œæ£€æŸ¥bitmapçš„ä¸€è‡´æ€§ æ£€æŸ¥inodeæ•°æ®æ˜¯å¦çœ‹èµ·æ¥åˆæ³•ï¼Œå¦åˆ™åˆ é™¤ æ£€æŸ¥é“¾æ¥æƒ…å†µï¼Œæ²¡æœ‰é“¾æ¥çš„inodeè¢«ç§»åˆ°lost+foundç›®å½• ç¼ºé™·ï¼šæ²¡äº‹å„¿å°±æ‰«ææ•´ä¸ªç£ç›˜å¼€é”€å¤ªå¤§ï¼›ä¹Ÿä¸ä¸€å®šèƒ½æŠŠæ–‡ä»¶ç³»ç»Ÿæ¢å¤æˆä¸€è‡´çš„çŠ¶æ€ï¼›fsckçš„æ—¶å€™å´©æºƒäº†å°±å®Œè›‹äº† æ—¥å¿— è®°å½•æ‰€æœ‰æ“ä½œ ç»´æŠ¤ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘å·²ç»å®Œæˆçš„checkpoint å´©æºƒåä»æŒ‡é’ˆå¤„å¼€å§‹é‡åšæ‰€æœ‰æ“ä½œï¼Œå‘åæ¢å¤ ä¼˜åŒ–ï¼šæ‰¹å¤„ç†ï¼›metadata journaling","categories":[],"tags":[]},{"title":"OSTEPé˜…è¯»ç¬”è®°-æŒä¹…åŒ–éƒ¨åˆ†","slug":"OSTEP-persistence","date":"2019-06-21T02:23:27.000Z","updated":"2019-06-23T02:47:49.522Z","comments":true,"path":"2019/06/21/OSTEP-persistence/","link":"","permalink":"https://mengzelev.github.io/2019/06/21/OSTEP-persistence/","excerpt":"","text":"Ch36 IOè®¾å¤‡å…¸å‹è®¾å¤‡åè®®è®¾å¤‡çš„ä¸¤ä¸ªé‡è¦ç»„æˆéƒ¨åˆ†ï¼šç¡¬ä»¶æ¥å£+å†…éƒ¨ç»“æ„ OSé€šè¿‡è¯»å†™çŠ¶æ€ã€å‘½ä»¤å’Œæ•°æ®å¯„å­˜å™¨æ¥æ§åˆ¶è®¾å¤‡è¡Œä¸º åè®®æ¨¡å‹ 1234567while(STATUS &#x3D;&#x3D; BUSY);&#x2F;&#x2F;wait until device is not busy(polling)write data to DATA reg;write cmd to cmd reg; (Doing so starts the device and executes the cmd)while(STATUS &#x3D;&#x3D; BUSY);&#x2F;&#x2F;wait until device is done with your request ç¼ºé™·ï¼šè½®è¯¢æµªè´¹æ—¶é—´â€”â€”ç”¨ä¸­æ–­å‡å°‘CPUæµªè´¹(æ¦‚æ‹¬ä¸€ä¸‹ï¼šç­‰å¾…è®¾å¤‡çš„æ—¶å€™å»åšåˆ«çš„äº‹æƒ…) ä½¿ç”¨ä¸­æ–­è¿˜æ˜¯è½®è¯¢å–å†³äºè®¾å¤‡çš„é€Ÿåº¦ DMAè¦ä¼ é€æ•°æ®çš„æ—¶å€™ï¼ŒOSå‘Šè¯‰DMAæ•°æ®åœ¨å“ªé‡Œã€é€å¤šå°‘ã€è¦é€ç»™è°ï¼Œç„¶åOSå°±å¯ä»¥å»å¹²åˆ«çš„äº‹äº†ï¼Œæ•°æ®æ‹·è´å…¨éƒ¨ç”±DMAæ¥å®Œæˆ OSä¸è®¾å¤‡çš„äº¤äº’æ˜ç¡®çš„I/OæŒ‡ä»¤å¤ä»£æ–¹æ³•e.g. x86çš„in,outæŒ‡ä»¤PAä½ éƒ½å†™è¿‡äº†éƒ½æ˜¯ç‰¹æƒæŒ‡ä»¤ï¼Œåªæœ‰OSå¯ä»¥ä½¿ç”¨ å†…å­˜æ˜ å°„ç°ä»£æ–¹æ³•ä½†å¤ä»£æ–¹æ³•æ²¡æœ‰è¢«æŠ›å¼ƒ è®¾å¤‡é©±åŠ¨byä¼ ç»Ÿè‰ºèƒ½ï¼šæŠ½è±¡è®¾å¤‡é©±åŠ¨ï¼šOSä¸­çš„æŸä¸€å—(piece)çŸ¥é“è®¾å¤‡çš„å·¥ä½œç»†èŠ‚çš„è½¯ä»¶ï¼Œå°è£…äº†æ‰€æœ‰ä¸è®¾å¤‡çš„äº¤äº’è¡Œä¸º(åŸè¯ï¼ša piece of software in the OS must know in detail how a device works)ä½†è¿™æ ·ä¼šä½¿è®¾å¤‡æŸå¤±ç‰¹æ®ŠåŠŸèƒ½(e.g SCSIæœ‰æ¯”ATAå’ŒIDEæ›´ä¸°å¯Œçš„error handlingæœºåˆ¶)OSé‡Œ70%çš„ä»£ç éƒ½æ˜¯è®¾å¤‡é©±åŠ¨ç¨‹åºï¼Œè€Œä¸”å› ä¸ºè®¾å¤‡é©±åŠ¨ä¸»è¦éƒ½æ˜¯é‡é¸¡ç¨‹åºçŒ¿(ç›¸å¯¹äºå†…æ ¸ä»£ç )å†™çš„ï¼Œæ‰€ä»¥æ˜¯è´¡çŒ®å†…æ ¸bugçš„ä¸­åšåŠ›é‡ Ch37 ç¡¬ç›˜é©±åŠ¨è™½ç„¶ç°ä»£osä¼šä¸€æ¬¡æ€§å¾€ç¡¬ç›˜å†™å¾ˆå¤šæ•°æ®ï¼Œä½†æ˜¯ç¡¬ç›˜åªä¿è¯ä¸€ä¸ªsector(512å­—èŠ‚)çš„å†™æ˜¯åŸå­çš„(è¦ä¹ˆå†™äº†è¦ä¹ˆæ²¡å†™) ç‰©ç†æ„é€ ç›˜ç‰‡(platter)çš„ä¸¤ä¸ªé¢ç§°ä¸ºç›˜é¢(surface)ï¼Œç›˜ç‰‡è£…åœ¨è½¬è½´(spindle)ä¸Šã€‚æ•°æ®æŒ‰ç£é“(track)æ’åˆ—åœ¨ç›˜ç‰‡ä¸Šï¼Œç”±ç£å¤´(disk head)è¯»å†™ã€‚æ¯ä¸ªç›˜é¢éƒ½æœ‰ä¸€ä¸ªç£å¤´(disk head)ã€‚ç£å¤´é•¿åœ¨ç£è‡‚(disk arm)ä¸ŠRPM(rotation per minute) ç¼“å­˜(track buffer) å†™åˆ¤å®š å†™å›(write back): æŠŠæ•°æ®æ”¾å…¥ç£ç›˜ç¼“å†²å°±ç®—å†™å®Œ ç›´å†™(write through): æŠŠæ•°æ®å†™å…¥ç£ç›˜åæ‰ç®—å†™å®Œ ä¸‹é¢éƒ½æ˜¯ç£ç›˜è¯»å†™è°ƒåº¦æˆ‘ä¸çœ‹äº†å•¦ Ch38 RAIDsRedundant Arrays of Inexpensive Diskså»‰ä»·ç£ç›˜å†—ä½™é˜µåˆ—RAIDå…¶å®æ˜¯ä¸€ä¸ªfirmware(ç¼–ç¨‹ç¡¬ä»¶)ï¼Œæœ‰è‡ªå·±çš„å¤„ç†å™¨ã€å­˜å‚¨å’Œç£ç›˜ è¯„ä»·æ ‡å‡†performance, capacity, reliability.å…¶ä¸­performanceæœ‰ä¸¤ä¸ªåˆ¤å®šå°ºåº¦ï¼šsingle-request latency(å•æ“ä½œå»¶è¿Ÿ), steady-state throughput(ç¨³æ€ååé‡, the total bandwidth of many concurrent requests) æ•…éšœæ¨¡å‹(Fault Model)fail-stopç£ç›˜åªæœ‰ä¸¤ä¸ªçŠ¶æ€ï¼šwording &amp; failed(æ°¸è¿œæ²¡æœ‰äº†)ï¼Œä¸è€ƒè™‘åäº†åŠå—è¿™æ ·çš„æƒ…å†µ RAID Level 0: Striping(ä¸²åˆ—)æ¯«æ— å†—ä½™ï¼Œè™šå‡çš„RAID capacity: perfectreliability: any disk failure will lead to data lossperformance: excellent ã€æ­¤å¤„çœç•¥æ‡’å¾—æˆªå›¾çš„æˆªå›¾ã€‘stripe: æ’åœ¨åŒä¸€è¡Œçš„blockschunk size(ç»„å—å¤§å°): è¿ç»­åˆ†å¸ƒåœ¨åŒä¸€å—ç£ç›˜ä¸Šçš„æ•°æ®å¤§å°chunk sizeå¯¹RAIDçš„performanceå½±å“æœ€å¤§å°çš„chunk sizeèƒ½æé«˜è¿ç»­è¯»çš„å¹¶å‘æ€§ï¼Œä½†æ˜¯å»¶é•¿äº†æŠŠblockåˆ†é…åˆ°ä¸åŒç£ç›˜çš„æ—¶é—´å¤§çš„chunk sizeåªæœ‰åœ¨è¯»å¤§æ–‡ä»¶æ—¶æ‰èƒ½æœ‰è¾ƒå¥½çš„å¹¶å‘æ€§ï¼Œä½†ç¼©çŸ­äº†åˆ†é…æ—¶é—´chunk sizeçš„é€‰æ‹©ä¾èµ–äºworkload workloadæœ‰ä¸¤ç§ï¼šsequentialå’Œrandom RAID Level 1: Mirroring å›¾ä¸Šé‚£ä¸ªåˆå«RAID-10 è¯»ï¼šéšæœºé€‰ä¸€ä¸ªå†™ï¼šä¸¤ä»½éƒ½è¦å†™ï¼ˆå¹¶å‘ï¼‰ capacity: Nå—ç£ç›˜ï¼Œå®¹é‡N/2 reliability: å¯ä»¥å¿å—å•å—ç£ç›˜çˆ†ç‚¸(åªè¦ä¸æ˜¯åŒä¸€å—ç£ç›˜çš„ä¸¤ä¸ªå¤‡ä»½åŒæ—¶çˆ†ç‚¸) performance: è¯»å»¶è¿Ÿï¼šé€Ÿåº¦åŒè¯»å•å—ç£ç›˜ å†™å»¶è¿Ÿï¼šåŒæ—¶å†™ä¸¤ä»½ï¼ˆå¹¶å‘ï¼‰ï¼Œä¸åŒæ—¶å†™å•å—ç›¸åŒã€‚ä½†å†™æ—¶é—´ç”±ä¸¤å—ä¸­æ—¶é—´é•¿çš„å†³å®šï¼Œå› æ­¤æ¯”å†™å•å—ä¼šæ…¢ä¸€ä¸¢ä¸¢ è¿ç»­è¯»ï¼šåŒéšæœºå†™ è¿ç»­å†™ï¼šæœ€å¤§å¸¦å®½$(\\frac{N}{2}\\cdot S)$ï¼Œå³°å€¼å¸¦å®½çš„ä¸€åŠ éšæœºè¯»ï¼šæ»¡å¸¦å®½$N\\cdot R$ MB/s éšæœºå†™ï¼šä¸€åŠ å¤šå—ç£ç›˜çš„ä¸€è‡´æ€§ç»´æŠ¤åˆšå†³å®šå†™ä¸€å—ç£ç›˜ï¼Œå¦ä¸€å—ç£ç›˜å†™ä¸å†™è¿˜æ²¡ç¡®å®šï¼Œå°±æ–­ç”µäº†ï¼Œè¿™æ—¶å¦ä¸€å—ç£ç›˜å®Œå…¨æ²¡è¢«å†™ï¼Œå¯¼è‡´ä¸¤å—ç£ç›˜æ•°æ®ä¸ä¸€è‡´ã€‚ä¹Ÿå°±æ˜¯è¯´å¸Œæœ›é•œåƒçš„ä¸¤å—ç›˜çš„å†™æ“ä½œæ˜¯åŸå­çš„ã€‚è§£å†³ï¼šwrite-ahead logå¤§å¤šæ•°ç£ç›˜éƒ½å¸¦æœ‰ç”µæ± ä¾›ç”µçš„å°å‹éæ˜“å¤±æ€§RAM RAID Level 4: Saving Space With Parityç”¨æ—¶é—´(performance)æ¢ç©ºé—´(capacity) ç»™æ¯ä¸ªstripeåŠ äº†ä¸€ä¸ªparity check block(XOR)å½“ä¸€å—ç›˜åæ‰æ—¶ï¼Œæˆ‘ä»¬éœ€è¦è¯»åŒä¸€ä¸ªstripeä¸­å…¶ä»–æ‰€æœ‰ç›˜çš„æ•°æ®æ‰èƒ½æ¢å¤å‡ºè¿™å—ç›˜çš„æ•°æ® capacityï¼š $N-1$ reliability: èƒ½å®¹å¿æ¯ä¸ªstripeä¸­æœ‰ä¸€å—ç£ç›˜çˆ†ç‚¸ performance è¿ç»­è¯»ï¼šåªæœ‰æ ¡éªŒç›˜æ²¡æœ‰è¢«å ç”¨ï¼Œ$(N-1)\\cdot S$ MB/s è¿ç»­å†™ï¼šfull-stripe writeå¾ˆé«˜æ•ˆï¼Œå› ä¸ºå†™å®Œä¸€ä¸ªstripeæ­£å¥½èƒ½å†™æ ¡éªŒç›˜ï¼Œ$(N-1)\\cdot S$ MB/s éšæœºè¯»ï¼šé™¤äº†æ ¡éªŒç›˜ï¼Œ$(N-1)\\cdot S$ MB/s éšæœºå†™ï¼šå½“ä¿®æ”¹äº†ä¸€å—ç›˜ä¸­çš„æ•°æ®æ—¶ï¼Œéœ€è¦åŒæ—¶ä¿®æ”¹æ ¡éªŒç›˜ï¼Œè¿™é‡Œæœ‰ä¸¤ç§æ–¹æ³•ã€‚ä¸€æ˜¯additive parityï¼ŒæŠŠåŒä¸€ä¸ªstripeä¸­çš„å—çš„æ•°æ®å…¨éƒ¨è¯»å‡ºæ¥å†ç®—ä¸€éæ ¡éªŒä½ï¼Œç„¶åå¹¶å‘åœ°å†™å…¥æ ¡éªŒç›˜å’Œæ•°æ®ç›˜ï¼Œè¿™ç§åšæ³•åœ¨RAIDå—æ¯”è¾ƒå¤šçš„æ—¶å€™ä¼šå¾ˆæ…¢ï¼›å¦ä¸€ç§æ˜¯subtractive parityï¼Œä»æ£€éªŒä½ä¸­æŠŠåŸæ¥çš„æ•°æ®å‡å»å†åŠ ä¸Šæ–°çš„æ•°æ®ï¼Œè¿™ç§æ–¹æ³•çš„ç“¶é¢ˆåœ¨äºæ ¡éªŒç›˜ä¸èƒ½å¹¶å‘è¯»å†™ï¼Œå¸¦å®½åªæœ‰$R/2$ MB/sï¼Œå³ä½¿åŠ ç£ç›˜ä¹Ÿä¸ä¼šåŠ å¿«ã€‚ è¯»å»¶è¿Ÿï¼šåŒè¯»å•å—ç£ç›˜ å†™å»¶è¿Ÿï¼šå†™å•å—æ—¶éœ€è¦è¿›è¡Œä¸¤æ¬¡è¯»å’Œå†™(subtractive parity)ï¼Œä½†è¯»å†™éƒ½å¯ä»¥å¹¶å‘ï¼Œå› æ­¤å†™å»¶è¿Ÿä¸ºå†™å•å—ç£ç›˜çš„ä¸¤å€ï¼ˆé€Ÿåº¦æ˜¯ä¸€åŠï¼‰ RAID Level 5ï¼š Rotating Parity ä¸ºäº†æ¶ˆé™¤RAID-4æ ¡éªŒç›˜çš„æ€§èƒ½ç“¶é¢ˆ ä¸‰å›´åŸºæœ¬å’ŒRAID-4ç›¸åŒéšæœºè¯»çš„performanceä¼šå¥½ä¸€äº›ï¼Œå› ä¸ºæ‰€æœ‰çš„ç£ç›˜éƒ½è¢«å ç”¨äº†éšæœºå†™æ€§èƒ½å¤§å¤§æå‡ï¼Œå› ä¸ºå†™æ“ä½œä¹‹é—´å¯ä»¥å¹¶å‘äº†ã€‚å½“æœ‰è¾ƒå¤§çš„éšæœºå†™æ“ä½œåºåˆ—æ—¶ï¼Œå¯ä»¥ä¿è¯æ¯å—ç£ç›˜éƒ½èƒ½å¹¶å‘å·¥ä½œï¼Œä½†ä¾ç„¶æœ‰2è¯»2å†™ï¼Œå¸¦å®½æ˜¯$\\frac{N}{4}\\cdot R$ MB/s.åœ¨å¸‚åœºä¸Šå·²ç»åŸºæœ¬å–ä»£äº†RAID-4 Summaryä¸€å¼ è¡¨æ ¼æ¦‚æ‹¬æœ¬ç« ç²¾é«“ æ–¹æ¡ˆé€‰æ‹©å–å†³äºå®é™…ä½¿ç”¨ï¼Œå¯¹reliabilityã€é¡ºåºæˆ–éšæœºè¯»å†™çš„ä¸åŒéœ€æ±‚","categories":[],"tags":[]},{"title":"éš¾é—®é¢˜æ±‚è§£å­¦ä¹ ç¬”è®°-éšæœºç®—æ³•","slug":"ps-4-13-Randomized-Algorithms","date":"2019-05-25T03:20:40.000Z","updated":"2019-06-19T12:33:02.918Z","comments":true,"path":"2019/05/25/ps-4-13-Randomized-Algorithms/","link":"","permalink":"https://mengzelev.github.io/2019/05/25/ps-4-13-Randomized-Algorithms/","excerpt":"","text":"å‰è¨€è¾“å‡ºä¸ºéšæœºå˜é‡çš„ç®—æ³•ç§°ä¸ºè’™ç‰¹å¡æ´›ç®—æ³•(Monte Carlo)è¾“å‡ºæ€»æ˜¯æ­£ç¡®çš„ä½†æ—¶é—´å¤æ‚åº¦ä¸ºéšæœºå˜é‡çš„ç®—æ³•ç§°ä¸ºæ‹‰æ–¯ç»´åŠ æ–¯ç®—æ³•(Las Vegas) æ¦‚ç‡è®ºç†è®ºå¼•å…¥äº†éšæœºç®—æ³•$A$ä¸ç¡®å®šè¾“å…¥$x$æ„æˆçš„éšæœºè¯•éªŒã€‚è¯•éªŒå¯ä»¥è¢«æè¿°ä¸ºæ¦‚ç‡ç©ºé—´$(S{A,x},Prob)$ï¼Œå…¶ä¸­$S{A,x}={C\\mid C \\text{is a computation (radom run) of } A \\text{ on } x}$ï¼Œ$Prob$æ˜¯$S_{A,x}$ä¸Šçš„æ¦‚ç‡åˆ†å¸ƒã€‚ åŸºç¡€ä¸€ç§æ–°çš„å¤æ‚åº¦åº¦é‡$Random_A(x)$: å¯¹äºæ‰€æœ‰$A$åœ¨$x$ä¸Šçš„éšæœºè®¡ç®—ä¸­ä½¿ç”¨çš„random bitsçš„æœ€å¤§æ•°é‡$Random_A(n)=\\max{Random_A(x)\\mid x \\text{is a input of size }n}$ è¿™ä¹ˆè¡¡é‡çš„ä¸¤ç‚¹åŸå›  äº§ç”ŸçœŸéšæœºæ•°éå¸¸å›°éš¾ï¼Œä¸”çœŸéšæœºåºåˆ—è¶Šé•¿è¶Šå›°éš¾ å¦‚æœä¸€ä¸ªç®—æ³•çš„$Random_A(x)$æ˜¯å¯¹æ•°çº§çš„ï¼Œé‚£å°±å¯èƒ½å¯ä»¥åœ¨å¤šé¡¹å¼æ—¶é—´å†…è¿½è¸ªå®ƒçš„æ‰€æœ‰è¿è¡Œçš„å¯èƒ½æƒ…å†µï¼Œåšåˆ°å»éšæœºåŒ–(derandomization) $Prob_{A,x}(C)$: æŸä¸€æ¬¡$A$å¯¹è¾“å…¥$x$çš„è®¡ç®—$C$, ç”±ç›¸åº”çš„éšæœºåºåˆ—çš„æ¦‚ç‡å†³å®š$Prob(A(x)=y)$: $A$ outputs $y$ for an input $x$çš„æ¦‚ç‡$Time(C)$: the time complexity of the run $C$ of $A$ on $x$ æœŸæœ›æ—¶é—´å¤æ‚åº¦of $A$ on $x$(expected time complexity) Exp-Time_A(x)=E[Time]=\\sum\\limits_{C}Prob_{A,x}(C)\\cdot Time(C)$A$çš„æœŸæœ›æ—¶é—´å¤æ‚åº¦(worst case approach) Exp-TIme_A(n)=\\max\\{Exp-Time_A(x)\\mid x \\text{is an input of size } n\\}Time_A(x)=\\max\\{Time(C)\\mid C \\text{ is a run of} A \\text{on} x \\}Time_A(n)=\\max\\{Time_A(x)\\mid x \\text{ is an input of size }n\\}éšæœºç®—æ³•ä¸ä¸€å®šä¼šç»ˆæ­¢ï¼Œå¯èƒ½ä¼šè¿›è¡Œæ— é™æ¬¡è®¡ç®—ï¼Œåœ¨å®é™…æƒ…å†µä¸‹å¯ä»¥åœ¨æŸä¸€æ—¶é—´åå«åœï¼Œç®—æ³•è¾“å‡ºâ€?â€ï¼Œå³æ— æ³•åœ¨ç»™å®šæ—¶é—´å†…è§£å†³è¯¥é—®é¢˜ï¼Œç„¶åé‡æ–°å¼€å§‹ éšæœºç®—æ³•çš„åˆ†ç±»æ‹‰æ–¯ç»´åŠ æ–¯ç®—æ³•æ‹‰æ–¯ç»´åŠ æ–¯ç®—æ³•ä¸å…¶æ—¶é—´å¤æ‚åº¦æœ‰ä¸¤ç§å®šä¹‰æ–¹å¼ï¼Œé€‚ç”¨äºä¸åŒçš„åœºæ™¯ ç¬¬ä¸€ç§å®šä¹‰è‹¥å¯¹é—®é¢˜$F$çš„ä»»æ„è¾“å…¥å®ä¾‹$x$ï¼Œ$Prob(A(x)=F(x))=1$,å…¶ä¸­$F(x)$æ˜¯é—®é¢˜$F$å¯¹äºè¾“å…¥$x$çš„è§£ï¼Œåˆ™ç§°$A$æ˜¯è®¡ç®—é—®é¢˜$F$çš„æ‹‰æ–¯ç»´åŠ æ–¯ç®—æ³•ã€‚è¿™ç§å®šä¹‰ä¸‹æ—¶é—´å¤æ‚åº¦æ˜¯$Exp-Time_A(n)$ ç¬¬äºŒç§å®šä¹‰å…è®¸â€?â€è¾“å‡ºè‹¥å¯¹é—®é¢˜$F$çš„ä»»æ„è¾“å…¥å®ä¾‹$x$ï¼Œ$Prob(A(x)=F(x))\\ge\\frac{1}{2}$ä¸”$Prob(A(x)=â€?â€)=1-Prob(A(x)=F(x))\\le\\frac{1}{2}$.è¿™ç§å®šä¹‰ä¸‹æ—¶é—´å¤æ‚åº¦é‡‡ç”¨$Time_A(n)$ ç¬¬ä¸€ç§å®šä¹‰ä¸€èˆ¬ç”¨äºè®¡ç®—å‡½æ•°ï¼Œç¬¬äºŒç§ä¸€èˆ¬ç”¨äºè®¡ç®—decision problem å•è¾¹è¯¯å·®è’™ç‰¹å¡æ´›ç®—æ³•ONE-SIDED-ERROR MONTE CARLO ALGORITHMS $L$çš„å•è¾¹è’™ç‰¹å¡æ´›ç®—æ³•æ»¡è¶³ å¯¹ä»»æ„$x\\in L, Prob(A(x)=1)\\ge 1/2$ å¯¹ä»»æ„$x\\notin L, Prob(A(x)=0)=1$ é‡å¤æ¬¡æ•°è¶Šå¤šï¼Œå¾—åˆ°æ­£ç¡®ç­”æ¡ˆçš„å¯èƒ½æ€§å°±è¶Šå¤§ è´¨æ•°å®šç†ï¼šé›†åˆ${1,2,\\cdots,m}$ä¸­è´¨æ•°çš„ä¸ªæ•°å¤§çº¦æ˜¯$m/\\ln m$ï¼Œä¸”å½“$m\\ge 100$æ—¶è‡³å°‘æ˜¯$m/\\ln m$ åŒè¾¹è¯¯å·®è’™ç‰¹å¡æ´›ç®—æ³•TWO-SIDED-ERROR MONTE CARLO ALGORITHMS è‹¥å­˜åœ¨å®æ•°$\\varepsilon, 0\\le\\varepsilon &lt;1/2$ï¼Œæ»¡è¶³å¯¹äº$F$çš„ä»»æ„è¾“å…¥$x, Prob(A(x)=F(x))\\ge\\frac{1}{2}+\\varepsilon$,åˆ™ç§°è¯¥ç®—æ³•ä¸º$F$çš„åŒè¾¹è’™ç‰¹å¡æ´›ç®—æ³• æ— é™åˆ¶è¯¯å·®è’™ç‰¹å¡æ´›ç®—æ³•UNBOUNDED-ERROR MONTE CARLO ALGORITHMS è‹¥å¯¹äº$F$çš„ä»»æ„è¾“å…¥$x, Prob(A(x)=F(x))&gt;\\frac{1}{2}$ï¼Œåˆ™ç§°è¿™æ ·çš„ç®—æ³•$A$æ˜¯æ— é™åˆ¶è’™ç‰¹å¡æ´›ç®—æ³• éšæœºæœ€ä¼˜åŒ–é—®é¢˜åˆ¤å®šé—®é¢˜çš„éšæœºç®—æ³•æ˜¯é€‰æ‹©å‡ºç°æœ€å¤šçš„ç­”æ¡ˆï¼Œè€Œæœ€ä¼˜åŒ–é—®é¢˜æ˜¯é€‰æ‹©æœ€æ¥è¿‘(æ ¹æ®cost function)çš„ç­”æ¡ˆ éšæœºè¿‘ä¼¼ç®—æ³•éšæœºç®—æ³•å¯ä»¥çœ‹æˆæ˜¯ä»¥é«˜æ¦‚ç‡å¾—åˆ°ä¸æœ€ä¼˜è§£å·®åˆ«ä¸å¤§çš„è§£çš„è¿‘ä¼¼ç®—æ³• å®šä¹‰5.2.2.10ï¼šè®¾$U=$(ç•¥)æ˜¯ä¸€ä¸ªæœ€ä¼˜åŒ–é—®é¢˜ã€‚å¯¹ä»»æ„æ­£å®æ•°$\\delta&gt;1$ï¼Œéšæœºç®—æ³•$A$æ˜¯$U$çš„éšæœº$\\delta-$è¿‘ä¼¼ç®—æ³•ï¼Œè‹¥$A$æ»¡è¶³ä»¥ä¸‹è¦æ±‚ $Prob(A(x)=\\mathcal{M}(x))=1$ä¸” $Prob(R_A(x)\\le\\delta)\\ge 1/2$ å¯¹ä»»æ„$x\\in L_I$ ç±»ä¼¼å¯å®šä¹‰éšæœº$f(n)-$è¿‘ä¼¼ç®—æ³• éšæœºå¤šé¡¹å¼è¿‘ä¼¼æ–¹æ¡ˆ(RPTAS) è¿˜æœ‰éšæœº å®Œå…¨å¤šé¡¹å¼è¿‘ä¼¼æ–¹æ¡ˆ(RFPTAS) $\\delta-$æœŸæœ›è¿‘ä¼¼ç®—æ³• ä»¥ä¸Šä¸¤ç§å®šä¹‰äº’ä¸åŒ…å« éšæœºç®—æ³•è®¾è®¡æŒ«è´¥å¯¹æ‰‹éšæœºé€‰æ‹©ä¸€ç³»åˆ—ç®—æ³•ä¸­çš„ä¸€ä¸ªï¼Œè¿™æ ·å°±æ— æ³•ç‰¹æ„æ„é€ ä¸€ç»„æœ€åè¾“å…¥ å……åˆ†å–è¯å¸¸ç”¨äºåˆ¤å®šé—®é¢˜ å¦‚Example5.2.2.6çš„å–æ¨¡è¿ç®— æŒ‡çº¹ç”¨äºåˆ¤å®šç­‰ä»·é—®é¢˜ éšæœºé‡‡æ ·æ¾å¼›ä¸éšæœºèˆå…¥æ¯”å¦‚æŠŠçº¿æ€§è§„åˆ’çš„å€¼èˆå…¥æˆæ•´æ•°è§„åˆ’","categories":[],"tags":[]},{"title":"éš¾é—®é¢˜æ±‚è§£å­¦ä¹ ç¬”è®°-è¿‘ä¼¼ç®—æ³•","slug":"ps-4-12-Approximation-Algorithms","date":"2019-05-18T03:03:30.000Z","updated":"2019-06-19T08:16:41.230Z","comments":true,"path":"2019/05/18/ps-4-12-Approximation-Algorithms/","link":"","permalink":"https://mengzelev.github.io/2019/05/18/ps-4-12-Approximation-Algorithms/","excerpt":"","text":"æ¦‚å¿µè¿‘ä¼¼ç®—æ³•æ˜¯èƒ½æä¾›æœ€ä¼˜åŒ–é—®é¢˜çš„å¯è¡Œè§£çš„ç®—æ³•ï¼Œæ‰€æä¾›çš„è§£çš„è´¨é‡ä¸ä¼šä¸æœ€ä¼˜è§£ç›¸å·®å¤ªå¤š å½¢å¼åŒ–å®šä¹‰ï¼š$U={\\Sigma_I, \\Sigma_O, L, L_I, \\mathcal{M}, cost, goal}$æ˜¯ä¸€ä¸ªæœ€ä¼˜åŒ–é—®é¢˜ï¼Œ$A$æ˜¯$U$çš„consistent algorithm. å¯¹ä»»æ„$x\\in L_I$, $A$åœ¨$x$ä¸Šçš„ç›¸å¯¹è¯¯å·®(relative error)$\\varepsilon_A(x)$å®šä¹‰ä¸º \\varepsilon_A(x)=\\frac{|cost(A(x))-Opt_U(x)|}{Opt_U(x)}å¯¹ä»»æ„$x\\in\\mathbb{N}$,å®šä¹‰$A$çš„ç›¸å¯¹è¯¯å·®\\varepsilon_A(n)=\\max\\{\\varepsilon_A(x)|x\\in L_I\\cap (\\Sigma_I)^n\\}å¯¹æ¯ä¸ª$x\\in L_I$,$A$åœ¨$x$ä¸Šçš„çš„è¿‘ä¼¼ç‡(approximation ration)$R_A(x)$å®šä¹‰ä¸ºR_A(x)=\\max\\{\\frac{cost(A(x))}{Opt_U(x)}, \\frac{Opt_U(x)}{cost(A(x))}\\}å¯¹ä»»æ„$n\\in\\mathbb{N}$,å®šä¹‰$A$çš„è¿‘ä¼¼ç‡ä¸ºR_A(n)=\\max\\{R_A(x)|x\\in L_I\\cap (\\Sigma_I)^n\\}$R_A$åˆåæœ€åæƒ…å†µæ€§èƒ½(worst case performance)ï¼Œè¿‘ä¼¼å› å­(approximation factor), æ€§èƒ½çº¦æŸ(performance bound)ï¼Œæ€§èƒ½ç‡(performance ratio)ï¼Œè¯¯å·®ç‡(error ratio) è‹¥$A$æ˜¯æœ€å°åŒ–é—®é¢˜ä¸”$R_A(x)=\\frac{Opt_U(x)}{cost(A(x))}$,åˆ™$R_A(x)=1+\\varepsilon_A(x)$ å¯¹äºä»»æ„æ­£å®æ•°$\\delta&gt;1$ï¼Œè‹¥$R_A(x)\\le\\delta$å¯¹ä»»æ„$x\\in L_I$æ’æˆç«‹ï¼Œåˆ™ç§°$A$æ˜¯$U$çš„$\\delta-$è¿‘ä¼¼ç®—æ³•å¯¹ä»»æ„å‡½æ•°$f:\\mathbb{N}\\to\\mathbb{R}^+$,è‹¥$R_A(x)\\le f(n)$å¯¹ä»»æ„$n\\in\\mathbb{N}$æ’æˆç«‹ï¼Œåˆ™ç§°$A$æ˜¯$U$çš„$f(n)-$è¿‘ä¼¼ç®—æ³• è¿‘ä¼¼æ–¹æ¡ˆ(approximation scheme)ç”¨æˆ·å¯ä»¥æŒ‡å®šä¸€ä¸ªå°çš„ç›¸å¯¹è¯¯å·®å€¼$\\varepsilon$ï¼Œç¨‹åºå¯ä»¥æä¾›å‡ºä¸€ä¸ªè¯¯å·®è‡³å¤šä¸º$\\varepsilon$çš„å¯è¡Œè§£ å®šä¹‰4.2.1.6ï¼š$U={\\Sigma_I, \\Sigma_O, L, L_I, \\mathcal{M}, cost, goal}$æ˜¯ä¸€ä¸ªæœ€ä¼˜åŒ–é—®é¢˜ã€‚è‹¥å¯¹ä»»æ„è¾“å…¥å¯¹$(x,\\varepsilon)\\in L_I\\times\\mathbb{R}^+$, $A$è®¡ç®—å‡ºä¸€ä¸ªç›¸å¯¹è¯¯å·®è‡³å¤šä¸º$\\epsilon$çš„å¯è¡Œè§£$A(x)$, ä¸”$Time_A(x,\\varepsilon^{-1})$ä»¥æŸä¸ª$|x|$çš„å¤šé¡¹å¼å‡½æ•°ä¸ºç•Œï¼Œåˆ™ç§°$A$æ˜¯$U$çš„å¤šé¡¹å¼æ—¶é—´è¿‘ä¼¼æ–¹æ¡ˆ(polynomial-time approximation scheme, PTAS). è‹¥$Time_A(x,\\varepsilon^{-1})$ä»¥æŸä¸ªåŒæ—¶æ˜¯$|x|$å’Œ$\\varepsilon^{-1}$çš„å¤šé¡¹å¼çš„å‡½æ•°ä¸ºç•Œï¼Œåˆ™ç§°$A$æ˜¯$U$çš„å®Œå…¨å¤šé¡¹å¼è¿‘ä¼¼æ–¹æ¡ˆ(fully polynomial-time approximation scheme, FPTAS) ä¸€èˆ¬æ¥è¯´$Time_A(x,\\varepsilon^{-1})$å…³äº$|x|$å’Œ$\\varepsilon^{-1}$éƒ½å•è°ƒé€’å¢ å¥½å¤„ï¼šç”¨æˆ·æœ‰æƒå†³å®šè¦å¿«è¿˜æ˜¯è¦ç²¾åº¦ æœ€ä¼˜åŒ–é—®é¢˜çš„åˆ†ç±»åœ¨è¿‘ä¼¼çš„æ„ä¹‰ä¸‹NPOå¯ä»¥è¢«åˆ†ä¸ºä»¥ä¸‹äº”ç±»ï¼š NPO(I): NPOä¸­æ‰€æœ‰å­˜åœ¨FPTASçš„æœ€ä¼˜åŒ–é—®é¢˜(e.g.èƒŒåŒ…é—®é¢˜) NPO(II): NPOä¸­æ‰€æœ‰å­˜åœ¨PTASçš„æœ€ä¼˜åŒ–é—®é¢˜(e.g. MS) NPO(III): åŒ…å«æ‰€æœ‰$U\\in NPO$æ»¡è¶³ï¼š å¯¹æŸäº›$\\delta&gt;1$å­˜åœ¨å¤šé¡¹å¼æ—¶é—´çš„$\\delta-$è¿‘ä¼¼ç®—æ³• å¯¹æŸäº›$d&lt;\\delta$ä¸å­˜åœ¨å¤šé¡¹å¼æ—¶é—´çš„çš„$d-$è¿‘ä¼¼ç®—æ³• i.e.$U$æ²¡æœ‰PTAS NPO(IV): åŒ…å«æ‰€æœ‰$U\\in NPO$æ»¡è¶³ï¼š å¯¹æŸäº›$f:\\mathbb{N}\\to\\mathbb{R}^+$,å­˜åœ¨å¤šé¡¹å¼æ—¶é—´çš„$f(n)-$è¿‘ä¼¼ç®—æ³•,å…¶ä¸­$f$ä»¥æŸä¸ªå¤šé¡¹å¼å‡½æ•°ä¸ºç•Œ å¯¹ä»»æ„$\\delta\\in\\mathbb{R}^+$ä¸å­˜åœ¨ä»»ä½•å¤šé¡¹å¼æ—¶é—´çš„$\\delta-$è¿‘ä¼¼ç®—æ³• e.g.é›†åˆè¦†ç›–é—®é¢˜ NPO(V): åŒ…å«æ‰€æœ‰$U\\in NPO$ï¼Œæ»¡è¶³è‹¥å­˜åœ¨å¤šé¡¹å¼æ—¶é—´çš„$f(n)-$è¿‘ä¼¼ç®—æ³•ï¼Œåˆ™$f(n)$ä¸ä»¥ä»»ä½•å¤šé¡¹å¼å‡½æ•°ä¸ºç•Œ(e.g. TSP, æœ€å¤§å›¢é—®é¢˜) ä»¥ä¸Šåˆ†ç±»éƒ½åŸºäºåˆç†çš„å‡è®¾P$\\neq$NPæ‰€æœ‰é›†åˆéƒ½æ˜¯éç©ºçš„ è¿‘ä¼¼ç®—æ³•çš„ç¨³å®šæ€§å³ä½¿æ˜¯NPO(V)ä¸­çš„é—®é¢˜ï¼Œä¹Ÿå¯èƒ½æœ‰å¾ˆå¤§ä¸€éƒ¨åˆ†çš„è¾“å…¥æ˜¯æ¯”è¾ƒç®€å•çš„ ç¨³å®šæ€§ç”¨æ¥è¡¡é‡é—®é¢˜å®ä¾‹çš„é™å®š(å‚æ•°ï¼Œç‰¹æ€§ç­‰)å¯¹è¿‘ä¼¼ç‡çš„å½±å“å¦‚æœå¯¹æ¨¡å‹çš„é™åˆ¶å½±å“è¿‘ä¼¼ç‡çš„ç¨‹åº¦å¾ˆä½ï¼Œåˆ™å¯ä»¥è¯´æˆ‘ä»¬çš„ç®—æ³•æ˜¯ç¨³å®šçš„ å®šä¹‰4.2.3.1ï¼š$U={\\Sigma_I, \\Sigma_O, L, L_I, \\mathcal{M}, cost, goal}$, $\\overline{U}={\\Sigma_I, \\Sigma_O, L, L, \\mathcal{M}, cost, goal}$æ˜¯ä¸¤ä¸ªæœ€ä¼˜åŒ–é—®é¢˜ï¼Œ$L_I\\subseteq L$. $\\overline{U}$ä¾æ®$L_I$çš„è·ç¦»å‡½æ•°(distance function for $\\overline{U}$ according to $L_I$)æ˜¯ä»»ä½•æ»¡è¶³ä¸‹åˆ—æ€§è´¨çš„å‡½æ•°$h_L:L\\to\\mathbb{R}^+\\cup{0}$: å¯¹ä»»æ„$x\\in L_I, h_L(x)=0$ $h$å¯ä»¥åœ¨å¤šé¡¹å¼æ—¶é—´å†…è®¡ç®— å®šä¹‰ï¼šå¯¹ä»»æ„$r\\in\\mathbb{R}^+$,Ball_{r,h}(L_I)=\\{w\\in L\\mid h(w)\\le r\\} $p$æ˜¯æ­£å®æ•°ï¼Œè‹¥å¯¹ä»»æ„å®æ•°$0\\le r\\le p$, å­˜åœ¨$\\delta{r,\\varepsilon}\\in\\mathbb{R}^{&gt;1}$, $A$æ˜¯$U_r={\\Sigma_I, \\Sigma_O, L, Ball{r,h}, \\mathcal{M}, cost, goal}$çš„$\\delta_{r,\\varepsilon}-$è¿‘ä¼¼ç®—æ³•ï¼Œåˆ™ç§°$A$æ˜¯p-stable according to $h$ è‹¥å¯¹ä»»æ„$p\\in\\mathbb{R}^+$ï¼Œ$A$éƒ½æ˜¯p-stableçš„ï¼Œåˆ™ç§°$A$æ˜¯stable according to $h$åä¹‹ï¼Œè‹¥å¯¹ä»»æ„$p\\in\\mathbb{R}^+$ï¼Œ$A$éƒ½ä¸æ˜¯p-stableçš„ï¼Œåˆ™ç§°$A$æ˜¯unstable according to $h$ å¯¹ä»»æ„æ­£æ•´æ•°$r$å’Œä»»æ„å‡½æ•°$f:\\mathbb{N}\\to\\mathbb{R}^{&gt;1}$,è‹¥$A$æ˜¯$Ur={\\Sigma_I, \\Sigma_O, L, Ball{r,h}, \\mathcal{M}, cost, goal}$çš„$f_r(n)-$è¿‘ä¼¼ç®—æ³•ï¼Œåˆ™ç§°$A$æ˜¯$(r,f_r(n))$-quasistable accroding to $h$ æŠŠPTAS$A$çœ‹ä½œä¸€ç³»åˆ—å¤šé¡¹å¼æ—¶é—´$(1+\\varepsilon)-$è¿‘ä¼¼ç®—æ³•çš„é›†åˆ$A\\varepsilon$.è‹¥åœ¨æŸä¸ªè·ç¦»åº¦é‡$h$ä¸‹å¯¹ä»»æ„$\\varepsilon&gt;0$,$A\\varepsilon$éƒ½æ˜¯ç¨³å®šçš„ï¼Œåˆ™æˆ‘ä»¬å¯ä»¥å¾—åˆ°ä»¥ä¸‹äºŒè€…ä¹‹ä¸€ $U_r$çš„ä¸€ä¸ªPTAS(for every $r\\in\\mathbb{R}^+$) $Ur$çš„ä¸€ä¸ª$\\delta{r,\\varepsilon}$è¿‘ä¼¼ç®—æ³•ï¼Œä½†æ²¡æœ‰PTAS å®šä¹‰4.2.3.6ï¼š $U,\\overline{U}$å®šä¹‰åŒä¸Šã€‚$h$æ˜¯$\\overline{U}$æ ¹æ®$LI$çš„è·ç¦»å‡½æ•°ï¼Œ$U_r$åŒä¸Šã€‚è®¾$A={A\\varepsilon}{\\varepsilon&gt;0}$æ˜¯$U$çš„ä¸€ä¸ªPTASè‹¥å¯¹ä»»æ„$r&gt;0$å’Œ$\\varepsilon&gt;0$,$A\\varepsilon$æ˜¯$\\delta{r,\\varepsilon}$-è¿‘ä¼¼ç®—æ³•ï¼Œåˆ™$A$æ˜¯å…³äº$h$stableçš„è‹¥$\\delta{r,\\varepsilon}\\le f(\\varepsilon)\\cdot g(r)$ï¼Œå…¶ä¸­$f$å’Œ$g$æ˜¯æŸäº›$\\mathbb{R}^{\\ge 0}\\to\\mathbb{R}^+$çš„å‡½æ•°ä¸”$\\lim\\limits_{\\varepsilon\\to 0}f(\\varepsilon)=0$, åˆ™ç§°$A$å…³äº$h$è¶…ç¨³å®š(superstable). å¦‚æœ$A$å¯¹$U$è¶…ç¨³å®šï¼Œåˆ™$A$å¯¹$U_r$ä¹Ÿè¶…ç¨³å®š å¯¹å¶è¿‘ä¼¼ç®—æ³•ä¿®æ”¹é™åˆ¶æ¡ä»¶$\\mathcal(M)$æ¥ç®€åŒ–è®¡ç®— å®šä¹‰4.2.4.1ï¼š$U={\\Sigma_I, \\Sigma_O, L, L_I, \\mathcal{M}, cost, goal}$æ˜¯ä¸€ä¸ªæœ€ä¼˜åŒ–é—®é¢˜ã€‚$U$çš„é™åˆ¶è·ç¦»å‡½æ•°(constraint distance function)æ˜¯ä»»ä½•æ»¡è¶³ä¸‹åˆ—æ¡ä»¶çš„å‡½æ•°$h:L_I\\times\\Sigma^*_O\\to\\mathbb{R}^{\\ge 0}$: å¯¹ä»»æ„$S\\in\\mathcal{M}(x), h(x,S)=0$ å¯¹ä»»æ„$S\\notin\\mathcal{M}(x), h(x,S)&gt;0$ $h$æ˜¯å¤šé¡¹å¼æ—¶é—´å†…å¯è®¡ç®—çš„ å¯¹ä»»æ„$\\varepsilon\\in\\mathbb{R}^+$,ä»»æ„$x\\in LI$,$\\mathcal{M}\\varepsilon^h(x)={S\\in\\Sigma_O^*\\mid h(x,S)\\le\\varepsilon}$æ˜¯$\\varepsilon-$ball of $\\mathcal{M}(x)$ according to $h$. å®šä¹‰4.2.4.2: $U$æ˜¯æœ€ä¼˜åŒ–é—®é¢˜ï¼Œ$h$æ˜¯$U$çš„é™åˆ¶è·ç¦»å‡½æ•°. è‹¥å¯¹ä»»æ„$x\\in L1$,æœ‰$A(x)\\in\\mathcal{M}\\varepsilon^h(x)$ä¸”$cost(A(x))\\ge Opt_U(x)$ if $goal=maximum$ä¸”$cost(A(x))\\le Opt_U(x)$ if $goal=minimum$, åˆ™ç§°$A$æ˜¯$U$çš„$h-$å¯¹å¶$\\varepsilon-$è¿‘ä¼¼ç®—æ³• å®šä¹‰4.2.4.3: æ¡ä»¶åŒä¸Šã€‚è‹¥ å¯¹ä»»æ„è¾“å…¥$(x,\\varepsilon)\\in LI\\times\\mathbb{R}^+, A(x,\\varepsilon)\\in\\mathcal{M}\\varepsilon^h(x)$ $cost(A(x))\\ge Opt_U(x)$ if $goal=maximum$ä¸”$cost(A(x))\\le Opt_U(x)$ if $goal=minimum$ $Time_A(x,\\varepsilon^{-1})$ä»¥æŸä¸ª$|x|$çš„å¤šé¡¹å¼å‡½æ•°ä¸ºç•Œ åˆ™ç§°$A$æ˜¯$U$çš„$h-dual$PTASç±»ä¼¼çš„å¯ä»¥å®šä¹‰$U$çš„$h-dual$FPTAS æ€»ç»“é™ä½é—®é¢˜éš¾åº¦çš„æ–¹æ³•ï¼š å¯¹è¾“å‡ºç²¾åº¦è¦æ±‚é™ä½ å¯¹è¾“å…¥åšé™åˆ¶","categories":[],"tags":[]},{"title":"è‡ªå·±çœ‹å¾—æƒ¯çš„æ¿å­æ•´ç†","slug":"oj-templates","date":"2019-04-19T08:20:44.000Z","updated":"2019-04-20T10:55:16.017Z","comments":true,"path":"2019/04/19/oj-templates/","link":"","permalink":"https://mengzelev.github.io/2019/04/19/oj-templates/","excerpt":"","text":"åŠ¨æ€è§„åˆ’çŠ¶æ€å‹ç¼©dpdfsç‰ˆ1234567891011121314151617int dfs(int i, int rnd, int status) &#123; int j; if (status == two[num] - 1) return 0; if (f[i][status] &gt; 0) return f[i][status]; int q = 1e9; for (j = num; j &gt; 0; --j) &#123; int temp = 1 &lt;&lt; (j - 1); if (j != i &amp;&amp; (!(status &amp; temp))) &#123; if (q &gt; dfs(j, rnd + 1, status | temp) + a[need[i]][need[j]]) &#123; q = dfs(j, rnd + 1, status | temp) + a[need[i]][need[j]]; c[i][status] = j; &#125; &#125; &#125; f[i][status] = q; return q;&#125; bfsç‰ˆ123456789101112131415161718192021222324252627282930313233343536373839404142434445void bfs(int start) &#123; memset(s, 0, sizeof(s)); memset(vis, 0, sizeof(vis)); queue&lt;int&gt; Q; Q.push(start); vis[start] = true; s[start] = 0; while (!Q.empty()) &#123; int u = Q.front(); Q.pop(); for (int i = 1; i &lt;= m; ++i) &#123; int v1 = u + ok[i]; int v2 = u - ok[i]; if (v1 &lt;= n &amp;&amp; !vis[v1]) &#123; Q.push(v1); s[v1] = s[u] + 1; vis[v1] = true; &#125; if (v2 &gt;= 0 &amp;&amp; !vis[v2]) &#123; Q.push(v2); s[v2] = s[u] + 1; vis[v2] = true; &#125; &#125; &#125;&#125;int dp() &#123; for(int i = 0; i &lt; 20; ++i) e[i] = (1 &lt;&lt; i); int sn = 1 &lt;&lt; cnt1; //çŠ¶æ€æ•° for(int i = 1; i &lt; sn; ++i) f[i] = INF; f[0] = 0; for(int i = 0; i &lt; sn; ++i) &#123; int j = 0; while(i &amp; e[j]) ++j; for(int p = j + 1; p &lt; cnt1; ++p) &#123; if(!(i &amp; e[p]) &amp;&amp; dist[p+1][j+1]) &#123; f[i | e[j] | e[p]] = min(f[i | e[j] | e[p]], f[i] + dist[p+1][j+1]); &#125; &#125;&#125; return f[sn-1];&#125; å¹¶æŸ¥é›†æ™®é€šå¹¶æŸ¥é›†1234567891011121314151617//åˆ«å¿˜äº†åˆå§‹åŒ–f[i]=iint find(int x)&#123; int root = f[x]; while(root != f[root]) root = f[root]; int y = f[x]; while(f[x] != root)&#123; f[x] = f[y]; y = f[y]; &#125; return f[x];&#125;void unite(a, b)&#123; int fa = find(a); int fb = find(b); if(fa != fb) f[fa] = fb;&#125; å¸¦æƒå¹¶æŸ¥é›†12345678910111213141516171819202122int find(int x)&#123; if(f[x] == x) return x; int temp = f[x]; f[x] = find(temp); rel[x] = (rel[x] + rel[temp]) % 3; //rel[x]åˆå§‹åŒ–ä¸ºå…¨0 return f[x];&#125;void unite(int d, int x, int y)&#123; int fx = find(x); int fy = find(y); if(fx != fy)&#123; f[fy] = fx; rel[fy] = (3 + d + rel[x] - rel[y]) % 3; &#125;&#125;bool judge(int d, int x, int y)&#123; if(d == 0) return (rel[x] == rel[y]); if(d == 1) return ((3 - rel[x] + rel[y]) % 3 == d); &#125; æœ€å°ç”Ÿæˆæ ‘kruskal12345678910111213141516int kruskal() &#123; int ans = 0, cnt = 0; for (int i = 1; i &lt;= n; ++i) f[i] = i; sort(e + 1, e + m + 1, cmp); for (int i = 1; i &lt;= m; ++i) &#123; int fu = find(e[i].u); int fv = find(e[i].v); if (fu != fv) &#123; f[fv] = fu; ans += e[i].weight; cnt++; if (cnt == n - 1) break; &#125; &#125; return ans;&#125; æœ€çŸ­è·¯dijkstra12345678910111213141516171819202122232425262728struct node&#123; int id; //åºå·ï¼Œæ‰¾è¾¹æƒç”¨ int d; bool operator &lt; (const node &amp;y) const &#123; return d &lt; y.d; &#125;&#125;vertex[MAXN] = &#123;&#125;;double dijkstra()&#123; priority_queue &lt;node&gt; q; vertex[0].d = 0; q.push(vertex[0]); while(!q.empty())&#123; node u = q.top(); q.pop(); for(int i = 0; i &lt; son[u.id].size(); ++i)&#123; int vid = son[u.id][i]; double weight = w[u.id][i]; if(vertex[vid].d &lt; u.d) continue; if(vertex[vid].d &gt; u.d + weight)&#123; vertex[vid].d = u.d + weight; q.push(vertex[vid]); &#125; &#125; &#125;&#125; floyd12345678void floyd()&#123; for(int k = 0; k &lt; n; ++k) for(int i = 0; i &lt; n; ++i) for(int j = 0; j &lt; n; ++j)&#123; if(map[i][j] &gt; map[i][k] + map[k][j]) map[i][j] = map[i][k] + map[k][j]; &#125;&#125; å„ç§tarjanæœ‰å‘å›¾å¼ºè¿é€šåˆ†é‡æ•°123456789101112131415161718192021222324252627282930313233//dfn[u] uçš„æ—¶é—´æˆ³//low[u] uæˆ–uçš„å­æ ‘èƒ½å¤Ÿè¿½æº¯åˆ°çš„æœ€æ—©æ ˆä¸­èŠ‚ç‚¹void tarjan(int u)&#123; dfn[u] = low[u] = ++cnt; vis[u] = true; stack1[++index] = u; for(int i = 0; i &lt; son[u].size(); ++i)&#123; int v = son[u][i]; if(!dfn[v])&#123; tarjan(v); low[u] = min(low[u], low[v]); &#125; else if(vis[v]) low[u] = min(low[u], dfn[v]); //u-v is a back edge &#125; if(low[u] == dfn[u])&#123; scnum ++; //å¼ºè¿é€šåˆ†é‡æ•° do&#123; belong[stack1[index]] = scnum; num[scnum] ++; vis[stack1[index]] = false; index --; &#125;while(u != stack1[index + 1]); &#125; return;&#125;// for(int i = 1; i &lt;= n; ++i)&#123;// if(!dfn[i]) &#123;// cnt = 1;// tarjan(i);// &#125;// &#125; æ— å‘å›¾å‰²ç‚¹ä¸å‰²è¾¹1234567891011121314151617181920212223void tarjan(int u, int pre)&#123; int child = 0; dfs_clock ++; dfn[u] = low[u] = dfs_clock; for(int i = 0; i &lt; son[u].size(); ++i)&#123; int v = son[u][i]; if(!dfn[v])&#123; tarjan(v,u); child ++; low[u] = min(low[u], low[v]); if((u == 1 &amp;&amp; child &gt; 1) || (u != 1 &amp;&amp; dfn[u] &lt;= low[v])) &#123; cut.push_back(u); //å‰²ç‚¹åˆ¤å®š //iscut[u] = true; &#125; if(low[v] &gt; dfn[u]) bridge.push_back(&#123;min(u,v), max(u,v)&#125;); //å‰²è¾¹åˆ¤å®š &#125; else if(dfn[v] &lt; dfn[u] &amp;&amp; v != pre) low[u] = min(low[u], dfn[v]); &#125; return;&#125;//tarjan(1,-1); æ— å‘å›¾åŒè¿é€šåˆ†é‡ç‚¹ï¼ˆè¾¹ï¼‰åŒè¿é€šåˆ†é‡ï¼šè‹¥ä¸€ä¸ªæ— å‘å›¾ä¸­çš„å»æ‰ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆä¸€æ¡è¾¹ï¼‰éƒ½ä¸ä¼šæ”¹å˜æ­¤å›¾çš„è¿é€šæ€§ï¼Œå³ä¸å­˜åœ¨å‰²ç‚¹ï¼ˆæ¡¥ï¼‰ï¼Œåˆ™ç§°ä½œç‚¹ï¼ˆè¾¹ï¼‰åŒè¿é€šå›¾ã€‚ 1234567891011121314void tarjan(int u, int pre)&#123; dfs_clock ++; dfn[u] = low[u] = dfs_clock; for(int i = 0; i &lt; son[u].size(); ++i)&#123; int v = son[u][i]; if(!dfn[v])&#123; tarjan(v,u); low[u] = min(low[u], low[v]); &#125; else if(dfn[v] &lt; dfn[u] &amp;&amp; v != pre) low[u] = min(low[u], dfn[v]); &#125; return;&#125;//ç»Ÿè®¡æ— å‘å›¾çš„è¾¹åŒè¿é€šåˆ†é‡ï¼Œåœ¨ä¸€ä¸ªåŒè¿é€šåˆ†é‡ä¸­å½“ä¸”ä»…å½“low[u] == low[v] æ¬§æ‹‰å›¾æœ‰å‘å›¾123456789101112131415161718192021bool directed_euler()&#123; int moreout = 0; int morein = 0; for(int i = &#x27;a&#x27;; i &lt;= &#x27;z&#x27;; ++i)&#123; if(ver[i].indeg &gt; ver[i].outdeg) &#123; if(ver[i].indeg == ver[i].outdeg + 1) morein ++; else return false; &#125; else if(ver[i].deg &lt; ver[i].outdeg) &#123; if(ver[i].outdeg == ver[i].indeg + 1) moreout++; else return false; &#125; &#125; //printf(&quot;morein = %d, moreout = %d&quot;, morein, moreout); if(morein &lt;= 1 &amp;&amp; moreout &lt;= 1) return true; else return false;&#125;//åˆ¤æ–­è¿é€šæœ‰å‘å›¾æ˜¯å¦å«æ¬§æ‹‰è¿¹//è‡³å¤šä¸€é¡¶ç‚¹å‡ºåº¦=å…¥åº¦+1//è‡³å¤šä¸€é¡¶ç‚¹å…¥åº¦=å‡ºåº¦+1//å…¶ä½™é¡¶ç‚¹ï¼šå…¥åº¦=å‡ºåº¦ æ— å‘å›¾1234567bool undirected_euler()&#123; int odd = 0; for(int i = &#x27;a&#x27;; i &lt;= &#x27;z&#x27;; ++i) if(ver[i].deg % 2 == 1) odd++; if(odd == 0 || odd == 2) return true; else return false;&#125;; å“ˆå¯†å°”é¡¿å›è·¯12345678910111213141516void hamilton()&#123; path.push_back(1); for(int i = 2; i &lt;= n; ++i)&#123; bool flag = false; for(int j = 0; j &lt; path.size() - 1; ++j)&#123; if(map[path[j]][i] &amp;&amp; map[i][path[j + 1]])&#123; path.insert(path.begin() + j + 1, i); flag = true; break; &#125; &#125; if(flag) continue; if(map[path.back()][i]) path.push_back(i); else path.insert(path.begin(), i); &#125;&#125; å®Œç¾åŒ¹é…åŒˆç‰™åˆ©ç®—æ³•1234567891011121314151617bool find(int x)&#123; for(int i = 1; i &lt;= m; ++i)&#123; if(map[x][i] &amp;&amp; !vis[i]) &#123; vis[i] = true; if(match[i] == 0 || find(match[i]))&#123; match[i] = x; return true; &#125; &#125; &#125; return false;&#125;for(int i = 1; i &lt;= n; ++i) &#123; memset(vis, 0 , sizeof(vis)); if(find(i)) ans ++;&#125; KMï¼šæœ€å°æƒåŒ¹é…12345678910111213141516171819202122232425262728293031323334353637383940414243444546bool find(int i) &#123; S[i] = true; for (int j = 1; j &lt;= num; ++j) &#123; if (!T[j] &amp;&amp; ls[i] + lt[j] == map[i][j]) &#123; T[j] = true; if (!match[j] || find(match[j])) &#123; match[j] = i; return true; &#125; &#125; &#125; return false;&#125;void relax() &#123; int relax_val = 1e9; for(int i = 1; i &lt;= min(n,m); ++i) if(S[i]) &#123; for(int j = 1; j &lt;= num; ++j) if(!T[j] &amp;&amp; ls[i] + lt[j] &gt; map[i][j]) relax_val = min(relax_val, ls[i] + lt[j] - map[i][j]); &#125; assert(relax_val &gt; 0); for (int i = 1; i &lt;= num; ++i) &#123; if (S[i]) ls[i] -= relax_val; if (T[i]) lt[i] += relax_val; &#125;&#125;int KM() &#123; memset(match, 0, sizeof(match)); for (int i = 1; i &lt;= min(m,n); ++i) &#123; ls[i] = 0; for (int j = 1; j &lt;= num; ++j) ls[i] = max(map[i][j], ls[i]); &#125; for(int i = 1; i &lt;= num; ++i) lt[i] = 0; for (int i = 1; i &lt;= min(n,m); ++i) &#123; while (1) &#123; memset(S, 0, sizeof(S)); memset(T, 0, sizeof(T)); if (find(i)) break; else relax(); &#125; &#125;&#125; ç½‘ç»œæµDinic+å½“å‰å¼§ä¼˜åŒ–123456789101112131415161718192021222324252627282930313233343536373839404142434445464748bool bfs() &#123; memset(depth, 0 , sizeof(depth)); queue &lt;int&gt; q; q.push(s); depth[s] = 1; while(!q.empty()) &#123; int u = q.front(); q.pop(); for(int i = 0; i &lt; son[u].size(); ++i) &#123; int v = son[u][i]; if(map[u][v] &gt; 0 &amp;&amp; !depth[v]) &#123; depth[v] = depth[u] + 1; q.push(v); &#125; &#125; &#125; if(depth[t] == 0) return false; else return true;&#125;int dfs(int u, int dist) &#123; /* * å¯»æ‰¾å½“å‰å¢å¹¿è·¯å¾„ä¸Šçš„æœ€å°å®¹é‡ */ if(u == t) return dist; for(int &amp;i = cur[u]; i &lt; son[u].size(); ++i) &#123; int v = son[u][i]; if(depth[v] == depth[u] + 1 &amp;&amp; map[u][v] &gt; 0) &#123; int minc = dfs(v, min(dist, map[u][v])); if(minc &gt; 0) &#123; map[u][v] -= minc; map[v][u] += minc; return minc; &#125; &#125; &#125; return 0;&#125;void dinic() &#123; while(bfs()) &#123; memset(cur, 0 , sizeof(cur)); while(int minc = dfs(s, INF)) &#123; ans += minc; //printf(&quot;minc=%d\\n&quot;,minc); &#125; &#125;&#125; çŸ©é˜µé«˜æ–¯æ¶ˆå…ƒ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263void swap2row(int x, int y) &#123; for(int i = 1; i &lt;= n + 1; ++i) swap(a[x][i], a[y][i]); //printf(&quot;**swap row %d with row %d**\\n&quot;,x,y);&#125;void pivot_one(int x, int y) &#123; double temp = a[x][y]; if(temp == 1) return; for(int i = y; i &lt;= n + 1; ++i) a[x][i] /= temp; //printf(&quot;**pivot one at row %d**\\n&quot;, x);&#125;void mul_and_add(int src, int dst, double cof) &#123; for(int i = 1; i &lt;= n + 1; ++i) &#123; a[dst][i] -= a[src][i] * cof; &#125; //printf(&quot;**mul row %d with %lf add to row %d**\\n&quot;, src, cof, dst);&#125;void print_matrix() &#123; for(int i = 1; i &lt;= n; ++i) &#123; for(int j = 1; j &lt;= n; ++j) printf(&quot;%lf &quot;, a[i][j]); printf(&quot;| %lf\\n&quot;, a[i][n + 1]); &#125; printf(&quot;------------------------\\n&quot;);&#125;bool iszero(int row) &#123; for(int i = 1; i &lt;= n + 1; ++i) if(a[row][i] != 0) return false; return true;&#125;void Guass() &#123; int row = 1, col = 1; bool ok = false; while(row &lt;= n &amp;&amp; col &lt;= n) &#123; //printf(&quot;Now row=%d, col=%d\\n&quot;,row, col); if(a[row][col] == 0.0) &#123; ok = false; for(int i = row + 1; i &lt;= n; ++i) if(a[i][col] != 0) &#123; swap2row(row, i); ok = true; break; &#125; if(ok == false) &#123;col++; continue;&#125; //else print_matrix(); &#125; pivot_one(row,col); if(col == n &amp;&amp; row == n &amp;&amp; a[row][col] == 1) return; //print_matrix(); for(int i = 1; i &lt;= n; ++i) if(i != row &amp;&amp; a[i][col] != 0) &#123; assert(a[row][col] != 0); double cof = a[i][col] / a[row][col]; if(cof != 0) mul_and_add(row, i, cof); assert(a[i][col] == 0); &#125; //print_matrix(); row ++; col ++; &#125;&#125; çº¿æ€§è§„åˆ’ â€” simplexå•çº¯å½¢ç®—æ³•1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071int sgn(double x) &#123; if (x &lt; -EPS) return -1; return x &gt; EPS ? 1 : 0;&#125;void pivot(int r, int c) &#123; swap(id[n + r], id[c]); double x = -a[r][c]; a[r][c] = -1; for (int i = 0; i &lt;= n; ++i) a[r][i] /= x; for (int i = 0; i &lt;= m; ++i) &#123; if (sgn(a[i][c]) &amp;&amp; i != r) &#123; x = a[i][c]; a[i][c] = 0; for (int j = 0; j &lt;= n; ++j) a[i][j] += x * a[r][j]; &#125; &#125;&#125;int simplex() &#123; /* important: revert symbols of conditions */ for (int i = 1; i &lt;= m; ++i) &#123; for (int j = 1; j &lt;= n; ++j) &#123; a[i][j] *= -1; &#125; &#125; for (int i = 1; i &lt;= n; ++i) id[i] = i; /* initial-simplex */ while (true) &#123; int x = 0, y = 0; for (int i = 1; i &lt;= m; ++i) &#123; if (sgn(a[i][0]) &lt; 0) &#123; x = i; break; &#125; &#125; if (!x) break; for (int i = 1; i &lt;= n; ++i) &#123; if (sgn(a[x][i]) &gt; 0) &#123; y = i; break; &#125; &#125; if (!y) return -1; // infeasible pivot(x, y); &#125; /* solve-simplex */ while (true) &#123; int x = 0, y = 0; for (int i = 1; i &lt;= n; ++i) &#123; if (sgn(a[0][i]) &gt; 0) &#123; x = i; break; &#125; &#125;// printf(&quot;choose x%d, cof=%d\\n&quot;, x, a[0][x]); if (!x) break; // finished double w = 0, t = 0; //tæ˜¯æœ€è‹›åˆ»çš„éåŸºæœ¬å˜é‡èƒ½å–åˆ°çš„æœ€å¤§å€¼ bool f = true; for (int i = 1; i &lt;= m; ++i) &#123; if (sgn(a[i][x]) &lt; 0) &#123; t = ((double)-a[i][0]) / ((double)a[i][x]);// if(x==3) printf(&quot;t: -%d / %d = %.lf\\n&quot;, a[i][0], a[i][x], t); if (f || t &lt; w) &#123; w = t, y = i, f = false; &#125; &#125; &#125; if (!y) &#123; return 1; &#125; // unbounded pivot(y, x); &#125; for (int i = 1; i &lt;= n; ++i) v[i] = 0; for (int i = n + 1; i &lt;= n + m; ++i) v[id[i]] = a[i - n][0]; return 0;&#125; å­—ç¬¦ä¸²åŒ¹é…KMP12345678910111213141516171819202122void build_kmp() &#123; int j = -1; kmp[0] = -1; for(int i = 1; i &lt; len2; ++i) &#123; while(j &gt;= 0 &amp;&amp; s2[i] != s2[j + 1]) j = kmp[j]; if(s2[j + 1] == s2[i]) j ++; kmp[i] = j; &#125;&#125;void do_kmp() &#123; int j = -1; for(int i = 0; i &lt; len1; ++i) &#123; while(j &gt;= 0 &amp;&amp; s1[i] != s2[j + 1]) j = kmp[j]; if(s1[i] == s2[j + 1]) ++j; if(j == len2 - 1) &#123; printf(&quot;%d\\n&quot;, i - len2 + 2); j = kmp[j]; ok = true; &#125; &#125;&#125; å­—å…¸æ ‘12345678910111213141516171819202122232425262728293031323334struct Trie&#123; /*å­—å…¸æ ‘*/ int tot, root; int nxt[MAXN][26] = &#123;&#125;; Trie() &#123; tot = 1; root = newNode(); &#125; int newNode() &#123; memset(nxt[tot], 0 ,sizeof(nxt[tot])); return tot++; &#125; void append(string s) &#123; int cur = root; for(int i = 0; i &lt; s.size(); ++i) &#123; int id = s[i] - &#x27;a&#x27;; if(nxt[cur][id] == 0) nxt[cur][id] = newNode(); cur = nxt[cur][id]; &#125; &#125; void print() &#123; for(int i = 1; i &lt; tot; ++i)&#123; for(int j = 0 ; j &lt; 26; ++j) &#123; if(nxt[i][j] != 0) printf(&quot;S.nxt[%d][%c]=%d\\n&quot;,i, j+&#x27;a&#x27;, nxt[i][j]); &#125; &#125; &#125; &#125;S; å¿«é€Ÿå¹‚1234567891011ll qpow(ll a, ll n, ll mod) &#123; /*å¿«é€Ÿå¹‚*/ ll ans = 1; a %= mod; while(n &gt; 0) &#123; if(n &amp; 1) ans = (ans * a) % mod; a = (a * a) % mod; n &gt;&gt;= 1; &#125; return ans;&#125;","categories":[],"tags":[]},{"title":"osæœŸä¸­å¤ä¹ ","slug":"os-midterm","date":"2019-04-15T14:17:55.000Z","updated":"2019-06-22T15:58:43.968Z","comments":true,"path":"2019/04/15/os-midterm/","link":"","permalink":"https://mengzelev.github.io/2019/04/15/os-midterm/","excerpt":"","text":"åº”ç”¨çœ¼ä¸­çš„OS æ“ä½œç³»ç»Ÿä¸€æ–¹é¢éœ€è¦æä¾›ç¨‹åºçš„æ‰§è¡Œçš„ç¯å¢ƒå’Œç›¸åº”çš„èµ„æºï¼Œè¿˜è¦æä¾›å’Œæ“ä½œç³»ç»Ÿä¸–ç•Œä¸­å…¶ä»–å¯¹è±¡äº¤äº’çš„æ–¹æ³•å’Œçº¦å®š å¹¶å‘å…±äº«å†…å­˜å¤šçº¿ç¨‹ å¹¶å‘å®šä¹‰ï¼šä¸€ä¸ªç¨‹åºã€ç®—æ³•æˆ–é—®é¢˜çš„ä¸åŒéƒ¨åˆ†ä¹±åºæˆ–ååºæ‰§è¡Œè€Œä¸å½±å“æœ€ç»ˆç»“æœçš„èƒ½åŠ› ç¨‹åºç»å†äº†ä»€ä¹ˆï¼Ÿ ç¼–è¯‘å™¨ä¼˜åŒ–$\\to$é¡ºåºä¸§å¤± æ“ä½œç³»ç»Ÿä¸­æ–­ï¼Œå¤šå¤„ç†å™¨ã€ç¼“å­˜(ç¡¬ä»¶)$\\to$åŸå­æ€§(all or nothing)ä¸§å¤± ç¼“å­˜ï¼Œä¹±åºï¼ˆç¡¬ä»¶ï¼‰$\\to$å¯è§æ€§ä¸§å¤± é¡ºåºä¸§å¤±ï¼šå…è®¸æºä»£ç ä¸­å†…å­˜è®¿é—®æŒ‡ä»¤ä¸å†æŒ‰é¡ºåºç”šè‡³ä¸å†å‡ºç° åŸå­æ€§çš„ä¸§å¤±ï¼šæŒ‡ä»¤åºåˆ—å¯ä»¥åœ¨ä»»æ„æ—¶åˆ»è¢«ä¸­æ–­ï¼Œç„¶åæ“ä½œç³»ç»Ÿåˆ‡æ¢åˆ°å…¶ä»–çº¿ç¨‹æ‰§è¡Œ å¯è§æ€§ä¸§å¤±ï¼šç¼“å­˜&amp;ä¹±åº äº’æ–¥è¯„ä¼°ä¸€æŠŠé”çš„åŸºæœ¬å‡†åˆ™ èƒ½å¤Ÿå®ŒæˆåŸºæœ¬ä»»åŠ¡ï¼šæä¾›äº’æ–¥æ€§è´¨ é”çš„åˆ†é…æ˜¯å…¬å¹³çš„ï¼šä¸ä¼šæœ‰ç°æˆæƒ³è¦ä¸Šé”å´æ°¸è¿œå¾—ä¸åˆ°å®ƒ é”çš„é«˜æ•ˆçš„ï¼šæ— ç­‰å¾…æ—¶æ€§èƒ½ï¼Ÿå¤šçº¿ç¨‹åŒæ—¶ç­‰å¾…æ—¶æ€§èƒ½ï¼Ÿå¤šCPUæ¯ä¸ªæ ¸çš„çº¿ç¨‹éƒ½è¦ä¸Šé”æ—¶æ€§èƒ½ï¼Ÿ è‡ªæ—‹é”çš„æ­£ç¡®æ€§è¯æ˜ï¼š å»ºæ¨¡ç¨‹åºçš„çŠ¶æ€ è¯æ˜safety(åªæœ‰ä¸€ä¸ªçº¿ç¨‹è¿›å…¥ä¸´ç•ŒåŒº)å’Œliveness(è‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½è¿›å…¥ä¸´ç•ŒåŒº) å‡ ç§ä¸Šé”æ–¹æ³• TestAndSetï¼›ç›¸å½“äºatomic_xchg CompareAndWait LL&amp;SC FetchAndAddï¼šå½©ç¥¨é”ï¼Œä¿è¯å…¬å¹³æ€§ åŒæ­¥(CV) wait(&amp;cond)ï¼šå½“å‰è¿›ç¨‹è¿›å…¥ç¡çœ çŠ¶æ€ï¼Œç­‰å¾…condè¢«æ»¡è¶³åå”¤é†’ signal(&amp;cond)ï¼šå”¤é†’åœ¨ç­‰å¾…condæ¡ä»¶çš„æŸä¸ªè¿›ç¨‹ broadcast(&amp;cond): å”¤é†’åœ¨ç­‰å¾…condæ¡ä»¶çš„æ‰€æœ‰è¿›ç¨‹ éœ€è¦é…åˆäº’æ–¥é”ä½¿ç”¨ï¼šè¯»å–çŠ¶æ€åˆ°wait()ä¹‹é—´ä¸èƒ½è¢«æ‰“æ–­ï¼Œæ”¹å˜çŠ¶æ€åˆ°signalä¹‹é—´ä¹Ÿä¸èƒ½è¢«æ‰“æ–­ ä½¿ç”¨æ¡ä»¶å˜é‡è®° å¾— ä¸Š é” 123456789101112131415void worker(int id) &#123; mutex_lock(&amp;mutex); done[id] = 1; signal(&amp;joins); mutex_unlock(&amp;mutex);&#125;int main() &#123; for(int i = 0; i &lt; nworkers; ++i) create(worker,i); for(int i = 0; i &lt; nworkers; ++i) &#123; mutex_lock(&amp;mutex); if(!done[i]) wait(&amp;joins, &amp;mutex); mutex_unlock(&amp;mutex); &#125;&#125; ä¿¡å·é‡äº’æ–¥é”(äºŒå…ƒä¿¡å·é‡)å’ŒåŒæ­¥éƒ½å¯ä»¥ä½¿ç”¨ä¿¡å·é‡æ¥å®ç°ä¿¡å·é‡å°±ç›¸å½“äºæœ‰ä¸€ä¸ªç®¡ç†å‘˜manageäº†ä¸€å †èµ„æºï¼Œè¿›ç¨‹éœ€è¦èµ„æºæ—¶å…ˆå‘ç®¡ç†å‘˜è¯·æ±‚(semi_wait)ï¼Œæš‚æ—¶æ²¡æœ‰èµ„æºå°±ç­‰ï¼Œä½¿ç”¨å®Œæ¯•åå½’è¿˜(semi_post)ç»™ç®¡ç†å‘˜ éœ€è¦é…åˆé”ä½¿ç”¨æ³¨æ„æ­»é”ï¼šlockä¹‹åPï¼Œå…¶ä»–çº¿ç¨‹æ˜¯æ— æ³•è·å¾—lockçš„ æœŸä¸­è€ƒé¢˜ 12345678910111213&#x27;(&#x27;: lock(&quot;(&quot;); // assume lock can nest putchar(); V(fill1);&#x27;)&#x27;: P(fill1); putchar(); unlock(&quot;(&quot;);&#x27;[&#x27;: lock(&quot;(&quot;); putchar(); V(fill2); unlock(&quot;(&quot;);&#x27;]&#x27;: P(fill2); lock(&quot;(&quot;); putchar(); unlock(&quot;(&quot;); ä¸èƒ½ä¸Šä¸€æŠŠå¤§é”ï¼ˆä¼šæ­»é”ï¼‰ï¼Œæ‰€ä»¥æ‹†äº†å°é”æ¥ä¿è¯åŸå­æ€§ Pä¸èƒ½åœ¨é”ä¸­é—´è¿›è¡Œ è‡ªæ—‹é”æ˜¯ä¸ºäº†ä¿è¯åœ†æ‹¬å·å’Œæ–¹æ‹¬å·ä¸å†²çªï¼ˆäº’æ–¥ï¼‰ï¼Œä¿¡å·é‡æ˜¯ä¸ºäº†ä¿è¯å·¦å³æ‹¬å·é…å¯¹ï¼ˆåŒæ­¥ï¼‰ ä¹‹æ‰€ä»¥ç”¨é”è€Œéä¿¡å·é‡æ¥å¤„ç†åœ†æ‹¬å·å’Œæ–¹æ‹¬å·çš„å…³ç³»ï¼Œæ˜¯å› ä¸ºä¸ºäº†ä¿è¯åŸå­æ€§æœ¬æ¥å°±è¦ä¸Šé”ï¼Œè¿™æ ·ä¸€ä¸¾ä¸¤å¾—ã€‚ç”¨ä¿¡å·é‡ä¸æ˜¯ä¸å¯ä»¥ï¼Œä½†ä¸€æ ·ä¹Ÿè¦ä¸Šé”ï¼Œé€ æˆäº†èµ„æºæµªè´¹ã€‚ APIs sem_waitï¼šä¿¡å·é‡-1ï¼Œè¡¨ç¤ºåœ¨ç­‰å¾…çš„çº¿ç¨‹å¢åŠ äº†ä¸€ä¸ªï¼Œæ¶ˆè€—ä¸€ä¸ªæ‰§è¡Œåé¢ï¼›å¦‚æœä¿¡å·é‡&lt;0, è¡¨ç¤ºç­‰å¾…çš„çº¿ç¨‹æ•°å¤šäºå¯æ‰§è¡Œçº¿ç¨‹æ•°ï¼Œå½“å‰çº¿ç¨‹è¿›å…¥ç¡çœ  sem_postï¼šä¿¡å·é‡+1ï¼Œè¡¨ç¤ºæ‰§è¡Œçš„çº¿ç¨‹å°‘äº†ä¸€ä¸ªï¼Œå¯ä»¥è®©å‡ºä¸€ä¸ªæ‰§è¡Œåé¢ å“²å­¦å®¶åƒé¥­é—®é¢˜One general solution: è®©ä¸€ä¸ªäººé›†ä¸­ç®¡ç†æ‰€æœ‰å‰å­(ä¿¡å·é‡) å¹¶å‘Bugs åŸå­æ€§è¿å(AV) â€”&gt; ä¸Šé” é¡ºåºè¿å(OV) â€”&gt; åŒæ­¥ æ­»é”å‡ºç°çš„å››ä¸ªæ¡ä»¶ äº’æ–¥ è¯·æ±‚ä¸ä¿æŒ(åŒä¸€ä¸ªè¿›ç¨‹è¦åŒæ—¶ä¸Šå¤šæŠŠé”) æ²¡æœ‰æŠ¢å (ä¸èƒ½å¼ºåˆ¶è§£é”) å¾ªç¯ç­‰å¾… å¯¹ä»˜æ­»é” é¿å…ï¼šè§„å®šä¸Šé”é¡ºåº æ£€æµ‹ï¼šæ‰“log è™šæ‹ŸåŒ–æ¯ä¸ªè¿›ç¨‹éƒ½ä»¥ä¸ºè‡ªå·±ç‹¬å CPUå’Œæ•´ä¸ªå†…å­˜ç©ºé—´è¿›ç¨‹ï¼šOSæä¾›çš„å¯¹è¿è¡Œç¨‹åºçš„æŠ½è±¡ è¿›ç¨‹æŠ½è±¡CPUæ‰§è¡ŒæŒ‡ä»¤æ—¶å‡è®¾è‡ªå·±ç›´æ¥å æœ‰æ•´ä¸ªCPUè¿›ç¨‹åˆ†æ—¶å…±äº«ç‰©ç†CPU è¿›ç¨‹çŠ¶æ€ Running: è¿›ç¨‹æ­£åœ¨å¤„ç†å™¨ä¸Šæ‰§è¡Œå‘½ä»¤ Readyï¼šè¿›ç¨‹å‡†å¤‡æ‰§è¡Œï¼Œä½†ç”±äºæŸäº›åŸå› OSå†³å®šç°åœ¨ä¸è®©å®ƒè¿è¡Œ Blockedï¼šè¿›ç¨‹æ­¤å‰æ‰§è¡Œäº†æŸäº›æ“ä½œ(e.g. I/O)ï¼Œè®©å®ƒåœ¨å…¶ä»–äº‹ä»¶å‘ç”Ÿå‰åœæ­¢æ‰§è¡Œ å®ç°è¿›ç¨‹ è¿›ç¨‹=çº¿ç¨‹+åœ°å€ç©ºé—´ è¿›ç¨‹å°±æ˜¯ä¸ªç»“æ„ä½“ åå­— pid ä¸Šä¸‹æ–‡ åœ°å€ç©ºé—´ å †æ ˆ çŠ¶æ€ å…¶ä»–ä¿¡æ¯ï¼ˆå¦‚çˆ¶è¿›ç¨‹ã€æ–‡ä»¶æè¿°ç¬¦ç­‰ï¼‰ è¿›ç¨‹ç®¡ç† fork execve exit exit()æ˜¯åº“å‡½æ•°ï¼Œ_exit()æ˜¯ç³»ç»Ÿè°ƒç”¨ æ–‡ä»¶æè¿°ç¬¦ä¸€ä¸ªæŒ‡å‘oså†…å¯¹è±¡çš„æŒ‡é’ˆfork-execä¸æ”¹å˜æ–‡ä»¶æè¿°ç¬¦int dup2(int oldfd, int newfd); - å…³é—­newfdï¼Œå¹¶å¤åˆ¶oldfdåˆ°newfd(dup+closeçš„å¹¶å‘ç‰ˆ) é‡å®šå‘123456789pid_t pid = fork();assert(pid != 0);if(pid == 0) &#123; //å­è¿›ç¨‹ int fd = open(...); dup2(fd, STDOUT_FILENO); close(fd); execve(...);&#125;else&#123;...&#125; ç®¡é“123456789101112if(pipe(fds) != 0) &#123;panic(&quot;pipe error&quot;);&#125;pid = fork();if(pid == 0) &#123;//child dup2(fds[1], STUOUT_FILENO); //è¿æ¥å†™å£ï¼Œå¾€ç®¡é“å†…å†™æ•°æ® close(fds[1]); close(fds[0]);&#125;else&#123; //parent dup2(fds[0], STDIN_FILENO); //è¿æ¥è¯»å£ï¼Œä»ç®¡é“å†…è¯»æ•°æ® close(fds[0]); close(fds[1]);&#125; ä¿¡å·è¿›ç¨‹ç»„å®ç° è¿›ç¨‹è°ƒåº¦è¡¡é‡æ ‡å‡† è½®è½¬æ—¶é—´(turnaround time): $\\sum t{complete}-t{arrival}$ å“åº”æ—¶é—´(response time): $\\sum t{firstrun}-t{arrival}$ FIFO ä¼˜ç‚¹ï¼šç®€å•æ˜“å®ç° ç¼ºç‚¹ï¼š ä¼šäº§ç”ŸæŠ¤èˆªæ•ˆåº”ï¼ˆæœ‰ä¸€ä¸ªä¸è¦è„¸çš„ä»»åŠ¡å å‘å¾ˆä¹…ï¼‰ SJF(Shortest Job First) å½“å‡è®¾æ‰€æœ‰ä»»åŠ¡åŒæ—¶åˆ°è¾¾æ—¶çš„æœ€ä¼˜ç®—æ³• éæŠ¢å å¼(preemptive)ç®—æ³• STCF(Shortest Time-to-Completion First) æŠ¢å å¼ç­–ç•¥ï¼ŒåˆåPreemptive Shortest Job First(PSJF) è½®è½¬æ—¶é—´çŸ­ä½†å“åº”æ—¶é—´é•¿ RR(Round Robin) æ¯ä¸ªè¿›ç¨‹è¿è¡Œä¸€æ®µæ—¶é—´ç‰‡(time slice, sometimes called scheduling quantum) æ—¶é—´ç‰‡è¶ŠçŸ­ï¼Œå“åº”æ—¶é—´è¶ŠçŸ­ï¼Œä½†æ˜¯åˆ‡æ¢ä¸Šä¸‹æ–‡çš„æ—¶é—´ä¼šå˜é•¿(trade-off) å½“è€ƒè™‘è½®è½¬æ—¶é—´æ—¶éå¸¸ç³Ÿç³• ä¿è¯äº†å…¬å¹³æ€§ä½†æ˜¯æŸå¤±äº†æ•ˆç‡ MLFQ(Multi-level Feedback Queue)MLFQæœ‰å¾ˆå¤šç§å®ç°ä½†éƒ½å¤§åŒå°å¼‚ï¼Œä¹¦ä¸Šåªä»‹ç»ä¸€ç§ æœ‰å¾ˆå¤šé˜Ÿåˆ—ï¼Œæ¯ä¸ªé˜Ÿåˆ—å…·æœ‰ä¸åŒçš„ä¼˜å…ˆçº§ï¼Œä¼˜å…ˆçº§é«˜çš„å…ˆè¿è¡Œ é€šè¿‡è§‚å¯Ÿè¿›ç¨‹è¿‡å»çš„è¡Œä¸ºè°ƒæ•´ä¼˜å…ˆçº§ å¦‚æœä¸€ä¸ªè¿›ç¨‹é¢‘ç¹è®©å‡ºCPUï¼Œä¿æŒé«˜ä¼˜å…ˆçº§ï¼›åä¹‹ä¸€ä¸ªè¿›ç¨‹å¦‚æœé•¿æ—¶é—´å ç”¨CPUåˆ™ä¼šè¢«é™ä½ä¼˜å…ˆçº§ å¹¶ä¸çŸ¥é“ä¸€ä¸ªä»»åŠ¡æ˜¯é•¿æ˜¯çŸ­ï¼Œå› æ­¤å…ˆå‡è®¾æ˜¯çŸ­çš„ï¼Œç„¶åæ ¹æ®è¿›ç¨‹çš„åç»­è¡¨ç°ä¿®æ”¹è®¤çŸ¥ ä¼˜å…ˆçº§çš„ä¿®æ”¹workload: äº¤äº’å¼çŸ­æ—¶é—´ä»»åŠ¡(ä¼šé¢‘ç¹è®©å‡ºCPU)+ä¸äº¤äº’çš„é•¿æ—¶é—´ä»»åŠ¡(å“åº”æ—¶é—´ä¸é‚£ä¹ˆé‡è¦) Basic Rules If Priority(A)&gt;Priority(B), A runs (B doesnâ€™t) If Priority(B)==Priority(B), A &amp; B runs in RR ä¸€ä¸ªä»»åŠ¡æœ€åˆè¿›å…¥ç³»ç»Ÿæ—¶ä½äºæœ€é«˜ä¼˜å…ˆçº§4(a). å¦‚æœä¸€ä¸ªä»»åŠ¡è€—å°½äº†æ—¶é—´ç‰‡ï¼Œåˆ™ä¼˜å…ˆçº§ä¸‹é™4(b). å¦‚æœä¸€ä¸ªä»»åŠ¡åœ¨æ—¶é—´ç‰‡è€—å°½ä¹‹å‰æ”¾å¼ƒäº†CPU,ä¼˜å…ˆçº§ä¸å˜4(æ”¹è¿›). å½“ä¸€ä¸ªä»»åŠ¡åœ¨ä¸€å®šç¨‹åº¦ä¸Šç”¨å°½äº†è¢«åˆ†é…åˆ°çš„æ—¶é—´ï¼Œä¼˜å…ˆçº§å°±ä¸‹é™5(æ–°å¢). åœ¨ä¸€æ®µæ—¶é—´$S$åï¼Œå°†æ‰€æœ‰ä»»åŠ¡ç§»åˆ°æœ€é«˜ä¼˜å…ˆçº§ä¸Š(Priority-boost) ç¼ºé™·ï¼š é¥¥é¥¿ï¼šå¦‚æœäº¤äº’å¼è¿›ç¨‹å¾ˆå¤šå°±ä¼šå®Œå…¨å ç”¨CPUä½¿å¾—é•¿ä»»åŠ¡å¾—ä¸åˆ°è°ƒåº¦(5è§£å†³) æœ‰äº›å¿ƒè„çš„åº”ç”¨å¯ä»¥ç©å¼„è¿™ä¸ªè§„åˆ™ï¼Œä¸€ç›´ä¸»åŠ¨è®©å‡ºä¸€å°ä¼šå„¿CPUæ¥ä½¿è‡ªå·±åœç•™åœ¨é«˜ä¼˜å…ˆçº§ä¸Š(4è§£å†³) ä»»åŠ¡çš„è¡Œä¸ºå¯èƒ½ä¼šéšç€æ—¶é—´æ”¹å˜(5è§£å†³) PS(Proportional-share) è€å­æ‰ä¸ç®¡ä»€ä¹ˆçš„è½®è½¬æ—¶é—´å’Œå“åº”æ—¶é—´ï¼Œè€å­åªè¦æ¯ä¸ªä»»åŠ¡éƒ½èƒ½æŒ‰æ¯”ä¾‹åˆ†åˆ°ä¸€å®šæ—¶é—´ lottery scheduling éšæœºçš„å¥½å¤„ é˜²æ­¢äº†è¾¹ç•Œæƒ…å†µ è½»é‡çº§ï¼Œéœ€è¦è®°å½•çš„ä¿¡æ¯å°‘ å¿«(å¤ªå¿«äº†å¯èƒ½ä¼šå˜æˆä¼ªéšæœºæ•°) æ€ä¹ˆåˆ†é…å½©ç¥¨ä¹Ÿæ˜¯ä¸ªå¾ˆæ£˜æ‰‹çš„é—®é¢˜ stride scheduling æ ¹æ®æ¯ä¸ªä»»åŠ¡çš„å½©ç¥¨æ•°å†³å®šæ¯æ¬¡è°ƒåº¦æ‰§è¡Œçš„æ—¶é—´é•¿çŸ­ æ¯æ¬¡è°ƒåº¦éƒ½é€‰å–è¿è¡Œæ—¶é—´æœ€çŸ­çš„ä»»åŠ¡ å¤šå¤„ç†å™¨è°ƒåº¦ä¸æƒ³çœ‹äº†ã€ç˜« é“¾æ¥å’ŒåŠ è½½ é™æ€é“¾æ¥ä¸‹çš„åŠ è½½ï¼š_start(ç¨‹åºè‡ªå·±çš„)-&gt;__libc_start_main-&gt;generic_start_main-&gt;...-&gt;main åŠ¨æ€é“¾æ¥ï¼š PLTï¼šç¨‹åºé“¾æ¥è¡¨ï¼Œæ”¾å…¥è¿›è¡Œé“¾æ¥çš„ä»£ç ï¼Œæ–¹ä¾¿lazy linking(åå­—å«è¡¨æ ¼å…¶å®å°±æ˜¯ä¸€å°æ®µä»£ç ï¼Œç”¨æ¥åˆ¤æ–­æ˜¯å¦å·²ç»å®Œæˆé“¾æ¥) GOTï¼šå…¨å±€åç§»è¡¨ï¼Œå­˜æ”¾å‡½æ•°ä»£ç å¼€å§‹çš„åœ°å€ ç¬¬ä¸€æ¡æŒ‡ä»¤ é™æ€é“¾æ¥ï¼ša.outçš„entry åŠ¨æ€é“¾æ¥ï¼šld.soçš„entry åŠ¨æ€é“¾æ¥libcï¼šé“¾æ¥å™¨ä½¿ç”¨ä¸€ç³»åˆ—mmapæŠŠlibcé“¾æ¥è¿›è¿›ç¨‹åœ°å€ç©ºé—´ è™šå­˜æŠ½è±¡å¤šçº§é¡µè¡¨(PML): å¤ä¹ ICSåç½®é¡µè¡¨(IPT): ç¡¬ä»¶ç»´æŠ¤ä¸€ä¸ªå…¨å±€çš„hash tableï¼Œè®¡ç®—$f(as,x)$IPTå®ç°Copy-on-Writeæœ‰å›°éš¾ï¼Œä¸”PMLèƒ½é«˜æ•ˆåœ°æ ‡è®°ä¸€æ®µè¿ç»­å†…å­˜ä¸ºæŸä¸ªæƒé™ mmapæŠŠæ“ä½œç³»ç»Ÿé‡Œçš„å¯¹è±¡æ˜ å°„åˆ°è¿›ç¨‹çš„åœ°å€ç©ºé—´ e.g.åŠ è½½å¯æ‰§è¡Œæ–‡ä»¶çš„æ—¶å€™æŠŠæ–‡ä»¶æ¬åˆ°æŸä¸ªåœ°å€å¤„ ä¸æ˜ å°„ä»»ä½•æ–‡ä»¶çš„æ—¶å€™å°±ç›¸å½“äºmalloc åªè®°å½•ç›¸å…³ä¿¡æ¯ï¼Œä½™ä¸‹çš„ç­‰å‘ç”Ÿç¼ºé¡µæ—¶å†å¤„ç†ï¼Œæ‰€ä»¥éå¸¸å¿« å¯ä»¥ç”¨çº¢é»‘æ ‘ç»´æŠ¤åˆ†é…çš„å†…å­˜ forké‡‡ç”¨å†™æ—¶å¤åˆ¶ è¿›ç¨‹çš„åœ°å€ç©ºé—´pmap-æŸ¥çœ‹è¿›ç¨‹çš„åœ°å€ç©ºé—´ é™æ€é“¾æ¥çš„ç¨‹åºçš„åœ°å€ç©ºé—´ï¼šä»£ç ã€æ•°æ®ã€bssã€å †ã€æ ˆã€ç”¨æˆ·æ€ç³»ç»Ÿè°ƒç”¨åŠ¨æ€é“¾æ¥ï¼šå¤šäº†åŠ¨æ€é“¾æ¥åº“å’Œé“¾æ¥å™¨ æœŸä¸­å¤ä¹ ç³»ç»Ÿè°ƒç”¨ï¼šæ“ä½œç³»ç»Ÿä¸ºç”¨æˆ·è¿›ç¨‹æä¾›çš„ä¸€ç»„APIï¼Œé€šå¸¸åœ¨å†…æ ¸ç©ºé—´ä¸­å®ç°ï¼Œå®ç°ç”¨æˆ·è¿›ç¨‹å¯¹æ“ä½œç³»ç»Ÿå¯¹è±¡/ç‰©ç†ç¡¬ä»¶è®¿é—®çš„è¯·æ±‚ã€‚è¿›ç¨‹=æ“ä½œç³»ç»Ÿä¸­çš„æ•°æ®ç³»ç»Ÿè°ƒç”¨=è¿™äº›æ•°æ®ä¸Šçš„æ“ä½œ","categories":[],"tags":[]},{"title":"é—®é¢˜æ±‚è§£å­¦ä¹ ç¬”è®°-å¯†ç ç®—æ³•","slug":"ps-4-7-cryptographic-algorithm","date":"2019-04-13T04:04:44.000Z","updated":"2019-06-19T02:47:13.526Z","comments":true,"path":"2019/04/13/ps-4-7-cryptographic-algorithm/","link":"","permalink":"https://mengzelev.github.io/2019/04/13/ps-4-7-cryptographic-algorithm/","excerpt":"","text":"RSAå…¬é’¥åŠ å¯†ç³»ç»Ÿæ¯ä¸ªå‚ä¸è€…éƒ½æœ‰ä¸€æŠŠå…¬é’¥($P$)å’Œå¯†é’¥($S$) $\\mathcal{D}$è¡¨ç¤ºå…è®¸ä¿¡æ¯çš„é›†åˆï¼Œè¦æ±‚å…¬é’¥ä¸å¯†é’¥æŒ‡å®šä¸€ç§ä»$\\mathcal{D}$åˆ°è‡ªèº«çš„ä¸€ä¸€å¯¹åº”çš„å‡½æ•°ã€‚Aliceçš„å…¬é’¥å‡½æ•°$P_A$å’Œå¯†é’¥å‡½æ•°$S_A$éƒ½æ˜¯$\\mathcal{D}$çš„æ’åˆ— ç³»ç»Ÿä¸­ä»»ä½•å‚ä¸è€…çš„å…¬é’¥ä¸å¯†é’¥éƒ½æ˜¯åŒ¹é…å¯¹ï¼ŒæŒ‡å®šå‡½æ•°äº’ä¸ºåå‡½æ•°ï¼Œå¯¹ä»»ä½•æ¶ˆæ¯$M\\in \\mathcal{D}$ï¼Œæœ‰ M=S_A(P_A(M))M=P_A(S_A(M))åŠ å¯†è¿‡ç¨‹ Bobå–å¾—Aliceçš„å…¬é’¥$P_A$ Bobè®¡ç®—å‡ºç›¸åº”ä¸$M$çš„å¯†æ–‡$C=P_A(M)$ï¼Œå¹¶æŠŠ$C$å‘é€ç»™Alice å½“Aliceæ”¶åˆ°å¯†æ–‡$C$åï¼Œè¿ç”¨è‡ªå·±çš„å¯†é’¥$S_A$æ¢å¤åŸå§‹ä¿¡æ¯$M$ æ•°å­—ç­¾å Aliceè¿ç”¨å¯†é’¥$S_A$å’Œç­‰å¼$\\sigma=S_A)Mâ€™$è®¡ç®—å‡ºä¿¡æ¯$Mâ€™$çš„æ•°å­—ç­¾å$\\sigma$ AliceæŠŠæ¶ˆæ¯/ç­¾åå¯¹$(Mâ€™,\\sigma)$å‘ç»™Bob Bobæ”¶åˆ°$(Mâ€™,\\sigma)$æ—¶ï¼Œé€šè¿‡éªŒè¯ç­‰å¼$Mâ€™=P_A(\\sigma)$æ¥è¯å®æ¶ˆæ¯çš„ç¡®æ˜¯æ¥è‡ªAlice ä»»ä½•äººéƒ½å¯ä»¥æŠŠæ•°å­—ç­¾åç¿»è¯‘å‡ºæ¥ï¼Œä½†åªæœ‰å¯†é’¥æŒæœ‰è€…å¯ä»¥ç”Ÿæˆæ•°å­—ç­¾å RSAåŠ å¯†ç³»ç»Ÿ åŠ å¯† P(M)=M^e\\bmod nè§£å¯† S(C)=C^d\\bmod nä¸Šè¿°åŠ å¯†è§£å¯†æ“ä½œå¯ä»¥ä½¿ç”¨å¿«é€Ÿå¹‚å®ç°ã€‚ è¿è¡Œæ—¶é—´å‡å®šï¼š å…¬é’¥$(e,n)$å’Œå¯†é’¥$(d,n)$æ»¡è¶³$\\lg~e=O(1), \\lg~d\\le\\beta, \\lg~n\\le\\beta$ åº”ç”¨å…¬é’¥éœ€è¦æ‰§è¡Œ$O(1)$æ¬¡æ¨¡ä¹˜æ³•è¿ç®—å’Œ$O(\\beta^2)$æ¬¡ä½æ“ä½œ åº”ç”¨å¯†é’¥éœ€è¦æ‰§è¡Œ$O(\\beta)$æ¬¡æ¨¡ä¹˜æ³•è¿ç®—å’Œ$O(\\beta^2)$æ¬¡ä½æ“ä½œã€‚ æ­£ç¡®æ€§è¯æ˜å®šç†31.36(RSAçš„æ­£ç¡®æ€§)ï¼šRSAåŠ å¯†å’Œè§£å¯†ç­‰å¼å®šä¹‰äº†æ»¡è¶³å†ä¸Šé¢ä¸¤ä¸ªç­‰å¼çš„$\\mathbb{Z}_n$çš„é€†å˜æ¢ RSAåŠ å¯†ç³»ç»Ÿçš„å®‰å…¨æ€§ä¸»è¦æ¥æºäºå¯¹å¤§æ•´æ•°è¿›è¡Œå› å­åˆ†è§£çš„å›°éš¾æ€§ æ•ˆç‡æé«˜ æ— å…¬é’¥åŠ å¯†ç³»ç»Ÿ æŠ—å†²çªæ•£åˆ—å‡½æ•°$h$ è¯ä¹¦ æ•´æ•°çš„å› å­åˆ†è§£Pollardçš„rhoå¯å‘å¼æ–¹æ³• é€šè¿‡éšæœºæ•°å¯»æ‰¾$n$çš„éå¹³å‡¡çº¦æ•° å¯èƒ½ä¼šå‡ºç°â€$\\rho$â€å­—å‹å›è·¯ï¼Œåœ¨å‡ºç°å›è·¯ä¹‹å‰é¢„è®¡è¦æ‰§è¡Œçš„æ­¥æ•°ä¸º$\\Theta(\\sqrt{n})$ ä¸€ç§æ‰¾å‡ºå¤§æ•´æ•°çš„å°ç´ æ•°å› å­çš„å¯ä¾›é€‰æ‹©çš„åŠæ³• ç§é’¥å¯†ç å­¦ä»¿å°„å¯†ç ç³»ç»Ÿ(affine cryptosystem)ï¼š$f(p)=ap+b\\bmod 26$, $f^{-1}(p)=a^{-1}p-a^{-1}b\\bmod 26$ å¤šå­—ç å¯†ç ç³»ç»Ÿ(polyalphabetic cryptosystem): $f(\\textbf{p})=A\\textbf{p}+b$,å…¶ä¸­$A$æ˜¯çŸ©é˜µï¼Œ$b$æ˜¯åˆ—å‘é‡ï¼Œ$f^{-1}(\\textbf{p})=A^{-1}\\textbf{p}-A^{-1}\\textbf{p}$ å…¬é’¥å¯†ç å­¦RSAåŠ å¯†ç³»ç»Ÿï¼ˆCLRSä¸Šå·²è®²","categories":[],"tags":[]},{"title":"ç®—æ³•å¯¼è®ºå­¦ä¹ ç¬”è®°-æ•°è®ºç®—æ³•","slug":"clrs-31Number-Theoretic-Algorithms","date":"2019-04-06T03:18:48.000Z","updated":"2019-06-18T09:43:32.189Z","comments":true,"path":"2019/04/06/clrs-31Number-Theoretic-Algorithms/","link":"","permalink":"https://mengzelev.github.io/2019/04/06/clrs-31Number-Theoretic-Algorithms/","excerpt":"","text":"è¾“å…¥è§„æ¨¡å’Œç®—æ•°è®¡ç®—çš„ä»£ä»·ç»™å®š$k$ä¸ªæ•´æ•°è¾“å…¥$a_1,a_2,\\cdots ,a_k$ï¼Œå¦‚æœç®—æ³•å¯ä»¥åœ¨å…³äº$\\lg~a_1,\\lg~a_2,\\cdots ,\\lg~a_k$çš„å¤šé¡¹å¼æ—¶é—´å†…å®Œæˆï¼Œå³ç®—æ³•åœ¨å…³äºäºŒè¿›åˆ¶ç¼–ç åçš„è¾“å…¥é•¿åº¦çš„å¤šé¡¹å¼æ—¶é—´å†…å®Œæˆï¼Œåˆ™ç§°è¯¥ç®—æ³•ä¸ºå¤šé¡¹å¼æ—¶é—´ç®—æ³• å½“è¾“å…¥å¾ˆå¤§æ—¶ï¼ŒåŸºæœ¬è¿ç®—ä¹Ÿä¼šå˜å¾—è€—æ—¶ã€‚ä¸¤ä¸ª$\\beta$ä½æ•´æ•°ç›¸ä¹˜éœ€è¦è€—æ—¶$\\Theta(\\beta^2)$.ä¸€ä¸ª$\\beta$ä¸ºæ•´æ•°é™¤ä»¥å¦ä¸€ä¸ªè¾ƒçŸ­æ•´æ•°çš„å•†æˆ–ä½™æ•°éœ€è¦è€—æ—¶$\\Theta(\\beta^2)$ åŸºç¡€æ•°è®ºæ¦‚å¿µæ•´é™¤æ€§ä¸çº¦æ•°ä½ æ‡‚çš„ ç´ æ•°ä¸åˆæ•°ä½ ä¹Ÿæ‡‚çš„ é™¤æ³•å®šç†ã€ä½™æ•°å’Œç­‰æ¨¡å®šç†31.1(é™¤æ³•å®šç†): å¯¹äºä»»ä½•æ•´æ•°$a$å’Œä»»ä½•æ­£æ•´æ•°$n$ï¼Œå­˜åœ¨å”¯ä¸€æ•´æ•°$q$å’Œ$r$ï¼Œæ»¡è¶³$0\\le r&lt;n$ä¸”$a=qn+r$ æ ¹æ®æ•´æ•°æ¨¡$n$çš„ä½™æ•°ï¼Œå¯ä»¥å°†æ‰€æœ‰æ•´æ•°åˆ’åˆ†æˆ$n$ä¸ªç­‰ä»·ç±»ã€‚åŒ…å«æ•´æ•°$a$çš„æ¨¡$n$ç­‰ä»·ç±»ä¸º$\\left[a\\right]_n={a+kn:k\\in\\mathbb{Z}}$æ‰€æœ‰è¿™ç±»ç­‰ä»·ç±»çš„é›†åˆæ˜¯$\\mathbb{Z}_n={[a]_n:0\\le a\\le n-1}$ å…¬çº¦æ•°ä¸æœ€å¤§å…¬çº¦æ•°å…¬çº¦æ•°çš„é‡è¦æ€§è´¨ï¼š $d\\mid a$ä¸”$d\\mid b$è•´å«$d\\mid (a+b)$ä¸”$d\\mid (a-b)$ å¯¹ä»»æ„æ•´æ•°$x$å’Œ$y$ï¼Œéƒ½æœ‰$d\\mid a$ä¸”$d\\mid b$è•´å«$d\\mid(ax+by)$ $a\\mid b$ä¸”$b\\mid a$è•´å«$a=\\pm b$ å®šç†31.2: å¦‚æœä»»æ„æ•´æ•°$a$å’Œ$b$ä¸éƒ½ä¸º0ï¼Œåˆ™gcd$(a,b)$æ˜¯$a$ä¸$b$çº¿æ€§ç»„åˆé›†${ax+by:x,y\\in\\mathbb{Z}}$ä¸­çš„æœ€å°æ­£å…ƒç´ ã€‚(æœ€å°æ­£çº¿æ€§ç»„åˆ) æ¨è®º31.3: å¯¹ä»»æ„æ•´æ•°$a$ä¸$b$ï¼Œå¦‚æœ$d\\mid a$ä¸”$d\\min b$ï¼Œåˆ™$d\\mid gcd(a,b)$ æ¨è®º31.4: å¯¹æ‰€æœ‰æ•´æ•°$a$å’Œ$b$ä»¥åŠä»»æ„éè´Ÿæ•´æ•°$n$ï¼Œæœ‰$gcd(an,bn)=n~gcd(a,b)$ æ¨è®º31.5: å¯¹äºä»»æ„æ­£æ•´æ•°$n,a$å’Œ$b$ï¼Œå¦‚æœ$n\\mid ab$ä¸”$gcd(a,n)=1$,åˆ™$n\\mid b$. äº’è´¨æ•°å®šç†31.6: å¯¹ä»»æ„æ•´æ•°$a,b$ä¸$p$,å¦‚æœ$gcd(a,p)=1$ä¸”$gcd(b,p)=1$ï¼Œåˆ™$gcd(ab,p)=1$. å”¯ä¸€å› å­åˆ†è§£å®šç†å®šç†31.7: å¯¹æ‰€æœ‰ç´ æ•°$p$å’Œæ‰€æœ‰æ•´æ•°$a,b$ï¼Œå¦‚æœ$p\\mid ab$,åˆ™$p\\mid a$æˆ–$p\\mid b$(æˆ–ä¸¤è€…éƒ½æˆç«‹)ã€‚ å®šç†31.8(å”¯ä¸€å› å­åˆ†è§£å®šç†): åˆæ•°$a$ä»…èƒ½ä»¥ä¸€ç§æ–¹å¼å†™æˆå¦‚ä¸‹ä¹˜ç§¯å½¢å¼ a=p_1^{e_1}p_2^{e_2}\\cdots p_r^{e_r}å…¶ä¸­$p_i$ä¸ºç´ æ•°ï¼Œ$p_1&lt;p_2&lt;\\cdots p_r$ä¸”$e_i$ä¸ºæ­£æ•´æ•° æœ€å¤§å…¬çº¦æ•°å®šç†31.9(GCDé€’å½’å®šç†): å¯¹ä»»æ„éè´Ÿæ•´æ•°$a$å’Œä»»æ„æ­£æ•´æ•°$b$ï¼Œ$gcd(a,b)=gcd(b,a\\bmod b)$ æ¬§å‡ é‡Œå¾—ç®—æ³•è¿è¡Œæ—¶é—´å¼•ç†31.10: å¦‚æœ$a&gt;b\\ge 1$å¹¶ä¸”EUCLID($a,b$)æ‰§è¡Œäº†$k\\ge 1$æ¬¡é€’å½’è°ƒç”¨ï¼Œåˆ™$a\\ge F{k+2}ï¼Œ b\\ge F{k+1}$.($F_n$ä¸ºæ–æ³¢é‚£å¥‘æ•°åˆ—çš„ç¬¬$n$é¡¹) å®šç†31.11(Lameå®šç†): å¯¹ä»»æ„æ•´æ•°$k\\ge 1$,å¦‚æœ$a&gt;b\\ge 1$,ä¸”$b&lt;F{k+1}$,åˆ™EUCLID($a,b$)çš„é€’å½’è°ƒç”¨æ¬¡æ•°å°‘äº$k$æ¬¡è¯¥ä¸Šç•Œæ˜¯æœ€ä¼˜çš„ï¼Œå› ä¸º$k\\ge 2$æ—¶ï¼ŒEUCLID$(F{k+1},F_k)$æ­£å¥½è°ƒç”¨äº†$k$æ¬¡ $F_k$çº¦ä¸º$\\phi^k/\\sqrt{5}$, $\\phi=(1+\\sqrt{5})/2$EUCLIDæ‰§è¡Œä¸­é€’å½’è°ƒç”¨çš„æ¬¡æ•°ä¸º$O(\\lg b)$å¦‚æœEUCLIDä½œç”¨äºä¸¤ä¸ª$\\beta$ä½æ•°ï¼Œåˆ™å°†æ‰§è¡Œ$O(\\beta)$æ¬¡ç®—æœ¯è¿ç®—å’Œ$O(\\beta^3)$æ¬¡ä½æ“ä½œ æ‰©å±•å½¢å¼ç”¨äºè®¡ç®—æ»¡è¶³ä¸‹åˆ—æ¡ä»¶çš„æ•´ç³»æ•°$x$å’Œ$y$(å¯èƒ½ä¸º0æˆ–è´Ÿæ•°): d=gcd(a,b)=ax+by è¿è¡Œæ—¶é—´ä¸EUCLIDç›¸åŒ æ¨¡è¿ç®—ç¾¤è®ºå¤ä¹  æ¨¡$n$åŠ æ³•ç¾¤ä½ æ‡‚çš„ æ¨¡$n$ä¹˜æ³•ç¾¤(\\mathbb{Z}_n^*, \\cdot_n)\\mathbb{Z}_n^*=\\{[a]_n\\in\\mathbb{Z}_n: gcd(a,n)=1\\}å®šç†31.13: æ¨¡$n$ä¹˜æ³•ç¾¤æ˜¯æœ‰é™äº¤æ¢ç¾¤ $\\mathbb{Z}_n^*$ä¸­çš„é™¤æ³•ç”±ç­‰å¼$a/b\\equiv ab^{-1}\\pmod n$å®šä¹‰ $\\mathbb{Z}_n^*$çš„è§„æ¨¡è¡¨ç¤ºä¸ºæ¬§æ‹‰phiå‡½æ•°($\\phi(n)$) \\phi(n)=n\\prod\\limits_{p:\\text{p is prime and }p\\mid n}(1-\\frac{1}{p})ç›´è§‚ç†è§£(ç±»ä¼¼ç­›æ³•æ±‚è´¨æ•°æ€æƒ³)ï¼šå¼€å§‹æœ‰ä¸€å¼ $n$ä¸ªä½™æ•°ç»„æˆçš„è¡¨ï¼Œç„¶åå¯¹äºæ¯ä¸ªèƒ½æ•´é™¤$n$çš„ç´ æ•°$p$,åœ¨è¡¨ä¸­åˆ’æ‰æ‰€æœ‰$p$çš„å€æ•°ã€‚ è‹¥$p$æ˜¯ç´ æ•°ï¼Œåˆ™$\\phi(p)=p-1$ è‹¥$n$æ˜¯åˆæ•°ï¼Œ\\frac{n}{e^\\gamma\\ln\\ln n+\\frac{3}{\\ln\\ln n}}","categories":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/categories/Notes/"}],"tags":[{"name":"Problem Solving","slug":"Problem-Solving","permalink":"https://mengzelev.github.io/tags/Problem-Solving/"},{"name":"CLRS","slug":"CLRS","permalink":"https://mengzelev.github.io/tags/CLRS/"}]},{"title":"é—®é¢˜æ±‚è§£å­¦ä¹ ç¬”è®°-æ•°è®ºåŸºç¡€","slug":"ps-4-6-basic-number-theory","date":"2019-03-30T06:49:23.000Z","updated":"2019-06-18T09:18:23.495Z","comments":true,"path":"2019/03/30/ps-4-6-basic-number-theory/","link":"","permalink":"https://mengzelev.github.io/2019/03/30/ps-4-6-basic-number-theory/","excerpt":"","text":"æ•°å­¦å½’çº³æ³•ä½ éƒ½æ‡‚çš„ è¾—è½¬ç›¸é™¤æ³•(Division Algorithm)å®šç†2.9(è¾—è½¬ç›¸é™¤æ³•): $a,b$ä¸ºæ•´æ•°ï¼Œæ»¡è¶³$b&gt;0$ï¼Œåˆ™å­˜åœ¨å”¯ä¸€çš„æ•´æ•°$q$å’Œ$r$ä½¿å¾—$a=bq+r$ï¼Œæ­¤å¤„$0\\le r&lt;b$ $a\\mid b$: $a$èƒ½æ•´é™¤$b$,$b$èƒ½è¢«$a$æ•´é™¤ å®šç†2.10: $a,b$ä¸ºéé›¶æ•´æ•°ï¼Œåˆ™å­˜åœ¨æ•´æ•°$r,s$ä½¿å¾—gcd($a,b)=ar+bs$. $gcd(a,b)$æ˜¯å”¯ä¸€çš„ã€‚ä½†$r,s$ä¸å”¯ä¸€ æ¨è®º2.11: $a,b$ä¸ºäº’è´¨çš„æ•´æ•°ï¼Œåˆ™å­˜åœ¨æ•´æ•°$r,s$ä½¿å¾—$ar+bs=1$ã€äº‹å®ä¸Šæ˜¯å½“ä¸”ä»…å½“çš„å…³ç³»ã€‘ æ¬§å‡ é‡Œå¾—ç®—æ³•(The Euclidean Algorithm)ä½¿ç”¨å¤šæ¬¡é™¤æ³•å¾—åˆ°ä¸€ä¸ªé€’å‡çš„åºåˆ—æ¥æ±‚å‡ºgcd$(a,b)$$b=aq1+r$$a=r_1q_2+r_2$$r_1=r_2q_3+r_3$$\\vdots$$r{n-2}=r{n-1}a_n+r_n$$r{n-1}=rnq{n+1}$å°†è¿™ä¸€ç³»åˆ—ç­‰å¼åè¿‡æ¥ä¹¦å†™å¯ä»¥å¾—åˆ°$d$çš„è¡¨ç¤º(ç•¥) è´¨æ•°å¼•ç†2.13(Euclid): $a,b$ä¸ºæ•´æ•°ï¼Œ$p$ä¸ºè´¨æ•°ã€‚å¦‚æœ$p\\mid ab$,åˆ™$p\\mid a$æˆ–$p\\mid b$ å®šç†2.14(Euclid): è´¨æ•°çš„ä¸ªæ•°æ˜¯æ— é™çš„ å®šç†2.15(ç®—æœ¯åŸºæœ¬å®šç†Fundamental Theorem of Arithmetic): $n$ä¸ºå¤§äº1çš„æ•´æ•°ï¼Œåˆ™$n=p_1p_2\\cdots p_k$ï¼Œå…¶ä¸­$p_1,â€¦,p_k$ä¸ºè´¨æ•°ã€‚è¿™ä¸ªåˆ†è§£æ˜¯å”¯ä¸€çš„ï¼Œå³è‹¥$n=q_1q_2\\cdots q_l$ï¼Œåˆ™$k=l$ä¸”$q_i$åªæ˜¯$p_i$çš„æ’åˆ— ä»¥ä¸‹å†…å®¹å‡ºè‡ªCZ $\\mathbb{Z}_n$ä¸Šçš„ä¹˜æ³•é€†å…ƒä¹˜æ³•é€†å…ƒ(multiplicative inverse): $aâ€™\\cdot_{n}a=1$,åˆ™ç§°$aâ€™$æ˜¯$a$åœ¨$\\mathbb{Z}_n$ä¸­çš„ä¹˜æ³•é€†å…ƒ å¼•ç†2.5: è®¾$a$åœ¨$\\mathbb{Z}n$ä¸­å­˜åœ¨ä¹˜æ³•é€†å…ƒ$aâ€™$. åˆ™å¯¹äºä»»æ„$b\\in\\mathbb{Z}_n$,ç­‰å¼$a\\cdot{n}x=b$æœ‰å”¯ä¸€è§£$x=aâ€™\\cdot_{n}b$. æ¨è®º2.6: è‹¥å­˜åœ¨$b\\in\\mathbb{Z}n$ä½¿å¾—$a\\cdot{n}x=b$çš„$a$æ— è§£ï¼Œåˆ™$a$åœ¨$\\mathbb{Z}_n$ä¸Šä¸å­˜åœ¨ä¹˜æ³•é€†å…ƒ å®šç†2.7: è‹¥$\\mathbb{Z}_n$ä¸­çš„å…ƒç´ æœ‰ä¸€ä¸ªä¹˜æ³•é€†å…ƒï¼Œåˆ™å®ƒçš„ä¹˜æ³•é€†å…ƒæ˜¯å”¯ä¸€çš„ã€‚å› æ­¤å¯ä»¥ç”¨$a^{-1}$æ¥è¡¨ç¤ºä¹˜æ³•é€†å…ƒã€‚ å¼•ç†2.8: $a\\cdot_{n}x=1$æœ‰è§£å½“ä¸”ä»…å½“å­˜åœ¨æ•´æ•°$x,y$ä½¿å¾—$ax+ny=1$ å®šç†2.9: $a$åœ¨$\\mathbb{Z}_n$ä¸­æœ‰ä¹˜æ³•é€†å…ƒå½“ä¸”ä»…å½“å­˜åœ¨æ•´æ•°$x,y$ä½¿å¾—$ax+ny=1$ æ¨è®º2.10: è‹¥$a\\in\\mathbb{Z}_n$ä¸”$x,y$æ˜¯æ»¡è¶³$ax+ny=1$çš„æ•´æ•°ï¼Œåˆ™$a$åœ¨$\\mathbb{Z}_n$ä¸­çš„ä¹˜æ³•é€†å…ƒæ˜¯$x\\bmod n$ å¼•ç†2.11: è‹¥å­˜åœ¨æ•´æ•°$x,y$ä½¿å¾—$ax+ny=1$ï¼Œåˆ™$a,n$äº’è´¨ å®šç†2.12(æ¬§å‡ é‡Œå¾—é™¤æ³•å®šç†): åŒæœ€TJçš„å®šç†2.9 å¼•ç†2.13: è‹¥$j,k,q,r$æ˜¯æ»¡è¶³$k=jq+r$çš„æ­£æ•´æ•°ï¼Œåˆ™gcd($j,k$)=gcd($r,j$) æ¬§å‡ é‡Œå¾—æ‰©å±•ç®—æ³•å…¶å®å°±æ˜¯è®¡ç®—$x$å’Œ$y$çš„ç®—æ³• å®šç†2.15: ä¸¤ä¸ªæ­£æ•´æ•°$j$å’Œ$k$äº’è´¨å½“ä¸”ä»…å½“å­˜åœ¨æ•´æ•°$x,y$ä½¿å¾—$jx+ky=1$ æ¨è®º2.16: å¯¹äºä»»æ„æ­£æ•´æ•°$n$Aï¼Œ$\\mathbb{Z}_n$çš„å…ƒç´ $a$æœ‰ä¹˜æ³•é€†å…ƒå½“ä¸”ä»…å½“$gcd(a,n)=1$ æ¨è®º2.17: å¯¹ä»»æ„è´¨æ•°$p$,$\\mathbb{Z}_p$çš„ä»»æ„éé›¶å…ƒç´ å­˜åœ¨ä¹˜æ³•é€†å…ƒã€‚ è®¡ç®—ä¹˜æ³•é€†å…ƒè·‘æ¬§å‡ é‡Œå¾—ç®—æ³•æ±‚å‡ºæ»¡è¶³$ax+ny=1$çš„$x$,å°±æ˜¯$a$åœ¨$\\mathbb{Z}_n$ä¸­çš„ä¹˜æ³•é€†å…ƒ","categories":[],"tags":[]},{"title":"ç®—æ³•å¯¼è®ºå­¦ä¹ ç¬”è®°-å­—ç¬¦ä¸²åŒ¹é…","slug":"clrs-32String-Mathcing","date":"2019-03-23T06:42:50.000Z","updated":"2019-03-23T15:40:43.447Z","comments":true,"path":"2019/03/23/clrs-32String-Mathcing/","link":"","permalink":"https://mengzelev.github.io/2019/03/23/clrs-32String-Mathcing/","excerpt":"","text":"åŸºæœ¬çŸ¥è¯†é—®é¢˜çš„å½¢å¼åŒ–å®šä¹‰ æ–‡æœ¬æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º$n$çš„æ•°ç»„$T[1,â€¦n]$ æ¨¡å¼æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º$m$çš„æ•°ç»„$P1,â€¦m$ $P$å’Œ$T$çš„å…ƒç´ éƒ½æ˜¯æ¥è‡ªä¸€ä¸ªæœ‰é™å­—æ¯é›†$\\Sigma$çš„å­—ç¬¦ è‹¥$0\\le s\\le n-m$,ä¸”$T[s+1,â€¦s+m]=P[1,â€¦m]$,åˆ™ç§°æ¨¡å¼$P$åœ¨æ–‡æœ¬$T$ä¸­å‡ºç°ï¼Œä¸”åç§»ä¸º$s$(æ¨¡å¼$P$åœ¨æ–‡æœ¬$T$ä¸­å‡ºç°çš„ä½ç½®æ˜¯$s+1$å¼€å§‹çš„) å¦‚æœ$P$åœ¨$T$ä¸­ä»¥åç§»$s$å‡ºç°ï¼Œé‚£ä¹ˆç§°$s$æ˜¯æœ‰æ•ˆåç§»ï¼Œå¦åˆ™æ˜¯æ— æ•ˆåç§» å­—ç¬¦ä¸²åŒ¹é…é—®é¢˜ï¼šæ‰¾åˆ°æ‰€æœ‰çš„æœ‰æ•ˆåç§» ç®—æ³•æ€»è¿è¡Œæ—¶é—´=é¢„å¤„ç†æ—¶é—´+åŒ¹é…æ—¶é—´ ç¬¦å·å’Œæœ¯è¯­ $\\Sigma^*$: åŒ…å«æ‰€æœ‰æœ‰é™é•¿åº¦çš„å­—ç¬¦ä¸²çš„é›†åˆ $\\varepsilon$: é•¿åº¦ä¸º0çš„ç©ºå­—ç¬¦ä¸²ï¼Œ$\\varepsilon\\in\\Sigma^*$ $|x|$: å­—ç¬¦ä¸²$x$çš„é•¿åº¦ $xy$: ä¸¤ä¸ªå­—ç¬¦ä¸²$x$å’Œ$y$çš„è¿ç»“(concatenation) è‹¥å¯¹æŸä¸ªå­—ç¬¦ä¸²$y\\in \\Sigma^$æœ‰$x=wy$ï¼Œåˆ™ç§°å­—ç¬¦ä¸²$w$æ˜¯å­—ç¬¦ä¸²$x$çš„*å‰ç¼€ï¼Œè®°ä½œ$w\\sqsubset x$ è‹¥å¯¹æŸä¸ªå­—ç¬¦ä¸²$y$æœ‰$x=yw$ï¼Œåˆ™ç§°å­—ç¬¦ä¸²$w$æ˜¯å­—ç¬¦ä¸²$x$çš„åç¼€ï¼Œè®°ä½œ$w\\sqsupset x$ ç©ºå­—ç¬¦ä¸²$\\varepsilon$åŒæ—¶æ˜¯ä»»ä½•ä¸€ä¸ªå­—ç¬¦ä¸²çš„å‰ç¼€å’Œåç¼€ $x\\sqsupset y$å½“ä¸”ä»…å½“$xa\\sqsupset ya$ $\\sqsubset$å’Œ$sqsupset$éƒ½æ˜¯ä¼ é€’å…³ç³» å¼•ç†32.1(åç¼€é‡å å¼•ç†): å‡è®¾$x,y$æ»¡è¶³$x\\sqsupset z$å’Œ$y\\sqsupset z$çš„å­—ç¬¦ä¸²ã€‚å¦‚æœ$|x|\\le |y|$, é‚£ä¹ˆ$x\\sqsupset y$; å¦‚æœ$|x|\\ge |y|$, é‚£ä¹ˆ$y\\sqsupset x$; å¦‚æœ$|x|=|y|$, é‚£ä¹ˆ$x=y$ æŠŠæ¨¡å¼$P[1..m]$çš„ç”±$k$ä¸ªå­—ç¬¦ç»„æˆçš„å‰ç¼€$P[1..k]$è®°ä½œ$P_k$ï¼Œå› æ­¤$P_0=\\varepsilon$,$P_m=P=P[1..m]$ æŠŠæ–‡æœ¬$T$ä¸­ç”±$k$ä¸ªå­—ç¬¦ç»„æˆçš„å‰ç¼€è®°ä¸º$T_k$ é‡‡ç”¨è¿™ç§è®°å·ï¼Œå­—ç¬¦ä¸²åŒ¹é…é—®é¢˜èƒ½è¢«è¡¨è¿°ä¸ºï¼šæ‰¾åˆ°æ‰€æœ‰åç§»$s(0\\le s\\le n-m)$, ä½¿å¾—$P\\sqsupset T_{s+m}$ å‡è®¾ï¼šæ£€æµ‹$x==y$éœ€è¦æ—¶é—´$\\Theta(t+1)$ï¼Œå…¶ä¸­$t$æ˜¯æ»¡è¶³$z\\sqsubset x$å’Œ$z\\sqsubset y$çš„æœ€é•¿å­—ç¬¦ä¸²$z$çš„é•¿åº¦ æœ´ç´ å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•é€šè¿‡å¾ªç¯æ‰¾åˆ°æ‰€æœ‰æœ‰æ•ˆåç§»å¯¹$n-m+1$ä¸ªå¯èƒ½çš„$s$è¿›è¡Œæ£€æµ‹ è¿è¡Œæ—¶é—´æœ€åæƒ…å†µä¸‹ï¼š$O((n-m+1)m)$æ— é¢„å¤„ç†æ—¶é—´ Rabin-Karpç®—æ³•ä¸ºäº†ä¾¿äºè¯´æ˜ï¼Œå‡è®¾$\\Sigma={0,1,2,â€¦,9}$åœ¨é€šå¸¸æƒ…å†µä¸‹å¯ä»¥å‡å®šæ¯ä¸ªå­—ç¬¦éƒ½æ˜¯ä»¥$d$ä¸ºåŸºæ•°è¡¨ç¤ºçš„æ•°å­—$p$: æ¨¡å¼$P$è¡¨ç¤ºçš„åè¿›åˆ¶å€¼$t_s$: æ–‡æœ¬$T[s+1..s+m]$å¯¹åº”çš„åè¿›åˆ¶å€¼æŠŠå­—ç¬¦ä¸²åŒ¹é…è½¬åŒ–ä¸ºæ•°å€¼åŒ¹é… è®¡ç®—$t1,â€¦t_s$æ—¶ï¼Œå¯ä»¥æ ¹æ®$t_s$è®¡ç®—$t{s+1}$ t_{s+1}=10(t_s-10^{m-1}T[s+1])+T[s+m+1](å»æ‰é«˜ä½æ•°å­—ï¼Œå·¦ç§»ï¼ŒåŠ ä¸Šä½ä½æ•°å­—) å¦‚æœ$p$å’Œ$t_s$çš„å€¼å¤ªå¤§ï¼Œå¯ä»¥é€‰å–ä¸€ä¸ªåˆé€‚çš„æ¨¡$q$æ¥è®¡ç®—$p$å’Œ$t_s$çš„æ¨¡åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œé€‰å–ä¸€ä¸ª$q$ï¼Œä½¿å¾—$dq$åœ¨ä¸€ä¸ªè®¡ç®—æœºå­—é•¿å†…ï¼Œè°ƒæ•´é€’å½’å¼ t_{s+1}=(d(t_s-T[s+1]h)+T[s+m+1])\\mod~qå…¶ä¸­$h\\equiv d^{m-1}(mod q)$æ˜¯ä¸€ä¸ªå…·æœ‰$m$æ•°ä½çš„æ–‡æœ¬çª—å£çš„é«˜ä½æ•°ä½ä¸Šçš„æ•°å­—â€1â€çš„å€¼ è¿è¡Œè¿‡ç¨‹ è®¡ç®—æ‰€æœ‰é•¿åº¦ä¸º$m$çš„æ–‡æœ¬çª—å£å¯¹$q$å–æ¨¡çš„å€¼ æ‰¾å‡º$t_s\\equiv q(\\mod~q)$çš„$s$å€¼(ä¼ªå‘½ä¸­ç‚¹) è¿›è¡Œå­—ç¬¦ä¸²åŒ¹é…æ£€éªŒ ä¼ªä»£ç  å»é™¤$t$çš„ä¸‹æ ‡ä¸ä¼šå½±å“ç¨‹åºè¿è¡Œ å¾ªç¯ä¸å˜é‡ï¼š$t_s=T[s+1â€¦s+m]\\mod~q$ è¿è¡Œæ—¶é—´é¢„å¤„ç†ï¼š$\\Theta(m)$æœ€åæƒ…å†µè¿è¡Œæ—¶é—´: $\\Theta((n-m+1)m)$(e.g.$P=a^m$ä¸”$T=a^n$æ—¶éœ€è¦å¯¹æ‰€æœ‰å¯èƒ½è¿›è¡Œå­—ç¬¦ä¸²åŒ¹é…éªŒè¯ï¼Œç›¸å½“äºé€€åŒ–ä¸ºæœ´ç´ ç®—æ³•) è‹¥æœ‰æ•ˆä¾¿å®œåªæœ‰å¸¸æ•°$c$ä¸ªï¼Œç®—æ³•çš„æœŸæœ›åŒ¹é…æ—¶é—´ä¸º$O((n-m+1)+cm)=O(n+m)$ è‹¥å‡è®¾$q$æ˜¯ä»é€‚å½“å¤§çš„æ•´æ•°ä¸­éšæœºå¾—å‡ºçš„ï¼Œåˆ™ä¼ªå‘½ä¸­çš„æ¬¡æ•°ä¸º$O(n/q)$(å› ä¸ºä»»æ„$t_s$æ¨¡A$q$ä¸$p$åŒä½™çš„æ¦‚ç‡ä¸º$1/q$)ã€‚ ç¬¬10è¡Œä¸­çš„æµ‹è¯•ä¼šåœ¨$O(n)$ä¸ªä½ç½®ä¸Šå¤±è´¥ï¼Œæ¯æ¬¡å‘½ä¸­çš„æ—¶é—´ä»£ä»·æ˜¯$O(m)$ã€‚å› æ­¤Rabin-Karpç®—æ³•çš„æœŸæœ›è¿è¡Œæ—¶é—´æ˜¯O(n)+O(m(v+n/q))å…¶ä¸­$v$ä¸ºæœ‰æ•ˆåç§»é‡ è‹¥é€‰å–çš„ç´ æ•°$q$å¤§äºæ¨¡å¼çš„é•¿åº¦ï¼Œåˆ™å¯ä»¥ä¼°è®¡Rabin-Karpç®—æ³•çš„åŒ¹é…æ—¶é—´ä¸º$O(n+m)=O(n)$ åˆ©ç”¨æœ‰é™è‡ªåŠ¨æœºè¿›è¡Œå­—ç¬¦ä¸²åŒ¹é…æœ‰é™è‡ªåŠ¨æœºä¸€ä¸ªæœ‰é™è‡ªåŠ¨æœº$M$æ˜¯ä¸€ä¸ªäº”å…ƒç»„$(Q,q_0,A,\\Sigma,\\delta)$,å…¶ä¸­ï¼š $Q$æ˜¯çŠ¶æ€çš„æœ‰é™é›†åˆ $q_0\\in Q$æ˜¯åˆå§‹çŠ¶æ€ $A\\subseteq Q$æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ¥å—çŠ¶æ€é›†åˆ $\\Sigma$æ˜¯æœ‰é™è¾“å…¥å­—æ¯è¡¨ $\\delta$æ˜¯ä¸€ä¸ªä»$Q\\times\\Sigma$åˆ°$Q$çš„å‡½æ•°ï¼Œç§°ä¸º$M$çš„è½¬ç§»å‡½æ•° çŠ¶æ€è½¬ç§» å¼€å§‹çŠ¶æ€ä¸º$q_0$ï¼Œæ¯æ¬¡è¯»å…¥è¾“å…¥å­—ç¬¦ä¸²çš„ä¸€ä¸ªå­—ç¬¦ å¦‚æœåœ¨çŠ¶æ€$q$æ—¶è¯»å…¥å­—ç¬¦$a$ï¼Œå°±ä»çŠ¶æ€$q$å˜ä¸ºçŠ¶æ€$\\delta(q,a)$(è¿›è¡Œäº†ä¸€æ¬¡è½¬ç§») å½“å‰çŠ¶æ€$q\\in A$æ—¶ï¼Œå°±è¯´$M$æ¥å—äº†è¿„ä»Šä¸ºæ­¢æ‰€è¯»å…¥çš„å­—ç¬¦ä¸²ï¼Œæ²¡æœ‰è¢«æ¥å—çš„è¾“å…¥ç§°ä¸ºè¢«æ‹’ç»çš„è¾“å…¥ ç»ˆæ€å‡½æ•°ç»ˆæ€å‡½æ•°$\\phi:\\Sigma^*\\to Q$$\\phi(w)$: $M$åœ¨æ‰«æå­—ç¬¦ä¸²$w$åç»ˆæ­¢æ—¶çš„çŠ¶æ€å½“ä¸”ä»…å½“$\\phi(w)\\in A$æ—¶ï¼Œ$M$æ¥å—å­—ç¬¦ä¸²$w$ ç”¨è½¬ç§»å‡½æ•°é€’å½’å®šä¹‰$\\phi$: \\phi(\\varepsilon)=q_0,\\phi(wa)=\\delta(\\phi(w),a), ~~w\\in\\Sigma^*,a\\in\\Sigmaå­—ç¬¦åŒ¹é…è‡ªåŠ¨æœºåç¼€å‡½æ•°$\\sigma:\\Sigma^*\\to{0,1,â€¦,m}$ï¼Œæ»¡è¶³$\\sigma(x)$æ˜¯åŒæ—¶æ˜¯$x$çš„åç¼€å’Œ$P$çš„å‰ç¼€çš„å­—ç¬¦ä¸²çš„é•¿åº¦ \\sigma(x)=\\max\\{k:P_k\\sqsupset x\\}å¯¹äºä»»æ„çš„çŠ¶æ€$q$å’Œå­—ç¬¦ä¸²$a$ï¼Œè½¬ç§»å‡½æ•°$\\delta$å®šä¹‰å¦‚ä¸‹ï¼š \\delta(q,a)=\\sigma(P_qa)è®°å½•å·²å¾—åˆ°çš„ä¸æ¨¡å¼$P$åŒ¹é…çš„æ–‡æœ¬å­—ç¬¦ä¸²$T$çš„æœ€é•¿å‰ç¼€ åŒ¹é…æ—¶é—´ä¸º$\\Theta(n)$ æ­£ç¡®æ€§è¯æ˜å¼•ç†32.2(åç¼€å‡½æ•°ä¸ç­‰å¼): å¯¹ä»»æ„å­—ç¬¦ä¸²$x$å’Œå­—ç¬¦$a$ï¼Œ$\\sigma(xa)\\le\\sigma(x)+1$ å¼•ç†32.3(åç¼€å‡½æ•°é€’å½’å¼•ç†): å¯¹ä»»æ„$x$å’Œå­—ç¬¦$a$ï¼Œè‹¥$q=\\sigma(x)$,åˆ™$\\sigma(xa)=\\sigma(P_qa)$ å®šç†32.4: å¦‚æœ$\\phi$æ˜¯å­—ç¬¦ä¸²åŒ¹é…è‡ªåŠ¨æœºå…³äºç»™å®šæ¨¡å¼$P$çš„ç»ˆæ€å‡½æ•°ï¼Œ$T[1..n]$æ˜¯è‡ªåŠ¨æœºçš„è¾“å…¥æ–‡æœ¬ï¼Œåˆ™å¯¹$i=0,1,..,n,\\phi(T_i)=\\sigma(T_i)$(ç»ˆæ€å‡½æ•°çš„å€¼=åç¼€å‡½æ•°çš„å€¼) è®¡ç®—è½¬ç§»å‡½æ•° è®¡ç®—è½¬ç§»å‡½æ•°çš„è¿è¡Œæ—¶é—´ä¸º$O(m^3|\\Sigma|)$ï¼Œå¯ä»¥æ”¹è¿›ä¸º$O(m\\Sigma)$","categories":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/categories/Notes/"}],"tags":[{"name":"Problem Solving","slug":"Problem-Solving","permalink":"https://mengzelev.github.io/tags/Problem-Solving/"},{"name":"CLRS","slug":"CLRS","permalink":"https://mengzelev.github.io/tags/CLRS/"}]},{"title":"é—®æ±‚å­¦ä¹ ç¬”è®°-ç¾¤åŒæ„åŸºæœ¬å®šç†ä¸æ­£è§„å­ç¾¤","slug":"ps-4-4-isomorphism","date":"2019-03-14T08:20:40.000Z","updated":"2019-06-18T03:21:47.200Z","comments":true,"path":"2019/03/14/ps-4-4-isomorphism/","link":"","permalink":"https://mengzelev.github.io/2019/03/14/ps-4-4-isomorphism/","excerpt":"","text":"åŒæ„(Isomorphisms)å®šä¹‰å¯¹ä¸¤ä¸ªç¾¤$(G,\\cdot)$å’Œ$(H,\\circ)$ï¼Œè‹¥å­˜åœ¨ä¸€ä¸ªä¿ç¾¤è¿ç®—çš„åŒå°„$\\phi:G\\to H$ï¼Œå³å¯¹äºä»»æ„$a,b\\in G$ \\phi(a\\cdot b)=\\phi(a)\\circ\\phi(b)åˆ™ç§°$G$å’Œ$H$åŒæ„(isomorphic)ï¼Œè®°ä½œ$G\\cong H$. $\\phi$ç§°ä¸ºåŒæ„å‡½æ•°(isomorphism)ã€‚ åŸºæœ¬å®šç†å®šç†9.6: Let $\\phi: G\\to H$ be an isomorphism of two groups. Then the following statements are true. $\\phi^{-1}:H\\to G$ is an isomorphism (åºŸè¯) $|G|=|H|$ (åºŸè¯) If $G$ is abelian, then $H$ is abelian. If $G$ is cyclic, then $H$ is cyclic. If $G$ has a subgroup of order $n$, then $H$ has a subgroup of order $n$. å®šç†9.7: All cyclic groups of infinite order are isomorphic to $\\mathbb{Z}$. æ— ç©·é˜¶å¾ªç¯ç¾¤ä¸$\\mathbb{Z}$åŒæ„ã€‚ å®šç†9.8: If $G$ is a cyclic group of order $n$, then $G$ is isomorphic to $\\mathbb{Z}_n$. æ¨è®º9.9: If $G$ is a group of order $p$, where $p$ is a prime number, then $G$ is isomorphic to $\\mathbb{Z}_p$. (ä¸éœ€è¦æ˜¯å¾ªç¯ç¾¤) å®šç†9.10: The isomorphism of groups determines an equivalence relation on the class of all groups. ç¾¤çš„åŒæ„å…³ç³»å°†ç¾¤åˆ’åˆ†æˆç­‰ä»·ç±»ã€‚ Cayleyâ€™s Theoremå®šç†9.12(Cayleyå®šç†): Every group is isomorphic to a group of permutations. ä»»æ„ç¾¤éƒ½ä¸ä¸€ä¸ªç½®æ¢ç¾¤åŒæ„ã€‚ The isomorphism $g\\mapsto \\lambda_g$ is known as the left regular representationof G. ç›´ç§¯(Direct Products)qlzç®¡å®ƒå«ç›´å’Œ å¤–ç›´ç§¯å®šä¹‰è¿ç®—G\\times H: (g_1,h_1)(g_2,h_2)=(g1\\cdot g_2, h_1\\circ h_2) å‘½é¢˜9.13: Let $G$ and $H$ be groups. The set $G\\times H$ is a group under the operation $(g_1,h_1)(g_2,h_2)=(g1\\cdot g_2, h_1\\circ h_2)$ where $g_1, g_2\\in G$ and $h_1, h_2\\in H$. ç¾¤$G\\times H$ç§°ä¸º$G$å’Œ$H$çš„å¤–ç›´ç§¯(external direct product) å®šç†9.17: è®¾$(g,h)\\in G\\times H$. è‹¥$g$å’Œ$h$åˆ†åˆ«ä¸ºæœ‰é™é˜¶$r$å’Œ$s$,åˆ™$(g,h)$åœ¨$G\\times H$ä¸­çš„é˜¶æ•°æ˜¯$r$å’Œ$s$çš„æœ€å°å…¬å€æ•°(least common multiple) æ¨è®º9.18: è®¾$(g_1,â€¦g_n)\\in \\prod G_i$. è‹¥$g_i$åœ¨$G_i$ä¸­ä¸ºæœ‰é™é˜¶$r_i$ï¼Œåˆ™$(G-1,..g_n)$åœ¨$\\prod G_i$ä¸­çš„é˜¶æ•°ä¸º$lcm(r_1,â€¦r_n)$. å®šç†9.21: ç¾¤$\\mathbb{Z}m\\times\\mathbb{Z}_n$ä¸$Z{mn}$åŒæ„å½“ä¸”ä»…å½“$m,n$äº’è´¨($gcd(m,n)=1$). (Fromå®šç†9.17) æ¨è®º9.22: $n1,â€¦n_k$ä¸ºæ­£æ•´æ•°ï¼Œåˆ™$\\prod\\limits{i=1}^{k}\\mathbb{Z}_{n_1â€¦n_k}$å½“ä¸”ä»…å½“$gcd(i,j)=1$å¯¹ä»»æ„$i\\neq j$æ’æˆç«‹ã€‚ å†…ç›´ç§¯(Internal Direct Product)å¤–ç›´ç§¯æŠŠå°ç¾¤ç»„å»ºæˆå¤§ç¾¤ï¼Œå†…ç›´ç§¯æŠŠå¤§ç¾¤æ‰“ç¢æˆå°ç¾¤ ç¾¤$G$æ‹¥æœ‰å­ç¾¤$H,K$æ»¡è¶³ä»¥ä¸‹æ¡ä»¶: $G=HK={hk:h\\in H, k\\in K}$ $H\\cap K={e}$ $hk=kh$ for all $k\\in K$ and $h\\in H$ ç§°$G$æ˜¯$H$å’Œ$K$çš„å†…ç›´ç§¯ ä¸æ˜¯æ‰€æœ‰çš„ç¾¤éƒ½å¯ä»¥å†™æˆå…¶çœŸå­ç¾¤çš„å†…ç§¯çš„å½¢å¼ å®šç†9.27: è®¾$G$æ˜¯å…¶å­ç¾¤$H$å’Œ$K$çš„å†…ç›´ç§¯ï¼Œåˆ™$G$ä¸$H\\times K$åŒæ„ã€‚(å¤–ç›´ç§¯ç¾¤ä¸å†…ç›´ç§¯ç¾¤åŒæ„) æ¨å¹¿åˆ°å¤šç»´ï¼š $G=H_1H_2â€¦H_n={h_1h_2â€¦h_n:h_i\\in H_i}$ $Hi\\cap\\left\\langle \\cup{j\\neq i}H_j\\right\\rangle={e}$ $H_ih_j=h_jh_i$ for all $h_i\\in H_i$ and $h_j\\in H_j$ å®šç†9.29: è‹¥$G$æ˜¯å…¶å­é›†$H_i(i=1,2,â€¦n)$çš„å†…ç›´ç§¯ï¼Œåˆ™$G$ä¸$\\prod_i H_i$åŒæ„ æ­£è§„å­ç¾¤(Normal Subgroups)è‹¥å¯¹ä»»æ„$g\\in G$æœ‰$gH=Hg$, åˆ™ç§°$H$æ˜¯$G$çš„æ­£è§„å­ç¾¤ã€‚(å·¦é™ªé›†ä¸å³é™ªé›†ç›¸åŒ)äº¤æ¢ç¾¤çš„æ‰€æœ‰å­ç¾¤éƒ½æ˜¯æ­£è§„çš„ã€‚ å®šç†10.3: è®¾$N$ä¸º$G$çš„å­ç¾¤ï¼Œåˆ™å¦‚ä¸‹å‘½é¢˜ç­‰ä»·ï¼š $N$æ˜¯$G$çš„æ­£è§„å­ç¾¤ $\\forall g\\in G, gNg^{-1}\\subseteq N$. $\\forall g\\in G, gNg^{-1}=N$. å•†ç¾¤(Factor Group)å®šç†10.4: $N$ä¸º$G$çš„æ­£è§„å­ç¾¤ï¼Œ$N$åœ¨$G$ä¸­çš„é™ªé›†æ„æˆäº†ä¸€ä¸ªç¾¤$G/N$, é˜¶ä¸º$[G:N]$(å¤ä¹ : $[G:N]=|G|/|N|$). è¯¥ç¾¤çš„è¿ç®—ä¸º$(aN)(bN)=abN$.è¿™ä¸ªç¾¤è¢«ç§°ä¸ºå•†ç¾¤(fatcor or quotient group).$eN=N$æ˜¯å•ä½å…ƒï¼Œ$g^{-1}N$æ˜¯$gN$çš„é€†å…ƒã€‚å•†ç¾¤æ˜¯é›†åˆç»„æˆçš„ç¾¤ã€‚ç®€è®°ä¸º$N\\triangleleft G$ å¯¹äºæ­£å¤šè¾¹å½¢æ—‹è½¬ç¾¤$D_n$, æ—‹è½¬ç¾¤$R_n$æ˜¯$D_n$çš„ä¸€ä¸ªæ­£è§„å­ç¾¤ã€‚ äº¤æ›¿ç¾¤çš„ç®€å•æ€§å•ç¾¤(simple group): æ²¡æœ‰éå¹³å‡¡æ­£è§„çœŸå­ç¾¤çš„ç¾¤ e.g.$\\mathbb{Z}_p$($p$ä¸ºè´¨æ•°) å¼•ç†10.8: æ›¿æ¢ç¾¤$A_n(n\\ge 3)$æ˜¯ç”±3-cyclesç”Ÿæˆçš„ã€‚ å¼•ç†10.9: $N$æ˜¯$A_n(n\\ge 3)$çš„æ­£è§„å­ç¾¤.è‹¥$N$åŒ…å«äº†ä¸€ä¸ª3-cycleï¼Œåˆ™$N=A_n$. å¼•ç†10.10: å¯¹$n\\ge 5$, $A_n$çš„æ¯ä¸€ä¸ªéå¹³å‡¡æ­£è§„å­ç¾¤$N$éƒ½åŒ…å«ä¸€ä¸ª3-cycle. å¼•ç†10.11: $n\\ge 5$çš„æ›¿æ¢ç¾¤$A_n$æ˜¯å•ç¾¤ã€‚ åŒæ€(homomorphism)ä¸¤ä¸ªç¾¤$(G,\\cdot)$å’Œ$(H,\\circ)$é—´çš„åŒæ€å‡½æ•°æ˜¯ä¸€ä¸ªæ˜ å°„$\\phi:G\\to H$ï¼Œæ»¡è¶³$\\phi(g_1\\cdot g_2)=\\phi(g_1)\\circ\\phi(g_2)$,å…¶ä¸­$g_1,g_2\\in G$.$\\phi$åœ¨$H$ä¸­çš„å€¼åŸŸè¢«ç§°ä¸ºåŒæ€åƒ(homomorphism image).è‹¥$\\phi$æ˜¯åŒå°„ï¼Œåˆ™$G$å’Œ$H$åŒæ„ã€‚ å‘½é¢˜11.4: è®¾$\\phi:G_1\\to G_2$æ˜¯ç¾¤é—´çš„åŒæ€å‡½æ•°ï¼Œåˆ™ è‹¥$e$æ˜¯$G_1$çš„å•ä½å…ƒï¼Œåˆ™$e$æ˜¯$G_2$çš„å•ä½å…ƒ å¯¹äºä»»æ„$g\\in G_1$, $\\phi(g^{-1})=[\\phi(g)]^{-1}$ è‹¥$H_1$æ˜¯$G_1$çš„å­ç¾¤ï¼Œåˆ™$\\phi(H_2)$æ˜¯$G_2$çš„å­ç¾¤ è‹¥$H_2$æ˜¯$G_2$çš„å­ç¾¤ï¼Œåˆ™$\\phi^{-1}(H_2)={g\\in G_1: \\phi(g)\\in H_2}$æ˜¯$G_1$çš„å­ç¾¤ã€‚æ­¤å¤–ï¼Œè‹¥$H_2$æ˜¯$G_2$çš„æ­£è§„å­ç¾¤ï¼Œåˆ™$\\phi^{-1}(H_2)$æ˜¯$G_1$çš„æ­£è§„å­ç¾¤ ç”±å‘½é¢˜11.4çŸ¥ï¼Œ$\\phi^{-1}({e})$æ˜¯$G$çš„å­ç¾¤ï¼Œè¿™ä¸ªå­ç¾¤è¢«ç§°ä¸º$\\phi$çš„æ ¸(kernel),è®°ä¸º$ker\\phi$. è¯¥å­ç¾¤æ˜¯æ­£è§„çš„ã€‚ å®šç†11.5ï¼š è®¾$\\phi:G\\to H$æ˜¯ç¾¤çš„åŒæ€å‡½æ•°ï¼Œåˆ™$\\phi$çš„æ ¸æ˜¯$G$çš„ä¸€ä¸ªæ­£è§„å­ç¾¤æ½œå°è¯ï¼šå¯¹äºæ¯ä¸€ä¸ªåŒæ€å‡½æ•°éƒ½èƒ½æ‰¾åˆ°ä¸€ä¸ªæ­£è§„å­ç¾¤$ker\\phi$ æ ¸å‡½æ•°å¯ä»¥ç”¨æ¥æ¨æµ‹ä¸¤ä¸ªç¾¤é—´æ˜¯å¦å­˜åœ¨å•å°„åŒæ€å‡½æ•°ã€‚(e.g. Example11.9 $\\mathbb{Z}7$ä¸$\\mathbb{Z}{12}$ä¸å­˜åœ¨å•å°„åŒæ€å‡½æ•°) åŒæ€å®šç†è®¾$H$æ˜¯$G$çš„æ­£è§„å­ç¾¤ã€‚å®šä¹‰è‡ªç„¶åŒæ€å‡½æ•°æˆ–è§„èŒƒåŒæ€å‡½æ•°(natural or canonical homomorphism) \\phi:G\\to G/Hä¸º\\phi(g)=gHè¯¥åŒæ€å‡½æ•°çš„æ ¸ä¸º$H$ å®šç†11.10(ç¬¬ä¸€åŒæ€å®šç†): è‹¥$\\varphi:G\\to H$æ˜¯æ ¸ä¸º$K$çš„åŒæ€å‡½æ•°ï¼Œ åˆ™$K$æ˜¯$G$çš„æ­£è§„å­ç¾¤ã€‚è®¾$\\phi:G\\to G/K$æ˜¯è§„èŒƒåŒæ€å‡½æ•°ã€‚åˆ™å­˜åœ¨å”¯ä¸€çš„åŒæ„å‡½æ•°$\\eta:G/K\\to\\varphi(G)$ä½¿å¾—$\\varphi=\\eta\\phi$ è§„èŒƒåŒæ€å‡½æ•°äº§ç”Ÿçš„å•†ç¾¤ä¸åŸåŒæ€å‡½æ•°çš„åƒåŒæ„ å®šç†11.12(ç¬¬äºŒåŒæ€å®šç†): è®¾$H$æ˜¯$G$çš„å­ç¾¤(ä¸éœ€è¦æ­£è§„)ï¼Œ$N$æ˜¯$G$çš„æ­£è§„å­ç¾¤ï¼Œåˆ™$HN$æ˜¯$G$çš„å­ç¾¤ï¼Œ$H\\cap N$æ˜¯$H$çš„æ­£è§„å­ç¾¤ï¼Œä¸” H/H\\cap N\\cong HN/Nå®šç†11.13(ä¸€è‡´æ€§å®šç†): è®¾$N$æ˜¯$G$çš„æ­£è§„å­ç¾¤ï¼Œåˆ™$H\\mapsto H/N$æ˜¯åŒ…å«$N$çš„å­ç¾¤$H$çš„é›†åˆä¸$G/N$çš„å­ç¾¤çš„é›†åˆé—´çš„ä¸€å¯¹ä¸€å…³ç³»ã€‚æ­¤å¤–ï¼ŒåŒ…å«$N$çš„$G$çš„æ­£è§„å­ç¾¤ä¸$G/N$çš„æ­£è§„å­ç¾¤ç›¸å¯¹åº”ã€‚ å®šç†11.14(ç¬¬ä¸‰åŒæ„å®šç†): è®¾$N$å’Œ$H$æ˜¯$G$çš„æ­£è§„å­ç¾¤æ»¡è¶³$N\\subseteq H$,åˆ™G/H\\cong\\frac{G/N}{H/N}. (å¯ä»¥å½“æˆåˆ†æ•°æ¥ç›´è§‚ç†è§£)","categories":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/categories/Notes/"}],"tags":[{"name":"Problem Solving","slug":"Problem-Solving","permalink":"https://mengzelev.github.io/tags/Problem-Solving/"},{"name":"CLRS","slug":"CLRS","permalink":"https://mengzelev.github.io/tags/CLRS/"},{"name":"Group Theory","slug":"Group-Theory","permalink":"https://mengzelev.github.io/tags/Group-Theory/"}]},{"title":"é—®æ±‚å­¦ä¹ ç¬”è®°-ç½®æ¢ç¾¤ä¸æ‹‰æ ¼æœ—æ—¥å®šç†","slug":"ps-4-3-permutation-lagrange","date":"2019-03-09T09:15:13.000Z","updated":"2019-06-17T14:18:27.347Z","comments":true,"path":"2019/03/09/ps-4-3-permutation-lagrange/","link":"","permalink":"https://mengzelev.github.io/2019/03/09/ps-4-3-permutation-lagrange/","excerpt":"","text":"ç½®æ¢ç¾¤(Permutation Group)å®šç†5.1:The symmetric group on $n$ letters, $S_n$, is a group with $n!$ elements, wherethe binary operation is the composition of maps. ç½®æ¢ç¾¤(permutation group):æ‰€æœ‰æ’åˆ—çš„é›†åˆ$S_n$çš„ä¸€ä¸ªå­é›† Cycle NotationA permutation $\\sigma\\in S_X$ is a cycle of length $k$ if there exist elements $a_1,a_2,â€¦a_k\\in X$ such that \\sigma(a_1) = a_2\\sigma(a_2) = a_3...\\sigma(a_k) = a_1and $\\sigma(x)=x$ for all other elements $x\\in X$. We write $(a_1,a_2,â€¦a_k)$ to denote the cycle $\\sigma$. Cycles are the building blocks of all permutations.å¾ªç¯æ˜¯æ‰€æœ‰æ’åˆ—çš„åŸºçŸ³ã€‚ Two cycles in $S_X$, $\\sigma=(a_1,a_2,â€¦a_k)$, $\\tau=(b_1,b_2,â€¦b_l)$, are disjoint if $a_i\\neq b_j$ for all $i$ and $j$ å‘½é¢˜5.8: Let $\\sigma$ and $\\tau$ be 2 disjoint cycles in $S_X$. Then $\\sigma\\tau=\\tau\\sigma$. å®šç†5.9: $S_n$ä¸­çš„æ‰€æœ‰æ’åˆ—éƒ½å¯ä»¥è¢«å†™æˆä¸ç›¸äº¤å¾ªç¯çš„ä¹˜ç§¯çš„å½¢å¼ã€‚ Transpositions: a cycle of length 2 (ä»»æ„ä¸¤ä¸ªæ•°äº¤æ¢ä½ç½®) å‘½é¢˜5.12: ä»»æ„è‡³å°‘å«æœ‰ä¸¤ä¸ªå…ƒç´ çš„æœ‰é™é›†çš„æ’åˆ—éƒ½å¯ä»¥å†™æˆtranspositionä¹˜ç§¯çš„å½¢å¼e.g. (253)=(23)(25) å¼•ç†5.14: identity(æ’ç­‰å˜æ¢)åªèƒ½å†™æˆå¶æ•°ä¸ªtranspositionçš„ä¹˜ç§¯çš„å½¢å¼ å®šç†5.15: å¦‚æœä¸€ä¸ªæ’åˆ—èƒ½è¢«å†™æˆå¶æ•°ä¸ªç½®æ¢ä¹˜ç§¯çš„å½¢å¼ï¼Œé‚£ä¹ˆå¦ä¸€ä¸ªä¸ä¹‹ç­‰ä»·çš„æ’åˆ—ä¹Ÿä¸€å®šæ‹¥æœ‰å¶æ•°é¡¹ç½®æ¢ä¹˜ç§¯ã€‚å¥‡æ•°åŒç†ã€‚æ®æ­¤å®šç†å¯ä»¥å°†æ’åˆ—åˆ†ä¸ºå¥‡å¶ä¸¤ç±» äº¤æ›¿ç»„(The Alternating Groups)äº¤æ›¿ç»„$A_n$æ˜¯æ‰€æœ‰å¶æ’åˆ—çš„é›†åˆ å®šç†5.16: é›†åˆ$A_n$æ˜¯$S_n$çš„å­ç¾¤ å‘½é¢˜5.17: $S_n$ä¸­å¥‡æ’åˆ—å’Œæ¬§æ’åˆ—çš„æ•°ç›®ç›¸ç­‰ï¼Œéƒ½ä¸º$n!/2$ åç»„(Dihedral Groups)the nth dihedral group($D_n$): the group of rigid motions of a regular n-gon(æ­£å¤šè¾¹å½¢çš„åˆšæ€§è¿åŠ¨=è½¬åŠ¨+åå°„) å®šç†5.20: $D_n$ is a subgroup of $S_n$ of order $2n$ å®šç†5.23: The group $D_n$, $n\\ge 3$, consists of all products of the two elements $r$ and $s$, satisfying the relations r^n=1s^2=1srs=r^{-1}($r,s$åˆ†åˆ«ä¸ºè½¬åŠ¨å’Œåå°„) D_n=\\{1,r,r^2,..,r^{n-1},s,sr,sr^2,...,sr^{n-1}\\}ç«‹æ–¹ä½“çš„è¿åŠ¨å‘½é¢˜5.27: The group of rigid motions of a cube contains 24 elements. å‘½é¢˜5.28: The group of rigid motions of a cube is $S_4$.(çœ‹ä½“å¯¹è§’çº¿) é™ªé›†(Coset)$G$ä¸ºç¾¤ï¼Œ$H$ä¸º$G$çš„å­ç¾¤ï¼Œå®šä¹‰å·¦é™ªé›†(left coset): $gH={gh:~h\\in H}$å³é™ªé›†(left coset): $Hg={hg:~h\\in H}$ (è¿™çœŸçš„ä¸æ˜¯æ±å—)å…¶ä¸­$g\\in G$ç§°ä¸ºä»£è¡¨å…ƒ(representative) åœ¨äº¤æ¢ç¾¤ä¸­ï¼Œå·¦é™ªé›†ä¸å³é™ªé›†æ˜¯ç›¸åŒçš„ã€‚ å¼•ç†6.3: $g_1,g_2\\in G$ï¼Œä»¥ä¸‹æ¡ä»¶ç­‰ä»·:$1. g_1H=g_2H$;$2. Hg_1^{-1}=Hg_2^{-1}$;$3. g_1H\\subset g_2H$;$4. g_2\\in g_1H$;$5. g_1^{-1}g_2\\in H$; å®šç†6.4: $H$ä¸º$G$çš„å­ç¾¤ã€‚$H$çš„å·¦é™ªé›†åˆ†å‰²(partition)äº†$G$,å³$G$æ˜¯$H$çš„å·¦é™ªé›†çš„disjoint union. (å³é™ªé›†åŒç†) index of $H$: the number of left cosets of $H$ in $G$. è¡¨ç¤ºä¸º$[G:H]$ å®šç†6.8: $H$åœ¨$G$ä¸­çš„å·¦é™ªé›†ä¸å³é™ªé›†çš„ä¸ªæ•°ç›¸ç­‰ã€‚ æ‹‰æ ¼æœ—æ—¥å®šç†å‘½é¢˜6.9: å®šä¹‰æ˜ å°„$H\\to gH$ by $\\phi(h)=gh$. è¯¥æ˜ å°„æ˜¯åŒå°„ï¼Œ$H$ä¸­å…ƒç´ çš„ä¸ªæ•°ç­‰äº$gH$ä¸­å…ƒç´ çš„ä¸ªæ•°ã€‚ å®šç†6.10(æ‹‰æ ¼æœ—æ—¥å®šç†): Let $G$ be a finite group and let $H$ be a subgroup of $G$. Then $|G|/|H|=[G:H]$ is the number of distinct left cosets of $H$ in $G$. In particular, the number of elements in $H$ must divide the number of elements in $G$. |G|=[G:H]|H|æ¨è®º6.11: Suppose that $G$ is a finite group and $g\\in G$. Then the order of $g$ must divide the number of elements in $G$. æ¨è®º6.12: Let $|G|=p$ with $p$ a prime number. Then $G$ is cyclic and any $g\\in G$ such that $g\\neq e$ is a generator. å«æœ‰è´¨æ•°ä¸ªå…ƒç´ çš„ç¾¤ä¸ºå¾ªç¯ç¾¤ä¸”ä»»ä½•éå•ä½å…ƒçš„å…ƒç´ éƒ½æ˜¯ç”Ÿæˆå…ƒã€‚ æ¨è®º6.13: Let $H$ and $K$ be subgroups of a finite group $G$ such that $G\\supset H\\supset K$. Then $[G:K]=[G:H][H:K]$. æ‹‰æ ¼æœ—æ—¥å®šç†çš„é€†å‘½é¢˜æ˜¯ä¸æˆç«‹çš„ å‘½é¢˜6.15: The group $A_4$ has no subgroup of order 6. å®šç†6.16: Two cycles $\\tau$ and $\\mu$ in $S_n$ have the same length if and only if there exists a $\\sigma\\in S_n$ such that $\\mu=\\sigma\\tau\\sigma^{-1}$. è´¹é©¬ä¸æ¬§æ‹‰å®šç†æ¬§æ‹‰å‡½æ•°$\\phi(n)$è¡¨ç¤º$n$ä»¥å†…ä¸$n$äº’è´¨çš„æ•°çš„ä¸ªæ•°å¯¹ä»»æ„è´¨æ•°$p$, $\\phi(p)=p-1$ å®šç†6.17: Let $U(n)$ be the group of units in $\\mathbb{Z}_n$. Then $|U(n)|=\\phi(n)$ æ€ä¹ˆåˆæ˜¯æ¬§æ‹‰å®šç†6.18(æ¬§æ‹‰å®šç†): Let $a$ and $n$ be integers such that $n&gt;0$ and $gcd(a,n)=1$. Then $a^{\\phi(n)}\\equiv 1\\pmod n$ å®šç†6.19(è´¹é©¬å°å®šç†): Let $p$ be any prime number and suppose that $p\\nmid a$($p$ does not divide $a$). Then $a^{p-1}\\equiv 1\\pmod p$.Furthermore, for any integer $b$, $b^p\\equiv b\\pmod p$.","categories":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/categories/Notes/"}],"tags":[{"name":"Problem Solving","slug":"Problem-Solving","permalink":"https://mengzelev.github.io/tags/Problem-Solving/"},{"name":"CLRS","slug":"CLRS","permalink":"https://mengzelev.github.io/tags/CLRS/"},{"name":"Group Theory","slug":"Group-Theory","permalink":"https://mengzelev.github.io/tags/Group-Theory/"}]},{"title":"é—®æ±‚å­¦ä¹ ç¬”è®°-ç¾¤è®ºåˆæ­¥","slug":"ps-4-2-group","date":"2019-03-02T06:03:29.000Z","updated":"2019-06-17T09:30:57.511Z","comments":true,"path":"2019/03/02/ps-4-2-group/","link":"","permalink":"https://mengzelev.github.io/2019/03/02/ps-4-2-group/","excerpt":"","text":"ç”±äºæ¥ä¸‹æ¥çš„ä¹¦æ²¡æœ‰ä¸­æ–‡ç‰ˆäº†ï¼Œå› æ­¤ç¬”è®°ä¸­è‹±æ–‡éƒ½çœ‹å¿ƒæƒ… ç¾¤æ•´æ•°ç­‰ä»·ç±»å‘½é¢˜3.4ï¼šæ¨¡è¿ç®—ä¸‹çš„æ•´æ•°ç­‰ä»·ç±»å…·æœ‰ä»¥ä¸‹æ€§è´¨ï¼š åŠ æ³•å’Œä¹˜æ³•äº¤æ¢å¾‹ åŠ æ³•å’Œä¹˜æ³•ç»“åˆå¾‹ åŠ æ³•(0)ä¸ä¹˜æ³•(1)æ’ç­‰å¼ ä¹˜æ³•åˆ†é…å¾‹ ä»»æ„å…ƒç´ éƒ½å­˜åœ¨åŠ æ³•é€†å…ƒ $a$ä¸ºéé›¶æ•´æ•°ï¼Œ$gcd(a,n)=1$å½“ä¸”ä»…å½“$a$å­˜åœ¨ä¹˜æ³•é€†å…ƒï¼Œå³å­˜åœ¨éé›¶æ•´æ•°$b$ï¼Œä½¿å¾—$ab\\equiv 1(mod n)$ (è™½ç„¶æˆ‘è§‰å¾—è¿™ç©æ„å„¿è®°äº†åº”è¯¥æ²¡ä»€ä¹ˆåµç”¨)ã€å¤ä¹ æ—¶çš„æˆ‘å›æ¥æ‰“è„¸äº† å®šä¹‰ äºŒå…ƒè¿ç®—(binary operation)æˆ–åˆæˆå¾‹(law of composition):a function $G\\times G\\to G$ that assigns to each pair $(a,b)\\in G\\times G$ a unique element $a\\circ b$, or $ab$ in $G$, called the composition of $a$ and $b$ ç¾¤(group): a set $G$ together with a law of composition $(a,b)\\mapsto a\\circ b$ that satisfies the following axioms: åˆæˆå¾‹æ»¡è¶³ç»“åˆå¾‹(asscociative) å­˜åœ¨å•ä½å…ƒ(identity element)$e\\in G$ï¼Œæ»¡è¶³$e\\circ a = a\\circ e = a$ å¯¹äºæ¯ä¸ª$a\\in G$ï¼Œéƒ½å­˜åœ¨é€†å…ƒ$a^{-1}$ï¼Œä½¿å¾—$a\\circ a^{-1}=a^{-1}\\circ a=e$ ç¾¤ = è¿ç®—å°é—­+ç»“åˆå¾‹+å•ä½å…ƒ+é€†å…ƒ é˜¿è´å°”ç¾¤(Abelian)æˆ–äº¤æ¢ç¾¤(commutative):æ»¡è¶³$a\\circ b=b\\circ a$çš„ç¾¤ï¼Œåä¹‹ä¸ºnonabelianæˆ–noncommutative å‡¯è±è¡¨(Cayley table):ç”¨åŠ æ³•æˆ–ä¹˜æ³•æè¿°ç¾¤çš„è¡¨æ ¼ å¯é€†å…ƒç´ ç¾¤(group of units): æ‹¥æœ‰é€†å…ƒçš„å…ƒç´ ç»„æˆçš„ç¾¤ ä¸€èˆ¬çº¿æ€§ç¾¤(general linear group) å››å…ƒç¾¤(quaternion group) ç¾¤æ˜¯æœ‰é™çš„(finite)ï¼Œæˆ–è€…è¯´æœ‰æœ‰é™åºæ•°(has finite order)ï¼Œå½“å®ƒå…·æœ‰æœ‰é™ä¸ªå…ƒç´ ï¼Œå¦åˆ™æ˜¯æ— é™çš„(infinite)æˆ–æœ‰æ— é™åºæ•°(infinite order) ç¾¤çš„åŸºæœ¬æ€§è´¨å‘½é¢˜3.17: ç¾¤ä¸­çš„å•ä½å…ƒæ˜¯å”¯ä¸€çš„å‘½é¢˜3.18: é€†å…ƒæ˜¯å”¯ä¸€çš„å‘½é¢˜3.19: $G$æ˜¯ç¾¤ï¼Œ$a,b\\in G$ï¼Œåˆ™$(ab)^{-1}=b^{-1}a^{-1}$å‘½é¢˜3.20: $(a^{-1})^{-1}=a$å‘½é¢˜3.21: $ax=b$å’Œ$xa=b$åœ¨$G$ä¸­æœ‰å”¯ä¸€è§£å‘½é¢˜3.22(å·¦å³æ¶ˆå»å¾‹right and left cancellation law): $ba=ca$ implies $b=c$ and $ab=ac$ implies $b=c$ å¯¹ç¾¤ä¸­çš„å…ƒç´ ï¼Œå¯ä»¥å®šä¹‰ä¹˜æ–¹ å®šç†3.23: åœ¨ç¾¤ä¸­ï¼Œä¸€èˆ¬æŒ‡æ•°çš„è¿ç®—å¾‹æˆç«‹ å­ç¾¤ å­ç¾¤(subgroup):ä»¿ç…§å­ç©ºé—´çš„å®šä¹‰ å¹³å‡¡å­ç¾¤(trivial subgroup):$H={e}$ çœŸå­ç¾¤(proper subgroup) å­ç¾¤å¿…é¡»ç»§æ‰¿ç¾¤çš„äºŒå…ƒè¿ç®— å­ç¾¤ç›¸å…³çš„å®šç†å‘½é¢˜3.30: $G$çš„å­é›†$H$æ˜¯å­ç¾¤å½“ä¸”ä»…å½“ $G$çš„å•ä½å…ƒ$e\\in H$ $H$å¯¹$G$çš„è¿ç®—å°é—­ï¼šIf $h_1,h_2\\in H$, then $h_1h_2\\in H$ If $h\\in H$, then $h^{-1}\\in H$ å‘½é¢˜3.31: $H$æ˜¯$G$çš„å­ç¾¤å½“ä¸”ä»…å½“$H\\neq\\emptyset$ and whenever $g,h\\in H$ then $gh^{-1}$ is in $H$ å¾ªç¯å­ç¾¤(Cyclic Subgroups)å®šç†4.3: Let $G$ be a group and $a$ be any element in $G$. Then the set $\\leftâŸ¨a\\rightâŸ©={a^k:k\\in\\mathbb{Z}}$is a subgroup of $G$. Furthermore, $âŸ¨aâŸ©$ is the smallest subgroup of $G$ that contains $a$. å¾ªç¯å­ç¾¤(Cyclic Subgroup):$âŸ¨aâŸ©$å¾ªç¯ç¾¤(Cyclic group): åŒ…å«äº†æŸä¸ªå…ƒç´ $a$ï¼Œä½¿å¾—$G=âŸ¨aâŸ©$.æ­¤æ—¶$âŸ¨aâŸ©$æ˜¯$G$çš„ç”Ÿæˆå™¨(generator).The order of $a$: æœ€å°çš„æ•´æ•°$n$æ»¡è¶³$a^n=e$ï¼Œè¡¨ç¤ºä¸º$|a|=n$ã€‚å¦‚æœä¸å­˜åœ¨æ»¡è¶³è¦æ±‚çš„$n$ï¼Œåˆ™ç§°$a$æ˜¯æ— ç©·çš„(infinite)ï¼Œè¡¨ç¤ºä¸º$|a|=\\infty$e.g. $\\mathbb{Z}$å’Œ$\\mathbb{Z}_n$éƒ½æ˜¯å¾ªç¯ç¾¤ï¼Œ1å’Œ-1æ˜¯$\\mathbb{Z}$çš„ç”Ÿæˆå™¨ï¼Œ1æ˜¯$\\mathbb{Z}_n$çš„ç”Ÿæˆå™¨ä½†ä¸ä¸€å®šæ˜¯å”¯ä¸€çš„ã€‚ å®šç†4.9: æ‰€æœ‰å¾ªç¯ç¾¤éƒ½æ˜¯å¯äº¤æ¢çš„ã€‚(Every cyclic group is abelian). å®šç†4.10: å¾ªç¯ç¾¤çš„å­ç¾¤éƒ½æ˜¯å¾ªç¯å­ç¾¤ã€‚(Every subgroup of a cyclic group is cyclic.) å¼•ç†4.11: The subgroups of $\\mathbb{Z}$ are exactly $n\\mathbb{Z}$ for $n=0,1,2â€¦$ å‘½é¢˜4.12: Let $G$ be a cyclic group of order $n$ and suppose that $a$ is a generatorfor $G$. Then $a^k = e$ if and only if $n$ divides $k$.($n$èƒ½æ•´é™¤$k$,$k$èƒ½è¢«$n$æ•´é™¤) å®šç†4.13: Let $G$ be a cyclic group of order $n$ and suppose that $a\\in G$ is a generatorof the group. If $b = a^k$, then the order of $b$ is $n/d$, where $d = gcd(k, n)$. å¼•ç†4.14: The generators of $\\mathbb{Z}_n$ are the integers $r$ such that $1\\le r&lt; n$ and$gcd(r,n) = 1$. $\\mathbb{Z}_n$çš„ç”Ÿæˆå™¨ä¸$n$äº’è´¨ã€‚ å¤æ•°ä¹˜æ³•ç¾¤(Multiplicative Group of Complex Numbers)ä¸€å †å¤æ•°çš„åŸºç¡€çŸ¥è¯†â€¦â€¦. $r(\\cos\\theta+i\\sin\\theta)$ ä¼šè¢«ç®€å†™ä¸º $r~cis\\theta$ å‘½é¢˜4.20: $z=r~cis\\theta$ and $w=s~cis\\phi$. Then $zw=rs~cis(\\theta+\\phi)$ åœ†ç¾¤(The circle group)å®šä¹‰: \\mathbb{T}=\\{z\\in\\mathbb{C}: |z|=1\\} å‘½é¢˜4.24: åœ†ç¾¤æ˜¯$\\mathbb{C}^*$çš„å­ç¾¤ å®šç†4.25: If $z^n=1$, then the nth roots of unity are z=cis(\\frac{2k\\pi}{n})where $k-0,1,â€¦n-1$. Furthermore, the nth roors of unity form a cyclic subgroup of $\\mathbb{T}$ of order $n$. A generator for the group of the nth roots of unity is called a primitive nth root ofunity. é‡å¤å¹³æ–¹æ³•(The Method of Repeated Squares)å…¶å®å°±æ˜¯å¿«é€Ÿå¹‚ ç†è®ºåŸºç¡€: If $b\\equiv a^x (\\mod n)$ and $c\\equiv a^y (\\mod n)$, then $bc\\equiv a^{x+y}(\\mod n)$$(a^{2n})^2\\equiv a^{2\\cdot 2n}\\equiv a^{2^{n+1}}(\\mod n)$","categories":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/categories/Notes/"}],"tags":[{"name":"Problem Solving","slug":"Problem-Solving","permalink":"https://mengzelev.github.io/tags/Problem-Solving/"},{"name":"CLRS","slug":"CLRS","permalink":"https://mengzelev.github.io/tags/CLRS/"},{"name":"Group Theory","slug":"Group-Theory","permalink":"https://mengzelev.github.io/tags/Group-Theory/"}]},{"title":"2019å¹´å¯’å‡è®¡åˆ’(flags)","slug":"2019-winter-flags","date":"2019-02-17T16:00:00.000Z","updated":"2019-01-31T10:11:55.613Z","comments":true,"path":"2019/02/18/2019-winter-flags/","link":"","permalink":"https://mengzelev.github.io/2019/02/18/2019-winter-flags/","excerpt":"","text":"ç¾èµ›å‡†å¤‡ MATLABå…¥é—¨ã€ŠMATLABæ•°å­¦å·¥å…·è½¯ä»¶å®ä¾‹ç®€æ˜æ•™ç¨‹ã€‹ ã€ŠMATLABåœ¨æ•°å­¦å»ºæ¨¡ä¸­çš„åº”ç”¨ã€‹ ç ”è¯»ä¼˜ç§€è®ºæ–‡ï¼Œæ€»ç»“æ¨¡æ¿ é¡¹ç›® å­¦ä¹ Python åˆ†æminilabçš„git logä¸­çš„CEæ•°æ® HKå­¦æœ¯ç«èµ› ç­‰æ‰“å®Œç¾èµ›å†æ¥ç ”ç©¶ ç•ªå‰§è¿½ç•ª å¤šç½—ç½— çµèƒ½ç™¾åˆ†ç™¾ç¬¬äºŒå­£ å…³äºæˆ‘è½¬ç”Ÿæˆä¸ºå²è±å§†çš„è¿™æ¡£äº‹ å¼ºé£å¹æ‹‚ ä¸å‰æ³¢æ™®ä¸ç¬‘ çº¦å®šçš„æ¢¦å¹»å²› è¡¥ç•ª æˆ˜æ —æ€æœº å°æ—å®¶çš„é¾™å¥³ä»† å‰ä»– çœ‹Bç«™æ•™å­¦è§†é¢‘","categories":[{"name":"Flags","slug":"Flags","permalink":"https://mengzelev.github.io/categories/Flags/"}],"tags":[{"name":"Flags","slug":"Flags","permalink":"https://mengzelev.github.io/tags/Flags/"}]},{"title":"ç®—æ³•å¯¼è®ºå­¦ä¹ ç¬”è®°-çº¿æ€§è§„åˆ’","slug":"clrs-29Linear-Programming","date":"2019-02-13T12:28:03.000Z","updated":"2019-06-16T06:39:36.166Z","comments":true,"path":"2019/02/13/clrs-29Linear-Programming/","link":"","permalink":"https://mengzelev.github.io/2019/02/13/clrs-29Linear-Programming/","excerpt":"","text":"çŸ¥è¯†èƒŒæ™¯ ä¸€ä¸ªçº¿æ€§è§„åˆ’é—®é¢˜æ˜¯ä¸€ä¸ªçº¿æ€§å‡½æ•°æœ€å°åŒ–æˆ–æœ€å¤§åŒ–çš„é—®é¢˜ï¼Œè¯¥çº¿æ€§å‡½æ•°æœä»ä¸€ç»„æœ‰é™ä¸ªçº¿æ€§çº¦æŸï¼Œåˆ†ä¸ºæœ€å°åŒ–çº¿æ€§è§„åˆ’å’Œæœ€å¤§åŒ–çº¿æ€§è§„åˆ’ å¯è¡Œè§£ï¼šæ‰€æœ‰æ»¡è¶³çº¦æŸæ¡ä»¶çš„è‡ªå˜é‡çš„å–å€¼ å¯è¡ŒåŒºåŸŸï¼šæ‰€æœ‰å¯è¡Œè§£åœ¨äºŒç»´ç©ºé—´ä¸­æ„æˆçš„å‡¸åŒºåŸŸ ç›®æ ‡å‡½æ•°ï¼šå¸Œæœ›æœ€å¤§åŒ–çš„å‡½æ•° ç›®æ ‡å€¼ï¼šç›®æ ‡å‡½æ•°åœ¨ä¸€ä¸ªç‰¹å®šç‚¹ä¸Šçš„å€¼ æœ€ä¼˜è§£ï¼šæ‰€æœ‰ç›®æ ‡å€¼ä¸­æœ€å¤§çš„ä¸€ä¸ªï¼Œå…¶ç›®æ ‡å€¼ä¸ºæœ€ä¼˜ç›®æ ‡å€¼ ä¸å¯è¡Œçš„ï¼šä¸€ä¸ªçº¿æ€§è§„åˆ’æ²¡æœ‰å¯è¡Œè§£ æ— ç•Œçš„ï¼šä¸€ä¸ªçº¿æ€§è§„åˆ’æœ‰å¯è¡Œè§£ä½†æ²¡æœ‰æœ‰é™çš„æœ€ä¼˜ç›®æ ‡å€¼ æ ‡å‡†å‹å’Œæ¾å¼›å‹æ ‡å‡†å‹ æ‰€æœ‰çš„çº¦æŸéƒ½æ˜¯ä¸ç­‰å¼ æ ‡å‡†å‹=ç›®æ ‡å‡½æ•°+çº¦æŸ+éè´Ÿçº¦æŸ é‡å†™ä¸ºå‘é‡ä¸çŸ©é˜µçš„å½¢å¼ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªå…ƒç»„$(A,b,c)$æ¥è¡¨ç¤ºä¸€ä¸ªæ ‡å‡†å‹çš„çº¿æ€§è§„åˆ’ æœ€å¤§åŒ–c^Txæ»¡è¶³çº¦æŸAx\\le b x\\ge 0 çº¿æ€§è§„åˆ’çš„ç­‰ä»·ï¼šå¯¹ä¸¤ä¸ªæœ€å¤§åŒ–çº¿æ€§è§„åˆ’$L$å’Œ$Lâ€™$ï¼Œå¦‚æœå¯¹$L$çš„æ¯ä¸ªç›®æ ‡å€¼ä¸º$z$çš„å¯è¡Œè§£$\\overline{x}$ï¼Œéƒ½å­˜åœ¨ä¸€ä¸ªå¯¹åº”çš„$Lâ€™$çš„ç›®æ ‡å€¼ä¸º$z$çš„å¯è¡Œè§£çš„$\\overline{x}â€™$ï¼›(åè¿‡æ¥åŒç†)ï¼Œåˆ™ç§°$L$å’Œ$Lâ€™$æ˜¯ç­‰ä»·çš„ã€‚ æœ€å°åŒ–çº¿æ€§è§„åˆ’å’Œç›®æ ‡å‡½æ•°å–è´Ÿåå¾—åˆ°çš„æœ€å¤§åŒ–çº¿æ€§è§„åˆ’æ˜¯ç­‰ä»·çš„ éæ ‡å‡†å‹çš„æ ‡å‡†åŒ– ç›®æ ‡å‡½æ•°æ˜¯æœ€å°åŒ–ï¼šå–è´Ÿ æŸäº›å˜é‡ä¸å…·æœ‰éè´Ÿçº¦æŸï¼šå‡è®¾$xj$æ— éè´Ÿçº¦æŸï¼Œåˆ™å°†æ‰€æœ‰å‡ºç°çš„$x_j$æ›¿æ¢ä¸º$x{j}â€™-x{j}â€™â€™$ï¼Œå¹¶ä»¤$x{j}â€™\\ge 0, x_{j}â€™â€™\\ge 0$ å­˜åœ¨ç­‰å¼çº¦æŸï¼š$\\ge + \\le$ å­˜åœ¨å¤§äºç­‰äºçº¦æŸï¼šå–è´Ÿ æ¾å¼›å‹ æ¾å¼›å˜é‡$s=bi-\\sum\\limits{j=1}^{n}a_{ij}x_i,s\\ge 0$ åªæœ‰éè´Ÿçº¦æŸæ˜¯ä¸ç­‰å¼ï¼Œå…¶ä½™éƒ½æ˜¯ç­‰å¼ å½“ä»æ ‡å‡†å‹è½¬æ¢åˆ°æ¾å¼›å‹æ—¶ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨$x{n+i}$è¡¨ç¤ºä¸ç¬¬$i$ä¸ªä¸ç­‰å¼ç›¸å…³çš„æ¾å¼›å˜é‡$$x{n+i}=bi-\\sum\\limits{j=1}^{n}a{ij}x_i,x{n+i}\\ge 0$$ åŸºæœ¬å˜é‡ï¼šç­‰å¼å·¦è¾¹çš„å˜é‡ éåŸºæœ¬å˜é‡ï¼šç­‰å¼å³è¾¹çš„å˜é‡ æœ‰æ—¶æè¿°æ—¶ä¼šçœç•¥è¯è¯­â€œæœ€å¤§åŒ–â€å’Œâ€œæ»¡è¶³çº¦æŸâ€ä»¥åŠæ˜æ˜¾çš„éè´Ÿçº¦æŸè¦æ±‚ ç®€æ´è®°å· $N$:éåŸºæœ¬å˜é‡ä¸‹æ ‡çš„é›†åˆ $B$:åŸºæœ¬å˜é‡ä¸‹æ ‡çš„é›†åˆ $N\\cup B={1,2,â€¦,n+m}$ ç”¨ä¸€ä¸ªå…ƒç»„$(N,B,A,b,c,v)$æ¥è¡¨ç¤ºæ¾å¼›å‹ è¿™é‡Œçš„$a_{ij}$æ˜¯â€œå‡ºç°â€åœ¨æ¾å¼›å‹ä¸­çš„ è´Ÿæ•° $A,b,c$çš„å°æ ‡ä¸å¿…æ˜¯è¿ç»­æ•´æ•°çš„é›†åˆï¼Œä¾èµ–äºç´¢å¼•é›†åˆ$B$å’Œ$N$ å°†é—®é¢˜è¡¨è¾¾ä¸ºçº¿æ€§è§„åˆ’å•å¯¹æœ€çŸ­è·¯å¾„å¦‚ä¸‹çš„çº¿æ€§è§„åˆ’å¯ä»¥è®¡ç®—ä»$s$åˆ°$t$çš„æœ€çŸ­è·¯å¾„æƒå€¼ ä¹‹æ‰€ä»¥æ˜¯æœ€å¤§åŒ–ç›®æ ‡å‡½æ•°ï¼Œæ˜¯å› ä¸ºæœ€çŸ­è·¯å¾„é—®é¢˜çš„ä¸€ä¸ªæœ€ä¼˜è§£æŠŠæ¯ä¸€ä¸ª$\\overline{d}_v$è®¾ç½®æˆæ‰€æœ‰$\\overline{d}_u+w(u,v)$çš„æœ€å°å€¼ï¼Œä½¿å¾—$\\overline{d}_v$æ˜¯å°äºç­‰äºé›†åˆ${\\overline{d}_u+w(u,v)}$æ‰€æœ‰å€¼çš„æœ€å¤§å€¼ï¼›è€Œæœ€å°åŒ–ç›®æ ‡å‡½æ•°ä¼šä½¿æ‰€æœ‰$\\overline{d}_v=0$ï¼Œè¿™ä¸ªè§£æ˜¾ç„¶æ²¡æœ‰æ„ä¹‰ æœ€å¤§æµæœ€å¤§æµé—®é¢˜è¡¨ç¤ºä¸ºä¸€ä¸ªçº¿æ€§è§„åˆ’ è¿™ä¸ªçº¿æ€§è§„åˆ’å¯ä»¥é‡å†™ä¸ºæœ‰$O(V+E)$ä¸ªçº¦æŸçš„è¡¨ç¤ºï¼Œè¿™æ ·è®¡ç®—èµ·æ¥ä¼šæ›´é«˜æ•ˆ æœ€å°è´¹ç”¨æµé—®é¢˜æè¿° æœ€å¤§æµçš„æ¨å¹¿ æ¯æ¡è¾¹é™¤äº†å®¹é‡è¿˜æœ‰è´¹ç”¨å€¼$a(u,v)$ã€‚å¦‚æœé€šè¿‡è¾¹$(u,v)$ä¼ é€äº†$f{uv}$ä¸ªå•ä½çš„æµï¼Œé‚£ä¹ˆäº§ç”Ÿäº†ä¸€ä¸ªè´¹ç”¨$a(u,v)f{uv}$ã€‚ æ±‚ä»$s$åˆ°$t$å‘é€$d$ä¸ªå•ä½çš„æµ(æµç›®æ ‡)ï¼Œä½¿å¾—æµä¸Šå‘ç”Ÿçš„æ€»è´¹ç”¨$\\sum\\limits{(u,v)\\in E}a(u,v)f{uv}$æœ€å° æœ€å°è´¹ç”¨æµæœ‰ä¸“é—¨è®¾è®¡çš„å¤šé¡¹å¼æ—¶é—´ç®—æ³•ï¼Œä½†ç®—å¯¼ä¸Šæ²¡æœ‰æ¶‰åŠåˆ° çº¿æ€§è§„åˆ’å»ºæ¨¡ è¿™ä¸æ˜¯å¾ˆç›´è§‚å— å¤šå•†å“æµé—®é¢˜æè¿° åœ¨æœ€å°è´¹ç”¨æµé—®é¢˜çš„åŸºç¡€ä¸Šï¼Œæœ‰$k$ç§ä¸åŒçš„å•†å“$K_1,K_2,â€¦,K_k$ï¼Œå…¶ä¸­ç”¨ä¸‰å…ƒç»„$K_i=(s_i,t_i,d_i)$æ¥è¯¦ç»†è¯´æ˜å•†å“çš„æºç‚¹ã€æ±‡ç‚¹å’Œéœ€æ±‚ å®šä¹‰å•†å“$i$çš„æµ$fi$ï¼Œæ±‡èšæµä¸ºå„ç§å•†å“æµçš„æ€»å’Œ$f{uv}=\\sum\\limits{i=1}^{k}f{iuv}$ ä¸ç”¨æœ€å°åŒ–ä»»ä½•ç›®æ ‡å‡½æ•°ï¼Œåªéœ€è¦ç¡®å®šæ˜¯å¦å­˜åœ¨è¿™æ ·çš„ä¸€ä¸ªæµ çº¿æ€§è§„åˆ’å»ºæ¨¡ å•çº¯å½¢ç®—æ³• æ±‚è§£çº¿æ€§è§„åˆ’çš„ç»å…¸æ–¹æ³• åœ¨æœ€åæƒ…å†µä¸‹æ‰§è¡Œæ—¶é—´éå¤šé¡¹å¼ åœ¨å®é™…ä¸­æ¬¡ç®—æ³•é€šå¸¸ç›¸å½“å¿«é€Ÿ å¯ä»¥çœ‹æˆä¸ç­‰å¼ä¸Šçš„é«˜æ–¯æ¶ˆå…ƒæ³• ä¸»è¦æ€æƒ³ æ¯è½®è¿­ä»£éƒ½å…³è”ä¸€ä¸ªâ€œåŸºæœ¬è§£â€ ä»æ¾å¼›å‹ä¸­å¾—åˆ°â€œåŸºæœ¬è§£â€ å°†æ¯ä¸ªéåŸºæœ¬å˜é‡è®¾ä¸º0ï¼Œå¹¶ä»ç­‰å¼çº¦æŸä¸­è®¡ç®—åŸºæœ¬å˜é‡çš„å€¼ æ¯è½®è¿­ä»£æŠŠä¸€ä¸ªæ¾å¼›å‹è½¬æ¢æˆä¸€ä¸ªç­‰ä»·çš„æ¾å¼›å‹ å¦‚æœä¸€ä¸ªéåŸºæœ¬å˜é‡ä»0å¼€å§‹å¢åŠ æ—¶ç›®æ ‡å€¼ä¹Ÿå¢åŠ (ç›®æ ‡å‡½æ•°ä¸­ç³»æ•°ä¸ºæ­£)ï¼Œåˆ™å¢åŠ è¯¥éåŸºæœ¬å˜é‡ç›´åˆ°æŸåŸºæœ¬å˜é‡ä¸º0 é‡å†™æ¾å¼›å‹ï¼Œäº¤æ¢æ­¤åŸºæœ¬å˜é‡å’Œé€‰å®šçš„éåŸºæœ¬å˜é‡ï¼Œè¿™ä¸ªæ“ä½œç§°ä¸ºè½¬åŠ¨ ä¸€ä¸ªè½¬åŠ¨é€‰å–ä¸€ä¸ªéåŸºæœ¬å˜é‡$x_e$(æ›¿å…¥å˜é‡)å’Œä¸€ä¸ªåŸºæœ¬å˜é‡$x_l$(æ›¿å‡ºå˜é‡) å•çº¯å‹ç®—æ³•æ‰§è¡Œäº†ä¸¤ä¸ªæ“ä½œ é‡å†™ç­‰å¼ä½¿å¾—å˜é‡åœ¨ç­‰å¼çš„å·¦è¾¹ä¸å³è¾¹ä¹‹é—´ç§»åŠ¨ æ›¿æ¢ä¸€ä¸ªç­‰å¼ä¸ºå¦ä¸€ä¸ªç­‰å¼ è¿™ä¸¤ä¸ªæ“ä½œéƒ½å»ºç«‹äº†ç­‰ä»·çš„é—®é¢˜ æ­¥éª¤ åœ¨ç›®æ ‡å‡½æ•°ä¸­é€‰ä¸€ä¸ªæœ€å¤§æ­£ç³»æ•°éåŸºæœ¬å˜é‡$x_1$ï¼Œå°è¯•å¢å¤§$x_1$ï¼Œä½¿å¾—$z$å¢å¤§(å¢å¤§æ—¶å¿…é¡»æ»¡è¶³çº¦æŸæ¡ä»¶) æ‰¾åˆ°æœ€ç´§çš„çº¦æŸï¼Œè§£å‡º$x_1$ å°†$x_1$ä»£å…¥ç³»ç»Ÿä¸­å…¶ä»–çº¦æŸå’Œç›®æ ‡å‡½æ•°ã€è½¬åŠ¨ã€‘ æ‰¾åˆ°æ–°ç³»ç»Ÿçš„åŸºæœ¬è§£ è½¬åŠ¨ è¾“å…¥ï¼šå…ƒç»„$(N,B,A,b,c,v)$ï¼Œæ›¿å‡ºå˜é‡$x_l$çš„ä¸‹æ ‡$l$(ä»å·¦è¾¹è°ƒåˆ°å³è¾¹),ä»¥åŠæ›¿å…¥å˜é‡$x_e$çš„ä¸‹æ ‡$e$(ä»å³è¾¹è°ƒåˆ°å·¦è¾¹)å‡ºå…¥æ˜¯ç›¸å¯¹éåŸºæœ¬å˜é‡é›†åˆ$N$è€Œè¨€çš„ è¾“å‡ºï¼šæ–°æ¾å¼›çš„å…ƒç»„$(\\hat{N},\\hat{B},\\hat{A},\\hat{b},\\hat{c},\\hat{v})$ æ­£å¼çš„å•çº¯å½¢ç®—æ³•SIMPLEX è¾“å…¥ï¼šä¸€ä¸ªæ ‡å‡†å‹çš„çº¿æ€§è§„åˆ’ è¾“å‡ºï¼šä¸€ä¸ª$n$ç»´å‘é‡ï¼Œè¡¨ç¤ºè¯¥çº¿æ€§è§„åˆ’çš„ä¸€ä¸ªæœ€ä¼˜è§£ å‡è®¾INITIALIZE-SIMPLEXè¿‡ç¨‹è¿”å›ä¸€ä¸ªåˆå§‹åŸºæœ¬è§£å¯è¡Œçš„æ¾å¼›å‹æˆ–ä¸å¯è§£ä¿¡æ¯ 3~12è¡Œï¼šç®—æ³•ä¸»ä½“ å¦‚æœéƒ½æ˜¯ç›®æ ‡å‡½æ•°æ‰€æœ‰ç³»æ•°ä¸ºè´Ÿï¼Œåˆ™whileå¾ªç¯ç»ˆæ­¢ï¼Œå¦åˆ™ç¬¬4è¡Œé€‰æ‹©æ›¿å…¥å˜é‡$x_e$ 5~9è¡Œæ£€æŸ¥æ¯ä¸ªçº¦æŸï¼Œç„¶åæŒ‘å‡ºä¸€ä¸ªæœ€ä¸¥æ ¼é™åˆ¶$x_e$å¢åŠ å¹…åº¦çš„çº¦æŸç›¸å…³è”çš„åŸºæœ¬å˜é‡$x_l$ï¼Œå¦‚æœæ²¡æœ‰çº¦æŸèƒ½å¤Ÿé™åˆ¶æ›¿å…¥å˜é‡å¢åŠ çš„å¹…åº¦ï¼Œåˆ™åœ¨ç¬¬11è¡Œè¿”å›æ— ç•Œ è°ƒç”¨PIVOTäº¤æ¢æ›¿å…¥å˜é‡å’Œæ›¿å‡ºå˜é‡ 13~16è¡Œå§æ‰€æœ‰éåŸºæœ¬å˜é‡è®¾ä¸º0ï¼ŒæŠŠåŸºæœ¬å˜é‡$\\overline{x_i}$è®¾ä¸º$b_i$ 17è¡Œè¿”å›è¿™äº›å€¼ å¾ªç¯ä¸å˜å¼whileå¾ªç¯æ¯æ¬¡è¿­ä»£å¼€å§‹ï¼š æ­¤æ¾å¼›å‹ç­‰ä»·äºè°ƒç”¨INITIALIZE-SIMPLEXè¿”å›çš„æ¾å¼›å‹ å¯¹æ¯ä¸ª$i\\in B$ï¼Œæœ‰$b_i\\ge 0$(ä¿è¯æ–°ç³»ç»Ÿçš„åŸºæœ¬è§£å¯è¡Œ) æ­¤æ¾å¼›å‹ç›¸å…³çš„åŸºæœ¬è§£æ˜¯å¯è¡Œçš„ éœ€è¦ä¿è¯whileå¾ªç¯ç»ˆæ­¢ï¼Œå¯ä»¥é€šè¿‡ç¬¬4è¡Œå’Œç¬¬9è¡Œæ€»æ˜¯é€‰æ‹©å…·æœ‰æœ€å°ä¸‹æ ‡çš„å˜é‡æ¥æ‰“ç ´ç›®æ ‡å€¼ä¸å˜çš„å±€é¢ å‡è®¾INITIALIZE-SIMPLEXè¿”å›ä¸€ä¸ªåŸºæœ¬è§£å¯è¡Œçš„æ¾å¼›å‹ï¼Œé‚£ä¹ˆSIMPLEXè¦ä¹ˆæŠ¥å‘Šä¸€ä¸ªçº¿æ€§è§„åˆ’æ˜¯æ— ç•Œçš„ï¼Œè¦ä¹ˆä»¥ä¸€ä¸ªå¯è¡Œè§£ç»“æŸï¼Œä¸”è‡³å¤š$(^{m+n}_{m})$æ¬¡å¾ªç¯å†…ç»ˆæ­¢ å¯¹å¶æ€§å¯¹å¶æ€§ï¼šç»™å®šä¸€ä¸ªæœ€å¤§åŒ–é—®é¢˜ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªç›¸å…³çš„æœ€å°åŒ–é—®é¢˜ï¼Œä½¿å¾—è¿™ä¸¤ä¸ªé—®é¢˜å…·æœ‰åŒæ ·çš„æœ€ä¼˜ç›®æ ‡å€¼(e.g.æœ€å¤§æµæœ€å°å‰²) ç»™å®šä¸€ä¸ªæ ‡å‡†å‹çš„åŸå¼çº¿æ€§è§„åˆ’ï¼Œæˆ‘ä»¬å®šä¹‰å…¶å¯¹å¶çº¿æ€§è§„åˆ’ä¸º(å°†æœ€å¤§åŒ–æ”¹ä¸ºæœ€å°åŒ–ï¼Œäº¤æ¢å³è¾¹ç³»æ•°ä¸ç›®æ ‡å‡½æ•°çš„ç³»æ•°) å¼±å¯¹å¶æ€§ï¼šåŸå¼çº¿æ€§è§„åˆ’çš„ä»»æ„å¯è¡Œè§£çš„å€¼ä¸å¤§äºæ­¤å¯¹å¶çº¿æ€§è§„åˆ’çš„ä»»æ„å¯è¡Œè§£çš„å¯¹åº”å€¼ å¼•ç† 29.8ï¼šçº¿æ€§è§„åˆ’å¯¹å¶æ€§ è¯æ˜æ¶‰åŠå¤§é‡æ•°å­¦æ¨å¯¼ å¯¹å¶é—®é¢˜éƒ½å¯ä»¥åƒæœ€å¤§æµæœ€å°å‰²ä¸€æ ·ï¼Œç”¨æ¥è½¬ç§»ç«åŠ›ï¼Œæ‰¾åˆ°ä¸€ä¸ªç­‰ä»·çš„é—®é¢˜æ¥æ±‚è§£åŸæ¥çš„é—®é¢˜","categories":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/categories/Notes/"}],"tags":[{"name":"Problem Solving","slug":"Problem-Solving","permalink":"https://mengzelev.github.io/tags/Problem-Solving/"},{"name":"CLRS","slug":"CLRS","permalink":"https://mengzelev.github.io/tags/CLRS/"},{"name":"Graph Algorithms","slug":"Graph-Algorithms","permalink":"https://mengzelev.github.io/tags/Graph-Algorithms/"}]},{"title":"SVMçš„ä¸´æ—¶æŠ±ä½›è„šfor HK","slug":"SVM-getstart","date":"2019-02-12T06:28:39.000Z","updated":"2019-03-02T02:32:09.405Z","comments":true,"path":"2019/02/12/SVM-getstart/","link":"","permalink":"https://mengzelev.github.io/2019/02/12/SVM-getstart/","excerpt":"","text":"å‚è€ƒèµ„æ–™Bç«™ æœºå™¨å­¦ä¹ ï¼ˆMachine Learningï¼‰- å´æ©è¾¾ï¼ˆAndrew Ngï¼‰ å…³äºè°ƒå‚ä½¿ç”¨SVMéœ€è¦æŒ‡å®šçš„å‚æ•° å‚æ•°$C$ $C$è¾ƒå¤§ï¼šå°åå·®ï¼Œå¤§æ–¹å·® $C$è¾ƒå°ï¼šå¤§åå·®ï¼Œå°æ–¹å·® æ ¸å‡½æ•°(kernel)çš„é€‰æ‹© çº¿æ€§æ ¸å‡½æ•°(Linear Kernel/No Kernel) é«˜æ–¯æ ¸å‡½æ•°(Gaussian Kernel) ä»¥ä¸Šæ˜¯ä¸¤ä¸ªæœ€å¸¸ç”¨çš„æ ¸å‡½æ•° å¤šé¡¹å¼æ ¸å‡½æ•° å­—ç¬¦ä¸²æ ¸å‡½æ•° å¡æ–¹æ ¸å‡½æ•° â€¦. $n=$number of features, $m=$number of training examples If $n$ is large(relative to $m$),e.g.$n\\ge m$, use logistic regression or SVM without a kernel If $n$ is small, $m$ is intermediate, use SVM with Gaussian kernel If $n$ is is small, $m$ is large, create/add more features, then use logistic regression or SVM without a kernel çº¿æ€§æ ¸å‡½æ•°ç‰¹å¾æ•°è¾ƒå¤šï¼Œæ ·æœ¬æ•°è¾ƒå°‘æ—¶é€‰æ‹© é«˜æ–¯æ ¸å‡½æ•°f_i=exp(-\\frac{\\Vert{x-l^{(i)}}^2}{2\\sigma^2}),\\text{where} l^{(i)}=x^{(i)}é€‰æ‹©é«˜æ–¯æ ¸çš„æƒ…å†µï¼šç‰¹å¾æ•°è¾ƒå°‘ï¼Œæ ·æœ¬è¾ƒå¤š $\\sigma$çš„é€‰å–ï¼š å¤§$\\sigma$: high bias, low variance å°$\\sigma$: low bias, high variance Note:åœ¨ä½¿ç”¨é«˜æ–¯æ ¸ä¹‹å‰è®°å¾—ç‰¹å¾å½’ä¸€åŒ–(feature scaling) å¤šé¡¹å¼æ ¸å‡½æ•°(x^Tl + C)^d å½“$x$å’Œ$l$éƒ½æ˜¯ä¸¥æ ¼çš„éè´Ÿæ•°æ—¶æ‰ä¼šä½¿ç”¨ ç”¨å¾—ä¸å¤š","categories":[],"tags":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/tags/Notes/"},{"name":"Machine Learning","slug":"Machine-Learning","permalink":"https://mengzelev.github.io/tags/Machine-Learning/"}]},{"title":"HKUSTé¡¹ç›®è®¨è®ºå†…å®¹","slug":"HKUST-discussion","date":"2019-02-11T07:12:48.000Z","updated":"2019-02-19T07:05:47.387Z","comments":true,"path":"2019/02/11/HKUST-discussion/","link":"","permalink":"https://mengzelev.github.io/2019/02/11/HKUST-discussion/","excerpt":"","text":"é—®é¢˜ç†è§£åŸæ–‡ã€æ¥è‡ªæœ‰é“æœºç¿»ã€‘é¢„æµ‹Sklearnç¨‹åºçš„è¿è¡Œæ—¶é—´åœ¨å…±äº«åŸºç¡€è®¾æ–½ä¸Šé«˜æ•ˆè¿è¡Œåˆ†å¸ƒå¼åº”ç”¨ç¨‹åºå…·æœ‰æŒ‘æˆ˜æ€§ã€‚è¿‡å»çš„ç ”ç©¶è¡¨æ˜ï¼Œé€‰æ‹©åˆé€‚çš„ç¡¬ä»¶é…ç½®å¯ä»¥æ˜¾è‘—æé«˜æ€§èƒ½å’Œé™ä½æˆæœ¬ã€‚ä¸ºäº†é€‰æ‹©æœ€ä½³é…ç½®ï¼Œéœ€è¦å‡†ç¡®åœ°é¢„æµ‹ä¸åŒåº”ç”¨ç¨‹åºçš„æ€§èƒ½ã€‚ æˆ‘ä»¬è€ƒè™‘è¿™ä¸ªæŒ‘æˆ˜çš„ä¸€ä¸ªç®€åŒ–ç‰ˆæœ¬:é¢„æµ‹å•ä¸ªæœåŠ¡å™¨ä¸Šæœºå™¨å­¦ä¹ ç¨‹åºçš„æ€§èƒ½ã€‚Scikit-learn (sklearn)æ˜¯ä¸€ä¸ªç”¨äºpythonçš„æœºå™¨å­¦ä¹ åº“ã€‚æä¾›çš„æ•°æ®é›†æè¿°äº†åœ¨sklearnä¸­è¿è¡ŒSGDClassifierçš„å‡ ä¸ªç¤ºä¾‹ã€‚æ•°æ®é›†çš„ç‰¹å¾æè¿°äº†SGDClassifierä»¥åŠç”¨äºç”Ÿæˆç»¼åˆè®­ç»ƒæ•°æ®çš„ç‰¹å¾ã€‚å¾…åˆ†ææ•°æ®ä¸ºSGDClassifierçš„è®­ç»ƒæ—¶é—´ã€‚ åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼Œæ‚¨å¯ä»¥æ‰¾åˆ°ä¸€ä¸ªæ ·ä¾‹è®­ç»ƒæ•°æ®é›†(â€œsample_train.csvâ€)ã€‚â€œTimeâ€æ˜¯æ¨¡å‹çš„è®­ç»ƒæ—¶é—´ã€‚å…·ä½“æ¥è¯´ï¼Œâ€œn_samplesâ€ã€â€œn_featuresâ€æè¿°äº†å¦‚ä½•ä½¿ç”¨sklearn.dataset.make_classificationç”Ÿæˆè®­ç»ƒåˆæˆæ•°æ®é›†ã€‚åœ¨ç”Ÿæˆæ•°æ®é›†ä¹‹åï¼Œå³ä½¿ç”¨SGDClassifierè¿›è¡Œåˆ†ç±»ã€‚â€˜l1_ratioâ€™ï¼Œâ€˜alphaâ€™ï¼Œâ€˜max_iterâ€™æè¿°äº†sklearn.linear.model.SGDClassifierçš„è®¾ç½®ã€‚æ‰€æœ‰ç‰¹æ€§åç§°éƒ½éµå¾ªsklearnæ–‡æ¡£ä¸­çš„å®šä¹‰ã€‚ æœ¬é¡¹ç›®çš„ç›®æ ‡æ˜¯æœ€å°åŒ–é¢„æµ‹è¿è¡Œæ—¶é—´çš„è¯¯å·®ï¼Œå³æ‚¨åº”è¯¥é¢„æµ‹æ¥è¿‘çœŸå®è¿è¡Œæ—¶é—´çš„æµ‹è¯•é›†çš„è¿è¡Œæ—¶é—´ã€‚ä½¿ç”¨çš„è¯„ä»·æŒ‡æ ‡æ˜¯å‡æ–¹è¯¯å·®ã€‚æ‚¨å¯ä»¥æ‰¾åˆ°â€œsample_test.csvâ€å’Œâ€œsample_submissionâ€ï¼Œç”¨äºæµ‹è¯•é›†å’Œè§£å†³æ–¹æ¡ˆæäº¤æ ¼å¼ã€‚ é¡¹ç›®åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µ: é˜¶æ®µ1ï¼šåœ¨è®¿é—®HKUSTå‰ï¼Œä½ å¯æµè§ˆæ ·æœ¬æ•°æ®é›†åŠè‰æ‹Ÿè§£å†³æ–¹æ¡ˆã€‚å»ºè®®æ‚¨æå‰å¤„ç†æ•°æ®é›†å¹¶å‡†å¤‡æ¨¡å‹ã€‚ é˜¶æ®µ2:åœ¨æ‚¨è®¿é—®æœŸé—´ï¼Œæˆ‘ä»¬å°†ä¸ºæ‚¨æä¾›ä¸€ä¸ªæ›´å¤§çš„æ•°æ®é›†ï¼ŒåŒ…å«æ›´å¤šçš„ç¤ºä¾‹å’Œç‰¹æ€§ã€‚ç„¶åï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æ‰©å±•çš„æ•°æ®é›†å¤„ç†æ‚¨çš„è§£å†³æ–¹æ¡ˆã€‚è¯·æ³¨æ„ï¼Œæˆ‘ä»¬åœ¨é˜¶æ®µ1ä¸­æä¾›çš„æ•°æ®åªæ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œåœ¨ç¤ºä¾‹æ•°æ®é›†ä¸Šå»ºç«‹ä¸€ä¸ªå‡†ç¡®çš„æ¨¡å‹å¹¶ä¸ä¸€å®šæ„å‘³ç€åœ¨è¿™ä¸ªé˜¶æ®µåœ¨çœŸå®æ•°æ®é›†ä¸Šå…·æœ‰è‰¯å¥½çš„æ€§èƒ½ã€‚ é¡¹ç›®çš„å…¶ä»–ä¿¡æ¯å’Œè¦æ±‚: æ‰€æœ‰çš„è®­ç»ƒå’Œæµ‹è¯•æ•°æ®é›†éƒ½åœ¨åŒä¸€ä¸ªæœåŠ¡å™¨ä¸Šç”Ÿæˆã€‚ ä¸å—ç¼–ç¨‹è¯­è¨€æˆ–æœºå™¨å­¦ä¹ æŠ€æœ¯çš„é™åˆ¶ã€‚ä½†æ˜¯ï¼Œæ‚¨ä¸å…è®¸è¿è¡Œsklearnç¨‹åºæ¥æ‰©å±•è®­ç»ƒé›†æˆ–é¢„æµ‹æµ‹è¯•é›†ã€‚ ä½ éœ€è¦åœ¨ä½ è‡ªå·±çš„ç¬”è®°æœ¬ç”µè„‘ä¸Šç¼–ç¨‹å’Œè®­ç»ƒä½ çš„æ¨¡å‹ã€‚ ä»»ä½•æŸ¥è¯¢æ¬¢è¿å‘é€é‚®ä»¶è‡³jxiaab @ust.hkä¸Jiacheng Xiaè”ç»œ ç›¸å…³åè¯è¯´æ˜ make_classification sklearn.linear_model.SGDclassifier ä»»åŠ¡æ¦‚æ‹¬ å¾—åˆ°ä¸€ä¸ªæ—¶é—´å…³äºl1_ratio, alpha, max_iter, n_samples, n_featuresè¿™5ä¸ªå‚æ•°çš„å›å½’æ–¹ç¨‹ å°†ä»¥ä¸Š5ä¸ªå‚æ•°é‡æ–°å‘½åä¸€ä¸‹ï¼Œå³æ±‚$T(x_1,x_2,x_3,x_4,x_5)$ ä»»åŠ¡ç†è§£çœ‹åˆ°è¿™ä¸ªé—®é¢˜ï¼Œæœ‰ä»¥ä¸‹ä¸¤ç§æ€è·¯ æŠŠSGDclassifierå½“æˆé»‘ç›’å¤„ç†ï¼Œä¸ç®¡SGDåˆ†ç±»å™¨ç®—æ³•çš„å†…éƒ¨è¿ä½œï¼Œç”¨ç°æœ‰çš„ç®—æ³•ä½œå›å½’åˆ†æï¼Œæ‹Ÿåˆå›å½’æ–¹ç¨‹ æ ¹æ®SGDåˆ†ç±»å™¨å…·ä½“è¿è¡Œçš„åŸç†ï¼Œè‡ªå·±ç¡®å®šä¸€ä¸ªæ—¶é—´å‡½æ•° åè€…éœ€è¦çš„æ•°å­¦çŸ¥è¯†è¿‡å¤šï¼Œå‡ ä¹æ˜¯ä¸å¯èƒ½åšåˆ°çš„ï¼Œè€Œä¸”åˆ°æ—¶å€™è¿˜ä¼šæœ‰ä¸€ä¸ªæ›´å¤§ã€featureæ›´å¤šçš„æ•°æ®é›†ï¼Œæ‰€ä»¥é‡‡ç”¨å‰è€… æ•°æ®åˆ†æå‚æ•°è§£é‡ŠSGDåˆ†ç±»å™¨æ¨¡å‹ç›¸å…³ penalty:æƒ©ç½šå‡½æ•°çš„é€‰æ‹© l1_ratio:æ··åˆæƒ©ç½šå‡½æ•°ä¸­l1å’Œl2æ–¹æ³•çš„æ¯”ä¾‹ alpha:ä¹˜ä»¥æ­£åˆ™é¡¹çš„å¸¸æ•° max_iter:æœ€å¤§è¿­ä»£æ¬¡æ•° random_state:éšæœºæ•°ç§å­ n_jobs:è¿ç®—ä½¿ç”¨çš„CPUä¸ªæ•°ï¼Œâ€™-1â€™è¡¨ç¤ºä½¿ç”¨äº†æ‰€æœ‰çš„CPU æ•°æ®ç”Ÿæˆç›¸å…³ n_samples:æ ·æœ¬ä¸ªæ•° n_features:featureä¸ªæ•° n_classes:ç±»åˆ«çš„ä¸ªæ•° n_clusters: æ¯ä¸€ä¸ªåˆ†ç±»ä¸­çš„å›¢ç°‡ä¸ªæ•° n_informative:çœ‹ä¸æ‡‚orz flip_y:éšæœºäº¤æ¢æ‰€å±ç±»åˆ«ï¼Œè¶Šå¤§å™ªå£°è¶Šå¤š scale:å¯¹æ¯ä¸ªå€¼ä¹˜ä»¥ä¸€ä¸ªæ•° æ¼”è®²æ€è·¯ é—®é¢˜åˆ†æ(å¦‚æœå·²ç»æœ‰äººè®²è¿‡å¯ä»¥ç®€å•å¸¦è¿‡ ç®€è¿°é—®é¢˜ã€æå–å…³é”®å­— ç®€è¦ä»‹ç»ä¸€ä¸‹SGDclassifier æ‹‰å‡ºæˆ‘ä»¬å‚è€ƒçš„ä¸€ç¯‡è®ºæ–‡ï¼Œä»¿ç…§è®ºæ–‡å†³å®šè®­ç»ƒæ¨¡å‹è®¡ç®— æˆ‘ä»¬å°è¯•äº†è¯¸å¤šç®—æ³•ï¼Œå†³ç­–æ ‘è¡¨ç°å¾—æ¯”è¾ƒå¥½ã€æ•°æ®å¯è§†åŒ–åˆ—ä¸¾å„ç§ç®—æ³•çš„è¡¨ç°æƒ…å†µ ä»‹ç»å†³ç­–æ ‘ å¯¹å†³ç­–æ ‘è¿›è¡Œæ”¹è¿›ã€å†³ç­–æ ‘ï¼Œéšæœºæ£®æ— æ€»ç»“ç»“æœ","categories":[],"tags":[]},{"title":"2019ç¾èµ›ç»å†","slug":"ICM-feelings","date":"2019-01-30T09:45:38.000Z","updated":"2019-01-31T10:09:50.651Z","comments":true,"path":"2019/01/30/ICM-feelings/","link":"","permalink":"https://mengzelev.github.io/2019/01/30/ICM-feelings/","excerpt":"","text":"åœ¨ç»è¿‡äº†ä¸€å¤œçš„é€šå®µä¹‹åç»ˆäºæŠŠè®ºæ–‡äº¤ä¸Šå»æƒ¹ï¼Œç„¶åç¡äº†ä¸€å¤©ï¼Œæ‘¸äº†ä¸€å¤©ï¼Œç»ˆäºæƒ³èµ·æ¥è¦å†™è¿™ç¯‡blogäº†ã€‚ èµ›å‰å‡†å¤‡ å­¦ä¹ MATLABåŸºæœ¬è¯­æ³•ï¼Œç¬”è®°è§MATLABä¸´æ—¶æŠ±ä½›è„š å­¦ä¹ æ•°æ¨¡åŸºæœ¬ç®—æ³•ï¼Œèµ„æ–™è§NJUBroccoliçš„githubä»“åº“ æŠ„å†™å¸¸ç”¨ç®—æ³•æ¨¡æ¿ï¼Œå¦‚ï¼šè§„åˆ’é—®é¢˜ã€AHPã€ç°è‰²ç³»ç»Ÿã€ç°è‰²é¢„æµ‹ã€ä¸»æˆåˆ†åˆ†æã€æ–¹å·®åˆ†æç­‰ é˜…è¯»å¾€å¹´èµ›é¢˜å’ŒOå¥–è®ºæ–‡ï¼Œæ‘¸æ¸…å¥—è·¯ å’Œæœ‹å‹å‡ºå»çœ‹ç”µå½± å’Œé˜Ÿå‹åšè¿«çœŸæ¨¡æ‹Ÿ è¡¥ç•ª å›¢é˜Ÿé…ç½® poä¸»ï¼šcså¤§äºŒç‹—ï¼Œä¼šC/C++ï¼ŒLaTeXï¼Œä»¥åŠJavaå’ŒVerilogçš„çš®æ¯›ï¼ŒMATLABæ˜¯æ¯”èµ›å‰é€Ÿæˆçš„ã€‚å»ºæ¨¡ã€è®¡ç®—ã€å†™è®ºæ–‡ã€æ ¡å¯¹å¤šé¢æ‰“æ‚ï¼Œå…¼èŒç¾å·¥å’Œæ’ç‰ˆå·¥äººã€‚ é˜Ÿå‹Aï¼šæ•°å­¦ç³»å¤§äºŒå°å§å§ã€‚å»ºæ¨¡æ‰›æŠŠå­ã€‚ é˜Ÿå‹Bï¼šå¤§æ°”ç§‘å­¦å¤§äºŒå°å“¥å“¥ã€‚è´Ÿè´£ç»™å»ºæ¨¡æä¾›çµæ„Ÿï¼Œè´Ÿè´£æŠ±å¤§æ°”è€å¸ˆæ•™æˆå¤§è…¿ï¼Œè´Ÿè´£è¯¢é—®ç¯ç§‘åŒå­¦ã€å•†ç§‘åŒå­¦â€¦è¿™ä¹ˆå†™ä¼šä¸ä¼šè¢«æ‰“æ­» åˆ†å·¥ æ¨¡å‹æ˜¯ä¸€èµ·è®¨è®ºå»ºçš„ æ•°æ®æ˜¯ä¸€èµ·æ‰¾çš„(è™½ç„¶åæ¥æ²¡æ€ä¹ˆç”¨ä¸Š) ç¼–ç¨‹é˜Ÿå‹Bä¸ä¼šæ‰€ä»¥æˆ‘å’Œé˜Ÿå‹Aå°å§å§ä¸€èµ·è´Ÿè´£ è®ºæ–‡æ˜¯æ¯ä¸ªäººæŒ‘å‡ ä¸ªéƒ¨åˆ†ä¸€èµ·å†™çš„ ç¿»è¯‘æ˜¯äº¤ç»™æœ‰é“å§¬å®Œæˆçš„ï¼Œç”±æˆ‘å’Œé˜Ÿå‹Aæ ¡å¯¹å› ä¸ºé˜Ÿå‹Bæ ¡å¯¹çš„è´¨é‡å ªå¿§ æ’ç‰ˆç”±åŸpoä¸€äººå®Œæˆ æ¯”èµ›è¿‡ç¨‹é€‰é¢˜ä¹‹å‰å’Œé˜Ÿå‹å•†é‡å¥½äº†é€‰Eæˆ–Fé¢˜ï¼Œå› ä¸ºMCMæ¯”è¾ƒæœ‰éš¾åº¦ï¼ŒDé¢˜éœ€è¦æ’é˜Ÿè®ºå’Œé©¬æ°é“¾ä¸æƒ³çœ‹ã€‚æ¯”èµ›å½“å¤©é¢˜ç›®å…¬å¸ƒçš„æ—¶å€™ï¼Œçœ‹åˆ°Fé¢˜éœ€è¦ä¸å°‘ç¡¬æ ¸ç»æµå­¦çŸ¥è¯†æœæ–­æ”¾å¼ƒäº†ï¼Œç„¶åæœæ–­å°±ä¸Šäº†Eé¢˜è¿™æ¡è´¼èˆ¹ã€‚MCMç¢°éƒ½æ²¡ç¢°æ‰€ä»¥é”™è¿‡äº†å…»é¾™çš„æœºä¼šï¼Œæˆ‘æƒ³å…»åº·å¨œé…±å•Šå‘œå‘œå‘œ ä»Šå¹´èµ›é¢˜å†…å®¹å¤§è‡´ä¸º Aé¢˜ï¼šå…»é¾™ Bé¢˜ï¼šæ•‘æ•‘éš¾æ°‘ Cé¢˜ï¼šç¾å›½æ€»ç»Ÿäº”å¤§æ´²å››æ—¥æ¸¸ Dé¢˜ï¼šé€ƒç¦»å¢æµ®å®« Eé¢˜ï¼šç”Ÿæ€æœåŠ¡æˆæœ¬ä¼°ä»· Fé¢˜ï¼šç”µå­è´§å¸ (åªæœ‰Eé¢˜æ˜¯è®¤çœŸçœ‹è¿‡çš„ï¼Œå¦‚æœ‰åå·®æ¬¢è¿æŒ‡å‡º) é¢˜ç›®æ¦‚è¿°Eé¢˜æŒ‰ç…§æƒ¯ä¾‹æ˜¯ç¯å¢ƒé—®é¢˜ï¼Œä»Šå¹´æ˜¯è¦æ±‚å¯¹ç”Ÿæ€ç³»ç»ŸæœåŠ¡(ecological services)è¿›è¡Œä¼°ä»·ã€‚ç”Ÿæ€ç³»ç»ŸæœåŠ¡æ˜¯æŒ‡ç”Ÿæ€ç³»ç»Ÿæä¾›çš„è¯¸å¦‚å‡€åŒ–ç©ºæ°”ã€æ°´ä½“è‡ªå‡€ã€ä¿æŒæ°´åœŸç­‰åŠŸèƒ½ã€‚è¦æ±‚å¤§æ¦‚æœ‰ä»¥ä¸‹å‡ ç‚¹ å»ºç«‹ç”Ÿæ€ç³»ç»Ÿä¼°ä»·æ¨¡å‹(ecological services valuation model) å¯¹ä¸åŒè§„æ¨¡çš„åœŸåœ°å¼€å‘åˆ©ç”¨é¡¹ç›®è¿›è¡Œæˆæœ¬æ•ˆç›Šåˆ†æ(CBA)ï¼Œè¯„ä¼°è¿™äº›é¡¹ç›®çš„çœŸå®ç»æµæˆæœ¬ å†³ç­–è€…å’Œç®¡ç†è€…æå‡ºå»ºè®®(implication) éšç€æ—¶é—´æ¨ç§»æ¨¡å‹å¦‚ä½•ä¿®æ”¹ æœ¬æ¥æ˜¯æŠ±ç€AHP+GRA+PCAçš„è§‰æ‚Ÿæ¥é€‰çš„Eé¢˜ï¼Œç»“æœä¸€çœ‹è¿™tméš¾é“ä¸æ˜¯$\\sum$å•ä»·$\\times$æ•°é‡çš„å°å­¦ç”Ÿæ¨¡å‹å—ï¼Œåªè¦æˆ‘æ‰¾åˆ°æ¯å¨åºŸæ°´å¤„ç†çš„ä»·æ ¼ï¼Œæ¯å¨åƒåœ¾å›æ”¶çš„ä»·æ ¼etc.ç„¶åæ ‡å‡†ç»“å±€å‡ºç°äº†ï¼šæ‰¾ä¸åˆ°ï¼ï¼ï¼æ¯”å¦‚æ±¡æ°´å¤„ç†è´¹ï¼Œä¸­å›½å¤§é™†ï¼ŒHKå’Œæ³•å›½æ˜¯æŒ‰å¨æ”¶çš„ï¼Œç¾å›½è‹±å›½æ˜¯æ¯å¹´äº¤å›ºå®šçš„ç±»ä¼¼äºä¸‹æ°´é“ä¿æŠ¤è´¹ä¸€æ ·çš„è´¹ç”¨ã€‚è€Œä¸”é¢˜å¹²é‡Œéƒ½è¯´äº†â€œç°åœ¨çš„åœŸåœ°åˆ©ç”¨é¡¹ç›®ä¸€èˆ¬ä¸è€ƒè™‘ç¯å¢ƒæˆæœ¬â€ï¼Œæ‰€ä»¥æ ¹æœ¬å°±æ‰¾ä¸åˆ°å·¥ç¨‹å‰åç¯å¢ƒç›¸å…³çš„æ•°æ®ã€‚å‡ ç¯‡ç±»ä¼¼çš„è®ºæ–‡éƒ½æ˜¯æœ‰è‡ªå·±çš„ç›‘æµ‹ç«™çš„å•Šï¼ï¼ï¼ï¼æˆ‘ä»¬ä¸Šå“ªæ‰¾å»å•Šï¼ï¼ï¼ç¯å¢ƒç»æµå­¦çš„ä¹¦æŸ¥äº†ä¸€å †å•Šï¼ï¼ï¼ç›´æ¥è¯´ç¯å¢ƒä¼°ä»·æ˜¯ä¸€ä¸ªå°šæœªè§£å†³çš„éš¾é¢˜å•Šï¼ï¼ï¼ï¼ã€åºŸè¯è¦æ˜¯è§£å†³äº†è¿˜ä¼šå‡ºæˆèµ›é¢˜å—å¦‚æ­¤ç»æœ›äº†ä¸€å¤©åŠä¹‹åï¼Œæˆ‘ä»¬å†³å®šï¼Œæ­»é©¬å½“æ´»é©¬åŒ»ï¼šgtndï¼Œä¸ŠAHPï¼ç„¶åå°±å¼€å§‹äº†ç„å­¦AHPç„å­¦å»ºæ¨¡ç„å­¦è®ºæ–‡è§£é‡Šç”±äºåªæ˜¯ä¸ªå¿ƒè·¯å†ç¨‹è®°å½•ï¼Œæ‰€ä»¥å°±ä¸è¯¦ç»†è§£é‡Šäº† è®¡ç®—æˆ‘ä»¬çš„ç„å­¦æ¨¡å‹åªæœ‰CBAé‚£ä¸€å—æœ‰ä¸€ä¸¢ä¸¢è®¡ç®—é‡ï¼Œç›´æ¥ä¸ŠMATLABç”šè‡³æŠŠå›¾è°ƒå¾—æ›´å¥½çœ‹èŠ±çš„æ—¶é—´è¿˜å¤šä¸€äº›ã€ä¸¢äºº è®ºæ–‡æ˜¯å¤§å®¶ä¸€èµ·å†™çš„ä¸­æ–‡ç¨¿ï¼Œç„¶åæ‰”ç»™æœ‰é“å§¬ç¿»æˆè‹±æ–‡ï¼Œå†æ‰‹åŠ¨ä¿®æ”¹ æµæ°´è´¦DAY1ï¼š 1234567é€‰é¢˜while(true)&#123; è®¨è®ºæ¨¡; æ‰¾è®ºæ–‡; æ‰¾æ•°æ®; æ¨ç¿»æ¨¡å‹;&#125; DAY2ï¼š æ‰¾æ•°æ® æ¨ç¿»æ¨¡å‹ ç„å­¦å»ºæ¨¡å¼€å§‹ ç„å­¦AHP ç„å­¦CBA ç„å­¦ç¼–ç¨‹ é˜Ÿå‹Bå¼€å§‹ç„å­¦æ‰¯æ·¡å†™è®ºæ–‡ DAY3ï¼š 12345while(true)&#123; è®ºæ–‡æ‰¯æ·¡; å‘ç°æ¨¡å‹æœ‰é—®é¢˜; æ‰“è¡¥ä¸;&#125; DAY4(é€šå®µ)ï¼š å†™è®ºæ–‡ ç»§ç»­ç»™æ¨¡å‹æ‰“è¡¥ä¸ ç¿»è¯‘å¹¶æ ¡å¯¹ æ’ç‰ˆ æäº¤ æ„Ÿæƒ³ ç¾èµ›æ˜¯çœŸçš„å¾ˆç´¯ï¼ï¼ï¼ã€ä¸è¿‡ä¹Ÿæœ‰äº›é˜Ÿä¼æ—©æ—©å°±åšå®Œæäº¤äº†æ ¹æœ¬æ²¡æœ‰é€šå®µ å‰é¢ä¸çŸ¥é“åšäº›ä»€ä¹ˆï¼Œæ‰€ä»¥æ¯å¤©éƒ½ç¡è¶³äº†8å°æ—¶ï¼Œäº‹æƒ…éƒ½ç§¯åˆ°æœ€åä¸€å¤©åšäº†ï¼Œæ‰€ä»¥ä¸å¾—ä¸é€šå®µï¼Œæ‰€å¹¸è¿˜æ˜¯èµ¶ä¸Šäº†çš„ æ²¡æœ‰å…»é¾™å¥½é—æ†¾å•Šï¼Œåæ­£å“ªé¢˜éƒ½ä¸ä¼šåšï¼Œä¸å¦‚å…»é¾™çˆ½ä¸€æŠŠï¼Œéè¦åŠæ­»åœ¨Eé¢˜ä¸Š ç¾èµ›è¿‡äºæ˜‚è´µã€‚3äººå¹³åˆ†100ç¾å…ƒçš„æŠ¥åè´¹ä¸è¯´ï¼Œå› ä¸ºä½œæ­»æ²¡æœ‰ç•™åœ¨å­¦æ ¡é‡Œæ‰“ï¼Œå¯¼è‡´åªèƒ½å»å¸‚å›¾ä¹¦é¦†è®¨è®ºï¼ŒèŠ±è´¹å¤§é‡é‡‘é’±åœ¨åƒé¥­ä¸Šï¼Œæœ€åä¸€å¤©ä¸ºäº†é€šå®µè¿˜å¼€äº†ä¸ªæˆ¿ è¿™æ¬¡çš„Eé¢˜æ„Ÿè§‰è¿˜æ˜¯æŒºå‘çš„ï¼Œæ¶‰åŠåˆ°ä¸å°‘ç¯å¢ƒç»æµå­¦çš„çŸ¥è¯†ï¼Œå¤–è¡Œäººæ…é€‰ã€‚å…¶å®å“ªé“é¢˜éƒ½æ˜¯å‘ æˆ‘ä»¬çš„æ¨¡å‹åæ¥ç®—å‡ºæ¥è¥¿æ°”ä¸œè¾“æ˜¯ä¸ªå¤±è´¥çš„å·¥ç¨‹ï¼Œæ„Ÿè§‰å°å‘½ä¸ä¿äº† 33.33ç¾å…ƒï¼Œä½“éªŒé€šå®µçš„æ„Ÿè§‰ï¼Œå‚èµ›ä¸€æ¬¡ï¼Œå—ç›Šä¸€ç”Ÿã€æ£’è¯»ã€‘ MCM/ICMçœŸæ˜¯ä¸€ä¸ªéª—é’±åˆå‘çˆ¹çš„æ¯”èµ›å•Š","categories":[{"name":"Diary","slug":"Diary","permalink":"https://mengzelev.github.io/categories/Diary/"}],"tags":[{"name":"Math Modeling","slug":"Math-Modeling","permalink":"https://mengzelev.github.io/tags/Math-Modeling/"}]},{"title":"pythonå­¦ä¹ ç¬”è®°","slug":"python-getstart","date":"2019-01-23T07:37:50.000Z","updated":"2019-03-13T03:42:01.600Z","comments":true,"path":"2019/01/23/python-getstart/","link":"","permalink":"https://mengzelev.github.io/2019/01/23/python-getstart/","excerpt":"","text":"æŒç»­æ›´æ–°ä¸­å‚è€ƒï¼š å»–é›ªå³°çš„Python3æ•™ç¨‹ ã€ŠPythonç¼–ç¨‹ï¼šä»å…¥é—¨åˆ°å®è·µã€‹ æ•°æ®ç±»å‹Pythonæ˜¯åŠ¨æ€è¯­è¨€ï¼Œå³å˜é‡æœ¬èº«ç±»å‹ä¸å›ºå®šï¼Œä¸éœ€è¦æå‰å£°æ˜å˜é‡ç±»å‹çš„Pythonæœ‰ä¸‰å¤§æ•°æ®ç±»å‹ï¼šæ•´æ•°ã€æµ®ç‚¹æ•°ã€å­—ç¬¦ä¸² æ•´æ•°æ•´æ•°å¯ä»¥æ˜¯ä»»æ„å¤§å°çš„ æµ®ç‚¹æ•°æµ®ç‚¹æ•°å¯ä»¥æ˜¯ä»»æ„ç²¾åº¦çš„ã€ä½†æ˜¯è¿ç®—ä¹Ÿä¼šå‡ºç°è¯¯å·®ã€‘ å­—ç¬¦ä¸² å­—ç¬¦ä¸²ç”¨å•å¼•å·æˆ–åŒå¼•å·æ‹¬èµ·æ¥ ä¼šæ¶‰åŠåˆ°è½¬ä¹‰ç¬¦çš„é—®é¢˜ åœ¨å­—ç¬¦ä¸²å‰åŠ rè¡¨ç¤ºè®©æ‰€æœ‰çš„è½¬ä¹‰ç¬¦éƒ½ä¸è½¬ å­—ç¬¦ä¸²æ‹¼æ¥ï¼š+å· å‡ ä¸ªéªšæ–¹æ³• title()é¦–å­—æ¯å¤§å†™ upper()å…¨éƒ¨å¤§å†™ lower()å…¨éƒ¨å°å†™ rstrip()æš‚æ—¶åˆ é™¤å­—ç¬¦ä¸²å³ç«¯çš„ç©ºç™½ 123456&gt;&gt;&gt; s = &#x27;python &#x27;&gt;&gt;&gt; s.rstrip()&#x27;python&#x27;&gt;&gt;&gt; s&#x27;python &#x27;&gt;&gt;&gt; s = rstrip() #æ°¸ä¹…åˆ é™¤å³ç«¯ç©ºæ ¼ lstrip()æš‚æ—¶åˆ é™¤å­—ç¬¦ä¸²å·¦ç«¯çš„ç©ºç™½ strip()åŒæ—¶æš‚æ—¶åˆ é™¤å­—ç¬¦ä¸²ä¸¤ç«¯ç©ºç™½ æ³¨é‡Š Pythonä¸­ä½¿ç”¨#æ³¨é‡Šæ‰ä¸€æ•´è¡Œ PyCharmä¸­å¯ä»¥ä½¿ç”¨Ctrl+/ ç±»å‹è½¬æ¢å‡½æ•° int(x)æŠŠxè½¬åŒ–ä¸ºæ•´æ•° float(x)æŠŠxè½¬åŒ–ä¸ºæµ®ç‚¹æ•° str(x)æŠŠxè½¬åŒ–ä¸ºå­—ç¬¦ä¸² ç¼–ç é—®é¢˜ åœ¨è®¡ç®—æœºå†…å­˜ä¸­ï¼Œç»Ÿä¸€ä½¿ç”¨Unicodeç¼–ç ï¼Œå½“éœ€è¦ä¿å­˜åˆ°ç¡¬ç›˜æˆ–è€…éœ€è¦ä¼ è¾“çš„æ—¶å€™ï¼Œå°±è½¬æ¢ä¸ºUTF-8ç¼–ç ã€‚ Python 3çš„å­—ç¬¦ä¸²æ˜¯ä»¥Unicodeç¼–ç çš„ ord()è·å–å­—ç¬¦çš„æ•´æ•°è¡¨ç¤ºï¼Œchr()æŠŠç¼–ç è½¬æ¢ä¸ºå¯¹åº”çš„å­—ç¬¦ å­—ç¬¦ä¸²ç±»å‹æ˜¯strï¼ŒåŠ å‰ç¼€b&#39;å¯ä»¥è½¬æ¢ä¸ºbytesç±»å‹ Unicodeè¡¨ç¤ºçš„stré€šè¿‡encode()æ–¹æ³•å¯ä»¥ç¼–ç ä¸ºbytesç±»å‹ï¼Œåè¿‡æ¥bytesç±»å‹å¯ä»¥é€šè¿‡decode()æ–¹æ³•è§£ç ä¸ºstrç±»å‹ 12345678&gt;&gt;&gt; &#x27;ABC&#x27;.encode(&#x27;ascii&#x27;)b&#x27;ABC&#x27;&gt;&gt;&gt; &#x27;ä¸­æ–‡&#x27;.encode(&#x27;utf-8&#x27;)b&#x27;\\xe4\\xb8\\xad\\xe6\\x96\\x87&#x27;&gt;&gt;&gt; b&#x27;ABC&#x27;.decode(&#x27;ascii&#x27;)&#x27;ABC&#x27;&gt;&gt;&gt; b&#x27;\\xe4\\xb8\\xad\\xe6\\x96\\x87&#x27;.decode(&#x27;utf-8&#x27;)&#x27;ä¸­æ–‡&#x27; len()å‡½æ•°è¿”å›å­—ç¬¦ä¸²é•¿åº¦æˆ–byteså­—èŠ‚æ•° å§‹ç»ˆåšæŒä½¿ç”¨UTF-8å¯¹strå’Œbytesè¿›è¡Œè½¬æ¢ å¼€å¤´é€šå¸¸éœ€è¦åŠ ä¸Š 12#!/usr/bin/env python3# -*- coding: utf-8 -*- æ ¼å¼åŒ–å­—ç¬¦ä¸²%ï¼Œç”¨æ³•åŒCçš„printf å¸ƒå°”å€¼ å€¼ä¸ºTrueæˆ–False è¿ç®—andã€orã€not ç©ºå€¼ Noneï¼Œæ˜¯ä¸€ä¸ªç‰¹æ®Šå˜é‡ å¸¸é‡ ä¹ æƒ¯ç”¨å…¨éƒ¨å¤§å†™çš„å˜é‡åè¡¨ç¤ºå¸¸é‡ ç„¶è€Œå¹¶ä¸èƒ½ä¿è¯è¯¥å˜é‡ä¸ä¼šæ”¹å˜ï¼Œä¸åƒCæœ‰const list åˆ—è¡¨ []è¡¨ç¤ºlist []ä¸ºä¸‹æ ‡ç´¢å¼•ï¼Œä»0å¼€å§‹ï¼ŒåŒC [-1]è¡¨ç¤ºæœ€åä¸€ä¸ªå…ƒç´ ,è´Ÿå·ç´¢å¼•-nå°±è¡¨ç¤ºå€’æ•°ç¬¬nä¸ªè¿™ä¹Ÿå¤ªnbäº†å§ listé‡Œçš„æ•°æ®ç±»å‹å¯ä»¥ä¸åŒ listå¯ä»¥åµŒå¥— listæ–¹æ³•123456789101112131415len(mylist) #è·å¾—listå…ƒç´ çš„ä¸ªæ•° mylist.append(&#x27;a&#x27;) # å¾€listä¸­è¿½åŠ å…ƒç´ åˆ°æœ«å°¾mylist.insert(1, &#x27;a&#x27;) # æŠŠå…ƒç´ æ’å…¥åˆ°æŒ‡å®šä½ç½®mylist.pop() # åˆ é™¤listæœ«å°¾çš„å…ƒç´ mylist.pop(1) # åˆ é™¤æŒ‡å®šä½ç½®çš„å…ƒç´ #popè¿”å›å€¼ä¸ºè¢«åˆ é™¤çš„å…ƒç´ del mylist[1] #ä½¿ç”¨delå¯ä»¥åˆ é™¤ä»»ä½•ä½ç½®çš„åˆ—è¡¨å…ƒç´ ï¼Œæ¡ä»¶æ˜¯çŸ¥é“ç´¢å¼•mylist.remove() #æŒ‰å€¼åˆ é™¤å…ƒç´ ï¼Œåªåˆ é™¤ç¬¬ä¸€ä¸ªæŒ‡å®šçš„å€¼# `popå’Œ`del`çš„é€‰æ‹©ï¼šåˆ é™¤åæ˜¯å¦è¿˜è¦ä½¿ç”¨è¯¥å…ƒç´ mylist.sort() #æ°¸ä¹…æ’åºmylist.sort(reverse = True) #å€’åºæ’åºsorted(mylist) #æš‚æ—¶æ’åºï¼Œä¹Ÿå¯ä»¥åŠ å…¥å€’åºå‚æ•°mylist.reverse() #æ°¸ä¹…å€’ç½®mylist[1:3] #liståˆ‡ç‰‡ï¼ŒåŒMATLABï¼Œé¦–å°¾å¯ç¼ºçœcopy_list = mylist[:] #é€šè¿‡åˆ‡ç‰‡èµ‹å€¼list åˆ‡ç‰‡1234567L[head : tail :step]L[:3] #å–å‡ºä»ç¬¬0ä¸ªåˆ°ç¬¬3ä¸ªå…ƒç´ L[1:3] #å–å‡ºä»ç¬¬1ä¸ªåˆ°ç¬¬3ä¸ªå…ƒç´ L[:10:2] #å‰10ä¸ªæ•°ï¼Œæ¯2ä¸ªå–ä¸€ä¸ªL[::5] #æ‰€æœ‰æ•°ï¼Œæ¯5ä¸ªå–ä¸€ä¸ªL[:] #åŸæ ·å¤åˆ¶ä¸€ä¸ªlist&#x27;ABCDEFG&#x27;[1:3] #å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥çœ‹æˆList åˆ—è¡¨ç”Ÿæˆå¼1234squares = [value ** 2 for value in range(1,11)]squares = [value ** 2 for value in range(1,11) if value % 2 == 0][m + n for m in &#x27;ABC&#x27; for n in &#x27;XYZ&#x27;] #ä¸¤ä¸¤ç»„åˆåŒé‡å¾ªç¯[s.lower() for s in L] #å°†ä¸€ä¸ªlistä¸­æ‰€æœ‰å­—ç¬¦ä¸²å˜æˆå°å†™ ä¸Šè¿°ä»£ç ç­‰ä»·äºå¯¹squaresè¿™ä¸ªlistæ‰§è¡Œäº†ä¸€ä¸ªforå¾ªç¯ï¼Œæ¯ä¸ªå…ƒç´ éƒ½å¹³æ–¹(**æ˜¯ä¹˜æ–¹çš„æ„æ€)è‡ªç„¶è¯­è¨€ç¼–ç¨‹æŒ‡æ—¥å¯å¾… ç”Ÿæˆå™¨generator litsä¿å­˜çš„æ˜¯æ•°æ®ï¼Œgeneratorä¿å­˜çš„æ˜¯ç®—æ³• ä½¿ç”¨next()å‡½æ•°å¯ä»¥è·å¾—generatorçš„ä¸‹ä¸€è¿”å›å€¼ generatorä¹Ÿæ˜¯å¯è¿­ä»£å¯¹è±¡ å®šä¹‰generator æŠŠlistçš„[]å˜æˆ() ä½¿ç”¨yieldå…³é”®å­—æŠŠå‡½æ•°å˜æˆgenerator å˜æˆgeneratorçš„å‡½æ•°ï¼Œæ¯æ¬¡è°ƒç”¨next()æ—¶æ‰§è¡Œï¼Œé‡åˆ°yieldè¯­å¥è¿”å›ï¼Œå†æ¬¡æ‰§è¡Œæ—¶ 12345&gt;&gt;&gt; g = (x * x for x in range(10)) #æŠŠlistçš„[]å˜æˆ()å°±å¯ä»¥å¾—åˆ°ç”Ÿæˆå™¨&gt;&gt;&gt; g&lt;generator object &lt;genexpr&gt; at 0x1022ef630&gt;&gt;&gt;&gt; for n in g: print(n) 1234567891011#æ–æ³¢é‚£å¥‘æ•°åˆ—def fib(max): n, a, b = 0, 0, 1 while(n &lt; max): yield b a, b = b, a + b #ç›¸å½“äº(a,b) = (b, a+b) n = n + 1 return &#x27;done&#x27;&gt;&gt;&gt; for n in fib: print(n) 12345678910111213141516#æ¨è¾‰ä¸‰è§’ç”Ÿæˆå™¨def triangles(): L = [1,] while True: yield L L = [1,] + [L[i-1] + L[i] for i in range(1, len(L))] + [1,]n = 0results = []for t in triangles(): print(t) results.append(t) n = n + 1 if n == 10: break tuple å…ƒç»„ ä¸listç±»ä¼¼ï¼Œä½†æ˜¯ä¸€æ—¦åˆå§‹åŒ–å°±ä¸èƒ½ä¿®æ”¹ï¼Œç±»ä¼¼äºCçš„enum ä¸å¯å˜çš„tupleä½¿ä»£ç æ›´å®‰å…¨ æ³¨ï¼šå®šä¹‰ä¸€ä¸ªå…ƒç´ çš„tupleæ—¶éœ€è¦åŠ ä¸€ä¸ªé€—å·, tupleçš„ä¸å˜æ˜¯æŒ‡å‘ä¸å˜ï¼Œå³ç»™å…ƒç»„å˜é‡èµ‹å€¼æ˜¯åˆæ³•çš„ 1234t = () #å®šä¹‰ç©ºtuplet = (1,) #å®šä¹‰å•å…ƒç´ tupledim = (200, 5)dim = (400, 10) #åˆæ³•ï¼Œç›¸å½“äºé‡æ–°å®šä¹‰äº†æ•´ä¸ªå…ƒç»„ åˆ†æ”¯è¯­å¥if é™¤äº†ä¸è¦æ‹¬å·ã€å†’å·æ¢è¡Œã€ç¼©è¿›ä»£æ›¿å¤§æ‹¬å·å¤–ï¼Œå…¶ä»–éƒ½å’ŒCè¯­è¨€ä¸€æ · else ifå¯ä»¥ç¼©å†™ä¸ºelif if mylist å¯ä»¥æ£€éªŒåˆ—è¡¨æ˜¯å¦éç©º if a in mylistä½ ä»¥ä¸ºæˆ‘æ˜¯è‡ªç„¶è¯­è¨€ç¼–ç¨‹å…¶å®æˆ‘åªæ˜¯æ£€æŸ¥æŸä¸ªå…ƒç´ åœ¨ä¸åœ¨åˆ—è¡¨é‡Œå“’ 123456789# -*- coding: utf-8 -*-s = input(&#x27;birth:&#x27;)birth = int(s) //å°†å­—ç¬¦ä¸²è¾“å…¥è½¬åŒ–ä¸ºæ•°å­—ç±»å‹if birth &gt;= 2000: print(&#x27;00å&#x27;)elif birth &lt; 1960: print(&#x27;60å‰&#x27;)else: print(&#x27;00å‰&#x27;) å¾ªç¯è¯­å¥forpythonæœ‰2ç§å¾ªç¯ for x in ...å¾ªç¯ï¼Œä¾æ¬¡æŠŠlistæˆ–è€…tupleä¸­çš„æ¯ä¸ªå…ƒç´ è¿­ä»£å‡ºæ¥ range(m,n,step)å‡½æ•°ç”Ÿæˆä»må¼€å§‹åˆ°nçš„æ•´æ•°åºåˆ—ï¼Œæ­¥é•¿ä¸ºstepï¼Œmç¼ºçœä¸º0ï¼Œstepç¼ºçœä¸º1 123for value in range(1,6): #è¡Œå°¾è¦æœ‰å†’å· print(value) #åˆ«å¿˜äº†ç¼©è¿›å¯¹é½numbers = list(range(1,11,2)) #list()å‡½æ•°å°†å‚æ•°è½¬æ¢ä¸ºåˆ—è¡¨ ç±»ä¼¼Cè¯­è¨€çš„å¾ªç¯123456for i, value in enumerate([&#x27;A&#x27;,&#x27;B&#x27;,&#x27;C&#x27;]): print(i, value)# enumerateå¯ä»¥å°†listå˜æˆç´¢å¼•-å…ƒç´ å¯¹ï¼Œç›¸å½“äºæ•°ç»„for x,y in [(1,1),(2,4),(3,9)]: print(x,y)#åŒæ—¶å¯¹ä¸¤ä¸ªå˜é‡è¿›è¡Œè¿­ä»£ è¿­ä»£å¯¹è±¡forå¯ä»¥ä½œç”¨äºæ‰€æœ‰å¯è¿­ä»£å¯¹è±¡ 123456789101112# å¯ä»¥é€šè¿‡isinstance()å‡½æ•°åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºIterable(å¯è¿­ä»£å¯¹è±¡)&gt;&gt;&gt; from collections import Iterable&gt;&gt;&gt; isinstance([], Iterable)True&gt;&gt;&gt; isinstance(&#123;&#125;, Iterable)True&gt;&gt;&gt; isinstance(&#x27;abc&#x27;, Iterable)True&gt;&gt;&gt; isinstance((x for x in range(10)), Iterable)True&gt;&gt;&gt; isinstance(100, Iterable)False è¿­ä»£å™¨ å¯ä»¥è¢«next()è°ƒç”¨å¹¶ä¸æ–­è¿”å›ä¸‹ä¸€ä¸ªå€¼çš„å¯¹è±¡æˆä¸ºè¿­ä»£å™¨Iterator Iteratorå¯¹è±¡è¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªæ•°æ®æµ ç”Ÿæˆå™¨éƒ½æ˜¯Iteratorå¯¹è±¡ Iterableå¯è¿­ä»£å¯¹è±¡ä¸ä¸€å®šæ˜¯Iterator 123456789&gt;&gt;&gt; from collections import Iterator&gt;&gt;&gt; isinstance((x for x in range(10)), Iterator)True&gt;&gt;&gt; isinstance([], Iterator)False&gt;&gt;&gt; isinstance(&#123;&#125;, Iterator)False&gt;&gt;&gt; isinstance(&#x27;abc&#x27;, Iterator)False while123456ans = 0;n = 99;while n &gt; 0: ans += n n -= 2 # æ²¡æœ‰n--è¿™ç§è¯­æ³•ç³–äº†print(ans) breakå’Œcontinueéƒ½å¯ä»¥åƒä»¥å‰ä¸€æ ·ç”¨ å­—å…¸dict dictå°±ç›¸å½“äºC++é‡Œçš„mapï¼ŒåŠŸèƒ½ç±»ä¼¼äºHash Table æ˜¯å…³é”®å­—-å€¼å¯¹(key-value),keyå’Œvalueåªæ˜¯åå­—ï¼Œå¹¶ä¸è§„å®šç±»å‹ dictç›¸æ¯”äºlistï¼Œæ˜¯åœ¨ç”¨ç©ºé—´æ¢æ—¶é—´ dictçš„keyå¿…é¡»æ˜¯ä¸å¯å˜å¯¹è±¡ åˆ›å»ºdictæ³¨æ„dictçš„åˆå§‹åŒ–ä½¿ç”¨çš„&#123;&#125;èŠ±æ‹¬å· 12d = &#123;&#x27;Michael&#x27;:95, &#x27;Bob&#x27;:75, &#x27;Tracy&#x27;:85&#125; #å°†åå­—å’Œæˆç»©å¯¹åº”èµ·æ¥ï¼Œé¡¹æ¯”è¾ƒå¤šçš„æ—¶å€™å¯ä»¥åŠ ä¸Šæ¢è¡Œd[&#x27;Adam&#x27;] = 67 #ç›´æ¥é€šè¿‡å…³é”®å­—ç´¢å¼•æ”¾å…¥æ•°æ® å¤šæ¬¡å¯¹ä¸€ä¸ªå…³é”®å­—æ”¾å…¥æ•°æ®ï¼Œåé¢çš„å€¼ä¼šæŠŠå‰é¢çš„å†²æ‰ è®¿é—®äº†ä¸å­˜åœ¨çš„å…³é”®å­—æ—¶ä¼šæŠ¥é”™ 12&#x27;Thomas&#x27; in d #è¿”å›å¸ƒå°”å€¼ï¼Œåˆ¤æ–­æŸå…³é”®å­—æ˜¯å¦åœ¨è¯¥å­—å…¸ä¸­del d[&#x27;Bob&#x27;] #åˆ é™¤æŒ‡å®šå…³é”®å­— dictæ–¹æ³•12d.get(&#x27;Thomas&#x27;,-1) #å¯»æ‰¾æŸä¸ªå…³é”®å­—çš„å€¼ï¼Œ-1æ˜¯è§„å®šçš„ä¸å­˜åœ¨æ—¶çš„è¿”å›å€¼ï¼Œç¼ºçœæ—¶è¿”å›Noneï¼ŒPythonäº¤äº’ç¯å¢ƒä¸æ˜¾ç¤ºç»“æœd.pop(&#x27;Bob&#x27;) #åˆ é™¤ä¸€ä¸ªå…³é”®å­— éå†dict12345678for key,value in d.items(): # ä½¿ç”¨items()æ–¹æ³•å¯ä»¥è®¿é—®æ‰€æœ‰æ¡ç›® print(key + &quot;:&quot; + value)# éœ€è¦å£°æ˜ä¸¤ä¸ªå˜é‡ï¼Œå‘½åä»»æ„for key in d.keys(): # ä½¿ç”¨keys()æ–¹æ³•å¯ä»¥è®¿é—®æ‰€æœ‰çš„å…³é”®å­— print(key.title())#éå†å­—å…¸æ—¶é»˜è®¤éå†æ‰€æœ‰key#åŒç†æœ‰values()æ–¹æ³• é›†åˆset æ— åºã€æ— é‡å¤å…ƒç´ çš„é›†åˆ ä¸èƒ½æ”¾å…¥å¯å˜å¯¹è±¡ åˆ›å»ºset1s = set([1,1,2,2,3]) #éœ€è¦æä¾›ä¸€ä¸ªlistä½œä¸ºè¾“å…¥ï¼Œé‡å¤å…ƒç´ è‡ªåŠ¨è¿‡æ»¤ setæ–¹æ³•12s.add(4) #æ·»åŠ å…ƒç´ s.remove(4) #åˆ é™¤å…ƒç´  setæ“ä½œ12s1 &amp; s2 #äº¤é›†s1 | s2 #å¹¶é›† å¯å˜å¯¹è±¡ä¸ä¸å¯å˜å¯¹è±¡ä¸å¯å˜å¯¹è±¡ï¼šè°ƒç”¨å¯¹è±¡è‡ªèº«çš„æ–¹æ³•ä¸ä¼šæ”¹å˜è¯¥å¯¹è±¡è‡ªèº«çš„å†…å®¹ï¼Œè€Œæ˜¯ä¼šåˆ›å»ºæ–°çš„å¯¹è±¡å¹¶è¿”å›ï¼Œå¦‚strå¯å˜å¯¹è±¡ï¼šæ°æ°ç›¸åï¼Œå¦‚list å‡½æ•° å‡½æ•°åå¯ä»¥åƒå˜é‡ä¸€æ ·èµ‹å€¼ã€å¤ªéªšäº† å®šä¹‰å‡½æ•°12345def my_abs(x): #è¡Œå°¾åŠ ä¸ªå†’å· if x = 0: return x else: return -x ç©ºæ“ä½œ123def nop(): pass# passå¯ä»¥ç”¨ä½œå ä½ç¬¦ï¼Œæ²¡æƒ³å¥½å†™ä»€ä¹ˆä½†å‡½æ•°å¯ä»¥å…ˆè¿è¡Œèµ·æ¥ å‚æ•°ç±»å‹æ£€æŸ¥1234567def my_abs(x): if not isinstance(x,(int, float)): #æ•°æ®ç±»å‹æ£€æŸ¥ raise TypeError(&#x27;bad operand type&#x27;) #å¼‚å¸¸å¤„ç†(åç»­ä¼šæåˆ°) if x &gt;= 0: return x else: return -x è¿”å›å¤šå€¼è¿™ä¹Ÿå¤ªéªšäº† 123456import mathdef move(x, y, step, angle=0): nx = x + step * math.cos(angle) ny = y - step * math.sin(angle) return nx, ny äº‹å®ä¸Šè¿”å›çš„æ˜¯ä¸€ä¸ªtuple å‚æ•° ä½ç½®å‚æ•°ï¼šæ™®é€šæ„ä¹‰ä¸Šçš„å‚æ•° é»˜è®¤å‚æ•°ï¼šæœ‰ç¼ºçœå€¼çš„å‚æ•°ï¼Œå¦‚def power(x,n=2) å¿…é€‰å‚æ•°åœ¨å‰ï¼Œé»˜è®¤å‚æ•°åœ¨å å¤šä¸ªé»˜è®¤å‚æ•°æ—¶ï¼Œå¯ä»¥æŒ‰é¡ºåºè°ƒç”¨ï¼Œä¹Ÿå¯ä»¥å°†éœ€è¦ä¿®æ”¹çš„å‚æ•°å€¼çš„åç§°å†™å¥½ï¼Œä¸å†™çš„ä½¿ç”¨é»˜è®¤å€¼ï¼Œå¦‚enroll(&#39;Adam&#39;, &#39;M&#39;,city=&#39;Tianjin&#39;) é»˜è®¤å‚æ•°å¿…é¡»æŒ‡å‘ä¸å˜å¯¹è±¡ï¼Œä¾‹å¦‚é»˜è®¤å‚æ•°ä¸ºlistæ—¶ç”¨Noneä»£æ›¿[] å¯å˜å‚æ•°ï¼šå‚æ•°ä¸ªæ•°ä¸ç¡®å®šæ—¶ï¼Œå¯ä»¥ä½¿ç”¨listæˆ–tupleä¼ å‚ï¼Œå¸¦*è¡¨ç¤ºå¯å˜å‚æ•° å‚æ•°åœ¨å‡½æ•°è°ƒç”¨æ—¶è‡ªåŠ¨ç»„è£…ä¸ºtuple12345678def cal(*numbers): #åŠ *è¡¨ç¤ºå¯å˜å‚æ•° ans = 0 for n in numbers: ans += n * n return ans #ä¼ å‚&gt;&gt;&gt; cal(1,2) #ä¼ é€’å˜é‡&gt;&gt;&gt; cal(*number) #ä¼ é€’listå’Œtuple å…³é”®å­—å‚æ•°ï¼šå…è®¸ä¼ å…¥0ä¸ªæˆ–ä»»æ„ä¸ªå«å‚æ•°åçš„å‚æ•° å‚æ•°åœ¨å†…éƒ¨è‡ªåŠ¨ç»„è£…ä¸ºdict123456789101112131415161718192021 def person(name, age, **kw): #è¡¨ç¤ºæ¥å—å…³é”®å­—å‚æ•°`kw` print(&#x27;name:&#x27;, name, &#x27;age:&#x27;, age, &#x27;other:&#x27;, kw) #è°ƒç”¨ &gt;&gt;&gt; person(&#x27;Michael&#x27;, 30) #å¯ä»¥åªä¼ å…¥å¿…é€‰å‚æ•° &gt;&gt;&gt; person(&#x27;Adam&#x27;, 45, gender=&#x27;M&#x27;, job=&#x27;Engineer&#x27;) &gt;&gt;&gt; person(&#x27;Adam&#x27;, 45, **extra) #å°†ç°æˆçš„dictä½œä¸ºå‚æ•°+ å‘½åå…³é”®å­—å‚æ•°ï¼šåœ¨å‡½æ•°å†…éƒ¨æ£€æŸ¥ä¼ å…¥äº†å“ªäº›å‚æ•° + ä¸ºäº†é™åˆ¶è°ƒç”¨è€…å¯ä»¥ä¼ å…¥çš„å‚æ•°åï¼ŒåŒæ—¶å¯ä»¥æä¾›é»˜è®¤å€¼ã€‚ + å¿…é¡»ä¼ å…¥å‚æ•°åï¼Œå¦åˆ™è°ƒç”¨å°†æŠ¥é”™ + å‘½åå…³é”®å­—å‚æ•°å¯ä»¥æœ‰ç¼ºçœå€¼ + ä½¿ç”¨æ—¶ï¼Œå¦‚æœæ²¡æœ‰å¯å˜å‚æ•°ï¼Œå¿…é¡»åŠ ä¸€ä¸ª`*`ä½œä¸ºåˆ†éš”ç¬¦ã€‚å¦‚æœç¼ºå°‘*ï¼ŒPythonè§£é‡Šå™¨å°†æ— æ³•è¯†åˆ«ä½ç½®å‚æ•°å’Œå‘½åå…³é”®å­—å‚æ•° ```py def person(name, age, **kw): if &#x27;city&#x27; in kw: #æœ‰cityå‚æ•° pass if &#x27;job&#x27; in kw: #æœ‰jobå‚æ•° pass def person(name, age, *, city, job): #é™åˆ¶å…³é”®å­—å‚æ•°çš„åå­—ï¼Œåˆ†éš”ç¬¦*åçš„å‚æ•°è¢«è§†ä¸ºå‘½åå…³é”®å­—å‚æ•° def person(name, age, *args, city, job): #æœ‰å¯å˜å‚æ•°æ—¶åé¢çš„å‘½åå…³é”®å­—å‚æ•°ä¸å†éœ€è¦åˆ†éš”ç¬¦* å‚æ•°å®šä¹‰é¡ºåºï¼šå¿…é€‰å‚æ•°ã€é»˜è®¤å‚æ•°ã€å¯å˜å‚æ•°ã€å‘½åå…³é”®å­—å‚æ•°å’Œå…³é”®å­—å‚æ•° å¯¹äºä»»ä½•å‡½æ•°ï¼Œéƒ½å¯ä»¥é€šè¿‡ç±»ä¼¼func(*args, **kw)çš„å½¢å¼è°ƒç”¨ P.S. å¯å˜å‚æ•°æ—¢å¯ä»¥ç›´æ¥ä¼ å…¥ï¼šfunc(1, 2, 3)ï¼Œåˆå¯ä»¥å…ˆç»„è£…listæˆ–tupleï¼Œå†é€šè¿‡*argsä¼ å…¥ï¼šfunc(*(1, 2, 3)) å…³é”®å­—å‚æ•°æ—¢å¯ä»¥ç›´æ¥ä¼ å…¥ï¼šfunc(a=1, b=2)ï¼Œåˆå¯ä»¥å…ˆç»„è£…dictï¼Œå†é€šè¿‡**kwä¼ å…¥ï¼šfunc(**&#123;&#39;a&#39;: 1, &#39;b&#39;: 2&#125;) *argså’Œ**kwæ˜¯ä¹ æƒ¯å†™æ³• é€’å½’12345def fact(n): if n == 1: return n else: return n * fact(n-1) å‡½æ•°å¼ç¼–ç¨‹ å‡½æ•°åä¹Ÿæ˜¯å˜é‡ æœ‰ç‚¹Cé‡Œé¢å‡½æ•°æŒ‡é’ˆçš„æ„Ÿè§‰ 123&gt;&gt;&gt; f = abs&gt;&gt;&gt; f(-10)10 é«˜é˜¶å‡½æ•° æ¥æ”¶å‡½æ•°ä½œä¸ºå‚æ•°çš„å‡½æ•°å«åšé«˜é˜¶å‡½æ•° map map(f,L)ï¼Œfä¸ºå‡½æ•°ï¼ŒLä¸ºä¸€ä¸ªlistï¼Œè¡¨ç¤ºå°†fä½œç”¨äºLçš„æ¯ä¸€ä¸ªå…ƒç´ ä¸Š 123&gt;&gt;&gt; r = map(f, [1, 2, 3, 4, 5, 6, 7, 8, 9])&gt;&gt;&gt; list(r)[1, 4, 9, 16, 25, 36, 49, 64, 81] reduce reduce(f,L)ï¼ŒæŠŠç»“æœç»§ç»­å’Œåºåˆ—çš„ä¸‹ä¸€ä¸ªå…ƒç´ åšç´¯è®¡è®¡ç®— reduce(f, [x1, x2, x3, x4]) = f(f(f(x1, x2), x3), x4) ä½¿ç”¨æ—¶éœ€è¦åŠ ä¸Šfrom functools import reduce 1234567&gt;&gt;&gt; from functools import reduce&gt;&gt;&gt; def add(x, y):... return x + y...&gt;&gt;&gt; reduce(add, [1, 3, 5, 7, 9])25#æ±‚å’Œè¿ç®—å¯ä»¥ç›´æ¥ç”¨sum()å‡½æ•° map()ä¸reduce()ç»“åˆä½¿ç”¨å¯ä»¥ç”¨å¾ˆå°‘çš„ä»£ç å†™å‡ºstr2intå‡½æ•° 12345678910num = &#123;&#x27;0&#x27;:0, &#x27;1&#x27;:1, &#x27;2&#x27;:2, &#x27;3&#x27;:3, &#x27;4&#x27;:4, &#x27;5&#x27;:5, &#x27;6&#x27;:6, &#x27;7&#x27;:7, &#x27;8&#x27;:8, &#x27;9&#x27;:9&#125;from functools import reducedef str2num(s): def fn(x,y): return x * 10 + y def char2num(s): return num[s] return reduce(fn, map(char2num, s)) filter ç”¨äºè¿‡æ»¤list æŠŠä¼ å…¥çš„å‡½æ•°ä¾æ¬¡ä½œç”¨äºæŸä¸ªå…ƒç´ ï¼Œæ ¹æ®è¿”å›å€¼æ˜¯Trueè¿˜æ˜¯Falseå†³å®šä¿ç•™è¿˜æ˜¯ä¸¢å¼ƒè¯¥å…ƒç´  è¿”å›çš„æ˜¯ä¸€ä¸ªæƒ°æ€§åºåˆ—ï¼Œéœ€è¦ç”¨list()å‡½æ•°å°†æ‰€æœ‰ç»“æœç»„ç»‡ä¸ºlist 1234567#ç­›é€‰å›æ–‡æ•°def is_palindrome(n): s = str(n) rev = s[::-1] #ä½¿ç”¨åˆ‡ç‰‡å€’è½¬å­—ç¬¦ä¸² return s == revoutput = filter(is_palindrome, range(1, 1000)) sorted å¯ä»¥ç›´æ¥å¯¹å…¨æ˜¯æ•°æ®çš„listæ’åºï¼Œsort(L)è¿”å›å‡åºæ’åºçš„L å¯ä»¥æ¥å—ä¸€ä¸ªkeyå‡½æ•°æ¥å®ç°è‡ªå®šä¹‰çš„æ’åºï¼Œsort(L,key) keyæŒ‡å®šçš„å‡½æ•°å°†ä½œç”¨äºlistçš„æ¯ä¸€ä¸ªå…ƒç´ ä¸Šï¼Œå¹¶æ ¹æ®keyå‡½æ•°è¿”å›çš„ç»“æœè¿›è¡Œæ’åº ç„¶åsorted()å‡½æ•°æŒ‰ç…§keysè¿›è¡Œæ’åºï¼Œå¹¶æŒ‰å¯¹åº”å…³ç³»è¿”å›åŸlistçš„ç›¸åº”å…ƒç´  è¦è¿›è¡Œåå‘æ’åºå¯ä»¥ä¼ å…¥ç¬¬ä¸‰ä¸ªå‚æ•°reverse=True 1234567891011def by_name(t): return t[0] #æŒ‰å§“åå­—æ¯é¡ºåºæ’åºdef by_score(t): return -t[1] #æŒ‰åˆ†æ•°é™åºæ’åºL = [(&#x27;Bob&#x27;, 75), (&#x27;Adam&#x27;, 92), (&#x27;Bart&#x27;, 66), (&#x27;Lisa&#x27;, 88)]L1 = sorted(L, key=by_name)L2 = sorted(L, key=by_score)print(L1)print(L2) è¿”å›å‡½æ•° å‡½æ•°ä½œä¸ºè¿”å›å€¼çš„å‡½æ•° â€œé—­åŒ…â€ç¨‹åºç»“æ„ï¼šç›¸å…³å‚æ•°å’Œå˜é‡éƒ½åŒ…å«åœ¨è¿”å›çš„å‡½æ•°ä¸­ è¿”å›çš„å‡½æ•°ä¸ä¼šè¢«ç«‹åˆ»æ‰§è¡Œï¼Œè€Œæ˜¯ç›´åˆ°è°ƒç”¨äº†æ‰æ‰§è¡Œ è¿”å›é—­åŒ…æ—¶ç‰¢è®°ä¸€ç‚¹ï¼šè¿”å›å‡½æ•°ä¸è¦å¼•ç”¨ä»»ä½•å¾ªç¯å˜é‡ï¼Œæˆ–è€…åç»­ä¼šå‘ç”Ÿå˜åŒ–çš„å˜é‡ æœ‰å•¥åµç”¨ï¼šä¿å­˜å½“å‰çš„è¿è¡Œç¯å¢ƒã€‚è¢«å¼•ç”¨çš„è‡ªç”±å˜é‡ä¸å‡½æ•°åŒåœ¨ï¼Œå³ä½¿ç¦»å¼€äº†åˆ›é€ å®ƒçš„ç¯å¢ƒä¹Ÿä¸ä¾‹å¤– å°†å¤–éƒ¨å‡½æ•°çš„å˜é‡ä¸å†…éƒ¨å‡½æ•°ç»‘å®š åŒ¿åå‡½æ•° å…³é”®å­—lambdaè¡¨ç¤ºåŒ¿åå‡½æ•°ï¼Œå†’å·å‰çš„xè¡¨ç¤ºå‡½æ•°å‚æ•° 1234lambda x : x * x#ç›¸å½“äºdef f(x): return x * x åªèƒ½æœ‰ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œä¸ç”¨å†™returnï¼Œè¿”å›å€¼å°±æ˜¯è¯¥è¡¨è¾¾å¼çš„ç»“æœ å¥½å¤„ï¼šæ²¡æœ‰åå­—ï¼Œä¸ç”¨æ‹…å¿ƒå’Œå…¶ä»–å‡½æ•°åå†²çª åŒ¿åå‡½æ•°ä¹Ÿæ˜¯å‡½æ•°å¯¹è±¡ï¼Œå¯ä»¥æŠŠåŒ¿åå‡½æ•°èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œå†åˆ©ç”¨å˜é‡æ¥è°ƒç”¨è¯¥å‡½æ•°ã€æœ‰æ¯’å—ï¼Œä¸èƒ½ç›´æ¥defå— åŒ¿åå‡½æ•°ä¹Ÿå¯ä»¥ä½œä¸ºè¿”å›å€¼è¿”å› 1L = list(filter((lambda x : x%2==1), range(1,20))) è£…é¥°å™¨ å‡½æ•°å¯¹è±¡æœ‰ä¸ª__name__å±æ€§ï¼Œå¯ä»¥è·å¾—å‡½æ•°çš„åå­— åœ¨ä»£ç è¿è¡ŒæœŸé—´åŠ¨æ€å¢åŠ å‡½æ•°çš„åŠŸèƒ½çš„æ–¹å¼æˆä¸ºè£…é¥°å™¨(decorator) 123456789101112131415import functoolsdef log(func): @functools.wraps(func) # æŠŠåŸå§‹å‡½æ•°çš„å±æ€§å¤åˆ¶åˆ°wrapper()å‡½æ•°ä¸­ def wrapper(*args, **kw): print(&#x27;call %s():&#x27; % func.__name__) # å…ˆæ‰“å°æ—¥å¿— return func(*args, **kw) # å†è°ƒç”¨åŸå‡½æ•° return wrapper@log # @è¯­æ³•ï¼Œç›¸å½“äºæ‰§è¡Œnow=log(now)def now(): print(&quot;2019-2-6&quot;)&gt;&gt;&gt; now()call now():2019-2-6 åå‡½æ•° æŠŠä¸€ä¸ªå‡½æ•°çš„æŸäº›å‚æ•°å›ºå®šä½(è®¾ç½®ä¸€ä¸ªå‚æ•°çš„é»˜è®¤å€¼)ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨è¿™ä¸ªæ–°çš„å‡½æ•° functools.partial(f,*args,**kw) 12int2 = functools.partial(int, base=2) #å›ºå®šè½¬åŒ–ä¸ºäºŒè¿›åˆ¶çš„å‡½æ•° æ¨¡å— ä¸€ä¸ª.pyæ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å— å¯ä»¥é¿å…å‡½æ•°åå’Œå˜é‡åå†²çª åŒ…ä¸‹çš„æ˜¯æ¨¡å—ï¼ŒåŒ…ä¸­å¿…åŒ…å«init.pyæ¨¡å— æ³¨æ„æ¨¡å—å‘½åä¸è¦ä¸pythonåŸæœ‰æ¨¡å—å†²çª æ¨¡å—åä¸ºåŒ…å.æ¨¡å—å ç±»ä¼¼äºCçš„åº“ æ ‡å‡†æ¨¡å—æ–‡ä»¶123456#!/usr/bin/env python3# -*- coding: utf-8 -*-&#x27; a test module &#x27;__author__ = &#x27;Michael Liao&#x27; ç¬¬ä¸€è¡Œï¼šæ ‡å‡†æ³¨é‡Šï¼Œè¡¨ç¤ºè¯¥æ–‡ä»¶å¯ä»¥ç›´æ¥åœ¨Unix/Linux/Macä¸Šè¿è¡Œ ç¬¬äºŒè¡Œï¼šæ ‡å‡†æ³¨é‡Šï¼Œè¡¨ç¤ºè¯¥æ–‡ä»¶æœ¬èº«ä½¿ç”¨æ ‡å‡†UTF-8ç¼–ç  ç¬¬å››è¡Œï¼šæ¨¡å—æ–‡æ¡£æ³¨é‡Šï¼Œä»»ä½•æ¨¡å—ä»£ç çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²éƒ½è¢«è§†ä¸ºæ¨¡å—çš„æ–‡æ¡£æ³¨é‡Š ç¬¬å…­è¡Œï¼šä½œè€…æ ‡æ³¨ï¼Œä½¿ç”¨__author__å˜é‡æŠŠä½œè€…å†™è¿›å» ä½¿ç”¨æ¨¡å— å¯¼å…¥æ¨¡å—ï¼šimport æ¨¡å—å å‡½æ•°å’Œå˜é‡çš„ä½œç”¨åŸŸ æ­£å¸¸çš„å‡½æ•°å’Œå˜é‡åæ˜¯å…¬å¼€çš„(public)ï¼Œå¯ä»¥ç›´æ¥è¢«å¼•ç”¨ ç±»ä¼¼__xxx__çš„å˜é‡æ˜¯ç‰¹æ®Šå˜é‡ï¼Œå¯ä»¥è¢«ç›´æ¥å¼•ç”¨ï¼Œä½†ä¸€èˆ¬ä¸å»ºè®®è¿™ä¹ˆåš ä¾‹å¦‚ï¼Œå¦‚æœè°ƒç”¨len()è¯•å›¾è·å–ä¸€ä¸ªå¯¹è±¡çš„é•¿åº¦ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨è¯¥ç±»çš„__len__æ–¹æ³• ç±»ä¼¼_xxxå’Œ__xxxçš„å‡½æ•°æˆ–å˜é‡æ˜¯éå…¬å¼€çš„(private)ï¼Œä¸åº”è¯¥è¢«å¼•ç”¨ï¼Œä½†æ˜¯Pythonä¸èƒ½å®Œå…¨é™åˆ¶å®ƒä»¬çš„å¼•ç”¨ å¤–éƒ¨ä¸éœ€è¦å¼•ç”¨çš„å‡½æ•°å’Œå˜é‡å…¨éƒ¨å®šä¹‰ä¸ºprivateï¼Œåªæœ‰å¤–éƒ¨éœ€è¦å¼•ç”¨çš„å‡½æ•°æ‰å®šä¹‰ä¸ºpublic å®‰è£…ç¬¬ä¸‰æ–¹æ¨¡å—1pip install [æ¨¡å—å] OOPç±»çš„å®šä¹‰12class Student(object):# Studentæ˜¯ç±»å ç±»åä¸€èˆ¬é¦–å­—æ¯å¤§å†™ æ‹¬å·ä¸­æ ‡æ˜äº†ä»å“ªä¸ªç±»ç»§æ‰¿ä¸‹æ¥ï¼Œæ‰€æœ‰ç±»æœ€ç»ˆéƒ½ç»§æ‰¿è‡ªobject(åŒJava) å®ä¾‹ åˆ›å»ºå®ä¾‹ï¼šç±»å+()ï¼Œå¦‚bart = Student() å¯ä»¥è‡ªç”±åœ°ç»™ä¸€ä¸ªå®ä¾‹å˜é‡ç»‘å®šå±æ€§ å®ä¾‹çš„åˆå§‹åŒ–å¯ä»¥ä½¿ç”¨__init__å‡½æ•° å°†ä¸€äº›å¿…é¡»ç»‘å®šçš„å±æ€§å†™ä¸Šå» __init__æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ°¸è¿œæ˜¯selfï¼Œéœ€è¦å£°æ˜ä½†æ— éœ€ä¼ é€’(ç±»ä¼¼äºCçš„this) ä¸å°±æ˜¯æ„é€ å‡½æ•°å—123456class Student(object): def __init__(self, name, score): self.name = name self.score = score# åˆ›å»ºå®ä¾‹bart = Student(&#x27;Bart Simpson&#x27;,59) å®šä¹‰æ–¹æ³•é™¤äº†ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯selfå¤–ï¼Œä¸å®šä¹‰å‡½æ•°æ— å¼‚ è®¿é—®é™åˆ¶ ç§æœ‰å˜é‡ï¼šåç§°å‰åŠ ä¸¤ä¸ªä¸‹åˆ’çº¿__xxxï¼Œå¤–éƒ¨æ— æ³•è®¿é—®(å…¶å®åªæ˜¯Pythonè§£é‡Šå™¨æŠŠå®ƒè§£é‡Šä¸ºäº†å¦ä¸€ä¸ªåå­—) å•ä¸‹åˆ’çº¿å®ä¾‹å˜é‡å:â€œè™½ç„¶æˆ‘å¯ä»¥è¢«è®¿é—®ï¼Œä½†æ˜¯ï¼Œè¯·æŠŠæˆ‘è§†ä¸ºç§æœ‰å˜é‡ï¼Œä¸è¦éšæ„è®¿é—®â€ ç»§æ‰¿å’Œå¤šæ€ åŸºæœ¬ç±»ä¼¼Javaçš„ç»§æ‰¿ å­ç±»ç»§æ‰¿çˆ¶ç±»çš„æ–¹æ³• å­ç±»å’Œçˆ¶ç±»å¯ä»¥æœ‰ç›¸åŒçš„æ–¹æ³•ï¼Œä½†å­ç±»çš„æ–¹æ³•ä¼šè¦†ç›–çˆ¶ç±»çš„æ–¹æ³• â€œé¸­å­ç±»å‹â€ï¼šä¸€ä¸ªå¯¹è±¡åªè¦â€œçœ‹èµ·æ¥åƒé¸­å­ï¼Œèµ°èµ·è·¯æ¥åƒé¸­å­â€ï¼Œå°±å¯ä»¥è¢«çœ‹æˆé¸­å­ ä¸è¦æ±‚ä¸¥æ ¼çš„ç»§æ‰¿ä½“ç³»ï¼Œè°ƒç”¨æ–¹æ³•æ—¶åªè¦ä¿è¯å¯¹è±¡æœ‰è¿™æ ·çš„æ–¹æ³• è·å–å¯¹è±¡ä¿¡æ¯ type()å‡½æ•°ï¼šåˆ¤æ–­å¯¹è±¡ã€å‡½æ•°ç±»å‹ï¼Œè¿”å›å¯¹åº”çš„Classç±»å‹ï¼Œå¯ä»¥ç”¨ifè¯­å¥æ¯”è¾ƒä¸¤ä¸ªå˜é‡çš„ç±»å‹æ˜¯å¦ç›¸åŒ åˆ¤æ–­åŸºæœ¬æ•°æ®ç±»å‹å¯ä»¥ç›´æ¥å†™intï¼Œstrç­‰ åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯å‡½æ•°å¯ä»¥ä½¿ç”¨typesæ¨¡å—ä¸­å®šä¹‰çš„å¸¸é‡1234567891011121314&gt;&gt;&gt; type(123) == intTrue&gt;&gt;&gt; import types&gt;&gt;&gt; def fn():... pass...&gt;&gt;&gt; type(fn) == types.FunctionTypeTrue&gt;&gt;&gt; type(abs) == types.BuiltinFunctionTypeTrue&gt;&gt;&gt; type(lambda x : x) == types.LambdaTypeTrue&gt;&gt;&gt; type((x for x in range(10))) == types.GeneratorTypeTrue isinstance()å¯ä»¥ç”¨æ¥åˆ¤æ–­ç»§æ‰¿å…³ç³» èƒ½ç”¨type()åˆ¤æ–­çš„åŸºæœ¬ç±»å‹ä¹Ÿå¯ä»¥ç”¨isinstance()åˆ¤æ–­ ä¼˜å…ˆä½¿ç”¨isinstance() dir()å¯ä»¥è·å¾—ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªåŒ…å«å­—ç¬¦ä¸²çš„list 12&gt;&gt;&gt; dir(&#x27;ABC&#x27;)[&#x27;__add__&#x27;, &#x27;__class__&#x27;,..., &#x27;__subclasshook__&#x27;, &#x27;capitalize&#x27;, &#x27;casefold&#x27;,..., &#x27;zfill&#x27;] é…åˆgetattr()ï¼Œsetattr()å’Œhasattr()å¯ä»¥ç›´æ¥æ“ä½œä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€12345678910111213141516171819202122&gt;&gt;&gt; hasattr(obj, &#x27;x&#x27;) # æœ‰å±æ€§&#x27;x&#x27;å—ï¼ŸTrue&gt;&gt;&gt; obj.x9&gt;&gt;&gt; hasattr(obj, &#x27;y&#x27;) # æœ‰å±æ€§&#x27;y&#x27;å—ï¼ŸFalse&gt;&gt;&gt; setattr(obj, &#x27;y&#x27;, 19) # è®¾ç½®ä¸€ä¸ªå±æ€§&#x27;y&#x27;&gt;&gt;&gt; hasattr(obj, &#x27;y&#x27;) # æœ‰å±æ€§&#x27;y&#x27;å—ï¼ŸTrue&gt;&gt;&gt; getattr(obj, &#x27;y&#x27;) # è·å–å±æ€§&#x27;y&#x27;19&gt;&gt;&gt; obj.y # è·å–å±æ€§&#x27;y&#x27;19&gt;&gt;&gt; hasattr(obj, &#x27;power&#x27;) # æœ‰å±æ€§&#x27;power&#x27;å—ï¼ŸTrue&gt;&gt;&gt; getattr(obj, &#x27;power&#x27;) # è·å–å±æ€§&#x27;power&#x27;&lt;bound method MyObject.power of &lt;__main__.MyObject object at 0x10077a6a0&gt;&gt;&gt;&gt;&gt; fn = getattr(obj, &#x27;power&#x27;) # è·å–å±æ€§&#x27;power&#x27;å¹¶èµ‹å€¼åˆ°å˜é‡fn&gt;&gt;&gt; fn # fnæŒ‡å‘obj.power&lt;bound method MyObject.power of &lt;__main__.MyObject object at 0x10077a6a0&gt;&gt;&gt;&gt;&gt; fn() # è°ƒç”¨fn()ä¸è°ƒç”¨obj.power()æ˜¯ä¸€æ ·çš„81 åªæœ‰åœ¨ä¸çŸ¥é“å¯¹è±¡å…·ä½“ä¿¡æ¯æ—¶ï¼Œæ‰ä¼šå»è·å–å¯¹è±¡çš„ä¿¡æ¯1234567 #æ­£ç¡®ç”¨æ³• def readImage(fp):if hasattr(fp, &#x27;read&#x27;): return readData(fp)return None# å‡è®¾æˆ‘ä»¬å¸Œæœ›ä»æ–‡ä»¶æµfpä¸­è¯»å–å›¾åƒ# æˆ‘ä»¬é¦–å…ˆè¦åˆ¤æ–­è¯¥fpå¯¹è±¡æ˜¯å¦å­˜åœ¨readæ–¹æ³• å®ä¾‹å±æ€§å’Œç±»å±æ€§ ç»™å®ä¾‹ç»‘å®šå±æ€§ï¼šé€šè¿‡å®ä¾‹å˜é‡æˆ–selfå˜é‡ ç±»æœ¬èº«éœ€è¦ç»‘å®šå±æ€§ï¼šç›´æ¥åœ¨classä¸­å®šä¹‰ ç±»çš„æ‰€æœ‰å®ä¾‹éƒ½å¯ä»¥è®¿é—®ç±»å±æ€§1234567891011class Student(object): count = 0 def __init__(self, name): self.name = name Student.count += 1 # ç±»çš„å±æ€§å¢åŠ ä¸€ï¼Œè€Œéå®ä¾‹çš„å±æ€§self.countAbart = Student(&#x27;Bart&#x27;)print(Student.count)lisa = Student(&#x27;Lisa&#x27;)print(Student.count) slots å®ä¾‹å¯ä»¥ç»‘å®šå±æ€§å’Œæ–¹æ³• ç»‘å®šæ–¹æ³•éœ€è¦ä½¿ç”¨åˆ°typesæ¨¡å—ä¸­çš„MethodType`æ–¹æ³•12345&gt;&gt;&gt; from types import MethodType&gt;&gt;&gt; s.set_age = MethodType(set_age, s) # ç»™å®ä¾‹ç»‘å®šä¸€ä¸ªæ–¹æ³•&gt;&gt;&gt; s.set_age(25) # è°ƒç”¨å®ä¾‹æ–¹æ³•&gt;&gt;&gt; s.age # æµ‹è¯•ç»“æœ25 ä»¥ä¸Šæ–¹æ³•ç»‘å®šçš„æ–¹æ³•å¯¹å…¶ä»–çš„å®ä¾‹æ˜¯ä¸èµ·ä½œç”¨çš„ ç»™ç±»ç»‘å®šæ–¹æ³•å¯ä»¥ç»™æ‰€æœ‰å®ä¾‹ç»‘å®šæ–¹æ³•ï¼Œæ˜¯ä¸€ç§åŠ¨æ€ç»‘å®šï¼Œç»‘å®šåæ‰€æœ‰å®ä¾‹å‡å¯è°ƒç”¨ 1234&gt;&gt;&gt; def set_score(self, score):... self.score = score...&gt;&gt;&gt; Student.set_score = set_score ä½¿ç”¨__slots__å¯ä»¥é™åˆ¶å®ä¾‹çš„å±æ€§ ä»…å¯¹å½“å‰ç±»çš„å®ä¾‹èµ·ä½œç”¨ï¼Œå¯¹ç»§æ‰¿çš„å­ç±»æ˜¯ä¸èµ·ä½œç”¨çš„ å¦‚æœåœ¨å­ç±»ä¸­ä¹Ÿå®šä¹‰__slots__ï¼Œåˆ™å­ç±»å®ä¾‹å…è®¸å®šä¹‰çš„å±æ€§ = è‡ªèº«çš„__slots__ + çˆ¶ç±»çš„__slots__ @property @propertyæ˜¯è£…é¥°å™¨ï¼Œè´Ÿè´£æŠŠä¸€ä¸ªsetteræ–¹æ³•å˜æˆå±æ€§èµ‹å€¼ 123456789101112class Student(object) @property def score(self): return self._score # getterå±æ€§ @score.setter def score(self, value): # setterå±æ€§ if not isinstance(value, int): raise ValueError(&#x27;score must be an integer&#x27;) if value &lt; 0 or value &gt; 100: raise ValueError(&#x27;score must between 0 and 100&#x27;) self._score = value @propertyä½¿å¾—å¯¹å®ä¾‹å±æ€§æ“ä½œæ—¶ï¼Œé€šè¿‡getterå’Œsetteræ–¹æ³•æ¥å®ç° æ˜¯å®šä¹‰getteræ–¹æ³•å°±ç›¸å½“äºå®šä¹‰äº†ä¸€ä¸ªåªè¯»å±æ€§ å¤šé‡ç»§æ‰¿ ä¸€ä¸ªå­ç±»å¯ä»¥åŒæ—¶è·å¾—å¤šä¸ªçˆ¶ç±»çš„æ‰€æœ‰åŠŸèƒ½ 12class Dog(Mammal, Runnable): pass MixIn:é™¤ä¸»çº¿ä¹‹å¤–çš„ç»§æ‰¿å…³ç³» ä¸ºäº†æ›´å¥½åœ°çœ‹å‡ºç»§æ‰¿å…³ç³»ï¼Œå¯ä»¥æŠŠä¸»çº¿å¤–çš„ç»§æ‰¿ç±»å‘½åä¸ºxxxMixInï¼Œå¦‚RunnableMixIn è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬ä¸éœ€è¦å¤æ‚è€Œåºå¤§çš„ç»§æ‰¿é“¾ï¼Œåªè¦é€‰æ‹©ç»„åˆä¸åŒçš„ç±»çš„åŠŸèƒ½ï¼Œå°±å¯ä»¥å¿«é€Ÿæ„é€ å‡ºæ‰€éœ€çš„å­ç±» Javaæ˜¯åªå…è®¸å•ä¸€ç»§æ‰¿çš„ï¼Œä¸å…è®¸MixInçš„ç»§æ‰¿ å®šåˆ¶ç±»ä¸Šæ–‡æåˆ°çš„ __len__æ–¹æ³•èƒ½è®©classä½œç”¨äºlen()å‡½æ•°ï¼Œå°±æ˜¯ä¸€ç§å®šåˆ¶ç±»çš„æ–¹æ³• str __str__æ–¹æ³•å¯ä»¥æ”¹å˜ç±»çš„å®ä¾‹çš„æ‰“å°æ–¹å¼ï¼Œç±»ä¼¼äºJavaçš„toString 12345678class Student(object): def __init__(self): self.name = name def __str__(self): return &#x27;Student object (name: %s)&#x27; % self.name&gt;&gt;&gt; print(Student(&#x27;Michael&#x27;))Student object (name: Michael) repr __repr__æ–¹æ³• ç›´æ¥æ˜¾ç¤ºå˜é‡è°ƒç”¨(åœ¨äº¤äº’æ¨¡å¼ä¸‹æ•²å‡ºå˜é‡å) __str__()æ–¹æ³•è¿”å›ç”¨æˆ·çœ‹åˆ°çš„å­—ç¬¦ä¸²ï¼Œ__repr__()è¿”å›ç¨‹åºå¼€å‘è€…çœ‹åˆ°çš„å­—ç¬¦ä¸²ï¼Œä¸ºè°ƒè¯•æœåŠ¡ é€šå¸¸__str__()å’Œ__repr__()ä»£ç éƒ½æ˜¯ä¸€æ ·çš„ï¼Œæœ‰ä¸ªå·æ‡’çš„å†™æ³• 123def __str__(self): pass__repr__ = __str__ iter __iter__æ–¹æ³•è¿”å›ä¸€ä¸ªè¿­ä»£å¯¹è±¡ï¼Œè®©ç±»å¯ä»¥è¢«ç”¨ç”¨äºfor ... inå¾ªç¯ é…åˆ__next__æ–¹æ³•ï¼Œforå¾ªç¯ä¼šä¸æ–­è°ƒç”¨è¯¥è¿­ä»£å¯¹è±¡çš„__next__()æ–¹æ³•å¾—åˆ°å¾ªç¯çš„ä¸‹ä¸€ä¸ªå€¼ï¼Œç›´åˆ°é‡åˆ°StopIterationé”™è¯¯é€€å‡ºå¾ªç¯ 1234567891011121314151617181920212223class Fib(object): def __init__(self): self.a,self.b = 0,1 def __iter__(self): return self def __next__(self): self.a,self.b = self.b, self.a+self.b if self.a &gt; 100000: raise StopInteration() return self.a &gt;&gt;&gt; for n in Fib(): print(n) 1 1 2 3 5 ... 46368 75025 getitem __getitem__æ–¹æ³•ä½¿ç±»å¯ä»¥åƒlisté‚£æ ·æ ¹æ®ä¸‹æ ‡å–å‡ºå…ƒç´  123456789101112131415161718192021222324252627class Fib(object): def __getitem__(self, n): if(isinstance(n, int)): # næ˜¯ç´¢å¼• a,b = 1,1 for x in range(1, n): a,b = b,a+b return a if(isinstance(n, slice)): # næ˜¯åˆ‡ç‰‡ start = n.start stop = n.start if start is None: start = 0 a,b = 1,1 L = [] for x in range(stop): if x &gt;= start: L.append(a) a,b = b,a+b return L&gt;&gt;&gt; f = Fib()&gt;&gt;&gt; f[0]1&gt;&gt;&gt; f[100]573147844013817084101&gt;&gt;&gt; f[0:5][1, 1, 2, 3, 5] ä»¥ä¸Š__getitem__()æ–¹æ³•æ²¡æœ‰å¯¹æ­¥é•¿å’Œè´Ÿæ•°åšå¤„ç†ï¼Œå› æ­¤è¦æ­£ç¡®å®ç°ä¸€ä¸ª__getitem__()è¿˜æ˜¯æœ‰å¾ˆå¤šå·¥ä½œè¦åšçš„ å¦‚æœæŠŠå¯¹è±¡çœ‹æˆdictï¼Œ__getitem__()çš„å‚æ•°ä¹Ÿå¯èƒ½æ˜¯ä¸€ä¸ªå¯ä»¥ä½œkeyçš„objectï¼Œä¾‹å¦‚strï¼Œä¸ä¹‹å¯¹åº”çš„è¿˜æœ‰__setitem__å’Œ__delitem__ getattr __getattr__æ–¹æ³•èƒ½å¤ŸåŠ¨æ€è¿”å›ä¸€ä¸ªå±æ€§ï¼Œå½“è°ƒç”¨ä¸å­˜åœ¨çš„å±æ€§æ—¶ï¼Œä¼šè¯•å›¾è°ƒç”¨__getattr__(self,å±æ€§)æ¥å°è¯•è·å¾—å±æ€§ åªæœ‰åœ¨æ²¡æœ‰æ‰¾åˆ°å±æ€§çš„æƒ…å†µä¸‹æ‰ä¼šè°ƒç”¨__getattr__ï¼Œå·²æœ‰çš„å±æ€§æ˜¯ç›´æ¥è·å–çš„ 123456class Student(object):def __getattr__(self, attr): if attr==&#x27;age&#x27;: return lambda: 25 raise AttributeError(&#x27;\\&#x27;Student\\&#x27; object has no attribute \\&#x27;%s\\&#x27;&#x27; % attr) call __call__ä½¿å®ä¾‹è‡ªèº«èƒ½è¢«å½“ä½œå‡½æ•°è°ƒç”¨ 12345678910class Student(object): def __init__(self, name): self.name = name def __call__(self): print(&#x27;My name is %s.&#x27; % self.name)&gt;&gt;&gt; s = Student(&#x27;Michael&#x27;)&gt;&gt;&gt; s()My name is Michael é€šè¿‡callableå‡½æ•°å¯ä»¥åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦èƒ½è¢«è°ƒç”¨ 12345678910&gt;&gt;&gt; callable(Student())True&gt;&gt;&gt; callable(max)True&gt;&gt;&gt; callable([1, 2, 3])False&gt;&gt;&gt; callable(None)False&gt;&gt;&gt; callable(&#x27;str&#x27;)False æšä¸¾ç±»Enum12from enum import EnumMonth = Enum(&#x27;Month&#x27;, (&#x27;Jan&#x27;, &#x27;Feb&#x27;, &#x27;Mar&#x27;, &#x27;Apr&#x27;, &#x27;May&#x27;, &#x27;Jun&#x27;, &#x27;Jul&#x27;, &#x27;Aug&#x27;, &#x27;Sep&#x27;, &#x27;Oct&#x27;, &#x27;Nov&#x27;, &#x27;Dec&#x27;)) è¿™æ ·å°±å¾—åˆ°äº†Monthç±»å‹çš„æšä¸¾ç±»ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨Month.Janæ¥å¼•ç”¨ä¸€ä¸ªå¸¸é‡ ä¹Ÿå¯ä»¥æšä¸¾è¯¥ç±»çš„æ‰€æœ‰æˆå‘˜ 12from name,member in Month.__members.items() print(name, &#x27;=&gt;&#x27;, member, &#x27;,&#x27;, member.value) valueå±æ€§æ˜¯è‡ªåŠ¨èµ‹ç»™intå¸¸é‡ï¼Œé»˜è®¤ä»1å¼€å§‹è®¡æ•°(å±…ç„¶ä¸æ˜¯ä»0å¼€å§‹) ä»Enumæ´¾ç”Ÿè‡ªå®šä¹‰ç±»å¯ä»¥ç²¾ç¡®æ§åˆ¶æšä¸¾ç±»å‹ 12345678910111213141516from enum import Enum@unique #è£…é¥°å™¨ï¼Œå¸®å¿™æ£€æŸ¥æœ‰æ— é‡å¤å€¼class Weekday(Enum): # Enumçš„å­ç±» Sun = 0 Mon = 1 Tue = 2 Wed = 3 Thu = 4 Fri = 5 Sat = 6# è®¿é—®Weekday.MonWeekday[&#x27;Tue&#x27;]Weekday(1) type()å‡½æ•° åŠ¨æ€è¯­è¨€çš„å‡½æ•°å’Œç±»ä¸æ˜¯ç¼–è¯‘æ—¶å®šä¹‰çš„ï¼Œè€Œæ˜¯è¿è¡Œæ—¶åŠ¨æ€åˆ›å»ºçš„ type()å‡½æ•°å¯ä»¥æŸ¥çœ‹ä¸€ä¸ªç±»å‹æˆ–å˜é‡çš„ç±»å‹ type()å‡½æ•°å¯ä»¥åˆ›å»ºå‡ºæ–°çš„ç±»å‹ï¼Œè€Œæ— éœ€é€šè¿‡classå®šä¹‰ 123456def fn(self, name=&#x27;world&#x27;): print(&#x27;Hello, %s.&#x27; % name)Hello = type(&#x27;Hello&#x27;, (object,), dict(hello=fn)) #åˆ›å»ºHelloç±»&gt;&gt;&gt; h = Hello()&gt;&gt;&gt; h.hello()Hello, world. type()å‡½æ•°éœ€ä¾æ¬¡ä¼ å…¥3ä¸ªå‚æ•° classçš„åç§° ç»§æ‰¿çš„çˆ¶ç±»çš„é›†åˆï¼Œæ³¨æ„å•å…ƒç´ tupleçš„å†™æ³• classçš„æ–¹æ³•åç§°ä¸å‡½æ•°ç»‘å®š metaclass()å‡½æ•° å…ˆå®šä¹‰metaclass(å…ƒç±»)ï¼Œå°±å¯ä»¥åˆ›å»ºç±»ï¼Œç„¶ååˆ›å»ºå®ä¾‹ å¯ä»¥æŠŠç±»çœ‹æˆmetaclassåˆ›å»ºå‡ºæ¥çš„å®ä¾‹ metaclassæ­£å¸¸æƒ…å†µä¸‹ä¸ä¼šç”¨åˆ°æ‰€ä»¥çœ‹ä¸æ‡‚ä¹Ÿæ²¡å…³ç³» 123456789# metaclassæ˜¯ç±»çš„æ¨¡æ¿ï¼Œæ‰€ä»¥å¿…é¡»ä»`type`ç±»å‹æ´¾ç”Ÿï¼šclass ListMetaclass(type): def __new__(cls, name, bases, attrs): attrs[&#x27;add&#x27;] = lambda self, value: self.append(value) return type.__new__(cls, name, bases, attrs)# ä½¿ç”¨metaclasså®šåˆ¶ç±»class MyList(list, metaclass=ListMetaclass): pass åˆ›å»ºMylistæ—¶ï¼Œé€šè¿‡ListMetaclass.__new__()æ¥åˆ›å»º å¯ä»¥ç”¨æ¥ä¿®æ”¹ç±»çš„å®šä¹‰ï¼Œä¾‹å¦‚åŠ ä¸Šæ–°çš„æ–¹æ³•(æ ·ä¾‹ä¸­åœ¨MyListç±»ä¸­å¢åŠ äº†addæ–¹æ³•) __new__()æ–¹æ³•æ¥æ”¶çš„å‚æ•°ä¾æ¬¡æ˜¯ å½“å‰å‡†å¤‡åˆ›å»ºçš„ç±»çš„å¯¹è±¡ ç±»çš„åå­— ç±»ç»§æ‰¿çš„çˆ¶ç±»çš„é›†åˆ ç±»çš„æ–¹æ³•çš„é›†åˆ åº”ç”¨ä¸Šä¸SQLç›¸ç»“åˆçš„è¾ƒå¤šï¼Œç­‰ç”¨åˆ°çš„æ—¶å€™å†çœ‹äº† é”™è¯¯ã€è°ƒè¯•å’Œæµ‹è¯•try å½“æˆ‘ä»¬è®¤ä¸ºæŸäº›ä»£ç å¯èƒ½ä¼šå‡ºé”™æ—¶ï¼Œå¯ä»¥ç”¨tryæ¥è¿è¡Œè¿™æ®µä»£ç  å¦‚æœå‡ºé”™ï¼Œåç»­ä»£ç ä¸ä¼šç»§ç»­æ‰§è¡Œï¼Œè€Œæ˜¯ç›´æ¥è·³è½¬è‡³é”™è¯¯å¤„ç†ä»£ç  12345678910try: print(&#x27;try...&#x27;) r = 10 / 0 print(&#x27;result:&#x27;, r)# é”™è¯¯å¤„ç†ä»£ç except ZeroDivisionError as e: # å¯ä»¥æœ‰å¤šä¸ªexcept print(&#x27;except:&#x27;, e)finally: # finallyæ— è®ºå¦‚ä½•éƒ½ä¼šè¢«æ‰§è¡Œï¼Œè¡¨ç¤ºæ‰§è¡Œç»“æŸ print(&#x27;finally...&#x27;)print(&#x27;END&#x27;) exceptåå¯åŠ elseè¯­å¥å—ï¼Œå½“æ²¡æœ‰é”™è¯¯å‘ç”Ÿæ—¶ä¼šæ‰§è¡Œelseè¯­å¥å— try...exceptå¯ä»¥è·¨è¶Šå¤šå±‚è°ƒç”¨ï¼Œè¢«è°ƒç”¨è€…å‡ºé”™ï¼Œè°ƒç”¨è€…ä¹Ÿèƒ½æ•æ‰åˆ° Pythonçš„é”™è¯¯ä¹Ÿæ˜¯ç±»ï¼Œæ‰€æœ‰é”™è¯¯ç±»å‹éƒ½ç»§æ‰¿è‡ªBaseException å¸¸è§çš„é”™è¯¯ç±»å‹å’Œç»§æ‰¿ç±»å‹ è®°å½•é”™è¯¯ pythonæœ‰å†…ç½®çš„loggingæ¨¡å—ï¼Œå¯ä»¥è®°å½•é”™è¯¯ä¿¡æ¯ ç¨‹åºæ‰“å°å®Œé”™è¯¯ä¿¡æ¯åä¼šç»§ç»­æ‰§è¡Œå¹¶æ­£å¸¸é€€å‡º 1234try: bar(&#x27;0&#x27;) except Exception as e: logging.exception(e) æŠ›å‡ºé”™è¯¯ æ ¹æ®éœ€è¦ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªé”™è¯¯çš„ç±»ï¼Œé€‰æ‹©å¥½ç»§æ‰¿å…³ç³»ï¼Œç”¨raiseè¯­å¥æŠ›å‡ºä¸€ä¸ªé”™è¯¯çš„å®ä¾‹ åªæœ‰åœ¨å¿…è¦çš„æ—¶å€™æ‰å®šä¹‰æˆ‘ä»¬è‡ªå·±çš„é”™è¯¯ç±»å‹ã€‚å¦‚æœå¯ä»¥é€‰æ‹©Pythonå·²æœ‰çš„å†…ç½®çš„é”™è¯¯ç±»å‹ï¼Œå°½é‡ä½¿ç”¨Pythonå†…ç½®çš„é”™è¯¯ç±»å‹ å½“å‰å‡½æ•°ä¸çŸ¥é“å¦‚ä½•å¤„ç†è¯¥é”™è¯¯æ—¶ï¼Œè¿˜å¯ä»¥åœ¨æ‰“å°é”™è¯¯åå†å¾€ä¸ŠæŠ›ï¼Œè®©é¡¶å±‚è°ƒç”¨è€…å»å¤„ç† raiseè¯­å¥å¦‚æœä¸å¸¦å‚æ•°ï¼Œå°±ä¼šå°†å½“å‰é”™è¯¯åŸæ ·æŠ›å‡º åœ¨exceptä¸­raiseä¸€ä¸ªErrorï¼Œå¯ä»¥å°†é”™è¯¯è½¬åŒ–æˆå¦ä¸€ç§ç±»å‹ è°ƒè¯• printè°ƒè¯•æ³• assertè°ƒè¯•æ³• 12assert n != 0, &#x27;n is zero!&#x27;# è¡¨è¾¾å¼åº”è¯¥ä¸ºTrueï¼Œå¦åˆ™è¾“å‡ºAssertionError+åæ¥çš„å­—ç¬¦ä¸² å¯åŠ¨pythonè§£é‡Šå™¨æ—¶å¯ä»¥ç”¨-Oå‚æ•°æ¥å…³é—­assert logè°ƒè¯•æ³•(Pythonç®¡è¿™å«logging) 1234import logginglogging.basicConfig(level=logging.INFO) # é…ç½®logging.info(&#x27;n = %d&#x27; % n) # logging.info: è¾“å‡ºä¿¡æ¯ å¯ä»¥æŒ‡å®šDEBUG&gt;INFO&gt;WARNING&gt;ERRORå‡ ä¸ªä¸åŒçº§åˆ«(level)çš„ä¿¡æ¯ï¼Œçº§åˆ«è¶Šé«˜è¶Šå…ˆè¢«å±è”½ï¼Œe.g.level=INFOæ—¶DEBUGçš„loggingå°±ä¸èµ·ä½œç”¨äº† pdbè°ƒè¯•æ³•(å‘½ä»¤åŒgdb) l: æŸ¥çœ‹ä»£ç  n: å•æ­¥æ‰§è¡Œ p å˜é‡å: æ‰“å°å˜é‡ c: ç»§ç»­æ‰§è¡Œ pdb.set_trace()åœ¨ç¨‹åºä¸­è®¾ç½®æ–­ç‚¹ï¼Œè¿è¡Œæ—¶ç¨‹åºä¼šè‡ªåŠ¨æš‚åœå¹¶è¿›å…¥pdb 123456import pdbs = &#x27;0&#x27;n = int(s)pdb.set_trace() # è¿è¡Œåˆ°è¿™é‡Œä¼šè‡ªåŠ¨æš‚åœprint(10 / n) PyCharmè°ƒè¯•æ³• I/Oæ–‡ä»¶è¯»å†™è¯»æ–‡ä»¶1234f = open(&#x27;/path/to/file&#x27;, &#x27;r&#x27;)# å¤±è´¥æ—¶ä¼šè¿”å›IOErrorf.read() #ä¸€æ¬¡æ€§è¯»å–å…¨éƒ¨å†…å®¹åˆ°å†…å­˜ï¼Œç”¨ä¸€ä¸ªstrå¯¹è±¡è¡¨ç¤ºf.close() #å…³é—­æ–‡ä»¶ï¼Œå›æ”¶èµ„æº ä¸ºäº†ä¿è¯æ— è®ºæ˜¯å¦å‡ºé”™éƒ½èƒ½æ­£ç¡®åœ°å…³é—­æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨try ... finallyæ¥å®ç°ï¼š 123456try: f = open(&#x27;/path/to/file&#x27;, &#x27;r&#x27;) print(f.read())finally: if f: f.close() å«Œé•¿å¯ä»¥ç®€åŒ–ä¸ºwithè¯­å¥123with open(&#x27;/path/to/file&#x27;, &#x27;r&#x27;) as f: print(f.read())#éšå¼è°ƒç”¨äº†f.close()ä¸æƒ³ä¸€æ¬¡è¯»å–æ‰€æœ‰æ–‡ä»¶ 123f.read(size) # è¯»å–ä¸€å®šsizeä¸ªå­—èŠ‚çš„å†…å®¹f.readline() # ä¸€æ¬¡è¯»å–ä¸€è¡Œf.readlines() # ä¸€æ¬¡è¯»å–æ‰€æœ‰è¡Œå¹¶è¿”å›list è¿˜å¯ä»¥æœ‰æ•ˆé˜²æ­¢å†…å­˜çˆ†ç‚¸ å†…å­˜çš„å­—èŠ‚æµï¼Œç½‘ç»œæµï¼Œè‡ªå®šä¹‰æµç­‰ç­‰éƒ½æ˜¯file-like Objectï¼Œåªéœ€è¦å†™ä¸ªread()æ–¹æ³•å°±èƒ½ç”¨ äºŒè¿›åˆ¶æ–‡ä»¶éœ€è¦ç”¨&#39;rb&#39;æ¨¡å¼æ‰“å¼€ è¯»å–é»˜è®¤ä½¿ç”¨UTF-8ç¼–ç ï¼Œéœ€è¦ç¼–ç è½¬æ¢çš„æ—¶å€™è¦ç»™open()ä¼ å…¥encodingå‚æ•°,errorså‚æ•°è¡¨ç¤ºå‡ºç°é”™è¯¯åæ€ä¹ˆå¤„ç†ï¼Œä¸€èˆ¬é€‰æ‹©å¿½ç•¥ 1f = open(&#x27;/Users/michael/gbk.txt&#x27;, &#x27;r&#x27;, encoding=&#x27;gbk&#x27;,errors=&#x27;ignore&#x27;) å†™æ–‡ä»¶å’Œè¯»ä¸€æ ·ï¼ŒæŠŠræ”¹æˆw(è·ŸCä¹Ÿå·®ä¸å¤š) StringIOåœ¨å†…å­˜ä¸­è¯»å†™str 12345678910&gt;&gt;&gt; from io import StringIO&gt;&gt;&gt; f = StringIO() # åˆ›å»ºStringIOå¯¹è±¡&gt;&gt;&gt; f.write(&#x27;hello&#x27;)5&gt;&gt;&gt; f.write(&#x27; &#x27;)1&gt;&gt;&gt; f.write(&#x27;world!&#x27;)6&gt;&gt;&gt; print(f.getvalue()) #getvalue()ç”¨äºè·å¾—å†™å…¥åçš„strhello world! å¯ä»¥ç”¨ä¸€ä¸ªstråˆå§‹åŒ–StringIOï¼Œç„¶åï¼Œåƒè¯»æ–‡ä»¶ä¸€æ ·è¯»å– BytesIOæ“ä½œå†…å­˜ä¸­çš„äºŒè¿›åˆ¶æ•°æ® 123456&gt;&gt;&gt; from io import BytesIO&gt;&gt;&gt; f = BytesIO()&gt;&gt;&gt; f.write(&#x27;ä¸­æ–‡&#x27;.encode(&#x27;utf-8&#x27;))6&gt;&gt;&gt; print(f.getvalue())b&#x27;\\xe4\\xb8\\xad\\xe6\\x96\\x87 æ“ä½œç³»ç»Ÿå‘½ä»¤Pythonå†…ç½®çš„osæ¨¡å—å¯ä»¥ç›´æ¥è°ƒç”¨æ“ä½œç³»ç»Ÿæä¾›çš„æ¥å£å‡½æ•° æ–‡ä»¶åæ“ä½œåªå¯¹å­—ç¬¦ä¸²è¿›è¡Œï¼Œå¹¶ä¸è¦æ±‚æ–‡ä»¶çœŸå®å­˜åœ¨ shutilä¸­å¯ä»¥æ‰¾åˆ°å¾ˆå¤šå¯¹osçš„è¡¥å…… 1234567891011121314151617181920212223&gt;&gt;&gt; import os&gt;&gt;&gt; os.name #æŸ¥çœ‹æ“ä½œç³»ç»Ÿåç§°&gt;&gt;&gt; os.environ # æŸ¥çœ‹æ“ä½œç³»ç»Ÿä¸­æ‰€æœ‰çš„ç¯å¢ƒå˜é‡&gt;&gt;&gt; os.environ.get(&#x27;key&#x27;) # è·å–æŸä¸ªç¯å¢ƒå˜é‡çš„å€¼&gt;&gt;&gt; os.path.abspath(&#x27;.&#x27;) # æŸ¥çœ‹å½“å‰ç›®å½•çš„ç»å¯¹è·¯å¾„:&#x27;/Users/michael&#x27;&gt;&gt;&gt; os.path.join(&#x27;/Users/michael&#x27;, &#x27;testdir&#x27;)# åœ¨æŸä¸ªç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–°ç›®å½•ï¼Œé¦–å…ˆæŠŠæ–°ç›®å½•çš„å®Œæ•´è·¯å¾„è¡¨ç¤ºå‡ºæ¥:&#x27;/Users/michael/testdir&#x27;# ç„¶ååˆ›å»ºä¸€ä¸ªç›®å½•:&gt;&gt;&gt; os.mkdir(&#x27;/Users/michael/testdir&#x27;)# åˆ æ‰ä¸€ä¸ªç›®å½•:&gt;&gt;&gt; os.rmdir(&#x27;/Users/michael/testdir&#x27;)# æ‹†åˆ†è·¯å¾„ï¼ŒæŠŠå½“å‰æ–‡ä»¶åä¸ç›®å½•åˆ†å¼€&gt;&gt;&gt; os.path.split(&#x27;/Users/michael/testdir/file.txt&#x27;)(&#x27;/Users/michael/testdir&#x27;, &#x27;file.txt&#x27;)# æ‹†åˆ†æ–‡ä»¶æ‰©å±•å&gt;&gt;&gt; os.path.splitext(&#x27;/path/to/file.txt&#x27;)(&#x27;/path/to/file&#x27;, &#x27;.txt&#x27;)# å¯¹æ–‡ä»¶é‡å‘½å:&gt;&gt;&gt; os.rename(&#x27;test.txt&#x27;, &#x27;test.py&#x27;)# åˆ æ‰æ–‡ä»¶:&gt;&gt;&gt; os.remove(&#x27;test.py&#x27;) è¿‡æ»¤æ–‡ä»¶ä¸éƒ½æ˜¯ä¸€è¡Œå‘½ä»¤è¡Œå°±èƒ½æå®šçš„å— 1234&gt;&gt;&gt; [x for x in os.listdir(&#x27;.&#x27;) if os.path.isdir(x)][&#x27;.lein&#x27;, &#x27;.local&#x27;, &#x27;.m2&#x27;, &#x27;.npm&#x27;, &#x27;.ssh&#x27;, &#x27;.Trash&#x27;, &#x27;.vim&#x27;, &#x27;Applications&#x27;, &#x27;Desktop&#x27;, ...]&gt;&gt;&gt; [x for x in os.listdir(&#x27;.&#x27;) if os.path.isfile(x) and os.path.splitext(x)[1]==&#x27;.py&#x27;]`[&#x27;apis.py&#x27;, &#x27;config.py&#x27;, &#x27;models.py&#x27;, &#x27;pymonitor.py&#x27;, &#x27;test_db.py&#x27;, &#x27;urls.py&#x27;, &#x27;wsgiapp.py&#x27;] è¿˜æœ‰psutilæ¨¡å—æä¾›äº†å¯¹cpuä¿¡æ¯ã€å†…å­˜å’Œç£ç›˜ä½¿ç”¨ä¿¡æ¯çš„è®¿é—® åºåˆ—åŒ– æŠŠå˜é‡ä»å†…å­˜ä¸­å˜æˆå¯å­˜å‚¨æˆ–ä¼ è¾“çš„è¿‡ç¨‹å«ä½œåºåˆ—åŒ–(picking).åºåˆ—åŒ–ä¹‹åï¼Œå°±å¯ä»¥æŠŠåºåˆ—åŒ–åçš„å†…å®¹å†™å…¥ç£ç›˜ï¼Œæˆ–è€…é€šè¿‡ç½‘ç»œä¼ è¾“åˆ°åˆ«çš„æœºå™¨ä¸Šã€‚åè¿‡æ¥ï¼ŒæŠŠå˜é‡å†…å®¹ä»åºåˆ—åŒ–çš„å¯¹è±¡é‡æ–°è¯»åˆ°å†…å­˜é‡Œç§°ä¹‹ä¸ºååºåˆ—åŒ–ï¼Œå³unpicklingã€‚ ç”¨åˆ°äº†å†çœ‹å§","categories":[{"name":"Self-learning","slug":"Self-learning","permalink":"https://mengzelev.github.io/categories/Self-learning/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://mengzelev.github.io/tags/Python/"}]},{"title":"æ•°å­¦å»ºæ¨¡å‡ ç§å¸¸ç”¨ç®—æ³•","slug":"matlab-usage","date":"2019-01-19T08:41:45.000Z","updated":"2019-01-24T13:22:25.808Z","comments":true,"path":"2019/01/19/matlab-usage/","link":"","permalink":"https://mengzelev.github.io/2019/01/19/matlab-usage/","excerpt":"","text":"æ•°æ®æ‹Ÿåˆå¤šé¡¹å¼æ‹Ÿåˆ123456x = [...];y = [...];P = polyfit(x,y,n); % næ˜¯å¤šé¡¹å¼çš„æ¬¡æ•°xi = 0: .2 :10;yi = polyval(P, xi);plot(xi, yi, x, y, &#x27;r*&#x27;); è§„åˆ’çº¿æ€§è§„åˆ’æ ‡å‡†å‹\\min~c^Tx s.t. Ax\\le b 1[x,y] = linprog(c, -a, -b, [], [], zeros(3,1)) éçº¿æ€§è§„åˆ’123456[x,y] = fmincon(fun, x0, A, B, Aeq, Beq, LB, UB, [c,ceq], OPTIONS)% fun:ç›®æ ‡å‡½æ•°% x0:xçš„åˆå§‹æ¡ä»¶% A,B,Aeq,Beq:çº¿æ€§çº¦æŸæ¡ä»¶% LB,UB:ä¸Šä¸‹ç•Œ% [c,ceq]:.mæ–‡ä»¶å®šä¹‰çš„éçº¿æ€§çº¦æŸæ¡ä»¶,åˆ†åˆ«ä¸ºä¸ç­‰å¼ä¸ç­‰å¼çº¦æŸ äºŒæ¬¡è§„åˆ’1[x, fval] = quadprog(H, f, A, b, Aeq, Beq, LB, UB, X0, OPTIONS) æ•´æ•°è§„åˆ’ éšæšä¸¾æ³• éšæœºç®—æ³•(è’™ç‰¹å¡æ´›) åˆ†æå®šç•Œæ³• å…¶ä»–æ±‚è§£çº¦æŸæœ€ä¼˜åŒ–é—®é¢˜çš„å‡½æ•° fminbnd:å•å˜é‡éçº¿æ€§å‡½æ•°åœ¨åŒºé—´ä¸Šçš„æå°å€¼ fseminf fminimax:å‡½æ•°æ—çš„æå¤§æå°å€¼ ç°è‰²é¢„æµ‹GM(1,1)æ¨¡å‹é€‚ç”¨äºå…·æœ‰è¾ƒå¼ºæŒ‡æ•°è§„å¾‹çš„åºåˆ—ï¼Œåªèƒ½æè¿°å•è°ƒçš„å˜åŒ–è¿‡ç¨‹ï¼Œè€ŒVerhulstæ¨¡å‹åˆ™é€‚ç”¨äºéå•è°ƒçš„æ‘†åŠ¨å‘å±•åºåˆ—æˆ–å…·æœ‰é¥±å’ŒçŠ¶æ€çš„Så½¢åºåˆ—ã€‚åŸå§‹æ•°åˆ—$x^{(0)}$ï¼ŒAGOç´¯åŠ ç”Ÿæˆæ•°åˆ—$x^{(1)}$ï¼ŒåŠ æƒå‡å€¼æ•°åˆ—$z^{(0)}$ å…³è”åˆ†æå’Œä¼˜åŠ¿åˆ†æ æ ¹æ®bigger is betterå’Œsmaller is betteræ ‡å‡†å°†æ•°æ®åˆ†ç±»è¿›è¡Œåˆå§‹åŒ– æ ¹æ®å…¬å¼ç®—å…³è”ç³»æ•° æ ¹æ®å…³è”ç³»æ•°è®¡ç®—å…³è”åº¦ ç°è‰²é¢„æµ‹æ­¥éª¤ æ•°æ®çš„æ£€éªŒä¸å¤„ç†ï¼šè®¡ç®—çº§æ¯”ï¼Œè§†æƒ…å†µè¿›è¡Œå¿…è¦çš„å˜æ¢å¤„ç†ï¼Œä½¿å…¶è½å…¥å¯å®¹è¦†ç›–å†… å»ºç«‹æ¨¡å‹ $x^{(1)}=â€¦$å¯ä»¥å¾—åˆ°é¢„æµ‹å€¼ æ®‹å·®æ£€éªŒ çº§æ¯”åå·®æ£€éªŒ é¢„æµ‹é¢„æŠ¥ å¦ï¼šç¾å˜é¢„æµ‹å¯ä»¥æ„é€ ç¾å˜æ•°åˆ— é—ä¼ ç®—æ³• æ±‚è§£å¤šçº¦æŸå¤æ‚éçº¿æ€§è§„åˆ’é—®é¢˜ ç›´æ¥è°ƒåº“å§ï¼Œä¸å¯èƒ½çœ‹æ‡‚çš„ å±‚æ¬¡åˆ†ææ³•(Analytic Hierarchy Process) ç”¨äºè§£å†³è¾ƒä¸ºå¤æ‚ã€æ¨¡ç³Šã€éš¾äºå®šé‡åˆ†æçš„é—®é¢˜ å½“å½±å“å†³ç­–çš„å› ç´ è¾ƒå¤šä¸”è¾ƒä¸»è§‚æ—¶ åˆ†å±‚ã€æ„é€ çŸ©é˜µã€æ£€éªŒä¸€è‡´æ€§ å› ä¸ºåŸºæœ¬ä¸ŠåšEæˆ–Fé¢˜éƒ½ä¼šç”¨åˆ°ï¼Œæ‰€ä»¥è¯¦ç»†å±•å¼€ä¸€ä¸‹ åŸºæœ¬æ­¥éª¤ å»ºç«‹é€’é˜¶å±‚æ¬¡ç»“æ„æ¨¡å‹ï¼› æ„é€ å‡ºå„å±‚æ¬¡ä¸­çš„æ‰€æœ‰åˆ¤æ–­çŸ©é˜µï¼› å±‚æ¬¡å•æ’åºåŠä¸€è‡´æ€§æ£€éªŒï¼› å±‚æ¬¡æ€»æ’åºåŠä¸€è‡´æ€§æ£€éªŒã€‚ å±‚æ¬¡ç»“æ„çš„å»ºç«‹ æ„é€ åˆ¤æ–­çŸ©é˜µ å±‚æ¬¡å•æ’åºä¸€è‡´æ€§æ£€éªŒ åˆ¤æ–­çŸ©é˜µ$A$å¯¹åº”äºæœ€å¤§ç‰¹å¾å€¼$\\lambda_{max}$çš„ç‰¹å¾å‘é‡$W$ ï¼Œç»å½’ä¸€åŒ–åå³ä¸ºåŒä¸€å±‚æ¬¡ç›¸åº”å› ç´ å¯¹äºä¸Šä¸€å±‚æ¬¡æŸå› ç´ ç›¸å¯¹é‡è¦æ€§çš„æ’åºæƒå€¼ï¼Œè¿™ä¸€è¿‡ç¨‹ç§°ä¸ºå±‚æ¬¡å•æ’åº å¦‚æœæ¯”è¾ƒç»“æœæ˜¯å‰åå®Œå…¨ä¸€è‡´çš„ï¼Œåˆ™çŸ©é˜µ$A$çš„å…ƒç´ è¿˜åº”å½“æ»¡è¶³$a{ij}a{jk}=a_{ik}$ï¼Œæ­¤æ—¶çŸ©é˜µ$A$æˆä¸ºä¸€è‡´çŸ©é˜µ $n$é˜¶æ­£äº’åçŸ©é˜µ$A$ä¸ºä¸€è‡´çŸ©é˜µå½“ä¸”ä»…å½“å…¶æœ€å¤§ç‰¹å¾æ ¹$\\lambda{max}=n$ï¼Œä¸”å½“æ­£äº’åçŸ©é˜µ$A$éä¸€è‡´æ—¶ï¼Œå¿…æœ‰$\\lambda{max}&gt;n$ ä¸€è‡´æ€§æ£€éªŒæ­¥éª¤ è®¡ç®—ä¸€è‡´æ€§æŒ‡æ ‡$CI=\\frac{\\lambda_{max}-n}{n-1}$ æŸ¥æ‰¾ç›¸åº”çš„å¹³å‡éšæœºä¸€è‡´æ€§æŒ‡æ ‡$RI$ è®¡ç®—ä¸€è‡´æ€§æ¯”ä¾‹$CR=\\frac{CR}{CI}$ $CR&lt;0.10$æ—¶ï¼Œè®¤ä¸ºåˆ¤æ–­çŸ©é˜µçš„ä¸€è‡´æ€§æ˜¯å¯ä»¥æ¥å—çš„ï¼Œå¦åˆ™åº”å¯¹åˆ¤æ–­çŸ©é˜µä½œé€‚å½“ä¿®æ­£ å±‚æ¬¡æ€»æ’åºä¸€è‡´æ€§æ£€éªŒè®¾Aå±‚(ä¸Šä¸€å±‚æ¬¡)åŒ…å«$A1,â€¦A_m$å…±$m$ä¸ªå› ç´ ï¼Œå±‚æ¬¡æ€»æ’åºæƒé‡åˆ†åˆ«ä¸º$a_1,â€¦a_m$ï¼Œåˆè®¾å…¶åçš„ä¸‹ä¸€å±‚æ¬¡Bå±‚åŒ…å«$n$ä¸ªå› ç´ $B_1,â€¦B_n$ï¼Œå®ƒä»¬å…³äº$A_j$çš„å±‚æ¬¡å•æ’åºæƒé‡åˆ†åˆ«ä¸º$b{1j},â€¦b{nj}$(å½“$B_i$ä¸$A_j$æ— å…³æ—¶ï¼Œ$b{ij}=0$)ã€‚ç°æ±‚$B$å±‚ä¸­å„å› ç´ å…³äºæ€»ç›®æ ‡çš„æƒé‡ï¼Œå³æ±‚$B$å±‚ä¸ªå› ç´ çš„å±‚æ¬¡æ€»æ’åºæƒé‡$b1,â€¦,b_n$ã€‚$B$å±‚å„å› ç´ çš„å±‚æ¬¡æ€»æ’åºæƒé‡$b_i=\\sum\\limits{j=1}^{m}b{ij}a{j}$Bå±‚æ€»æ’åºéšæœºä¸€è‡´æ€§æ¯”ä¾‹CR=\\frac{\\sum\\limits_{j=1}^{m}CI(j)a_j}{\\sum\\limits_{j=1}^{m}RI(j)a_j}$CR&lt;0.10$æ—¶è®¤ä¸ºå±‚æ¬¡æ€»æ’åºå…·æœ‰è¾ƒæ»¡æ„çš„ä¸€è‡´æ€§å¹¶æ¥å—è¯¥åˆ†æç»“æœ æ–¹å·®åˆ†æ(ANOVA) åˆç§°Fæ£€éªŒ ç”¨æ•°ç†ç»Ÿè®¡åˆ†æè¯•éªŒç»“æœã€é‰´åˆ«å„å› ç´ å¯¹ç»“æœå½±å“ç¨‹åº¦çš„æ–¹æ³• å•å› ç´ æ–¹å·®åˆ†æ ä»»åŠ¡ï¼šä»è¯•éªŒç»“æœæ¨æ–­æŸå› ç´ å¯¹æŒ‡æ ‡æœ‰æ— æ˜¾è‘—å½±å“ å•å› ç´ æ–¹å·®åˆ†æè¡¨ æ–¹å·®åˆ†æå‘½ä»¤anovalï¼Œp = anoval(x,group)å°†ç®—å¾—çš„æ¦‚ç‡pä¸\\alphaè¿›è¡Œæ¯”è¾ƒ åŒå› ç´ æ–¹å·®åˆ†æ p = anova2(x,reps) å¤šå› ç´ æ–¹å·®åˆ†æ anovan 12345y = [31 54 38 53 49 42 57 62 64]; %è¯•éªŒç»“æœg1 = [1 2 3 1 2 3 1 2 3]; %æ­£äº¤è¡¨ç¬¬ä¸€åˆ—g2 = [1 1 1 2 2 2 3 3 3];g3 = [2 1 3 1 3 2 3 2 1];[p,t,st] = anovan(y,&#123;g1,g2,g3&#125;) å›å½’åˆ†æ ç”¨æ¥æ£€éªŒæ‹Ÿåˆå‡½æ•°çš„å‡†ç¡®åº¦ æ®‹å·®ï¼šå®é™…è§‚å¯Ÿå€¼ï¼Œä¼°è®¡å€¼(æ‹Ÿåˆå€¼)ä¹‹é—´çš„å·® $R^2$åˆ¤å®šç³»æ•°ï¼šå¯è§£é‡Šçš„å˜å¼‚å æ€»å˜å¼‚çš„ç™¾åˆ†æ¯” å¤šå…ƒçº¿æ€§å›å½’123456[b,bint,r,rint,stats] = regress(y,x,alpha);% bä¸ºå›å½’ç³»æ•°ä¼°è®¡å€¼% bintä¸ºç½®ä¿¡åŒºé—´ % rä¸ºæ®‹å·®ï¼Œrintä¸ºæ®‹å·®çš„ç½®ä¿¡åŒºé—´% statsæ˜¯ç”¨äºæ£€éªŒå›å½’æ¨¡å‹çš„ç»Ÿè®¡é‡[R^2,F,p,s^2]% alphaæ˜¾è‘—æ€§æ°´å¹³ï¼Œç¼ºçœæ—¶ä¸º0.05 ä¸€å…ƒå¤šé¡¹å¼å›å½’1234[p,s] = polyfit(x0, y0, 2);% sä¸ºç”¨äºè®¡ç®—å‡½æ•°å€¼çš„æ•°æ®ç»“æ„ï¼Œå¦‚[y,delta] = polyconf(p,x0,s);y%å¯ä»¥å¾—åˆ°yçš„æ‹Ÿåˆå€¼ã€ç½®ä¿¡åŒºé—´åŠå¾„delta å¤šå…ƒäºŒé¡¹å¼å›å½’1234rstool(x,y,model,alpha)% x:nÃ—mç»´çŸ©é˜µ% y:nç»´å‘é‡%model:çº¿æ€§ã€çº¯äºŒæ¬¡ã€äº¤å‰ã€å®Œå…¨äºŒæ¬¡å››é€‰ä¸€ ä¸»æˆæˆåˆ†åˆ†æ ç”¨è¾ƒå°‘çš„å˜é‡å»è§£é‡ŠåŸæ¥èµ„æ–™ä¸­çš„å¤§éƒ¨åˆ†å˜å¼‚ é€‰å‡ºæ¯”åŸå§‹å˜é‡ä¸ªæ•°å°‘ã€èƒ½è§£é‡Šå¤§éƒ¨åˆ†èµ„æ–™ä¸­çš„å˜å¼‚çš„å‡ ä¸ªæ–°å˜é‡ æ­¥éª¤ å¯¹åŸå§‹æ•°æ®è¿›è¡Œæ ‡å‡†åŒ–å¤„ç† è®¡ç®—ç›¸å…³ç³»æ•°çŸ©é˜µ$R$ è®¡ç®—ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡ é€‰æ‹©$p$ä¸ªä¸»æˆåˆ†ï¼Œè®¡ç®—ç»¼åˆè¯„ä»·å€¼ è®¡ç®—ç»¼åˆå¾—åˆ† æ’é˜Ÿè®º æœ‰å¾ˆå¤šå…¬å¼ï¼Œç”¨çš„æ—¶å€™å†æŸ¥å§ ä¼˜åŒ–ï¼šæœ€ä¼˜æœåŠ¡ç‡ï¼Œæœ€ä¼˜æœåŠ¡å°æ•° çµæ•åº¦åˆ†æ å½“æ¨¡å‹çš„æ•°æ®ä¸­æœ‰ä¸€ä¸ªæˆ–å‡ ä¸ªå‘ç”Ÿå˜åŒ–æ—¶ï¼Œæœ€ä¼˜è§£ä¼šæœ‰ä»€ä¹ˆå˜åŒ– è¿™äº›æ•°æ®åœ¨ä»€ä¹ˆèŒƒå›´å†…å˜åŒ–æ—¶ï¼Œå·²æ±‚è§£çš„æœ€ä¼˜è§£ä¸å˜","categories":[],"tags":[]},{"title":"MATLABä¸´æ—¶æŠ±ä½›è„š","slug":"matlab-getstart","date":"2019-01-16T09:04:59.000Z","updated":"2019-01-20T03:49:08.093Z","comments":true,"path":"2019/01/16/matlab-getstart/","link":"","permalink":"https://mengzelev.github.io/2019/01/16/matlab-getstart/","excerpt":"","text":"æ¥æºï¼šç‹æ­£ç›› ã€ŠMATLABæ•°å­¦å·¥å…·è½¯ä»¶å®ä¾‹ç®€æ˜æ•™ç¨‹ã€‹ å…¥é—¨æŠ€èƒ½å‘½ä»¤è¡Œå‘½ä»¤matlabåŸºæœ¬å¯ä»¥çœ‹æˆä¸€ä¸ªæœ‰è‡ªå·±è¯­æ³•çš„å‘½ä»¤è¡Œç»ˆç«¯ä½¿ç”¨ä¸‹é¢åˆ—ä¸¾ä¸€äº›æˆ‘è§‰å¾—è‡ªå·±å°†æ¥å¯èƒ½ä¼šç”¨åˆ°çš„ clc:æ“¦é™¤å½“å‰å·¥ä½œçª—ä¸­æ‰€æœ‰æ˜¾ç¤ºå†…å®¹ dir:ç›¸å½“äºls cd:ä½ æ‡‚çš„ who:æ£€æŸ¥å†…å­˜å˜é‡ whos:æ£€æŸ¥é©»ç•™å˜é‡çš„è¯¦ç»†æƒ…å†µ help:å¬å”¤FM lookfor:å¯¹manè¿›è¡Œgrep MATLABä¹Ÿæ˜¯æœ‰å½“å‰å·¥ä½œè·¯å¾„çš„ï¼ŒåŒLinuxçš„bash å˜é‡å˜é‡åŸºæœ¬ä»¥çŸ©é˜µå½¢å¼å­˜åœ¨è¿˜æœ‰ä¸€äº›é¢„å®šä¹‰çš„å˜é‡ eps:è®¡ç®—æœºè¡¨ç¤ºçš„æœ€å°æ­£æ•° pi:åœ†å‘¨ç‡ infæˆ–Inf NaN i,j flops:æµ®ç‚¹è¿ç®—æ¬¡æ•°ï¼Œç”¨äºç»Ÿè®¡è®¡ç®—é‡ æ˜¾ç¤ºæ ¼å¼ short long short/long e ç§‘å­¦è®¡æ•°æ³•æ˜¾ç¤º bank é“¶è¡Œæ ¼å¼ hex åå…­è¿›åˆ¶æ ¼å¼ +ç”¨äºå¤§çŸ©é˜µçš„ç´§å‡‘æ ¼å¼ æ•°å€¼è®¡ç®—çŸ©é˜µåˆ›å»º ç›´æ¥è¾“å…¥æ³• reshapeæŠŠé•¿è¡Œå‘é‡æ‹†æˆ$n\\times m$çš„çŸ©é˜µ diagå¯ä»¥å®ç°å‘é‡å’Œå¯¹è§’é˜µä¹‹é—´çš„äº’ç›¸è½¬åŒ– .må’Œ.matæ–‡ä»¶ çŸ©é˜µè¿ç®—ä¸æ•°ç»„è¿ç®— çŸ©é˜µè¿ç®—ï¼šæŒ‰çŸ©é˜µæ³•åˆ™è¿›è¡Œçš„è¿ç®— æ•°ç»„è¿ç®—ï¼šå¯¹å…ƒç´ é€ä¸ªè¿›è¡Œ å¯ä»¥å°†æ•°ç»„ç›´æ¥ä½œä¸ºå‚æ•°ä¼ å…¥å‡½æ•°ä¸­ï¼Œè€Œä¸ç”¨å†™å¾ªç¯ï¼Œä¸åŒäºC MATLABæ¨èï¼šå°½é‡ä½¿ç”¨é™¤è¿ç®—ï¼Œå°‘ç”¨é€†è¿ç®— å¤šé¡¹å¼è¡¨ç¤º ç³»æ•°è¡Œå‘é‡è¡¨ç¤ºï¼š$p=[a_0,a_1,â€¦a_n]$ æŒ‡ä»¤p=poly(AR)äº§ç”Ÿå¤šé¡¹å¼ è‹¥ARæ˜¯æ–¹é˜µï¼Œåˆ™äº§ç”Ÿç‰¹å¾å¤šé¡¹å¼ è‹¥ARæ˜¯å‘é‡ï¼Œåˆ™ARä¸­æ¯ä¸ªæ•°æ˜¯è¯¥å¤šé¡¹å¼=0çš„è§£ å¤šé¡¹å¼è¿ç®— R = roots(p)ï¼šæ±‚æ ¹ PA = polyval(p,S):æŒ‰æ•°ç»„è¿ç®—è§„åˆ™è®¡ç®—å¤šé¡¹å¼çš„å€¼ PA = polyvalm(p,S):æŒ‰çŸ©é˜µè¿ç®—è§„åˆ™è®¡ç®—å¤šé¡¹å¼çš„å€¼ P = polyfit(x,y,n):ç”¨$n$é˜¶å¤šé¡¹å¼æ‹Ÿåˆ$x,y$ç»™å®šçš„æ•°æ® æ•°å€¼ç§¯åˆ† S = quad(&#39;fname&#39;, a, b, tol, trace) è‡ªé€‚ç”¨Simpsonæ•°å€¼ç§¯åˆ†æ³• S = quad8(&#39;fname&#39;, a, b, tol, trace)è‡ªé€‚ç”¨Newton-Cotesæ•°å€¼ç§¯åˆ†æ³• quad8æ¯”quadæ€§èƒ½å’Œç²¾åº¦æ›´å¥½ éçº¿æ€§æ–¹ç¨‹ r = roots(p) å¤šé¡¹å¼éçº¿æ€§å‡½æ•°æ±‚æ ¹ z = fzero(&#39;fname&#39;, x0, tol, trace) å•å˜é‡å‡½æ•°æ±‚é›¶ç‚¹ï¼Œåªç»™å‡ºç¦»x0æœ€è¿‘çš„æ ¹ å¾®åˆ†æ–¹ç¨‹çš„æ•°å€¼è§£ [t,x] = ode23/45(&#39;xprime&#39;, [t0,tf], x0, tol, trace) æ–‡ä»¶ç®¡ç† cd, type, delete, dirï¼Œå’Œbashç”¨èµ·æ¥å·®ä¸å¤š !å¯ç”¨äºæ‰§è¡Œå¤–éƒ¨ç¨‹åº æ–‡ä»¶è¾“å…¥è¾“å‡º fopenæ‰“å¼€äºŒè¿›åˆ¶æ–‡ä»¶ 1fid = fopen(&#x27;a.dat&#x27;, &#x27;r&#x27;) freadå°†æ•°æ®è£…å…¥å˜é‡ 123a = fread(fid);a = fread(fid, 100);a = fread(fid, [10,10]); fwriteæŒ‰ç…§æŒ‡å®šçš„ä¹¦ç²¾åº¦å°†çŸ©é˜µä¸­çš„å…ƒç´ å†™å…¥æ–‡ä»¶ 123cnt = fwrite(fid, magic(5), &#x27;integer * 4&#x27;);%è¿”å›å†™å…¥æ•°æ®çš„ä¸ªæ•°status = fclose(fid); saveå‘½ä»¤åŠ-asciié€‰é¡¹ 12a = rand(4,3)save a.dat a -ascii ç¬¦å·è®¡ç®— ç¬¦å·å®šä¹‰ symå®šä¹‰ç¬¦å·æˆ–è¡¨è¾¾å¼ 1234sym(&#x27;x&#x27;)sym(`1 + x / 2`)syms a b c d %symså¯ä»¥å®šä¹‰å¤šä¸ªç¬¦å· findsymç¡®è®¤ç¬¦å·è¡¨è¾¾å¼ä¸­çš„ç¬¦å· å¾®ç§¯åˆ†è¿ç®—æ±‚å¯¼ diff(f,t,n)å‡½æ•°få¯¹å˜é‡tæ±‚né˜¶å¯¼ï¼Œtç¼ºçœæ—¶å¯¹xæ±‚å¯¼ï¼Œnç¼ºçœä¸º1 å‚æ•°ä¸ºçŸ©é˜µæ—¶ï¼Œä½œç”¨äºæ¯ä¸ªå…ƒç´  ç§¯åˆ† int(f,t) å‡½æ•°få¯¹å˜é‡tæ±‚ä¸å®šç§¯åˆ† int(f,t,a,b) å‡½æ•°få¯¹ç¬¦å·å˜é‡æ±‚ä»aåˆ°bçš„å®šç§¯åˆ† æé™ limita(f,t,a)å½“ç¬¦å·å˜é‡t-&gt;aæ—¶ï¼Œå‡½æ•°fçš„æé™ï¼Œtç¼ºçœxï¼Œaç¼ºçœä¸º0 çº§æ•°å’Œ symsum(s,t,a,b)``sä¸­çš„ç¬¦å·å˜é‡tä»aåˆ°bçš„çº§æ•°å’Œ Taylorå±•å¼€ taylor(f,n,a)å‡½æ•°få¯¹ç¬¦å·å˜é‡xæˆ–æœ€æ¥è¿‘å­—æ¯xçš„ç¬¦å·å˜é‡åœ¨aç‚¹çš„n-1é˜¶æ³°å‹’å¤šé¡¹å¼,nç¼ºçœæ—¶å€¼ä¸º6,aç¼ºçœå€¼ä¸º0 è§£æ–¹ç¨‹ solve(f,t)å¯¹fä¸­çš„ç¬¦å·æ ‡é‡tè§£æ–¹ç¨‹f=0 solve(&#39;fname&#39;,t) æ±‚è§£å½¢å¦‚f(x)=g(x)çš„æ–¹ç¨‹ dsolve(&#39;S&#39;,&#39;s1&#39;,...&#39;x&#39;) çº¿æ€§ä»£æ•° ç”¨ï¼Œéƒ½å¯ä»¥ç”¨ åŒ–ç®€å’Œä»£æ¢ collectåˆå¹¶åŒç±»é¡¹ expandå°†ä¹˜ç§¯å±•å¼€ä¸ºå’Œå¼ factorå°†å’Œå¼å±•å¼€ä¸ºä¹˜ç§¯ horneråµŒå¥—å¤šé¡¹å¼ simplifyåˆ©ç”¨å„ç§ ç”»å›¾äºŒç»´ plot(x,y)å…¶ä¸­xå’Œyä¸ºåæ ‡å‘é‡ åœ¨plotæŒ‡ä»¤ä¸­å¢åŠ ä¸€äº›å‚æ•°ï¼Œå¯ä»¥ç»˜åˆ¶å‡ºä¸åŒé¢œè‰²ä¸ä¸åŒçº¿æ€§çš„å›¾å½¢ï¼Œe.g. 1plot(x, y1, &#x27;k:&#x27;, x, y2, &#x27;b-&#x27;) æ¯æ¡æ›²çº¿çš„çº¿å‹å’Œé¢œè‰²ç”±å­—ç¬¦ä¸²&#39;cs&#39;æŒ‡å®šï¼Œå…¶ä¸­&#39;c&#39;è¡¨ç¤ºé¢œè‰²ï¼Œ&#39;s&#39;è¡¨ç¤ºçº¿å‹ å›¾å½¢æ ‡è®°æŒ‡ä»¤title,xlabel,ylabel,text,legend axis([xmin, xmax, ymin, ymax])è®¾å®šåæ ‡è½´ hold onä¿æŒå·²æœ‰å›¾å½¢ç»˜åˆ¶æ–°çš„å›¾å½¢ fplot(fname, lims, tol)ä¸ºå‡½æ•°æä¾›è‡ªé€‚åº”é‡‡æ · loglog(x,y)åŒå¯¹æ•°åæ ‡ semilogx,semilogy å•å¯¹æ•°åæ ‡ polar(theat, rho) æåæ ‡ ä¸‰ç»´ plot3ç”¨æ³•åŒplot mesh(x,y,z,c)ç»˜åˆ¶ä¸‰ç»´ç½‘æ ¼å›¾ surf(x,y,z,c)ä¸‰ç»´æ›²é¢å›¾ viewæŒ‡å®šè§†ç‚¹ contour3ç­‰é«˜çº¿å›¾ MATLABç¨‹åºè®¾è®¡è¾“å…¥è¾“å‡º inputå‡½æ•° 12A = input(&#x27;Enter matrix A=&gt;&#x27;)%è¿™æ ·å¯ä»¥åœ¨æ‰§è¡Œè¯¥è¯­å¥æ—¶é¦–å…ˆç»™å‡ºæç¤ºï¼Œå†æ¥æ”¶é”®ç›˜è¾“å…¥ pause(å»¶è¿Ÿç§’æ•°) Disp()è¾“å‡ºå‡½æ•°ï¼Œ è¾“å‡ºé¡¹å¯ä»¥ä¸ºçŸ©é˜µæˆ–å­—ç¬¦ä¸² åˆ†æ”¯è¯­å¥ifè¯­å¥ ç»“å°¾éœ€è¦åŠ end elseå’Œifå¯ä»¥è¿èµ·æ¥å†™æˆelseif swithè¯­å¥ä¸Cç›¸æ¯”ï¼š defaultæ”¹ä¸ºotherwise ç»“å°¾åŠ end å¾ªç¯è¯­å¥forè¯­å¥ for åˆå§‹æ¡ä»¶:æ­¥é•¿(ç¼ºçœä¸º1):ç»ˆå€¼ 123for i = 1 : 2 : 2*n-1 %å¾ªç¯ä½“end for å¾ªç¯å˜é‡=çŸ©é˜µè¡¨è¾¾å¼ï¼Œä½¿å¾ªç¯å˜é‡å–éçŸ©é˜µé‡Œæ¯ä¸ªæ•°çš„å€¼(ä»¥è¡Œä¸ºå‘¨æœŸ) whileè¯­å¥ ç»“å°¾åŠ endï¼Œç”¨æ³•åŒC å‡½æ•°æ–‡ä»¶ ä¸€èˆ¬æ ¼å¼ä¸º 1234function è¾“å‡ºå½¢å‚è¡¨ = å‡½æ•°å(è¾“å…¥å½¢å‚è¡¨) %æ³¨é‡Šè¯´æ˜éƒ¨åˆ† %å‡½æ•°ä½“end å½“è¾“å‡ºå½¢å‚å¤šäº1ä¸ªæ—¶ï¼Œç”¨æ–¹æ‹¬å·æ‹¬èµ·æ¥ å‡½æ•°è°ƒç”¨[è¾“å‡ºå‚æ•°è¡¨]=å‡½æ•°å(è¾“å…¥å‚æ•°è¡¨)ï¼Œæ”¯æŒåµŒå¥—è°ƒç”¨å’Œé€’å½’ å‚æ•°ä¸ªæ•°å¯å˜ï¼šé€šè¿‡å˜é‡narginå’Œnargoutå®ç° å‡½æ•°å†…éƒ¨ç”³æ˜çš„å˜é‡éƒ½æ˜¯å±€éƒ¨å˜é‡ å…¨å±€å˜é‡å‰ç¼€globalï¼Œæ‰€æœ‰å‡½æ•°éƒ½å¯ä»¥å¯¹å…¶è¿›è¡Œå­˜å–å’Œä¿®æ”¹ å…³äºæ‹¬å·() åœ†æ‹¬å·å¼•ç”¨æ•°ç»„ä¸­çš„å…ƒç´  [] æ–¹æ‹¬å·è¡¨ç¤ºå‘é‡æˆ–çŸ©é˜µ {} èŠ±æ‹¬å·ç”¨äºå…ƒèƒ(cell)æ•°ç»„çš„åˆ†é…å’Œå¼•ç”¨å…ƒèƒä¸çŸ©é˜µçš„åŒºåˆ«æ˜¯èƒ½æ”¾ä»»ä½•ç±»ä¼¼çš„å…ƒç´ ï¼Œè€ŒçŸ©é˜µåªèƒ½æ”¾æ•°å€¼å‹æ•°æ® 12345678910D=&#123;[1 2 3 4],&#x27;abc&#x27;,&#123;7 8 9&#125;ï¼Œ[4 5 6;11 22 33]&#125;D&#123;1&#125; %è¡¨ç¤ºDä¸­ç¬¬ä¸€ä¸ªå…ƒç´  æ˜¾ç¤ºä¸º 1 2 3 4D&#123;1&#125;(2) %è¡¨ç¤ºDä¸­ç¬¬ä¸€ä¸ªå…ƒç´ ä¸­ç¬¬äºŒä¸ªå…ƒç´  æ˜¾ç¤ºä¸º 2D&#123;3&#125;&#123;1&#125; %è¡¨ç¤ºç¬¬ä¸‰ä¸ªå…ƒç´ ä¸­ç¬¬ä¸€ä¸ªå…ƒç´  æ˜¾ç¤ºä¸º 7D&#123;3&#125;(1) %è¡¨ç¤ºç¬¬ä¸‰ä¸ªå…ƒç´ ä¸­ç¬¬ä¸€ä¸ªå…ƒç´  æ˜¾ç¤ºä¸º&#123;[7]&#125;D&#123;[1 2 3]&#125; %è¡¨ç¤ºå‰ä¸‰ä¸ªå…ƒç´  æ˜¾ç¤ºä¸º1 2 3 4 ; â€˜abcâ€™ ;&#123;[7]&#125; &#123;[8]&#125; &#123;[9]&#125;","categories":[{"name":"Self-learning","slug":"Self-learning","permalink":"https://mengzelev.github.io/categories/Self-learning/"}],"tags":[{"name":"MATLAB","slug":"MATLAB","permalink":"https://mengzelev.github.io/tags/MATLAB/"}]},{"title":"é—®é¢˜æ±‚è§£3-æ€»å¤ä¹ ","slug":"Problem-Solving-3","date":"2019-01-07T11:21:20.000Z","updated":"2019-01-08T15:40:21.122Z","comments":true,"path":"2019/01/07/Problem-Solving-3/","link":"","permalink":"https://mengzelev.github.io/2019/01/07/Problem-Solving-3/","excerpt":"","text":"åŠ¨æ€è§„åˆ’æœ€ä¼˜å­ç»“æ„ é—®é¢˜çš„æœ€ä¼˜è§£ç”±ç›¸å…³å­é—®é¢˜çš„æœ€ä¼˜è§£ç»„åˆè€Œæˆï¼Œè¿™äº›å­é—®é¢˜å¯ä»¥ç‹¬ç«‹æ±‚è§£ ä½¿ç”¨â€œå‰ªåˆ‡-ç²˜è´´â€æŠ€æœ¯è¯æ˜ï¼šå‡è®¾åŸé—®é¢˜å–å¾—æœ€ä¼˜è§£æ—¶ï¼Œå­é—®é¢˜æ²¡æœ‰å–æœ€ä¼˜è§£ï¼Œé‚£ä¹ˆå¯ä»¥å°†å­ç»“æ„ä»æ•´ä½“åˆ é™¤æ›¿æ¢ä¸ºæœ€ä¼˜è§£ï¼Œè¿™ä¸åŸé—®é¢˜å–å¾—æœ€ä¼˜è§£çš„å‰æçŸ›ç›¾ å­é—®é¢˜é—´äº’ç›¸ç‹¬ç«‹ è¿è¡Œæ—¶é—´ï¼šå­é—®é¢˜æ€»æ•°*æ¯ä¸ªé—®é¢˜è¦è€ƒå¯Ÿçš„é€‰æ‹©æ•° æ±‚è§£æ—¶å…ˆæ‰¾å‡ºæœ€ä¼˜å­ç»“æ„ï¼Œåˆ—å‡ºé€’æ¨å¼ å®ç° è‡ªé¡¶å‘ä¸‹çš„å¤‡å¿˜ç®—æ³•ï¼ˆå¸¦å¤‡å¿˜çš„é€’å½’ï¼‰ è‡ªåº•å‘ä¸Šçš„åŠ¨æ€è§„åˆ’ç®—æ³•ï¼ˆéš¾å†™ï¼Œä½†æ˜¯å¿«ï¼‰ å¹¶æ²¡æœ‰æ¿å­ èƒ½è§£å†³çš„é—®é¢˜ çŸ©é˜µä¹˜æ³•é—®é¢˜ æœ€é•¿å…¬å…±å­åºåˆ— æœ€é•¿ä¸Šå‡å­åºåˆ— &gt;ä¸»è¦å°±æ˜¯ä¸€ä¸ªåˆ—é€’æ¨å¼çš„é—®é¢˜ä½†æ˜¯å°±æ˜¯åˆ—ä¸å‡ºæ¥ è´ªå¿ƒè´ªå¿ƒé€‰æ‹©æ€§è´¨ è¿›è¡Œé€‰æ‹©æ—¶ï¼Œç›´æ¥åšå‡ºå½“å‰é—®é¢˜ä¸­çœ‹æ¥æœ€ä¼˜çš„é€‰æ‹©ï¼Œè€Œä¸å¿…è€ƒè™‘å­é—®é¢˜çš„è§£ è´ªå¿ƒä¸å¤ªæ–¹ä¾¿æ—¶å¯ä»¥è¿›è¡Œé¢„å¤„ç† è¯æ˜ï¼šæ›¿æ¢æ³• è´ªå¿ƒç®—æ³•å¾—åˆ°ä¸€ä¸ªè§£Sï¼Œå‡è®¾å­˜åœ¨ä¸€ä¸ªæŠ½è±¡çš„æœ€ä¼˜è§£Sâ€™ï¼Œè¯æ˜Sâ€™å¯ä»¥é€šè¿‡è‹¥å¹²æ­¥æ»¡è¶³è¦æ±‚çš„æ›¿æ¢å˜æˆS ä¹Ÿå¯ä»¥è¯æ˜Sä¼˜äºS(e.g.Sçš„ä»£ä»·$\\le$Sâ€™çš„ä»£ä»·)ï¼ŒåŠ ä¸ŠSâ€™ä¼˜äºSçš„å¤©ç„¶æ¡ä»¶ï¼Œå¯çŸ¥Sä¸Sâ€™éƒ½æ˜¯æœ€ä¼˜è§£ è§£å†³é—®é¢˜ æ•™å®¤å®‰æ’é—®é¢˜ Huffmanç¼–ç æ ‘ã€å¯ä»¥ç­‰ä»·ä¸ºå¶ç»“ç‚¹çš„å¸¦æƒè·¯å¾„é•¿åº¦ä¹‹å’Œæœ€å°é—®é¢˜ åŒºé—´é€‰ç‚¹é—®é¢˜ æ•°è½´ä¸Šæœ‰nä¸ªé—­åŒºé—´$[a_i,b_i]$ã€‚å–å°½é‡å°‘çš„ç‚¹ï¼Œä½¿å¾—æ¯ä¸ªåŒºé—´å†…éƒ½è‡³å°‘æœ‰ä¸€ä¸ªç‚¹ï¼ˆä¸åŒåŒºé—´å†…å«çš„ç‚¹å¯ä»¥æ˜¯åŒä¸€ä¸ªï¼‰ å°†åŒºé—´æŒ‰å³ç«¯ç‚¹å‡åºæ’åºï¼Œä¼˜å…ˆå¤„ç†å°åŒºé—´ å®ç° è¿™ä¸ªå®Œå…¨å°±æ˜¯å› é¢˜è€Œå¼‚çš„äº†å•Šã€å“­äº† å¹¶æŸ¥é›†ä¸‰ä¸ªåŸºæœ¬æ“ä½œ MAKE-SET($x$) UNION($x,y$) FIND-SET($x$)ï¼šè¿”å›$x$æ‰€åœ¨é›†åˆçš„ä»£è¡¨å…ƒ é“¾è¡¨ æ—¶é—´å¤æ‚åº¦makeå’Œfindæ˜¯$O(1)$ï¼ŒUNION$O(n\\lg n)$ ç®€å•åŠ æƒåˆå¹¶å¼å¯å‘ç­–ç•¥ï¼ˆå°çš„å¹¶åˆ°å¤§çš„ä¸Š ä¸ç›¸äº¤é›†åˆæ£®æ— æŒ‰ç§©åˆå¹¶ï¼Œè·¯å¾„å‹ç¼© makeå’Œfind$O(1)$ï¼ŒUNION$O(m_{\\alpha}(n))$ æ¿å­123456789101112131415161718192021222324252627282930313233void init() &#123; for(int i = 1; i &lt;= n; ++i) &#123; f[i] = i; rank[i] = 0; &#125;&#125;/*é€’å½’ç‰ˆ*/int find(int i) &#123; return f[i] == i ? i : f[i] = find(f[i]);&#125;/*éé€’å½’ç‰ˆ*/int find(int x) &#123; int root = f[x]; while(root != f[root]) root = f[root]; int y = f[x]; while(x != root) &#123; y = f[x]; f[x] = root; x = y; &#125; return root;&#125;void unite(int a, int b) &#123; int fa = find(a); int fb = find(b); if(fa != fb) &#123; if(rank[a] &lt; rank[b]) f[a] = fb; else f[b] = fa; &#125;&#125; å˜ç§ å¸¦æƒå¹¶æŸ¥é›† åˆ†ç±»å¹¶æŸ¥é›† &gt;è€ƒåˆ°è‡ªæ±‚å¤šç¦ è§£å†³é—®é¢˜ æ— å‘å›¾è¿é€šåˆ†é‡ä¸ªæ•° å›¾çš„åŸºæœ¬æ¦‚å¿µå‚è€ƒäº†ytrçš„æ•´ç† æ¦‚å¿µ è¯±å¯¼å­å›¾ é“¾walkï¼Œè¿¹trailï¼Œè·¯path å›è·¯circuitï¼Œåœˆcycle è¿é€šæ€§ï¼Œè¿é€šåˆ†æ”¯ è·ç¦»ï¼Œæµ‹åœ°çº¿(é•¿åº¦ä¸º$u-v$è·ç¦»çš„$u-v$è·¯)ï¼Œç›´å¾„ ç¯(loop)ï¼Œä½  è¿ ä½  è‡ª å·± å¹³è¡Œè¾¹ï¼šé‡è¾¹ åº¦æ•°degï¼Œæœ€å°åº¦æ•°$\\delta(G)$ï¼Œæœ€å¤§åº¦æ•°$\\Delta(G)$ åº¦åºåˆ—ï¼Œå¯å›¾çš„ å‡ ç§å›¾ å®Œå…¨å›¾$K_n$ è¡¥å›¾ äºŒéƒ¨å›¾ï¼Œå®Œå…¨äºŒéƒ¨å›¾($K{s,t}$)ï¼Œæ˜Ÿå›¾star($K{1,s}$) å¤šéƒ¨å›¾ï¼Œå®Œå…¨å¤šéƒ¨å›¾(K_{s,s,s}) $G+H$ï¼š$G$å’Œ$H$æ”¾ä¸€èµ·ï¼Œé¡¶ç‚¹ä¸¤ä¸¤è¿èµ·æ¥ $G\\times H$ï¼š$G$çš„æ¯ä¸ªç‚¹éƒ½æ›¿æ¢æˆä¸€ä¸ª$H$ næ–¹ä½“cube($Qn=Q{n-1}\\times K_2$) $r-$æ­£åˆ™å›¾ï¼šæ¯ä¸ªç‚¹åº¦æ•°éƒ½ä¸º$r$ å®šç† è®¾$G$æ˜¯ä¸€ä¸ªé˜¶è‡³å°‘ä¸º3çš„å›¾ï¼Œåˆ™$G$æ˜¯è¿é€šçš„å½“ä¸”ä»…å½“$G$åŒ…å«ä¸¤ä¸ªä¸åŒçš„é¡¶ç‚¹$u$å’Œ$v$,ä½¿å¾—$G-u$å’Œ$G-v$éƒ½æ˜¯è¿é€šçš„ éå¹³å‡¡å›¾$G$æ˜¯äºŒéƒ¨çš„å½“ä¸”ä»…å½“$G$ä¸å«å¥‡åœˆ å›¾è®ºç¬¬ä¸€å®šç†ï¼šåº¦æ•°å’Œ=è¾¹æ•°*2 æ¯ä¸€ä¸ªå›¾éƒ½æœ‰å¶æ•°ä¸ªå¥‡ç‚¹ è®¾$G$ä¸º$n$é˜¶å›¾,è‹¥å¯¹äº$G$ä¸­ä»»æ„ä¸¤ä¸ªä¸é‚»æ¥çš„é¡¶ç‚¹$u$å’Œ$v$, éƒ½æ»¡è¶³deg~u+deg~v\\geq n-1ï¼Œåˆ™$G$æ˜¯è¿é€šçš„ä¸”$diam(G)\\leq$2 è®¾$r$å’Œ$n$ä¸ºæ»¡è¶³$0\\leq r\\leq n-1$çš„æ•´æ•°ï¼ åˆ™å­˜åœ¨né˜¶çš„ræ­£åˆ™å›¾å½“ä¸”ä»…å½“$r$å’Œ$n$ä¸­è‡³å°‘æœ‰ä¸€ä¸ªä¸ºå¶æ•° åº¦åºåˆ—å¯å›¾çš„å……è¦æ¡ä»¶(åˆ æ‰ä¸€ä¸ªç‚¹ä¾ç„¶å¯å›¾) æ ‘å®šä¹‰ å‰²è¾¹ æ ‘ï¼Œæ£®æ— å®šç† æŸæ¡è¾¹æ˜¯å‰²è¾¹å½“ä¸”ä»…å½“è¯¥è¾¹ä¸åœ¨ä»»ä½•ä¸€ä¸ªcycleä¸Š æ¯ä¸€æ£µéå¹³å‡¡æ ‘éƒ½è‡³å°‘æœ‰ä¸¤ä¸ªç«¯ç‚¹(æœ€é•¿è·¯å¾„çš„ä¸¤ä¸ªç«¯ç‚¹) ã€å¯ä»¥æˆä¸ºæ•°å­¦å½’çº³æ³•çš„ä¾æ®ã€‘ ä½¿ç”¨æ•°å­¦å½’çº³æ³•è¯æ˜å›¾è®ºé—®é¢˜çš„å…³é”®åœ¨äºæ‰¾åˆ°ä¸€ä¸ªç«¯ç‚¹ æœ‰$k$ä¸ªè¿é€šåˆ†é‡çš„æ£®æ—æœ‰$n-k$æ¡è¾¹ï¼Œæ ‘å°±æœ‰$n-1$æ¡è¾¹ æ¯ä¸€ä¸ªæœ‰$n$ä¸ªé¡¶ç‚¹çš„è¿é€šå›¾è‡³å°‘æœ‰$n-1$æ¡è¾¹ã€è¯æ˜ï¼šæœ€å°æ•°åŸç†ã€‘ ä»»æ„ä¸¤æ¡å¯å¾—æ ‘ï¼šè¿é€šã€æ— ç¯ã€$m=n-1$ æ¯ä¸ªè¿é€šå›¾éƒ½åŒ…å«ä¸€æ£µç”Ÿæˆæ ‘ Matrix Tree Theoremï¼šè¿é€šå›¾$G$çš„ç”Ÿæˆæ ‘ä¸ªæ•°å¯ä»¥ç”¨è¡Œåˆ—å¼æ±‚å¾— $T$æ˜¯å”¯ä¸€æœ€å°ç”Ÿæˆæ ‘å½“ä¸”ä»…å½“$\\forall e\\in G\\setminus T: w(e)&gt;w(\\text{every other edge on the cycle in $T+e$})$ æ¨è®ºï¼šdistinct weights $\\Leftarrow$ unique MST æ¨è®ºï¼šMaximum-weight edge in any cycle is unique $\\Leftarrow$ unique MST è‹¥æ¯ä¸ªç‚¹åº¦æ•°å¤§äºç­‰äº2ï¼Œåˆ™è¯¥å›¾æœ‰cycle $e$æ˜¯å‰²è¾¹å½“ä¸”ä»…å½“$e$å­˜åœ¨äº$G$çš„æŸä¸€æ£µç”Ÿæˆæ ‘ä¸Š æœ€å°ç”Ÿæˆæ ‘æ€§è´¨ Cut Property VER I:$X$æ˜¯æŸæ£µæœ€å°ç”Ÿæˆæ ‘çš„ä¸€éƒ¨åˆ†ï¼Œ$(S,V\\setminus S)$æ˜¯ä¸€ä¸ª$X$æ²¡æœ‰æ¨ªè·¨çš„åˆ‡å‰²ï¼Œ$e$ä¸ºæ¨ªè·¨$(S,V\\setminus)$çš„ä¸€æ¡æœ€è½»çš„è¾¹ï¼Œåˆ™$X\\cup {e}$æ˜¯æŸæ£µæœ€å°ç”Ÿæˆæ ‘$T_2$çš„ä¸€éƒ¨åˆ†ã€‚ VER II:$e$ä¸ºæ¨ªè·¨$(S,V\\setminus)$çš„ä¸€æ¡æœ€è½»çš„è¾¹ï¼Œåˆ™$e$å±äºæŸæ£µæœ€å°ç”Ÿæˆæ ‘ è´ªå¿ƒé€‰æ‹©æ€§è´¨ï¼Œå¯ç”±æ›¿æ¢æ³•è¯æ˜ Cycle Property è‹¥$e$ä¸ºä»»æ„ä¸€ä¸ªcycleä¸Šæƒé‡æœ€å¤§çš„ä¸€æ¡è¾¹ï¼Œåˆ™å­˜åœ¨ä¸€æ£µæœ€å°ç”Ÿæˆæ ‘$T$ï¼Œä½¿$e\\notin T$ Kruskal $O(E\\lg~V)$ 123456789101112131415161718int kruskal() &#123; sort(edge, edge + m, cmp);//å°†è¾¹æŒ‰æƒé‡ä»å°åˆ°å¤§æ’åº int cnt = 0; int ans = 0; for(int i = 1; i &lt;= n; ++i) f[i] = i;//åˆå§‹åŒ–å¹¶æŸ¥é›† for(int i = 0; i &lt; m; ++i) &#123; int a = edge[i].u; int b = edge[i].v; int fa = find(a), fb = find(b); if(fa != fb) &#123; f[fa] = fb; ans += edge[i].w; cnt ++; if(cnt == n - 1) break; &#125; &#125; return ans;&#125; Prim $O(E\\lg V)$ 1234567891011121314151617181920int my_prim() &#123; int ans = 0; for(int i = 0; i &lt; n; ++i) &#123; mincost[i] = INF; vis[i] = false; &#125; while(true)&#123; int v = -1; for(int i = 0; i &lt; n; ++i) &#123; if(!vis[i] &amp;&amp; (v == -1 || mincost[i] &lt; mincost[v])) v = i; &#125; if(v == -1) break; vis[v] = true; ans += mincost[v]; for(int i = 0; i &lt; n; ++i) &#123; mincost[i] = min(mincost[i], map[v][i]); &#125; &#125; return ans;&#125; å›¾çš„è®¡ç®—æœºè¡¨ç¤ºåŠå…¶éå†å›¾çš„è¡¨ç¤º é‚»æ¥é“¾è¡¨ é‚»æ¥çŸ©é˜µ BFS ç»´æŠ¤ä¸€ä¸ªé˜Ÿåˆ— æ—¶é—´å¤æ‚åº¦$O(V+E)$ æœå®Œäº†ä¼šå¾—åˆ°å¹¿åº¦ä¼˜å…ˆæ ‘ DFS å‰é©±å­å›¾ï¼šæ·±åº¦ä¼˜å…ˆæ£®æ— è¾¹çš„ç±»å‹ æ ‘è¾¹ å‰å‘è¾¹Fï¼šç¥–å®—æŒ‡å‘å„¿å­ åå‘è¾¹Bï¼šå„¿å­æŒ‡å‘ç¥–å®— æ¨ªå‘è¾¹Cï¼šæ²¡æœ‰äº²ç¼˜å…³ç³» å¤æ‚åº¦$O(V+E)$ æ¯ä¸ªç»“ç‚¹æœ‰ä¸¤ä¸ªæ—¶é—´æˆ³ $v.d$ï¼šè®°å½•è¯¥ç»“ç‚¹ç¬¬ä¸€æ¬¡è¢«å‘ç°çš„æ—¶é—´ $v.f$ï¼šè®°å½•æœç´¢å®Œæˆå¯¹$v$çš„é‚»æ¥é“¾è¡¨çš„æ‰«æçš„æ—¶é—´ $v.d&lt;v.f$ æ‹“æ‰‘æ’åº æ ¹æ®DFSåçš„$v.f$æ—¶é—´æˆ³é™åºæ’åºï¼Œå³æ‹“æ‰‘åºæœ€å‰çš„æœ€æ™šç»“æŸè®¿é—® è‹¥$(u,v)\\in G$ï¼Œåˆ™$v.f&lt;u.f$ åªæœ‰DAGæ‰æœ‰æ‹“æ‰‘æ’åº SCCç®—æ³•æè¿° DFS($G$) DFS($G^{T})$ï¼Œåœ¨ä¸»å¾ªç¯æ ¹æ®$v.f$çš„å¤§å°é™åºè®¿é—®å…¶é‚»æ¥ç‚¹ï¼Œå¾—åˆ°çš„æ¯æ£µæ ‘éƒ½æ˜¯ä¸€ä¸ªå¼ºè¿é€šåˆ†é‡ å•æºæœ€çŸ­è·¯å¾„ æ¾å¼›æ“ä½œæ˜¯å”¯ä¸€å¯¼è‡´æœ€çŸ­è·¯å¾„ä¼°è®¡å’Œå‰é©±ç»“ç‚¹å‘ç”Ÿå˜åŒ–çš„æ“ä½œ æ€§è´¨ ä¸‰è§’ä¸ç­‰å¼æ€§è´¨ï¼š$s,u,v$ ä¸Šç•Œæ€§è´¨ï¼š$v.d$æ’‘æ­»å°±æ˜¯$\\delta(s,v)$ éè·¯å¾„æ€§è´¨ï¼š$s-v$ä¹‹é—´æ²¡è·¯åˆ™$\\delta(s,v)=+\\infty$ æ”¶æ•›æ€§è´¨ï¼šæ¾å¼›å‰æ˜¯æœ€çŸ­è·¯å¾„ï¼Œæ¾å¼›åä¹Ÿæ˜¯æœ€çŸ­è·¯å¾„ è·¯å¾„æ¾å¼›æ€§è´¨ï¼šä¸€æ¡æœ€çŸ­è·¯å¾„ä¸Šçš„ç‚¹æŒ‰å…ˆåé¡ºåºæ¾å¼›ï¼Œåˆ™ç»ˆç‚¹çš„ä¼°è®¡å€¼ç­‰äºæœ€çŸ­è·¯å¾„é•¿åº¦ å‰é©±å­å›¾æ€§è´¨ï¼š$v.d=\\delta(s,v)$ï¼Œåˆ™å‰é©±å­å›¾æ˜¯ä¸€æ£µæ ¹ç»“ç‚¹ä¸º$s$çš„æœ€çŸ­è·¯å¾„æ ‘ Bellman-Ford å¯¹æ¯æ¡è¾¹è¿›è¡Œ$|V|-1$æ¬¡relax å¯ä»¥è¯†åˆ«è´Ÿæƒé‡ç¯ $O(VE)$ æœ¬è´¨ä¸Šæ˜¯DP 12345678910111213void bellman_ford() &#123; dist[s] = 0; for(int i = 1; i &lt;= n - 1; ++i) &#123; for(int j = 1; j &lt;= m; ++j) &#123; if(dist[e[j].u &lt; INF &amp;&amp; dist[e[j].v] &gt; dist[e[j].u] + e[j].w) &#123; dist[e[j].v] = dist[e[j].u] + e[j].w; pre[e[j].v] = e[j].u; &#125; &#125; &#125; for(int j = 1; j &lt;= m; ++j) if(dist[e[j].v] &gt; dist[e[j].u] + e[j].w) flag = false;&#125; DAG æŒ‰æ‹“æ‰‘åºæ¾å¼›ç»“ç‚¹ï¼ˆè·¯å¾„æ¾å¼›æ€§è´¨ä¿è¯ï¼‰ $\\Theta(V+E)$ Dijkstra æ‰€æœ‰æƒé‡éƒ½éè´Ÿ äºŒå‰å †å®ç°$O(E\\lg V)$ 123456789101112131415161718void dijkstra() &#123; prority_queue &lt;node&gt; q; ver[0].d = 0; q.push(ver[0]); while(!q.empty()) &#123; node u = q.top(); q.pop(); for(int i = 0 ; i &lt; son[u].size(); ++i) &#123; int vid = son[u.id][i]; if(ver[vid].d &lt; u.d) continue; if(ver[vid].d &gt; u.d + map[u.id][vid]) &#123; ver[vid].d = u.d + map[u.id][vid]; q.push(ver[vid]); &#125; &#125; &#125;&#125; å·®åˆ†çº¦æŸ å·®åˆ†å›¾ï¼šè‹¥$x_j-x_i\\le b_k$ï¼Œåˆ™$w(v_i,v_j)=b_k$ Bellman-Fordå¯ä»¥æ±‚è§£ æ‰€æœ‰ç»“ç‚¹å¯¹æœ€çŸ­è·¯çŸ©é˜µä¹˜æ³• æˆ‘ä¸æƒ³ç®¡äº†ï¼ï¼ æ˜¯$n$ç»´çš„Bellman-Ford Floyd-Warshall æœ¬è´¨DPï¼Œæšä¸¾æœ€çŸ­è·¯å¾„ä¸Šçš„ä¸­é—´ç»“ç‚¹ ä¸å…è®¸è´Ÿæƒé‡ç¯ï¼Œä½†æ˜¯èƒ½æŠ¥é”™ï¼ˆçœ‹å¯¹è§’å…ƒæ˜¯å¦æœ‰è´Ÿæ•°ï¼‰ $\\Theta(n^3)$ 1234567void floyd() &#123; init(); //è®°å¾—å°†æ‰€æœ‰map[i][i]ç½®é›¶ for(int k = 1; k &lt;= n; ++k) for(int i = 1; i &lt;= n; ++i) for(int j = 1; j &lt;= n; ++j) map[i][j] = min(map[i][j], map[i][k] + map[k][j]);&#125; Johnsonç®—æ³• ç”¨äºç¨€ç–å›¾ é‡æ–°èµ‹å€¼ æ–°å¢æºç‚¹$s$ï¼Œè¯¥ç‚¹ä¸å„ç‚¹æœ‰æƒé‡ä¸º0çš„è¾¹ å…ˆè·‘ä¸€æ¬¡Bellman-Fordï¼Œæ²¡æœ‰è´Ÿæƒé‡ç¯å°±é‡æ–°èµ‹å€¼ä¸º$\\hat{w}(u,v)=w(u,v)+\\delta(s,u)-\\delta(s,v)$ å¯¹æ¯ä¸ªç‚¹Dijkstra æ¢å¤æƒé‡å¹¶è¿”å› $O(VE\\lg E)$ è¿é€šåº¦å‰²ç‚¹ $v$ä¸å‰²è¾¹ç›¸è¿ï¼Œåˆ™$v$æ˜¯å‰²ç‚¹å½“ä¸”ä»…å½“$deg~v\\ge 2$ å¯¹äºè‡³å°‘æœ‰3ä¸ªé¡¶ç‚¹çš„è¿é€šå›¾ï¼Œåªè¦æœ‰å‰²è¾¹ï¼Œå°±ä¸€å®šæœ‰å‰²ç‚¹ $v$æ˜¯è¿é€šå›¾$G$çš„å‰²ç‚¹ï¼Œå½“ä¸”ä»…å½“å­˜åœ¨ä¸¤ä¸ªä¸åŒçš„é¡¶ç‚¹$u$å’Œ$w$ï¼Œä½¿å¾—$v$ä½äº$u-w$çš„ä»»æ„ä¸€æ¡è·¯å¾„ä¸Š éå¹³å‡¡è¿é€šå›¾ä¸­ï¼Œè·ç¦»æŸä¸ªç‚¹æœ€è¿œçš„ç‚¹ä¸æ˜¯å‰²ç‚¹ ä»»æ„éå¹³å‡¡è¿é€šå›¾è‡³å°‘åŒ…å«ä¸¤ä¸ªéå‰²ç‚¹çš„é¡¶ç‚¹ ä¸å¯åˆ†å›¾ï¼šæ²¡æœ‰å‰²ç‚¹çš„éå¹³å‡¡è¿é€šå›¾ å— å›¾çš„ä¸€ä¸ªæœ€å¤§ä¸å¯åˆ†å­å›¾ã€ç±»æ¯”è¿é€šåˆ†é‡ ä»»æ„ä¸¤ä¸ªä¸åŒå—çš„æ€§è´¨ ä¸ç›¸äº¤ è‡³å¤šä¸€ä¸ªå…¬å…±ç‚¹ å¦‚æœæœ‰å…¬å…±ç‚¹ï¼Œåˆ™è¯¥å…¬å…±ç‚¹ä¸ºå‰²ç‚¹ è¿é€šåº¦ $\\kappa(G)$ç‚¹è¿é€šåº¦=æœ€å°é¡¶ç‚¹å‰²åŸºæ•° $\\lambda(G)$è¾¹è¿é€šåº¦=æœ€å°è¾¹å‰²åŸºæ•° ç‚¹è¿é€šåº¦$\\le$è¾¹è¿é€šåº¦$\\le$æœ€å°åº¦æ•° $\\kappa(G)\\le \\lfloor\\frac{2m}{n}\\rfloor$ Mengerå®šç† è®¾$u$å’Œ$v$æ˜¯$G$ä¸­ä¸¤ä¸ªä¸é‚»æ¥çš„é¡¶ç‚¹ï¼Œåˆ™$u-v$çš„æœ€å°åˆ†ç¦»é›†çš„é¡¶ç‚¹ä¸ªæ•°ç­‰äºå†…éƒ¨ä¸ç›¸äº¤$u-v$è·¯çš„æœ€å¤§ä¸ªæ•° ç±»ä¼¼çš„æœ‰è¾¹å®šç†ï¼šåˆ†ç¦»$u-v$çš„è¾¹çš„æœ€å°ä¸ªæ•°ç­‰äºè¾¹ä¸ç›¸äº¤$u-v$è·¯çš„æœ€å¤§ä¸ªæ•° $k$è¿é€šå½“ä¸”ä»…å½“ä»»æ„ä¸¤ä¸ªé¡¶ç‚¹è‡³å°‘æœ‰$k$æ¡å†…éƒ¨ä¸ç›¸äº¤è·¯ $k$è¿é€šå›¾ä¸­ä»»æ„$k$ä¸ªé¡¶ç‚¹å‡ä½äºæŸä¸€ä¸ªåœˆä¸Š Tarjanç®—æ³•12345678910111213141516171819/*æ— å‘å›¾tarjan*/void tarjan(int u, int pre) &#123; int child = 0; dfs_clock ++; dfn[u] = low[u] = dfs_clock; for(int i = 0; i &lt; son[u].size(); ++i) &#123; int v = son[u][i]; if(!dfn[v]) &#123;//(u,v)æ˜¯æ ‘è¾¹ tarjan(v,u); child ++; low[u] = min(low[u], low[v]); if((u == 1 &amp;&amp; child &gt; 1) || (u != 1 &amp;&amp; dfn[u] &lt;= low[v])) &#123; cut_node.push_back(u); &#125;//å‰²ç‚¹åˆ¤å®šï¼šæ ¹ç»“ç‚¹æœ‰å¤šä¸ªå­æ ‘ï¼Œæˆ–éæ ¹ç»“ç‚¹çš„è®¿é—®åºæ•°å°äºç­‰äºèƒ½å›æº¯çš„æœ€å¤§ç¥–å…ˆ if(low[v] &gt; dfn[u]) bridge.push_back(&#123;min(u,v), max(u,v)&#125;); &#125; else if(dfn[v] &lt; dfn[u] &amp;&amp; v != pre) low[u] = min(low[u], dfn[v]); &#125;&#125; æ—…è¡Œé—®é¢˜æ¬§æ‹‰å›¾ æ¬§æ‹‰å›è·¯ã€é—­åˆã€‘/æ¬§æ‹‰è¿¹ æœ‰æ¬§æ‹‰å›è·¯æ‰ç®—æ¬§æ‹‰å›¾ ä¸€ä¸ªéå¹³å‡¡è¿é€šå›¾æ˜¯Eulerçš„ å½“ä¸”ä»…å½“å®ƒçš„æ¯ä¸ªé¡¶ç‚¹çš„åº¦éƒ½ä¸ºå¶æ•° æœ‰æ¬§æ‹‰è¿¹å½“ä¸”ä»…å½“åªæœ‰ä¸¤ä¸ªå¥‡åº¦ç‚¹ å“ˆå¯†å°”é¡¿å›¾ å“ˆå¯†å°”é¡¿åœˆ/å“ˆå¯†å°”é¡¿è·¯ æ€§è´¨ $G$çš„ä»»ä¸€éç©ºå­é›†$S$ï¼Œéƒ½æœ‰$k(G-S)\\ge |S|$ï¼ˆ$G$æ˜¯å“ˆå¯†å°”é¡¿å›¾ï¼Œ$k(G)$æŒ‡å›¾$G$çš„è¿é€šåˆ†æ”¯æ•°ï¼‰ å……åˆ†æ¡ä»¶ (Oreå®šç†)å¯¹äºä¸å°‘äº3ä¸ªé¡¶ç‚¹çš„å›¾ï¼Œä»»æ„ä¸¤ä¸ªä¸é‚»æ¥çš„é¡¶ç‚¹åº¦æ•°ä¹‹å’Œå¤§äºç­‰äº$n$ï¼Œåˆ™$G$æ˜¯å“ˆå¯†å°”é¡¿çš„ã€‚ æ¨è®ºï¼šæ¯ä¸ªç‚¹çš„åº¦æ•°å¤§äºç­‰äº$n/2$ $u$å’Œ$v$æ˜¯ä¸é‚»æ¥çš„ä¸¤ä¸ªé¡¶ç‚¹ï¼Œä¸”åº¦æ•°ä¹‹å’Œå¤§äºç­‰äº$n$ï¼Œåˆ™$G+uv$æ˜¯å“ˆå¯†å°”é¡¿çš„å½“ä¸”ä»…å½“$G$æ˜¯å“ˆå¯†å°”é¡¿çš„ ä¸€ä¸ªå›¾æ˜¯å“ˆå¯†å°”é¡¿çš„å½“ä¸”ä»…å½“å®ƒçš„é—­åŒ…æ˜¯å“ˆå¯†å°”é¡¿çš„ å¯¹äºæ¯ä¸ªæ•´æ•°$j(1\\le j\\le n/2)$ï¼Œ$G$ä¸­åº¦æ•°è‡³å¤šä¸º$j$çš„é¡¶ç‚¹æ•°å°äº$j$ï¼Œåˆ™$G$æ˜¯å“ˆå¯†å°”é¡¿çš„ åŒ¹é…ä¸è¦†ç›–åŒ¹é… Hallæ¡ä»¶ï¼š$\\forall X\\subseteq U, |N(X)\\ge |X|$ å©šå§»å®šç†ï¼š$r$ä¸ªå¥³äººï¼Œ$s$ä¸ªç”·äººï¼Œå¯èƒ½å‡ºç°$r$å¯¹å©šå§»å½“ä¸”ä»…å½“å¯¹ä»»æ„$k$ï¼Œä»»æ„$k$ä¸ªå¥³äººå…±è®¤è¯†è‡³å°‘$k$ä¸ªç”·äººã€‚ æœ€å¤§åŒ¹é… å®Œç¾åŒ¹é…ï¼šé˜¶ä¸º$2k$çš„å›¾å­˜åœ¨ä¸€ä¸ªåŸºæ•°ä¸º$k$çš„åŒ¹é… ä»»æ„$r$æ­£åˆ™äºŒéƒ¨å›¾å‡æœ‰ä¸€ä¸ªå®Œç¾åŒ¹é… ç‹¬ç«‹æ€§å‚æ•° æœ€å¤§è¾¹ç‹¬ç«‹æ•°$\\alphaâ€™(G)$ æœ€ä¸‹è¾¹è¦†ç›–æ•°$\\betaâ€™(G)$ æœ€å¤§ç‚¹ç‹¬ç«‹æ•°$\\alphaâ€™(G)$ æœ€å°ç‚¹è¦†ç›–æ•°$\\beta(G)$ Gallaiæ’ç­‰å¼ ç‚¹ç‹¬ç«‹æ•°+ç‚¹è¦†ç›–æ•°=$n$ è¾¹ç‹¬ç«‹æ•°+è¾¹è¦†ç›–æ•°=$n$ ä¸€èˆ¬ç‹¬ç«‹é›†æ¯”è¦†ç›–é›†å¥½æ±‚ å› å­åˆ†è§£ $r-$å› å­ï¼šå›¾$G$çš„$r-$æ­£åˆ™ç”Ÿæˆå›¾ å®Œç¾åŒ¹é…äº§ç”Ÿ1-å› å­ å›¾$G$åŒ…å«1-å› å­å½“ä¸”ä»…å½“å¯¹äº$V(G)$çš„ä»»æ„çœŸå­é›†$S$,$k_O(G-S)\\le |S|$ã€‚($k_O(G)$è¡¨ç¤º$G$çš„å¥‡è¿é€šåˆ†æ”¯ä¸ªæ•°) Petersenå®šç†ï¼šæ‰€æœ‰æ— å‰²è¾¹çš„3-æ­£åˆ™å›¾åŒ…å«1-å› å­ ä»»ä¸€è‡³å¤šæœ‰ä¸¤æ¡å‰²è¾¹çš„3-æ­£åˆ™å›¾åŒ…å«1-å› å­ å¯å› å­åˆ†è§£ï¼šèƒ½åˆ’åˆ†æˆå¤šä¸ªå› å­ Petersenå›¾ä¸å¯1-å› å­åˆ†è§£ åŒˆç‰™åˆ©ç®—æ³•123456789101112131415161718192021bool find(int x) &#123; for(int i = 1; i &lt;= n; ++i) &#123; if(map[x][i] &amp;&amp; !vis[i]) &#123; vis[i] = true; if(match[i] == 0 || find(match[i])) &#123; match[i] = x; return true; &#125; &#125; &#125; return false;&#125;int hungary() &#123; int ans = 0; for(int i = 1; i &lt;= n; ++i) &#123; memset(vis, 0 ,sizeof(vis)); if(find(i)) ans ++; &#125; return ans;&#125; æœ€å¤§æµæµ $f:V\\times V\\to\\mathbb{R}$ å®¹é‡é™åˆ¶ï¼š$0\\le f(u,v)\\le c(u,v)$ æµé‡å®ˆæ’ï¼š$\\forall u\\in V-s,t, \\sum\\limits{v\\in V}f(u,v)=\\sum\\limits_{v\\in V}f(v,u)$ã€æµå…¥=æµå‡ºã€‘ æµçš„å€¼$|f|=\\sum\\limits{v\\in V}f(s,v)-\\sum\\limits{v\\in V}f(v,s)$(ä»æºç»“ç‚¹æµå‡ºçš„æ€»æµé‡-æµå…¥æºç»“ç‚¹çš„æ€»æµé‡) å‡ ç§ç‰¹æ®Šå¤„ç† åå¹³è¡Œè¾¹ï¼šæ‹†å…¶ä¸­ä¸€æ¡è¾¹ä¸ºä¸¤æ¡è¾¹ å¤šæºå¤šæ±‡ æ®‹å­˜ç½‘ç»œæ®‹å­˜å®¹é‡ c_f=(u,v)=\\begin{cases} c(u,v)-f(u,v) & (u,v)\\in E \\\\ f(v,u) & (v,u)\\in E\\\\ 0 & o.w.åˆ‡å‰² æŠŠ$V$åˆ’åˆ†ä¸º$S$å’Œ$T$ä¸¤ä¸ªé›†åˆï¼Œå…¶ä¸­$s\\in S, t\\in T$ æ¨ªè·¨è¯¥åˆ‡å‰²çš„å‡€æµé‡ï¼š$f(S,T)=\\sum\\limits{u\\in S}\\sum\\limits{v\\in T}f(u,v)-\\sum\\limits{u\\in S}\\sum\\limits{v\\in T}f(v,u)$ã€æ‰€æœ‰ç»“ç‚¹å¯¹çš„æµé‡ä¹‹å’Œ åˆ‡å‰²çš„å®¹é‡ï¼š$c(S,T)=\\sum\\limits{v\\in S}\\sum\\limits{v\\in T}c(u,v)$ã€åªè€ƒè™‘$S$å‡ºå‘è¿›å…¥$T$çš„å®¹é‡ æœ€å°åˆ‡å‰²ï¼šå®¹é‡æœ€å°çš„åˆ‡å‰² æœ€å¤§æµæœ€å°å‰²å®šç† ç½‘ç»œæµè§£å†³æœ€å¤§åŒ¹é… ä¸€ä¸ªé›†åˆè¿$s$ï¼Œä¸€ä¸ªé›†åˆè¿$t$ï¼Œä¸¤ä¸ªé›†åˆé—´ä¸¤ä¸¤è¿ï¼Œæ¯æ¡è¾¹éƒ½æ˜¯å•ä½å®¹é‡ $O(VE)$ å›¾è®ºè¯æ˜æ–¹æ³•è§£é¢˜æ—¶å¯èƒ½ä¼šç”¨åˆ°ä¸€ä¸ªæˆ–å¤šä¸ª åè¯æ³• æ„é€ æ³• ä¸´ç•Œæ³•(æœ€å°/æœ€å¤§çš„æ»¡è¶³æ¡ä»¶çš„ä¸€ä¸ªå›¾) å½’çº³æ³• ç®—ä¸¤æ¬¡","categories":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/categories/Notes/"}],"tags":[{"name":"Problem Solving","slug":"Problem-Solving","permalink":"https://mengzelev.github.io/tags/Problem-Solving/"}]},{"title":"Lab4 å®éªŒæŠ¥å‘Š","slug":"lab4-report","date":"2018-12-29T09:22:55.000Z","updated":"2019-01-07T11:15:17.436Z","comments":true,"path":"2018/12/29/lab4-report/","link":"","permalink":"https://mengzelev.github.io/2018/12/29/lab4-report/","excerpt":"","text":"å®éªŒè¿›åº¦æè¿°æˆ‘å·²å®Œæˆæ‰€æœ‰å†…å®¹ã€‚ ä»¥ä¸‹æ˜¯å¯ä»¥å¿½ç•¥çš„ç¢ç¢å¿µï¼š å®éªŒå¼€å§‹ä¸€å°æ—¶ï¼šå†™ä»£ç ï¼›å®éªŒå¼€å§‹ä¸¤å°æ—¶æ¨ç¿»å‰ä¸€ä¸ªå°æ—¶å†™çš„ä»£ç ï¼›å®éªŒå¼€å§‹å››å°æ—¶ï¼šæ¨ç¿»å‰ä¸¤å°æ—¶å†™çš„ä»£ç â€¦â€¦ ä¼šå‘ç”Ÿä¸Šé¢çš„æƒ…å†µå…¶å®æ˜¯å› ä¸ºå†™cache_readçš„æ—¶å€™è§‰å¾—è°ƒå…¥è°ƒå‡ºå¯ä»¥å°è£…ä¸ºå‡½æ•°ï¼Œå†™åˆ°cache_writeçš„æ—¶å€™è§‰å¾—cache_readé‡Œçš„å¯»æ‰¾æ¯”å¯¹ã€ç¼ºå¤±å¤„ç†éƒ½å¯ä»¥å°è£…æˆå‡½æ•°ã€‚åœ¨å†™PAçš„æ—¶å€™æ·±å—Copy-pasteå…¶å®³ï¼Œæ‰€ä»¥æƒ³æŠŠèƒ½å…±äº«çš„ä»£ç éƒ½å°½é‡å°è£…æˆå‡½æ•°ï¼Œå‡è½»debugçš„ç—›è‹¦ æµ‹è¯•çš„æ—¶å€™æ›¾ç»å‡ºç°è¿‡å†™è¿‡çš„åœ°å€ä»cacheè°ƒå‡ºä¹‹åå›å†™åˆ°å†…å­˜ä¸æˆåŠŸã€‚åŠ äº†å›å†™æ£€æŸ¥å‡½æ•°check_write_back()ä¾ç„¶æ²¡æœ‰å®šä½é”™è¯¯ã€‚å‡ºå»å¹äº†å†·é£çªç„¶æ„è¯†åˆ°å¯èƒ½æ˜¯å›å†™çš„å†…å­˜åœ°å€ç®—é”™äº†ã€‚å›å»ä¸€çœ‹å‘ç°æ˜¯cacheè£…å…¥çš„æ—¶å€™tagæ²¡æœ‰æ›´æ–°ã€‚ç»“è®ºï¼šå¹å†·é£è°ƒè¯•æ³•çœŸæœ‰ç”¨ ä¸€å¼€å§‹åœ¨è™šæ‹Ÿæœºé‡Œç”¨vimå†™çš„æ—¶å€™ï¼Œä¸ºäº†åŒºåˆ†å˜é‡ï¼Œéƒ½å–äº†è¶…é•¿çš„åå­—ï¼Œæ‰“èµ·æ¥å¾ˆç´¯ï¼Œåæ¥æ— å¥ˆå…ˆåœ¨windowsé‡Œç”¨CLionæ‰“å¼€å†™äº†åŸºæœ¬æ¡†æ¶å†æ”¾åˆ°Linuxé‡Œè¿›è¡Œè°ƒè¯•(å› ä¸ºè™šæ‹Ÿæœºé‡Œå¼€CLionä¼šå¡çˆ†)ã€‚CLionå†™ä»£ç çœŸçš„æ˜¯ä½“éªŒæä½³ï¼Œä¸‹å­¦æœŸOSLabåŒç³»ç»Ÿèµ°èµ·äº† æˆ‘ä¸ª**ï¼ï¼ï¼ç¬¬ä¸€éåšå®Œæ•°æ®æ²¡ç”¨ç»™å®šçš„traceï¼ç¬¬äºŒéåšçš„æ•°æ®è¢«æˆ‘ä¸€ä¸ªæ‰‹æŠ–æ°¸ä¹…åˆ é™¤äº†ï¼ï¼ï¼excelè¿˜æ²¡åŠæ³•è„šæœ¬å¯¼å…¥ï¼ï¼ï¼ä¸€ä¸ªæ•°æ®åšäº†3éï¼ï¼ï¼ ä»£ç è§£é‡Šä¸ºäº†æé«˜ä»£ç çš„å¤ç”¨ç‡ã€é™ä½debugè´Ÿæ‹…ï¼Œæˆ‘å°è£…äº†å¾ˆå¤šAPIã€‚ ä¸ºäº†æ¨¡æ‹Ÿcacheç»“æ„å®šä¹‰äº†å¦‚ä¸‹ç»“æ„ä½“ 123456struct CacheLine &#123; bool valid; //æœ‰æ•ˆä½ bool dirty; //è„ä½ uint32_t tag; //æ ‡è®°ä½ uint32_t data[16]; //ä¸€è¡Œ64Bæ•°æ®&#125;line[1024]; å®šä¹‰äº†å¦‚ä¸‹å…¨å±€å˜é‡æ¥è®°å½•cacheçš„ç›¸å…³ä¿¡æ¯ 123456/* cache info */int ass_width; //å…³è”å®½åº¦int total_width; //æ€»å®½åº¦int group_width; //ç»„å®½åº¦(æŒ‡cacheç»„å·åœ¨ä¸»å­˜åœ°å€ä¸­çš„ä½æ•°)#define NR_ASS exp2(ass_width) //å®å®šä¹‰ï¼Œç»„å†…è¡Œæ•°#define OFFSET 0x3f //ä¸æ“ä½œåå¯ä»¥å–å‡ºå—å†…åç§»é‡ å°†ä»¥ä¸‹åŠŸèƒ½å°è£…ä¸ºäº†APIã€‚å› ä¸ºå®å®šä¹‰ä¼šæ¶‰åŠåˆ°åŠ æ‹¬å·ç­‰é—®é¢˜ï¼Œæ€•å‡ºç°å¥‡å¥‡æ€ªæ€ªçš„bugï¼Œæ‰€ä»¥å¹¶æ²¡æœ‰ä½¿ç”¨å®å®šä¹‰ï¼Œè€Œæ˜¯ç›´æ¥ç”¨å‡½æ•°ä»£æ›¿ 123456789uint32_t get_tag(uintptr_t addr) &#123; //è·å¾—ä¸€ä¸ªå†…å­˜åœ°å€çš„tagå­—æ®µ return (addr &gt;&gt; (group_width + BLOCK_WIDTH));&#125;uint32_t get_group(uintptr_t addr) &#123; //è·å¾—ä¸€ä¸ªå†…å­˜åœ°å€çš„cacheç»„å·å­—æ®µ return ((addr &gt;&gt; BLOCK_WIDTH) &amp; mask_with_len(group_width));&#125; 1234567891011121314151617181920212223void move_in(uintptr_t addr, int line_num) &#123; //å°†ä¸»å­˜ä¸­æŸä¸€å—è°ƒå…¥cacheä¸­ assert(line[line_num].valid == false); uint32_t block_num = addr &gt;&gt; BLOCK_WIDTH; mem_read(block_num, (uint8_t*)(line[line_num].data)); line[line_num].valid = true; line[line_num].dirty = false; line[line_num].tag = get_tag(addr);&#125;void move_out(int group_num, int line_num) &#123; //å°†cacheçš„æŸä¸€è¡Œè°ƒå›åˆ°ä¸»å­˜ä¸­ï¼ŒåŒæ—¶åˆ¤æ–­dirty bitå¹¶å†™å› assert(line[line_num].valid == true); assert(line_num &lt; 1024); line[line_num].valid = false; if(line[line_num].dirty) &#123; uintptr_t block_num = (line[line_num].tag &lt;&lt; group_width) + group_num; mem_write(block_num, (uint8_t*)line[line_num].data); line[line_num].dirty = false; //write back &#125;&#125; 1234567891011121314151617181920212223242526272829303132333435int find_in_group(uintptr_t addr, int group_num) &#123; //åœ¨æŸä¸€ç»„å¯»æ‰¾æ‰¾æŸä¸»å­˜åœ°å€å¯¹åº”çš„è¡Œï¼Œè¿”å›å…¶æ‰€åœ¨è¡Œå·ï¼Œç¼ºå¤±åˆ™è¿”å›-1 int group_start = group_num * NR_ASS; int group_end = group_start + NR_ASS; uint32_t tag = get_tag(addr); for(int i = group_start; i &lt; group_end; ++i) &#123; if(line[i].valid &amp;&amp; line[i].tag == tag) &#123; cycle_increase(1); hit_visit ++; return i; &#125; &#125; return -1;&#125;int replace_in_group(uintptr_t addr, int group_num) &#123; //å°†ä¸»å­˜åœ°å€å¯¹åº”çš„ä¸»å­˜å—è°ƒå…¥cacheä¸­ miss_visit ++; int group_start = group_num * NR_ASS; int group_end = group_start + NR_ASS; for(int i = group_start; i &lt; group_end; ++i) &#123; if(!line[i].valid) &#123; move_in(addr, i); return i; &#125; &#125; //å¦‚æœç»„å†…æœ‰ç©ºè¡Œï¼Œåˆ™ç›´æ¥æ”¾å…¥ç©ºè¡Œä¸­ int line_out = group_start + choose(NR_ASS); assert(line_out &lt; group_end); move_out(group_num, line_out); move_in(addr, line_out); //å¦åˆ™éšæœºæ›¿æ¢ä¸€è¡Œ return line_out;&#125; 123456void write_in_line(int line_num, int index, uint32_t data, uint32_t wmask) &#123; //å°†æ•°æ®å†™å…¥cacheæŸä¸€è¡Œçš„æŸä¸ªindexä¸­ line[line_num].dirty = true; line[line_num].data[index] &amp;= (~wmask); line[line_num].data[index] |= (data &amp; wmask);&#125; è¿™æ ·ä¸€æ¥éœ€è¦å®ç°çš„3ä¸ªå‡½æ•°åªéœ€è¦è°ƒç”¨ä»¥ä¸ŠAPIå³å¯ 123456789101112131415161718192021222324252627282930313233343536373839404142void init_cache(int total_size_width, int associativity_width) &#123; /*è®¾ç½®cacheçš„ä¸€ç³»åˆ—å‚æ•°*/ total_width = total_size_width; assert(total_width &lt;= 14); ass_width = associativity_width; group_width = total_width - ass_width - BLOCK_WIDTH; /*åˆå§‹åŒ–ç”¨äºç»Ÿè®¡çš„å˜é‡*/ cycle_cnt = 0; total_visit = hit_visit = miss_visit = 0; /* set all the valid bits and dirty bits to invalid */ for(int i = 0; i &lt; NR_LINE; ++i) line[i].valid = line[i].dirty = false;&#125;uint32_t cache_read(uintptr_t addr) &#123; total_visit ++; uint32_t group_num = get_group(addr); uint32_t index = (addr &amp; OFFSET) / sizeof(int); //index in group int line_num = find_in_group(addr, group_num); if(line_num &gt;= 0) return line[line_num].data[index]; //hitåˆ™ç›´æ¥è¯»å‡º int line_out = replace_in_group(addr, group_num); return line[line_out].data[index]; //å¦åˆ™ä»ä¸»å­˜è°ƒå…¥cache&#125;void cache_write(uintptr_t addr, uint32_t data, uint32_t wmask) &#123; total_visit++; uint32_t group_num = get_group(addr); uint32_t index = (addr &amp; OFFSET) / sizeof(int); //index in group int line_num = find_in_group(addr, group_num); if(line_num &gt;= 0) write_in_line(line_num, index, data, wmask); //hitåˆ™ç›´æ¥å†™å…¥ else &#123; int line_out = replace_in_group(addr, group_num); write_in_line(line_out, index, data, wmask); &#125;//å¦åˆ™å†™åˆ†é…&#125; cacheæ€§èƒ½æµ‹è¯•è¿è¡Œæ—¶é—´æµ‹ç®— æ¡†æ¶ä»£ç å·²ç»ç»™å†…å­˜çš„è¯»å†™èµ‹å¥½äº†ç›¸åº”çš„æ—¶é’Ÿå‘¨æœŸæ•°ï¼Œæ‰€ä»¥æˆ‘å¾ˆè‡ªç„¶åœ°æƒ³åˆ°é€šè¿‡ç»Ÿè®¡æ—¶é’Ÿå‘¨æœŸæ•°æ¥ç»Ÿè®¡è¿è¡Œçš„æ—¶é—´ å…³äºæ€ä¹ˆå¯¹cacheè¯»å†™æ“ä½œçš„æ—¶é’Ÿå‘¨æœŸæµ‹ç®—ï¼Œè®²ä¹‰è¯´å¯ä»¥å»ºç«‹å…³äºå…³è”åº¦çš„å¸¦å‚æ•°çš„æ¨¡å‹ï¼Œä½†æ˜¯æˆ‘å›æƒ³èµ·æ¥è¯¾æœ¬ä¸Šè®²è¿‡ï¼Œç»„ç›¸è”ç»„å†…æ˜¯ç”¨äº†å¾ˆå¤šæ¯”è¾ƒå™¨è¿›è¡Œå¹¶è¡Œæ¯”è¾ƒçš„ã€‚æ‰€ä»¥æˆ‘è®¤ä¸ºè¯»å†™çš„æ—¶é’Ÿå‘¨æœŸæ•°åº”è¯¥å’Œå…³è”åº¦ä»¥åŠcacheå®¹é‡å…³ç³»ä¸å¤§ï¼Œæ‰€ä»¥å°†è¯»å†™çš„æ—¶é’Ÿå‘¨æœŸéƒ½è®¾ç½®ä¸º1ã€‚&gt;å¯èƒ½ä¹Ÿæœ‰æƒ³çœäº‹çš„æƒ°æ€§æˆåˆ†åœ¨é‡Œé¢ é™¤æ—¶é’Ÿå‘¨æœŸæ•°å¤–ï¼Œè¿˜è¡¡é‡ä¸€ä¸ªç¼ºå¤±ç‡ã€‚ç”±äºä¸»å­˜è¯»å†™æ¯”cacheè¯»å†™æ…¢å¾—å¤šï¼Œè¯»å†™å‘½ä¸­ç‡ä¹Ÿèƒ½è¡¨å¾cacheçš„æ€§èƒ½ å£°æ˜äº†ä¸€äº›ç”¨äºç»Ÿè®¡çš„å˜é‡ 1234/* statistics */uint64_t total_visit = 0;uint64_t hit_visit = 0;uint64_t miss_visit = 0; æµ‹ç®—æ–¹æ³•ï¼šæ§åˆ¶å˜é‡æ³•ï¼Œæ§åˆ¶ç»„ç›¸è”åº¦æˆ–cacheæ€»å®½åº¦å…¶ä¸­ä¸€ä¸ªé‡ä¸å˜ï¼Œæ”¹å˜å¦å¤–ä¸€ä¸ªé‡ã€‚æ¯ç§é…ç½®æµ‹é‡3æ¬¡åå–å¹³å‡ã€‚æ ¹æ®ç»“æœä½¿ç”¨excelä½œå›¾ï¼Œå¾—åˆ°å¦‚ä¸‹ç»“æœã€‚ã€æ•°æ®å·²ç»æ”¾åœ¨æ‰“åŒ…ä¸Šä¼ çš„.xlsxæ–‡ä»¶ä¸­ã€‘ ä»ä»¥ä¸Šæ•°æ®å’Œå›¾è¡¨ä¸­å¯ä»¥çœ‹å‡ºï¼š cacheå®¹é‡è¶Šå¤§ï¼Œç¼ºå¤±ç‡è¶Šä½ï¼ŒèŠ±è´¹çš„æ€»æ—¶é’Ÿå‘¨æœŸæ•°ä¹Ÿè¶Šå°‘ã€‚è¿™æ˜¯å› ä¸ºcacheå®¹é‡å¤§äº†ä»¥åï¼Œèƒ½è£…å…¥æ›´å¤šçš„ä¸»å­˜å—ï¼Œç¼ºå¤±ç‡å°±ä¼šç›¸åº”åœ°é™ä½ï¼Œéœ€è¦è¿›è¡Œæ›¿æ¢çš„æ¬¡æ•°ä¹Ÿä¼šå˜å°‘ã€‚ä½†æ˜¯cacheå¤§å°±æ„å‘³ç€é«˜æ˜‚çš„é€ ä»·ï¼Œè€Œä¸”SDRAMçš„æè´¨(?)å†³å®šäº†cacheä¸å¯èƒ½åšåˆ°å¾ˆå¤§ã€‚è€Œä¸”ç”±å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œå½“cacheå®¹é‡å¢å¤§åˆ°ä¸€å®šå¤§å°æ—¶ï¼Œå…¶æ€§èƒ½å¢é•¿å°±å¾ˆä¸æ˜æ˜¾äº†ï¼Œå› æ­¤ä¸€èˆ¬ä¼šé€‰æ‹©æ¯”è¾ƒä¸­ç­‰çš„å¤§å°ã€‚ ç¼ºå¤±ç‡ä¸ç»„ç›¸è”åº¦ä¼¼ä¹å¹¶ä¸æ˜¯å‘ˆå•è°ƒå…³ç³»ã€‚åŸç†ä¸Šåˆ†æï¼Œç»„ç›¸è”åº¦è¶Šå¤§ï¼ŒåŒä¸€ç»„å†…å‘ç”Ÿå†²çªçš„æ¦‚ç‡å°±è¶Šä½ï¼Œéœ€è¦è°ƒå‡ºçš„æ¬¡æ•°ä¹Ÿä¼šè¶Šä½ã€‚ä½†æœ‰å¯èƒ½microbench-testä¸­çš„è®¿å­˜é¡ºåºä¼šå¯¼è‡´æŸäº›ç»å¸¸è®¿é—®çš„å—ï¼Œåœ¨ç›¸è”åº¦è¾ƒå°æ—¶è¢«æ”¾åˆ°äº†ä¸åŒçš„ç»„ä¸­ï¼Œè€Œç›¸è”åº¦è¾ƒå¤§æ—¶è¢«æ”¾åˆ°äº†åŒä¸€ç»„ä¸­ï¼Œå¯¼è‡´å‘ç”Ÿå†²çªçš„æ¬¡æ•°å¢åŠ ã€‚è€Œä¸”è¶Šé«˜çš„ç»„ç›¸è”åº¦ï¼Œæ„å‘³ç€è¶Šå¤šçš„æ¯”è¾ƒå™¨ï¼Œæ„å‘³ç€æ›´å¤§çš„ä½“ç§¯å’Œæ›´é«˜çš„é€ ä»·ã€‚ ç»¼ä¸Šï¼Œå¯¹äºmicrobench-testä¸‹çš„workloadï¼Œæˆ‘è®¤ä¸ºæœ€ä½³çš„ç»„ç›¸è”å®½åº¦æ˜¯2(4è·¯ç»„ç›¸è”)ã€‚å¦‚æœæœ‰é’±ä»»æ€§ï¼Œcacheå®¹é‡è¶Šå¤§è¶Šå¥½ï¼›å¦‚æœè¦çœé’±ç»æµï¼Œ12æˆ–13çš„å®¹é‡å®½åº¦(4KBæˆ–8KBçš„å®¹é‡)æ˜¯æ¯”è¾ƒç†æƒ³çš„ã€‚ æ€è€ƒé¢˜æ•°æ®å¯¹é½å’Œå­˜å‚¨å±‚æ¬¡ç»“æ„ å¦‚æœæ²¡æœ‰å¯¹é½ï¼ŒåŒä¸€ä¸ªæ•°æ®å¯èƒ½ä¼šè¢«åˆ†é…å†ä¸¤ä¸ªä¸»å­˜å—çš„äº¤ç•Œå¤„ï¼Œè¯»å–è¿™ä¸ªæ•°æ®çš„æ—¶å€™å‘ç”Ÿcache missçš„æ¦‚ç‡æ›´å¤§ï¼Œcache missåå¯èƒ½éœ€è¦è°ƒå…¥ä¸¤ä¸ªä¸»å­˜å—ï¼Œä»£ä»·æ›´å¤§ï¼Œè¿è¡Œé€Ÿåº¦ä¼šå¤§å¤§é™ä½ã€‚ ä¸çŸ¥é“cacheçš„å¤æ‚æ€§å¯¹é¢‘ç‡çš„å½±å“? æˆ‘ä¸æ˜¯å¾ˆçœ‹å¾—æ‡‚è¿™é‡Œçš„å»ºæ¨¡çš„æ„æ€ã€‚æˆ‘è®¤ä¸º$ak^2+b$ä¸­%a,b$åªæ˜¯ä¸¤ä¸ªå‚æ•°ï¼Œè€ƒå¯Ÿå®ƒä»¬å¯¹cacheæ€§èƒ½çš„å½±å“æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œè€Œæ˜¯åº”è¯¥å›ºå®š$a,b$ï¼Œè€ƒå¯Ÿç»„ç›¸è”åº¦å’Œcacheå®¹é‡å¯¹cacheæ€§èƒ½çš„å½±å“ã€‚ä½†æ˜¯æˆ‘å·²ç»åœ¨ä¸Šæ–‡æåˆ°äº†æˆ‘å¹¶æ²¡æœ‰æŠŠè¿™ä¸¤è€…ä¸cacheçš„è¯»å†™é€Ÿåº¦å…³è”èµ·æ¥ã€‚æ‰€ä»¥æˆ‘æ²¡æœ‰å»ºç«‹å¸¦å‚æ•°çš„æ¨¡å‹ã€‚ Acknowledgements æ„Ÿè°¢ä¸æ°´çš„æ­£ç»å­¦ä¹ ç¾¤çš„æœ‹å‹ä»¬å½“æˆ‘çš„å°é»„é¸­ï¼Œå¸®æˆ‘è°ƒè¯• æ„Ÿè°¢*çš„è‡ªå·±ï¼Œå› ä¸ºä¸€ç³»åˆ—\\*è¡Œä¸ºï¼ŒæˆåŠŸé”»ç‚¼äº†å¿ƒç†æ‰¿å—èƒ½åŠ›","categories":[],"tags":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/tags/Notes/"},{"name":"Lab","slug":"Lab","permalink":"https://mengzelev.github.io/tags/Lab/"},{"name":"Ics","slug":"Ics","permalink":"https://mengzelev.github.io/tags/Ics/"}]},{"title":"PA4å®éªŒæŠ¥å‘Š","slug":"PA4-report","date":"2018-12-28T08:00:32.000Z","updated":"2019-01-07T11:13:04.106Z","comments":true,"path":"2018/12/28/PA4-report/","link":"","permalink":"https://mengzelev.github.io/2018/12/28/PA4-report/","excerpt":"","text":"å®éªŒè¿›åº¦æˆ‘å·²å®Œæˆå…¨éƒ¨å®éªŒå†…å®¹ã€‚ 2018/12/15:å®ŒæˆPA4.1ã€‚ä¸å°‘è‡ªè®¤ä¸ºå…³é”®çš„åœ°æ–¹ç«Ÿç„¶æ€ä¹ˆæ”¹éƒ½æ˜¯å¯¹çš„ï¼Œæœ‰ç‚¹æ…Œ 2018/12/16:PA4.2ç¬¬ä¸€ä¸ªä»»åŠ¡å®Œæˆï¼Œå†ä¸å¼€å§‹åšæ•°ç”µå¤§å®éªŒå°±è¦æ­»äº†ï¼Œåªèƒ½å°å°PA 2018/12/23ï¼šè¢«æ•°ç”µå¤§å®éªŒæŠ˜ç£¨å®Œï¼ŒPA4.2å®Œæˆã€‚ä»™å‰‘è·‘å¾—æ…¢åˆ°æ„Ÿäººã€‚ 2018/12/24ï¼šå¹³å®‰å¤œï¼Œå‘ç°4.2æœ€åä¸€ä¸ªtaskå¿˜äº†è·‘äº†ï¼Œå®šä½äº†åŠå¤©bugå‘ç°æ˜¯context_kloadå¿˜äº†æ”¹æˆcontext_uloadï¼Œå¿ƒæƒ…ç®€å•ã€‚å¼€å§‹åš4.3ï¼Œä½†æ˜¯ç”±äºå‰å‡ å¤©ç¡çœ ä¸è¶³è¿ç€å†™äº†å¥½å‡ ä¸ªæ²™é›•bugï¼Œäºæ˜¯å†³å®šå…ˆæ”¾å¼ƒã€‚ 2018/12/25ï¼šåœ£è¯èŠ‚ï¼Œç»§ç»­å†™PA4.3ï¼ŒèŠ±äº†ä¸€ä¸ªå°æ—¶è§£å†³äº†å¹³å®‰å¤œæ˜ç¡çŠ¶æ€ä¸‹å†™å‡ºçš„æ²™é›•bugï¼ŒèŠ±äº†4ä¸ªå°æ—¶è§£å†³äº†å½“å¤©å†™å‡ºçš„æ²™é›•bugï¼Œä¹Ÿå°±æ˜¯PAæœ€åä¸€ä¸ªbugã€‚PAé€šå…³! è“æ¡†æ€è€ƒé¢˜è¿«äºä½œä¸šå’Œå¤ä¹ è€ƒè¯•å‹åŠ›ï¼Œè¿™æ¬¡ä¹Ÿä¸€é“éƒ½æ²¡åšâ€¦â€¦ æˆ‘é‡åˆ°çš„bug æ²¡çœ‹åˆ°è®²ä¹‰ä¸Šè¦æ±‚æŠŠloaderæŠŠæ–‡ä»¶æ˜ å°„åˆ°ç‰©ç†é¡µçš„è¦æ±‚ï¼Œæ˜ å°„åˆ°è™šæ‹Ÿé¡µä¸Šï¼Œç»“æœä¸€ç›´å‡ºå‘pte.present==0çš„assertã€‚ä»”ç»†ä¸€æƒ³loaderçš„ç¡®æœ‰ä¹‰åŠ¡æŠŠç¨‹åºæ¬åˆ°åˆé€‚çš„å®é™…ä½ç½® å³ä½¿æ˜¯ä¸€ä¸ªç®€å•çš„dummyç¨‹åºï¼Œå…¶å†…å®¹ä¹Ÿæœ‰ä¸¤é¡µå¤šã€‚è€Œä¸”ä¸èƒ½ç›´æ¥ç”¨æ–‡ä»¶å¤§å°/PGSIZEï¼Œå¦åˆ™ä½™æ•°éƒ¨åˆ†ä¼šè¢«ä¸¢å¼ƒ make runçš„æ—¶å€™å¯èƒ½ä¼šç¢°åˆ°ä¸€å¤§å †é“¾æ¥æŠ¥é”™ï¼ŒåŸå› ä¸æ˜ï¼Œç›®å‰è§£å†³æ–¹æ¡ˆæ˜¯åœ¨æ‰€æœ‰ç›®å½•ä¸‹éƒ½æ¥ä¸€éclean(-update)-runå…¨å®¶æ¡¶ã€‚è¿™æ—¶å€™è°ƒè¯•å…¬ç†1æ˜¯ä¸æ˜¯è¢«æ‰“ç ´äº†å‘¢ï¼Ÿ _switchæ˜¯ç”¨æ¥åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªè¿›ç¨‹çš„ï¼Œå› æ­¤ä¼ å…¥å‚æ•°è‚¯å®šä¸ºnextè€Œétfã€è¿™ä¸æ˜¯æˆ‘é‡åˆ°çš„bugï¼Œæ˜¯æˆ‘ä¸å°‘åŒå­¦éƒ½é‡åˆ°çš„bugï¼Œæ‰€ä»¥ä¹Ÿè®°ä¸‹æ¥äº† å¢åŠ æ—¶é’Ÿä¸­æ–­æ—¶éœ€è¦å¡«å†™idtè¡¨ï¼Œå¤ªä¹…æ²¡ç¢°ç³»ç»Ÿè°ƒç”¨è¿™ä¸ªéƒ½å¿˜äº† 4.3æœ€åæµ‹è¯•è¿›ç¨‹åˆ‡æ¢çš„æ—¶å€™åƒä¸‡ä¸è¦å› ä¸ºå«Œä»™å‰‘è·‘å¾—å¤ªæ…¢æ¢æˆbmptestï¼Œè¿™ç©æ„å„¿æ˜¯æ ¹æœ¬blockäº†events_read()çš„ï¼Œå¯¼è‡´æˆ‘debugäº†4ä¸ªå°æ—¶æ‰å‘ç° å®éªŒä¸­çš„å‘ç° ä¸cr3å’Œcr0æœ‰å…³çš„æŒ‡ä»¤çš„è¯‘ç å‡½æ•°å…¶å®å¯ä»¥ä½¿ç”¨æ¡†æ¶ä»£ç æä¾›çš„ç°æˆçš„è¯‘ç å‡½æ•°,åªä¸è¿‡éœ€è¦ç ”ç©¶ä¸€ä¸‹æ€ä¹ˆä½¿ç”¨ åœ¨å†™_mapå‡½æ•°æ—¶ï¼Œæˆ‘æ€è€ƒäº†å¾ˆä¹…ï¼Œä¸ºä»€ä¹ˆå½“é¡µç›®å½•çš„presentä½æ— æ•ˆæ—¶ï¼Œè¦ç”¨å›è°ƒå‡½æ•°ç”³è¯·ä¸€ä¸ªæ–°çš„ç‰©ç†é¡µã€‚è§‰å¾—åº”è¯¥æ˜¯æŠŠè¿™ä¸€é¡µä½œä¸ºäº†å­˜æ”¾é¡µè¡¨çš„ç‰©ç†é¡µ ä¸€äº›å¤´æ–‡ä»¶é‡Œæœ‰ä¸å°‘è®²ä¹‰æ²¡æåˆ°çš„ã€å¯ä»¥æ–¹ä¾¿codingçš„å®å®šä¹‰ï¼Œä¾‹å¦‚x86.hå’Œmmu.h,è®ºRTFSCçš„é‡è¦æ€§ å®éªŒå¿ƒå¾— ä¸€å®šè¦å¥½å¥½è¯»è®²ä¹‰ å’ŒåŒå­¦äº¤æµäº†ä¸€ä¸‹ï¼Œå‘ç°ä¸ä¸€å®šè¦å…¨éƒ¨ç†è§£äº†å†å¼€å§‹å†™ä»£ç ã€‚å¯ä»¥æŠŠæ¡†æ¶ä»£ç ä¸­æä¾›çš„ä¸œè¥¿è¾“å‡ºä¸€ä¸‹ï¼Œæ ¹æ®è¾“å‡ºçš„å€¼æ¥çŒœæµ‹è¿™ä¸ªå˜é‡çš„å«ä¹‰ï¼Œæˆ–è€…è¿™ä¸ªå‡½æ•°çš„åŠŸèƒ½ã€‚åšå®éªŒå’Œç†è§£ç†è®ºæ˜¯ç›¸è¾…ç›¸æˆçš„ æ¯æ¬¡å¼€æœºï¼Œçœ‹ç€ä¸€è¡Œè¡Œåˆå§‹åŒ–Logï¼Œå°±ä¼šæƒ³åˆ°è¿™åªæ˜¯ä¸€ä¸ªæ¯”æˆ‘åˆšåˆšé€ å®Œçš„(å…¶å®å¤§éƒ¨åˆ†éƒ½æ˜¯yzhå†™çš„)çš„ä¸œè¥¿å¤æ‚ä¸€ç‚¹(è¿™ä¸ªä¸€ç‚¹æœ‰ç‚¹å¤š)çš„å®¶ä¼™ï¼Œå°±è§‰å¾—äº”å‘³æ‚é™ˆ è¿«äºæ—¶é—´å‹åŠ›ä¸å°‘æŒ‘æˆ˜æé™çš„é€‰åšé¢˜éƒ½æ²¡åš è¿™å­¦æœŸåšPAè¿˜æ˜¯ä¾èµ–äº†ä¸å°‘äººçš„å¸®åŠ©ï¼Œå¯’å‡æƒ³è¦äºŒå‘¨ç›®å¹¶å®ŒæˆPA5ï¼Œå¸Œæœ›ä¹Ÿèƒ½æŠŠä¸å°‘é€‰åšé¢˜éƒ½åšä¸€ä¸‹ Acknowledgements æ„Ÿè°¢æŸäººæä¾›çš„æ¢è·¯å’Œç›¯ç€å†™bugæœåŠ¡ æ„Ÿè°¢ä¸æ°´çš„æ­£ç»å­¦ä¹ ç¾¤çš„ç¾¤å‹ä»¬äº’å¸®äº’åŠ©çš„debugæ°›å›´ æœ¬å®éªŒæŠ¥å‘ŠåŒæ ·ä¼šå°†å»æ‰å¿…ç­”é¢˜çš„ç‰ˆæœ¬åŒæ­¥ä¸Šä¼ è‡³ä¸ªäººblog","categories":[],"tags":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/tags/Notes/"},{"name":"pa","slug":"pa","permalink":"https://mengzelev.github.io/tags/pa/"},{"name":"ICS","slug":"ICS","permalink":"https://mengzelev.github.io/tags/ICS/"}]},{"title":"ç®—æ³•å¯¼è®ºå­¦ä¹ ç¬”è®°-çŸ©é˜µè¿ç®—","slug":"clrs28Matrix-Operation","date":"2018-12-18T01:50:18.000Z","updated":"2019-01-07T11:16:02.932Z","comments":true,"path":"2018/12/18/clrs28Matrix-Operation/","link":"","permalink":"https://mengzelev.github.io/2018/12/18/clrs28Matrix-Operation/","excerpt":"","text":"æ±‚è§£çº¿æ€§æ–¹ç¨‹ç»„Ax=bæ¬ å®šçš„(underdetermined)ï¼šæ–¹ç¨‹çš„æ•°ç›®å°‘äºæœªçŸ¥å˜é‡æ•°ç›®$n$ï¼Œåˆ™è¯¥çº¿æ€§æ–¹ç¨‹ç»„ä¸ºæ¬ å®šçš„è¶…å®šçš„(overdetermined):æ–¹ç¨‹æ•°ç›®è¶…è¿‡æœªçŸ¥å˜é‡æ•°ç›®$n$éå¥‡å¼‚çŸ©é˜µï¼š$A$çš„ç§©ç­‰äºæœªçŸ¥å˜é‡çš„ä¸ªæ•°$n$ LUPåˆ†è§£æ€æƒ³ï¼šæ‰¾å‡º3ä¸ª$n\\times n$çŸ©é˜µ$L,U,P$ï¼Œæ»¡è¶³$PA=LU$,å…¶ä¸­$L$æ˜¯ä¸€ä¸ªå•ä½ä¸‹ä¸‰è§’çŸ©é˜µ$U$æ˜¯ä¸€ä¸ªä¸Šä¸‰è§’çŸ©é˜µ$P$æ˜¯ä¸€ä¸ªç½®æ¢çŸ©é˜µæ¯ä¸€ä¸ªéå¥‡å¼‚çŸ©é˜µ$A$éƒ½ä¼šæœ‰è¿™æ ·ä¸€ç§åˆ†è§£ Ax=bPAx=PbLUx=Pbxæ±‚è§£ä¸¤ä¸ªä¸‰è§’çº¿æ€§ç³»ç»Ÿä¸‹ä¸‰è§’ç³»ç»Ÿ$Ly=Pb$ä¸Šä¸‰è§’ç³»ç»Ÿ$Ux=y$ æ­£å‘æ›¿æ¢ä¸æ–¹å‘æ›¿æ¢å¯åœ¨$\\Theta(n^2)$æ—¶é—´å†…æ±‚è§£ä¸‹ä¸‰è§’ç³»ç»Ÿ ç½®æ¢é˜µ$P$å¯ä»¥ç”¨æ•°ç»„$\\pi[1..n]$è¡¨ç¤º P_{i,j}= \\begin{cases} 1 & (j == \\pi[i])\\\\ 0 & (j\\neq\\pi[i]) \\end{cases}ä»ç¬¬ä¸€ä¸ªå¼å­å¼€å§‹æ­£å‘æ›¿æ¢ï¼Œå¯ä»¥å¾—åˆ° y_i=b_{\\pi[i]}-\\sum\\limits_{j=1}^{i-1}l_{ij}y_iåå‘æ›¿æ¢åŒç†ï¼Œæœ€ç»ˆå¯ä»¥å¾—åˆ° x_i=(y_i-\\sum\\limits_{j=i+1}^{n}u_{ij}x_j)/u_{ii} LUåˆ†è§£è®¡ç®—Gaussæ¶ˆå…ƒæ³•ï¼š è¡Œæ¶ˆå…ƒå¾—åˆ°çš„è¡Œæ¢¯é˜µå³$U$ $L$ç”±æ¶ˆå»å˜é‡æ‰€ç”¨çš„è¡Œçš„ä¹˜æ•°ç»„æˆ å¯ä»¥çœ‹æˆa_{ij}=a_{ij}-\\frac{a_{ik}a_{kj}}{a_{kk}} è¿è¡Œæ—¶é—´$\\Theta(n^3)$ LUPåˆ†è§£è®¡ç®—åœ¨LUåˆ†è§£çš„åŸºç¡€ä¸Šï¼Œä¸ºäº†ä¿è¯é™¤æ•°ä¸ä¸º0å’Œå‡å°‘æ•°å€¼ä¸ç¨³å®šï¼Œæ¯æ¬¡é€‰æ‹©è¯¥åˆ—ä¸­å…·æœ‰æœ€å¤§ç»å¯¹å€¼çš„å…ƒç´ ï¼Œäº¤æ¢åˆ°å¯¹è§’å…ƒçš„ä½ç½® è¿è¡Œæ—¶é—´$\\Theta(n^3)$ çŸ©é˜µæ±‚é€†LUPåˆ†è§£å¯ä»¥ç”¨äºè®¡ç®—é€†çŸ©é˜µ(åºŸè¯ï¼Œé«˜æ–¯æ¶ˆå…ƒå¯ä»¥ï¼ŒLUPå½“ç„¶å¯ä»¥)AX_{i}=e_i çŸ©é˜µä¹˜æ³•å’ŒçŸ©é˜µæ±‚é€†å…·æœ‰ç›¸åŒçš„æ—¶é—´å¤æ‚åº¦ è¯æ˜æ—¶é—´å¤æ‚åº¦ç›¸åŒï¼šä¸¤ä¸ªé—®é¢˜éƒ½èƒ½åœ¨O(å¦ä¸€ä¸ªé—®é¢˜ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦)æ—¶é—´å†…è§£å†³ è¯æ˜çš„æ—¶å€™å¯èƒ½ä¼šç”¨åˆ°åˆ†å—é˜µçš„æ€æƒ³æ¥è½¬åŒ–é—®é¢˜ å¯¹ç§°æ­£å®šé˜µå¼•ç†28.3ï¼šä»»ä½•å¯¹ç§°æ­£å®šçŸ©é˜µéƒ½æ˜¯éå¥‡å¼‚çŸ©é˜µä»»ä½•å¯¹ç§°æ­£å®šçŸ©é˜µéƒ½æœ‰é€†çŸ©é˜µã€‚ å¼•ç†28.4ï¼šå¦‚æœ$A$æ˜¯ä¸€ä¸ªå¯¹ç§°æ­£å®šçŸ©é˜µï¼Œé‚£ä¹ˆ$A$çš„æ¯ä¸€ä¸ªä¸»å­çŸ©é˜µéƒ½æ˜¯å¯¹ç§°æ­£å®šçš„ã€‚ èˆ’å°”è¡¥ï¼šçŸ©é˜µ$A$å…³äºä¸»å­çŸ©é˜µ$A_k$çš„èˆ’å°”è¡¥ä¸º$S=C-B{A_k}^{-1}B^T$ã€‚å…¶ä¸­ï¼Œ$A$ä¸ºå¯¹ç§°æ­£å®šé˜µä¸” A=\\left[ \\begin{matrix} A_k & B^T \\\\ B & C \\end{matrix} \\right]èˆ’å°”è¡¥å®šç†ï¼šå¦‚æœ$A$æ˜¯ä¸€ä¸ªå¯¹ç§°æ­£å®šçŸ©é˜µï¼Œ$A_k$æ˜¯$A$çš„$k\\times k$ä¸»å­çŸ©é˜µï¼Œé‚£ä¹ˆ$A$å…³äº$A_k$çš„èˆ’å°”è¡¥æ˜¯å¯¹ç§°æ­£å®šçš„ã€‚ æ¨è®º28.6ï¼šä¸€ä¸ªå¯¹ç§°æ­£å®šçŸ©é˜µçš„LUåˆ†è§£æ°¸è¿œä¸ä¼šå‡ºç°é™¤æ•°ä¸º0çš„æƒ…å½¢ æœ€å°äºŒä¹˜é€¼è¿‘å°±æ˜¯çœ‹ä¸Šå»å¾ˆå‰å®³å®é™…ä¸ŠçœŸçš„å¾ˆå‰å®³çš„æ›²çº¿æ‹Ÿåˆ","categories":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/categories/Notes/"}],"tags":[{"name":"Problem Solving","slug":"Problem-Solving","permalink":"https://mengzelev.github.io/tags/Problem-Solving/"},{"name":"CLRS","slug":"CLRS","permalink":"https://mengzelev.github.io/tags/CLRS/"},{"name":"Graph Algorithms","slug":"Graph-Algorithms","permalink":"https://mengzelev.github.io/tags/Graph-Algorithms/"}]},{"title":"å›¾è®ºå­¦ä¹ ç¬”è®°-å¹³é¢å›¾ä¸ç€è‰²","slug":"planar-graph-and-coloring","date":"2018-12-13T06:30:30.000Z","updated":"2018-12-15T03:40:57.630Z","comments":true,"path":"2018/12/13/planar-graph-and-coloring/","link":"","permalink":"https://mengzelev.github.io/2018/12/13/planar-graph-and-coloring/","excerpt":"","text":"å¹³é¢å›¾å¹³é¢å›¾(planar graph)ï¼šå¦‚æœ$G$èƒ½å¤Ÿè¢«ç”»åœ¨ä¸€ä¸ªå¹³é¢ä¸Šè€Œä½¿å¾—ä»»ä½•ä¸¤æ¡è¾¹éƒ½ä¸ä¼šäº¤å‰ å¹³å›¾(plane graph)ï¼šå¦‚æœ$G$æ˜¯å¹³é¢å›¾ä¸”$G$çš„ä»»ä½•ä¸¤æ¡è¾¹éƒ½ä¸äº¤å‰ å¹³é¢å›¾çš„ä¾‹å­ï¼šcycle, path, star, tree åŒºåŸŸ(regions)ï¼šä¸€ä¸ªå¹³å›¾æŠŠå¹³é¢åˆ†æˆä¸€äº›è¿é€šç‰‡å¤–åŒºåŸŸ(exterior region)ï¼šæ¯ä¸ªå¹³å›¾ä¸­æ€»æœ‰çš„ä¸€ä¸ªæ— ç•Œçš„åŒºåŸŸè¾¹ç•Œ(boundary)ï¼šåœ¨ä¸€ä¸ªå¹³å›¾ä¸­ï¼Œé¡¶ç‚¹å’Œè¾¹æ–—é±¼æŸä¸ªç»™å®šåŒºåŸŸ$R$å…³è”çš„å­å›¾ç§°ä¸ºæ˜¯$R$çš„è¾¹ç•Œ å‰²è¾¹æ€»æ˜¯æ°å¥½åœ¨ä¸€ä¸ªåŒºåŸŸçš„è¾¹ç•Œä¸Šéå‰²è¾¹ä¸€å®šä½äºä¸¤ä¸ªåŒºåŸŸçš„è¾¹ç•Œä¸Š å¦‚æœ$G$æ˜¯ä¸€ä¸ªè‡³å°‘å«æœ‰ä¸‰æ¡è¾¹çš„è¿é€šå¹³å›¾ï¼Œåˆ™$G$çš„è€Œæ¯ä¸ªåŒºåŸŸçš„è¾¹ç•Œè‡³å°‘å«æœ‰ä¸‰æ¡è¾¹ å®šç†9.1(Euleræ’ç­‰å¼)ï¼šå¦‚æœ$G$æ˜¯ä¸€ä¸ªé˜¶ä¸º$n$ï¼Œè¾¹æ•°ä¸º$m$ä¸”å«æœ‰$r$ä¸ªåŒºåŸŸçš„è¿é€šå¹³å›¾ï¼Œåˆ™$n-m+r=2$ å®šç†9.2ï¼šå¦‚æœ$G$æ˜¯ä¸€ä¸ªé˜¶ä¸º$n\\ge 3$ä¸”è¾¹æ•°ä¸º$m$çš„å¹³é¢å›¾ï¼Œåˆ™$m\\le 3n-6$ã€‚(å¹³é¢å›¾çš„å¿…è¦æ¡ä»¶ï¼Œéå¹³é¢å›¾çš„å……åˆ†æ¡ä»¶)é€†å¦å‘½é¢˜ï¼šè®¾$G$é˜¶ä¸º$n$ï¼Œè‹¥$m&gt;3n-6$ï¼Œåˆ™$G$æ˜¯éå¹³é¢å›¾ã€‚æ³¨ï¼šæ»¡è¶³$m\\le 3n-6$çš„ä¸ä¸€å®šæ˜¯å¹³é¢å›¾ æ¨è®º9.3ï¼šæ¯ä¸ªå¹³é¢å›¾å«æœ‰ä¸€ä¸ªåº¦å°äºæˆ–ç­‰äº5çš„é¡¶ç‚¹ã€‚ æ¨è®º9.4ï¼šå®Œå…¨å›¾$K_5$æ˜¯éå¹³é¢çš„ã€‚ æå¤§å¹³é¢çš„(maximal planar)ï¼šè‹¥$G$æ˜¯å¹³é¢çš„ï¼Œä¸”åœ¨$G$çš„ä»»æ„ä¸¤ä¸ªä¸é‚»æ¥çš„é¡¶ç‚¹ä¹‹é—´æ·»åŠ ä¸€æ¡è¾¹å³å¯äº§ç”Ÿä¸€ä¸ªéå¹³é¢å›¾ã€‚å¦ä¸€ç§è¡¨è¿°ï¼š$G$æ˜¯å¹³é¢çš„ï¼Œä½†$G$ä¸æ˜¯ä»»ä½•ä¸€ä¸ªå¹³é¢å›¾çš„ç”Ÿæˆå­å›¾æå¤§å¹³é¢å›¾æ»¡è¶³$m=3n-6$ å®šç†9.5ï¼šå›¾$K_{3,3}$æ˜¯éå¹³é¢çš„ ç»†åˆ†(subdivision)ï¼š å¦‚æœæœ‰ä¸€ä¸ªæˆ–å¤šä¸ªåº¦ä¸º2çš„é¡¶ç‚¹è¢«æ’å…¥åˆ°$G$çš„ä¸€æ¡æˆ–å¤šæ¡è¾¹ä¸­ï¼Œåˆ™ç§°å›¾$Gâ€™$æ˜¯å›¾$G$çš„ä¸€ä¸ªç»†åˆ† å®šç†9.7(Kuratowskiå®šç†)ï¼šä¸€ä¸ªå›¾$G$æ˜¯å¹³é¢å›¾å½“ä¸”ä»…å½“$G$ä¸å«$K5$ï¼Œ$K{3,3}$ï¼Œæˆ–è€…$K5$æˆ–$K{3,3}$çš„ä¸€ä¸ªç»†åˆ†ä½œä¸ºå­å›¾ã€‚ å¦‚æœä¸€ä¸ªå›¾$G$å«æœ‰(1)è‡³å¤š4ä¸ªåº¦å¤§äºæˆ–ç­‰äº4çš„é¡¶ç‚¹(2)è‡³å¤š5ä¸ªåº¦å¤§äºæˆ–ç­‰äº3çš„é¡¶ç‚¹ï¼Œåˆ™$G$å¿…å®šæ˜¯å¹³é¢çš„ã€‚ é¡¶ç‚¹æŸ“è‰²å¯¹å¶(dual)ï¼šæ¯å¼ åœ°å›¾éƒ½æœ‰ä¸€ä¸ªä¸ä¹‹å…³è”çš„å›¾$G$ï¼Œç§°ä¸ºè¯¥åœ°å›¾çš„å¯¹å¶ï¼Œå…¶ä¸­$G$çš„é¡¶ç‚¹å³ä¸ºåœ°å›¾çš„åŒºåŸŸï¼Œ$G$çš„ä¸¤ä¸ªé¡¶ç‚¹æ˜¯é‚»æ¥çš„å½“ä¸”ä»…å½“å®ƒä»¬æ‰€å¯¹åº”çš„åŒºåŸŸæ˜¯ç›¸é‚»çš„æ¯å¼ åœ°å›¾çš„å¯¹å¶å›¾éƒ½æ˜¯å¹³é¢å›¾ï¼Œæ¯ä¸ªè¿é€šçš„å¹³é¢å›¾éƒ½æ˜¯æŸä¸ªåœ°å›¾çš„å¯¹å¶ã€‚ çœŸæŸ“è‰²(proper coloring)ï¼šç»™$G$çš„é¡¶ç‚¹åˆ†é…ä¸€äº›é¢œè‰²(æ¥è‡ªäºæŸä¸ªé¢œè‰²é›†åˆ)ï¼Œæ˜¯çš„æ¯ä¸ªé¡¶ç‚¹éƒ½èƒ½åˆ†é…åˆ°ä¸€ç§é¢œè‰²ï¼Œä¸”é‚»æ¥çš„é¡¶ç‚¹è¢«æŸ“æˆä¸åŒçš„é¢œè‰²ï¼Œç®€ç§°ä¸ºæŸ“è‰²(coloring) è‰²æ•°(chromatic number)$\\chi(G)$ï¼šåœ¨$G$çš„æ‰€æœ‰æŸ“è‰²ä¸­ï¼Œæ‰€ç”¨çš„æœ€å°‘é¢œè‰²æ•° $k$å¯æŸ“è‰²çš„(k-colorable)ï¼šå¦‚æœèƒ½ç”¨ä¸€ä¸ªå«æœ‰$k$ç§é¢œè‰²çš„é›†åˆç»™$G$çš„é¡¶ç‚¹æŸ“è‰²ï¼Œåˆ™ç§°$G$æ˜¯$k$å¯æŸ“è‰²çš„(k-colorable)ï¼Œåº”ç”¨$k$ç§é¢œè‰²çš„æŸ“è‰²ç§°ä¸ºæ˜¯$k$æŸ“è‰²(k-coloring)ã€‚ è‹¥$\\chi(G)=k$ï¼Œåˆ™$G$ä¹Ÿç§°ä¸ºæ˜¯$k$è‰²çš„(k-chromatic)ï¼Œå¹¶ä¸”$G$çš„æ¯ä¸ª$k$æŸ“è‰²éƒ½æ˜¯$G$çš„æœ€å°æŸ“è‰²(minimum coloring) å®šç†10.1(å››è‰²å®šç†)ï¼šæ¯ä¸ªå¹³é¢å›¾çš„è‰²æ•°è‡³å¤šæ˜¯4 è‰²ç±»(color classes)ï¼šè‹¥$G$æ˜¯ä¸€ä¸ª$k$è‰²å›¾ï¼Œåˆ™å¯ä»¥æŠŠ$V(G)$åˆ’åˆ†æˆ$k$ä¸ªç‹¬ç«‹é›†$V_1,V_2,â€¦,V_k$ï¼Œæ­¤æ—¶è¿™äº›é¡¶ç‚¹é›†ç§°ä¸ºè‰²ç±»ã€‚ å®šç†10.2ï¼šå›¾$G$çš„è‰²æ•°æ˜¯2å½“ä¸”ä»…å½“$G$æ˜¯ä¸€ä¸ªéç©ºçš„äºŒéƒ¨å›¾ã€‚ (å¤ä¹ ï¼šå®šç†1.12ï¼šå›¾$G$æ˜¯äºŒéƒ¨çš„å½“ä¸”ä»…å½“å…¶ä¸å«å¥‡åœˆ)è‹¥$G$å«æœ‰å¥‡åœˆï¼Œåˆ™$\\chi(G)\\ge 3$ $n$é˜¶å›¾$G$çš„è‰²æ•°ä¸º$n$å½“ä¸”ä»…å½“$G=K_n$ è¯æ˜$\\chi(G)=k$ï¼Œå¿…é¡»è¯æ˜ï¼š è‡³å°‘éœ€è¦$k$ç§é¢œè‰²æ¥ä¸º$G$æŸ“è‰²(ä¸èƒ½ç”¨$k-1$ç§é¢œè‰²ä¸º$G$æŸ“è‰²) å­˜åœ¨$G$çš„ä¸€ä¸ª$k$æŸ“è‰² è‹¥$H$ä¸º$G$çš„ä¸€ä¸ªå­å›¾ï¼Œåˆ™$\\chi(H)\\le\\chi(G)$ å›¢(clique)ï¼š$G$çš„ä¸€ä¸ªå®Œå…¨å­å›¾å›¢æ•°(clique number)\\omega(G)ï¼šå›¾$G$ä¸­æœ€å¤§å›¢çš„é˜¶æ•°$\\alpha(G)=k$å½“ä¸”ä»…å½“$\\omega(G)=k$ å®šç†10.5ï¼šå¯¹æ¯ä¸ª$n$é˜¶å›¾$G$ï¼š\\chi(G)\\ge\\omega(G), \\chi(G)\\ge\\frac{n}{\\alpha(G)}(ç»™å‡ºäº†å›¾$G$çš„è‰²æ•°çš„ä¸‹é™) å›¾$G$çš„æŸ“è‰²å¯ä»¥çœ‹æˆæ˜¯$V(G)\\to\\mathbb{N}$çš„ä¸€ä¸ªå‡½æ•°$c:V(G)\\to\\mathbb{N}$ï¼Œä½¿å¾—å½“$uv\\in E(G)$æ—¶ï¼Œ$c(u)\\neq c(v)$ å®šç†10.7ï¼šå¯¹äºæ¯ä¸ªå›¾$G$ï¼Œ$\\chi(G)\\le 1+\\Delta(G)$ã€‚($\\Delta(G)$ä¸º$G$çš„æœ€å¤§åº¦) å®šç†10.8(Brookså®šç†)ï¼šå¯¹æ¯ä¸ªéå¥‡åœˆä¹Ÿéå®Œå…¨çš„è¿é€šå›¾$G$ï¼Œ$\\chi(G)\\le\\Delta(G)$ å®šç†10.9ï¼šå¯¹äºæ¯ä¸ªå›¾$G$,$\\chi(G)\\le 1+\\max{\\delta(H)}$ï¼Œå…¶ä¸­$\\max$å–é$G$çš„æ‰€æœ‰è¯±å¯¼å­å›¾$H$ã€‚ å½±å­å›¾(shadow graph)$S(G)$:é€šè¿‡åœ¨$G$ä¸­ï¼Œå¯¹å…¶æ¯ä¸ªé¡¶ç‚¹$v$ï¼Œå¢åŠ ä¸€ä¸ªæ–°çš„é¡¶ç‚¹$vâ€™$ï¼Œç§°ä¹‹ä¸º$v$çš„å½±å­é¡¶ç‚¹(shadow vertex) å®šç†10.10ï¼šå¯¹äºæ¯ä¸ªæ•´æ•°$k\\ge 3$ï¼Œéƒ½å­˜åœ¨ä¸€ä¸ªè‰²æ•°ä¸º$k$çš„æ— ä¸‰è§’çš„å›¾ã€‚","categories":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/categories/Notes/"}],"tags":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/tags/Notes/"},{"name":"Problem Solving","slug":"Problem-Solving","permalink":"https://mengzelev.github.io/tags/Problem-Solving/"},{"name":"Graph Theory","slug":"Graph-Theory","permalink":"https://mengzelev.github.io/tags/Graph-Theory/"}]},{"title":"å«å®«å®¶ä»Šå¤©çš„é¥­","slug":"Dinner","date":"2018-12-10T08:22:19.000Z","updated":"2018-12-10T09:43:06.918Z","comments":true,"path":"2018/12/10/Dinner/","link":"","permalink":"https://mengzelev.github.io/2018/12/10/Dinner/","excerpt":"","text":"é¢˜æºPOJ 3281 Diningopenjudgeä¼ é€é—¨é¥±å—OJæŠ˜ç£¨çš„æˆ‘å†³å®šä»¥å¾·æŠ¥æ€¨ç»™å¤§å®¶å‡ºé“æ°´é¢˜ é¢˜ç›®æè¿°åŸºæœ¬åªæ˜¯æŠŠåŸé¢˜æ¬åˆ°äº†æœˆçƒä¸Š Nä½å®¢äººï¼ŒFç§é£Ÿç‰©ï¼ŒDç§é¥®æ–™ æ¯ä½å®¢äººæœ‰å¤šç§å–œæ¬¢çš„äº‹ç‰©å’Œé¥®æ–™ æ¯ä½å®¢äººåªåƒä¸€ç§é£Ÿç‰©ã€åªå–ä¸€ç§é¥®æ–™ æ¯ç§é£Ÿç‰©ï¼Œæ¯ç§é¥®æ–™åªèƒ½è¢«ä¸€ä½å®¢äººåƒ/å– å¯ä»¥çœ‹æˆä¸¤ä¸ªäºŒåˆ†å›¾æœ€å¤§åŒ¹é…é—®é¢˜ æ„å»ºæµç½‘ç»œ å…ˆå°è¯•ï¼šé£Ÿç‰©-å®¢äºº-é¥®æ–™ ä¼šå‡ºç°ä¸€ä½å®¢äººå¯¹åº”å¤šä»½é£Ÿç‰©æˆ–é¥®æ–™çš„æƒ…å†µ å®¢äººç»“ç‚¹éœ€è¦åŠ ä¸Šç»“ç‚¹å®¹é‡ å°†æ¯ä¸ªå®¢äººç»“ç‚¹æ‹†åˆ†ä¸ºä¸¤ä¸ª æºç‚¹s-é£Ÿç‰©-å®¢äºº1-å®¢äºº2-é¥®æ–™-æ±‡ç‚¹ æœ€å¤§æµç®—æ³• æ•°æ®è§„æ¨¡[1,100] EKå®Œå…¨OK æ²¡æœ‰åˆ»æ„ç”Ÿæˆå¡ä»»ä½•ç®—æ³•çš„æ•°æ®ï¼Œä¹Ÿè®¸å¯ä»¥å°è¯•æš´åŠ› æ¿å­å†™èµ·æ¥æœ‰ä¸¶éš¾åº¦ ä»£ç è™½ç„¶æˆ‘è´´äº†ï¼Œä½†æ˜¯åŠ¡å¿…è‡ªå·±å†™ä¸€éï¼ EKæ¿å­ å®¹é‡c[N][N]ï¼Œæµé‡f[N][N] åªéœ€è¦ä¸€ä¸ªè®°å½•å½“å‰æ®‹å­˜å®¹é‡çš„æ•°ç»„map[N][N] éšä¾¿æœä¸€ä¸‹å°±èƒ½æ‰¾åˆ° æ¿å­ä»£ç int edmonds_karp() &#123; int ans = 0; int minc; while((minc = bfs()) != -1) &#123; //bfsæ‰¾åˆ°ä¸€æ¡å¢å¹¿è·¯å¾„ ans += minc; //åŠ ä¸Šè¿™æ¡å¢å¹¿è·¯å¾„çš„æµé‡ int tt = t,pt; while(tt != s) &#123; pt = pre[tt]; map[pt][tt] -= minc; map[tt][pt] += minc; tt = pt; &#125; //ä¿®æ”¹è¿™æ¡å¢å¹¿è·¯å¾„ä¸Šçš„è¾¹çš„æ®‹å­˜å®¹é‡ &#125; return ans; &#125; bfså¯»æ‰¾å¢å¹¿è·¯å¾„int bfs()&#123; memset(pre, -1, sizeof(pre)); int minc = 1e9; queue &lt;int&gt; q; q.push(s); while(!q.empty())&#123; int u = q.front(); q.pop(); if(u == t) break; for(int i = 1; i &lt;= t; ++i) &#123; if(pre[i] == -1 &amp;&amp; map[u][i]) &#123; minc = min(minc, map[u][i]); //æ›´æ–°å½“å‰è·¯å¾„çš„æœ€å°æ®‹å­˜å®¹é‡ q.push(i); pre[i] = u; //preæ•°ç»„ç”¨äºè®°å½•bfsæ‰¾åˆ°çš„å¢å¹¿è·¯å¾„ &#125; &#125; &#125; if(pre[t] == -1) return -1; else return minc; &#125; å»ºå›¾ä»£ç ä¸è´´æƒ¹ï¼Œè‡ªå·±å†™å§:) Tips:ä¸ºäº†å°†å„ç§ä¸åŒç±»å‹çš„æ‰€æœ‰ç‚¹éƒ½å›Šæ‹¬åœ¨ä¸€ä¸ªæ•°ç»„é‡Œçš„åŒæ—¶ï¼Œå¢å¼ºä»£ç çš„å¯è¯»æ€§ï¼Œå¯ä»¥ä½¿ç”¨å®å®šä¹‰ #define FOOD(x) **æˆ‘** #define GUEST1(x) **æ˜¯** #define GUEST2(x) **é©¬** #define DRINK(x) **èµ›** #define s **å…‹** #define t **!**","categories":[],"tags":[]},{"title":"PA3å®éªŒæŠ¥å‘Š","slug":"PA3-report","date":"2018-12-08T08:00:32.000Z","updated":"2019-09-14T07:43:09.174Z","comments":true,"path":"2018/12/08/PA3-report/","link":"","permalink":"https://mengzelev.github.io/2018/12/08/PA3-report/","excerpt":"","text":"å®éªŒè¿›åº¦æˆ‘å·²å®Œæˆæ‰€æœ‰å†…å®¹ã€‚å¥½ï¼Œä¸‹é¢æ˜¯æƒ¯ä¾‹ç¢ç¢å¿µã€‚ 2018/11/18å¿ƒæ€çˆ†ç‚¸çš„ä¸€å¤©ï¼å…ˆæ˜¯å› ä¸ºè„‘å­çŸ­è·¯å®Œå…¨æ²¡æœ‰æƒ³åˆ°idtçš„åœ°å€å°±åœ¨lidtè¯‘ç è¿‡åçš„id_desté‡Œã€‚ç„¶åè¿˜å› ä¸ºæƒ¯æ€§æ€ç»´ä»id_dest-&gt;valé‡Œè¯»åœ°å€ï¼Œç–¯ç‹‚å‡ºé”™æ‰å‘ç°åº”è¯¥åœ¨id_dest-&gt;addré‡Œï¼ˆå› ä¸ºæ˜¯åœ°å€ï¼‰ã€‚ç»„ç»‡Contextçš„æ—¶å€™æ€è€ƒäº†åŠå¤©ï¼Œæœ€åé—®äº†å¤§è…¿æ‰çŸ¥é“æ€ä¹ˆåˆ¤æ–­ä¸Šä¸‹æ–‡çš„ç»„ç»‡ç»“æ„ã€‚æ„Ÿè§‰è¿˜æ˜¯è¯¾æœ¬çŸ¥è¯†å­¦å¾—ä¸å¤Ÿæ‰å®çš„æ¶æœã€‚ä»Šæ—¥ä¸å®œPAï¼Œå…³æœºç¡è§‰ã€‚ 2018/11/19PA3.1å®Œæˆã€‚æ„Ÿè§‰æµ‹è¯•æ‰‹æ®µéƒ½ä¸å¤ªç»™åŠ›ï¼Œä¸çŸ¥é“æœ‰æ²¡æœ‰åŸ‹ä¸‹éšè—bug 2018/11/24PA3.2å®Œæˆã€‚æ„Ÿè§‰è«åé¡ºåˆ©ï¼Œå¯èƒ½æ˜¯3.3è¦è‡ªé—­çš„å¾å…† 2018/12/1å¼€å§‹è‡ªé—­PA3.3ï¼Œå®ç°äº†æ–‡ä»¶è¯»å†™æ“ä½œï¼Œæ­»æ´»çœ‹ä¸åˆ°PASS!!!ï¼Œæ–‡ä»¶è¯»å†™æ—¶å¯¹é•¿åº¦è¶…è¿‡æ–‡ä»¶å¤§å°çš„æƒ…å†µçš„å¤„ç†æœ‰ä¸€äº›éº»çƒ¦ï¼Œè°ƒäº†åŠå¤©ï¼Œæœ€åå‘ç°æ˜¯PA3.2æ—¶å°±å¥½äº†çš„SYS_writeæ²¡æœ‰åŠ ä¸Šåˆšåˆšå†™çš„fs_writeï¼Œå–·äº†ã€‚å¼€å§‹ç¼–å†™è®¾å¤‡æ–‡ä»¶æ“ä½œï¼Œçœ‹ä¸æ‡‚vgaé‚£å—åˆ°åº•æ˜¯è¦å¹²å•¥ï¼Œæœºæˆ¿å…³é—¨äº†ï¼Œå›å»ç¡è§‰ã€‚ 2018/12/2ç»§ç»­è‡ªé—­PA3.3ã€‚ä¸ºäº†çœ‹æ‡‚VGAé‚£å—çš„æ¶æ„ç›´æ¥ç¿»å‡ºäº†bmptestçš„æºç ï¼Œç„¶åä¸€è·¯æ‘¸åˆ°NDLåº“çš„æºç ï¼ŒèŠ±äº†å¤§æ¦‚ä¸€ä¸ªä¸‹å»ç»ˆäºæ˜¾ç¤ºå‡ºäº†ProjectNçš„Logoã€‚å®ç°events_read()æ—¶è¿˜æŠŠäº‹ä»¶çš„æ ¼å¼æé”™äº†debugäº†åŠå¤©ï¼Œç»ˆäºå¯ä»¥å¼€å§‹è·‘ä»™å‰‘äº†ã€‚å°å¿ƒç¿¼ç¿¼åœ°å¼€å§‹æ¸¸æˆï¼Œæ²¡æœ‰æ³¨é‡Šæ‰Logå› æ­¤çœ‹åˆ°äº†ç€‘å¸ƒèˆ¬çš„Logä¿¡æ¯ï¼Œç„¶å50minæ‰æ’­æ”¾å®Œç‰‡å¤´å¯¹è¯ï¼Œæ‰€å¹¸æ— äº‹ã€‚ç„¶åæ³¨é‡Šæ‰äº†æ‰€æœ‰Logï¼Œåˆèƒ†æˆ˜å¿ƒæƒŠåœ°å¼€å§‹å°è¯•æ‰€æœ‰å­˜æ¡£ç‚¹ï¼Œå°è¯•äº†ç©¿å¢™å’Œç©¿äººï¼Œå…¨éƒ¨å¤±è´¥ï¼Œç¡®è®¤äº†æ²¡æœ‰è‚‰çœ¼å¯è§çš„bugã€‚é•¿èˆ’ä¸€å£æ°”ï¼Œç„¶ååŠ æ€¥å†™å®Œäº†æ‰¹å¤„ç†ç³»ç»Ÿï¼Œæœºæˆ¿å…³é—¨ï¼Œèµ°äººã€‚éš¾ä»¥ç½®ä¿¡æˆ‘å±…ç„¶è·‘å‡ºäº†ä»™å‰‘ï¼Œäº¢å¥‹ã€‚ å¿…ç­”é¢˜å…¶å®æˆ‘å†™PAçš„æ—¶å€™éƒ½åœ¨ç³»ç»Ÿè°ƒç”¨è¿‡ç¨‹æ¢³ç†é‡Œåšå¥½ç¬”è®°äº† å¥½å­©å­è¦è‡ªå·±åšï¼ è“æ¡†æ€è€ƒé¢˜æœ€è¿‘å¤ªå¿™äº†ä¸€é¢˜éƒ½æ²¡å†™â€¦æƒ³å†™çš„æ—¶å€™è®²ä¹‰åˆæŒ‚äº†â€¦äºŒå‘¨ç›®çš„æ—¶å€™å†æ€è€ƒå§orz å®éªŒä¸­çš„å‘ç°å…³äºnanos-liteå’Œnemuæ˜¯æ€ä¹ˆé€šè®¯çš„åœ¨å†™PA3.1ä¸­çš„lidtæŒ‡ä»¤çš„æ—¶å€™ï¼Œæˆ‘æœ‰ä¸ªå¾ˆå¤§çš„ç–‘æƒ‘ï¼Œidtæ˜¯åœ¨nanos-liteé‡Œè¢«å®šä¹‰çš„ï¼Œnemuè¦æ€ä¹ˆè·å–å®ƒçš„åœ°å€å‘¢ï¼Ÿ_cte_initä¸­æœ‰ä¸€æ­¥è°ƒç”¨äº†set_idtå‡½æ•°ï¼Œå°†idtçš„åœ°å€å’Œå¤§å°ç”¨å†…è”æ±‡ç¼–è¯­å¥å†™å…¥äº†æŒ‡ä»¤é›†ã€‚å› æ­¤å½“nanosç¼–è¯‘æˆnemuå¯æ‰§è¡Œçš„æŒ‡ä»¤åï¼Œidtçš„åœ°å€å°±å¯ä»¥é€šè¿‡ç›¸åº”çš„è¯‘ç å‡½æ•°å†™å…¥id_destä¸­ã€‚é—®äº†ä¸€ä½nbçš„å­¦é•¿åï¼Œå­¦é•¿ç»™å‡ºäº†å¦‚ä¸‹ç†è§£ ä¸åœ¨system.cé‡Œçš„æŒ‡ä»¤ï¼Œä¸€èˆ¬é ç¼–è¯‘cæ–‡ä»¶æˆæœºå™¨ç å°±å¯ä»¥ç»™nemuåšäº‹ï¼Œæ‰€ä»¥pa2å¾ˆé¡ºåˆ©ï¼›è€Œsystem.cçš„ä¸œè¥¿ä¾èµ–äºç³»ç»Ÿï¼ˆæ¯”å¦‚ä¸­æ–­ï¼‰ï¼Œåªé ç¼–è¯‘cæ–‡ä»¶åšä¸åˆ°intã€lidtè¿™äº›ä¸œè¥¿ï¼Œæ‰€ä»¥è¦å†…è”æ±‡ç¼– å…³äºå¦‚ä½•åˆ¤æ–­_Contextç»“æ„çš„ç»„ç»‡é¡ºåº_Contextæ˜¯åœ¨å‡½æ•°irq_handleé‡Œä½œä¸ºå‚æ•°çš„ç±»å‹è¢«ä¼ å…¥çš„ï¼Œç„¶è€Œirq_handleæ˜¯é€šè¿‡æ±‡ç¼–ä»£ç ç›´æ¥è°ƒç”¨çš„ï¼Œå› æ­¤æ²¡æœ‰æ˜¾å¼çš„å‚æ•°ä¼ é€’è¯­å¥ï¼Œå®é™…çš„å‚æ•°æ˜¯å­˜æ”¾åœ¨æ ˆä¸­%ebp-8çš„ä½ç½®å¼€å§‹çš„ä½ç½®ï¼Œè§‚å¯Ÿcall irq_handleä¹‹å‰æ‰€æœ‰çš„pushç›¸å…³è¯­å¥å°±å¯ä»¥å¾—çŸ¥å¯„å­˜å™¨çš„é¡ºåºã€‚è€Œeip,eflagså’Œeipæ˜¯ç¡¬ä»¶ä¿å­˜çš„ï¼Œå› æ­¤éœ€è¦è§‚å¯ŸintæŒ‡ä»¤ä¸­çš„å…¥æ ˆé¡ºåºæ‰èƒ½çŸ¥é“è¿™ä¸‰è€…çš„é¡ºåºã€‚ ç³»ç»Ÿè°ƒç”¨è¿‡ç¨‹æ¢³ç† ç”¨æˆ·å±‚navy-appsåœ¨ç›¸åº”çš„ç³»ç»Ÿè°ƒç”¨å‡½æ•°ï¼ˆå¦‚_exit()ï¼‰ä¸­è°ƒç”¨ç³»ç»Ÿè°ƒç”¨æ¥å£å‡½æ•°_syscall_() _syscall_ç”¨å†…è”æ±‡ç¼–è¯­å¥å°†int 0x80å’Œç›¸åº”çš„ç³»ç»Ÿè°ƒç”¨å‚æ•°ä¼ ç»™nemu nemuæ‰§è¡ŒintæŒ‡ä»¤ï¼Œå«å‡ºnanos-lite irq_handleré€šè¿‡intæŒ‡ä»¤ä¼ å…¥çš„å‚æ•°è¯†åˆ«å‡ºè¿™æ˜¯ä¸€æ¬¡ç³»ç»Ÿè°ƒç”¨çš„eventï¼Œæ‰“åŒ…ä¼ ç»™do_event irq.cä¸­çš„do_event()å‡½æ•°è°ƒç”¨do_syscall()æ‰§è¡Œç³»ç»Ÿè°ƒç”¨äº‹ä»¶ syscall.cä¸­çš„do_syscall()å‡½æ•°æ ¹æ®ä¼ å…¥çš„å‚æ•°ï¼ˆåœ¨ä¸Šä¸‹æ–‡çš„ç›¸åº”å¯„å­˜å™¨ä¸­ï¼‰æ‰§è¡Œç›¸åº”çš„ç³»ç»Ÿè°ƒç”¨æ“ä½œï¼Œè®¾ç½®è¿”å›å€¼å¹¶è¿”å› æˆ‘é‡åˆ°çš„bug å †åŒºç®¡ç†çš„æ—¶å€™å£°æ˜çš„ç”¨äºè®°å½•program breakçš„å˜é‡pbrkæ²¡æœ‰åˆå§‹åŒ–ã€æ‰€ä»¥è¯´åˆå§‹åŒ–çœŸçš„æ˜¯ä¸ªå¥½æ–‡æ˜ å†™äº†fs_writeå´å¿˜äº†ä¿®æ”¹ç›¸åº”çš„ç³»ç»Ÿè°ƒç”¨SYS_writeæ‰¾äº†ä¸€ä¸ªä¸‹åˆ æ‰€æœ‰å…³äºæ–‡ä»¶è¯»å†™çš„ç³»ç»Ÿæ“ä½œéƒ½éœ€è¦æ§åˆ¶open_offsetï¼Œä¸èƒ½è¶…è¿‡å½“å‰æ–‡ä»¶çš„sizeï¼Œä½†æ˜¯serial_writeå’Œdispinfo_readç­‰ä¸åŒæ–‡ä»¶çš„è¯»å†™åˆä¸èƒ½ä¸€æ¦‚è€Œè®ºï¼Œå†™bugå’Œdebugçš„æ—¶å€™è¦ç‰¹åˆ«æ³¨æ„ fs_lseekæœ€åè¦æ§åˆ¶å½“å‰çš„open_offsetï¼Œä¸ç„¶å¯èƒ½ä¼šå¯¼è‡´fs_readå’Œfs_writeçš„åŠŸèƒ½æ— æ³•æ­£å¸¸ä½¿ç”¨ fs_readå’Œfs_writeéœ€è¦å¯¹open_offsetåšå‡ºä¿®æ”¹ å‡½æ•°æŒ‡é’ˆçš„è°ƒç”¨å°±è·Ÿå‡½æ•°ä¸€æ ·ç”¨å°±è¡Œäº† fb_writeé‡Œçš„offsetæ€ä¹ˆç”¨ï¼Œæ€ä¹ˆç»™draw_rectä¼ å‚ï¼Œå¯èƒ½è¦ä¸€ç›´æ‘¸åˆ°libnblæ‰èƒ½ææ¸…æ¥š å­—ç¬¦ä¸²ä¸èƒ½x**åˆå§‹åŒ–ï¼Œä¼šç”±äºæŸäº›æˆ‘æä¸æ‡‚çš„åŸå› ç¼–è¯‘å‡ºSTOSæŒ‡ä»¤ï¼Œå¯¼è‡´çœ‹åˆ°äº²åˆ‡çš„i386 Logo if((keytemp &amp; 0x8000) == 1)å’Œif(keytemp &amp; 0x8000)æ˜¯ä¸ä¸€æ ·çš„ï¼ï¼ï¼ï¼ï¼ï¼[ä½ æ˜¯æ²™é›•å—.jpg] å¯¹è®²ä¹‰çš„ä¸€äº›å»ºè®®ï¼ˆä½ ä»¬é€‰æ‹©æ€§åé¦ˆç»™yzhï¼‰ å»ºè®®æŠŠèƒ½çœ‹åˆ°PASS!!!ä¿¡æ¯çš„æ”¾åœ¨serial_write()ä¹‹åï¼Œä¸å°‘åŒå­¦éƒ½åœ¨å®ç°å®ŒSYS_writeä¹‹åæ²¡çœ‹åˆ°PASSï¼ï¼ï¼æ„Ÿåˆ°å›°æƒ‘ï¼ˆå½“ç„¶ä»”ç»†æƒ³ä¸€ä¸‹è¿˜æ˜¯èƒ½æƒ³é€šï¼‰ å †åŒºç®¡ç†é‚£ä¸€å—å¤ªè€ƒéªŒé˜…è¯»ç†è§£æ°´å¹³äº†ï¼Œè€Œä¸”å¤§éƒ¨åˆ†äººä¼šå¿˜æ‰PA2è¿˜æ¥è§¦è¿‡AMé‡Œä¸€ä¸ªå«heapçš„ç»“æ„ä½“ï¼Œå°±ç¨å¾®æé†’ä¸€ä¸‹ä¸‹å‘—ï¼ˆ è®©dummyå®ç°_syscall_æ—¶ï¼Œæœ€å¥½èƒ½æé†’ä¸€ä¸‹å¦‚æœæŒ‰ç…§ä¹‹å‰åŠ ç³»ç»Ÿè°ƒç”¨ä¸€ä¸‹åŠ å…¥do_eventä¸­ä¼šè§¦å‘æ­»å¾ªç¯ï¼Œæˆ–è€…å¹²è„†æŠŠä¸‹é¢çš„å¿…åšéƒ¨åˆ†å¹¶åˆ°ä¸€èµ·å†™ï¼Œå‡å°‘å›°æƒ‘ å®éªŒå¿ƒå¾— RTFSCæ˜¯å¾ˆéš¾çš„ï¼Œä¸è¦ä¸€ä¸‹å­çœ‹ä¸å‡ºæ¥å°±è‡ªé—­ï¼Œä¸ç„¶ä¼šå‡ºäº‹æƒ…çš„ è¦æˆä¸ºä¸€åä¼˜ç§€çš„ç¨‹åºçŒ¿ï¼Œé¦–å…ˆä½ è¦å­¦å¥½è¯­æ–‡ å‡ºbugä¸å¯æ€•ï¼Œå¦‚æœèƒ½é€šè¿‡debugçš„è¿‡ç¨‹å¯¹æ¡†æ¶ä»£ç å’Œè®¡ç®—æœºç³»ç»Ÿçš„åŸç†æœ‰æ›´æ·±åˆ»çš„ç†è§£ï¼Œå…¶å®æ˜¯ä¸€ä»¶å¾ˆèµšçš„äº‹æƒ…ã€‚å¬äº†åŠ©æ•™è®²è¯¾ä¹‹åæˆ‘æ·±åˆ»æ„Ÿå—åˆ°ï¼Œä¸€å‡ºbugå°±é—®å¤§è…¿â€œæ€ä¹ˆå†™æ‰æ˜¯å¯¹çš„â€ï¼Œå®åœ¨å¤ªäºäº†ï¼Œåº”è¯¥ææ¸…æ¥šå“ªé‡Œå†™é”™äº†ï¼Œä¸ºä»€ä¹ˆå†™çš„faultè¿™ä¸ªå‡ºç°è¿™æ ·çš„failureã€‚ Appreciation æ„Ÿè°¢æŸäººæä¾›çš„æ¢è·¯å’ŒdebugæœåŠ¡ï¼Œæˆ‘è§‰å¾—æœ‰ç‚¹ä¿æŠ¤è¿‡åº¦äº†å†è¿™æ ·ä¸‹å»æˆ‘è¦ä¸ä¼šè‡ªå·±å†™ä»£ç äº†ã€æ‚è„¸ æ„Ÿè°¢åå­—ä¸€ç›´åœ¨æ¢çš„å­¦ä¹ ç¾¤çš„ç¾¤å‹ä»¬äº’å¸®äº’åŠ©çš„debugæ°›å›´ æœ¬å®éªŒæŠ¥å‘ŠåŒæ ·ä¼šå°†å»æ‰å¿…ç­”é¢˜çš„ç‰ˆæœ¬åŒæ­¥ä¸Šä¼ è‡³ä¸ªäººblog","categories":[],"tags":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/tags/Notes/"},{"name":"pa","slug":"pa","permalink":"https://mengzelev.github.io/tags/pa/"}]},{"title":"ç®—æ³•å¯¼è®ºå­¦ä¹ ç¬”è®°-æœ€å¤§æµ","slug":"clrs-26Maximum-Flow","date":"2018-12-05T07:03:20.000Z","updated":"2019-01-17T12:08:51.319Z","comments":true,"path":"2018/12/05/clrs-26Maximum-Flow/","link":"","permalink":"https://mengzelev.github.io/2018/12/05/clrs-26Maximum-Flow/","excerpt":"","text":"æµç½‘ç»œæµç½‘ç»œ æœ‰å‘å›¾$G=(V,E)$ å›¾ä¸­ä¸­æ¯æ¡è¾¹$(u,v)\\in E$æœ‰ä¸€ä¸ªéè´Ÿçš„å®¹é‡å€¼$c(u,v)\\ge 0$ å¦‚æœ$(u,v)\\notin E$ï¼Œå®šä¹‰$c(u,v)=0$ å¦‚æœè¾¹é›†åˆ$E$åŒ…å«ä¸€æ¡è¾¹$(u,v)$ï¼Œåˆ™å›¾ä¸­ä¸å­˜åœ¨åæ–¹å‘çš„è¾¹$(v,u)$ æœ‰æºç»“ç‚¹$s$å’Œæ±‡ç‚¹$t$ æµç½‘ç»œå›¾æ˜¯è¿é€šçš„ é™¤æºç»“ç‚¹å¤–çš„æ¯ä¸ªç»“ç‚¹éƒ½è‡³å°‘æœ‰ä¸€æ¡è¿›å…¥çš„è¾¹ï¼Œ$|E|\\ge |V|-1$ æµè®¾$G=(V,E)$ä¸ºä¸€ä¸ªæµç½‘ç»œï¼Œå…¶å®¹é‡å‡½æ•°ä¸º$c$ã€‚è®¾$s$ä¸ºç½‘ç»œçš„æºç»“ç‚¹ï¼Œ$t$ä¸ºæ±‡ç‚¹ã€‚$G$ä¸­çš„æµæ˜¯ä¸€ä¸ªå®å€¼å‡½æ•°$f: V\\times V \\to \\mathbb{R}$ï¼Œæ»¡è¶³ä¸‹é¢ä¸¤æ¡æ€§è´¨ï¼š å®¹é‡é™åˆ¶ï¼šå¯¹äºæ‰€æœ‰çš„ç»“ç‚¹$u,v\\in V$ï¼Œè¦æ±‚$0\\le f(u,v)\\le c(u,v)$ æµé‡å®ˆæ’ï¼šå¯¹äºæ‰€æœ‰çš„ç»“ç‚¹$u\\in V-{s,t}$ï¼Œè¦æ±‚\\sum\\limits f(v,u)=\\sum\\limits f(u,v)å½“$(u,v)\\notin E$æ—¶ï¼Œä»ç»“ç‚¹$u$åˆ°ç»“ç‚¹$v$ä¹‹é—´æ²¡æœ‰æµï¼Œå› æ­¤$f(u,v)=0$ ç§°éè´Ÿæ•°å€¼$f(u,v)$ä¸ºä»ç»“ç‚¹$u$åˆ°ç»“ç‚¹$v$çš„æµã€‚ï¼ˆæµå…¥=æµå‡ºï¼‰ ä¸€ä¸ªæµ$f$çš„å€¼$|f|=\\sum\\limits{v\\in V}f(s,v)-\\sum\\limits{v\\in V}f(v,s)$ ï¼ˆä»æºç»“ç‚¹æµå‡ºçš„æ€»æµé‡å‡å»æµå…¥æºç»“ç‚¹çš„æ€»æµé‡ï¼‰ æœ€å¤§æµé—®é¢˜ï¼šç»™å®šä¸€ä¸ªæµç½‘ç»œ$G$ã€ä¸€ä¸ªæºç»“ç‚¹$s$ã€ä¸€ä¸ªæ±‡ç‚¹$t$ï¼Œæ‰¾åˆ°å€¼æœ€å¤§çš„ä¸€ä¸ªæµ åå¹³è¡Œè¾¹ å¦‚æœè¦ä½¿ç”¨åå¹³è¡Œè¾¹æ¥æ¨¡æ‹Ÿä¸€ä¸ªæµé—®é¢˜ï¼Œå°±é€‰æ‹©ä¸¤æ¡åå¹³è¡Œè¾¹ä¸­çš„ä¸€æ¡ï¼ŒåŠ å…¥ä¸€ä¸ªæ–°ç»“ç‚¹æ¥å°†å…¶åˆ†è§£ä¸ºä¸¤æ®µï¼Œå¹¶ä»¥æ–°çš„ç»“ç‚¹åˆ°åŸæ¥è¾¹çš„ç»“ç‚¹çš„ä¸¤æ¡è·¯æ›¿æ¢æ‰€é€‰è¾¹ï¼ŒåŒæ—¶å°†ä¸¤æ¡æ–°è®¾ç«‹çš„è¾¹çš„å®¹é‡è®¾ç½®ä¸ºä¸åŸæ¥çš„è¾¹çš„å®¹é‡ç›¸åŒã€‚ å…·æœ‰å¤šä¸ªæºç»“ç‚¹å’Œå¤šä¸ªæ±‡ç‚¹çš„ç½‘ç»œåŠ å…¥ä¸€ä¸ªè¶…çº§æºç»“ç‚¹$s$å’Œä¸€ä¸ªè¶…çº§æ±‡ç‚¹$t$ Ford-Fulkersonæ–¹æ³• æ®‹å­˜ç½‘ç»œç»™å®šæµç½‘ç»œ$G$å’Œæµé‡$f$ï¼Œæ®‹å­˜ç½‘ç»œ$G_f$ç”±é‚£äº›ä»æœ‰ç©ºé—´å¯¹æµé‡è¿›è¡Œè°ƒæ•´çš„è¾¹æ„æˆã€‚ æ®‹å­˜å®¹é‡ä¸º$c_f(u,c)=c(u,v)-f(u,v)$ å¯¹æ­£æµé‡çš„ç¼©å‡ï¼šå°†è¾¹$(v,u)$åŠ å…¥åˆ°å›¾$G_f$ä¸­ï¼Œå¹¶å°†å…¶æ®‹å­˜å®¹é‡è®¾ç½®ä¸º$c_f(v,u)=f(u,v)$ æ®‹å­˜å®¹é‡çš„å½¢å¼åŒ–å®šä¹‰å¦‚ä¸‹ï¼š ç»™å®šä¸€ä¸ªæµç½‘ç»œ$G=(V,E)$å’Œä¸€ä¸ªæµ$f$ï¼Œåˆ™æœ‰$f$æ‰€è¯±å¯¼çš„å›¾$G$çš„æ®‹å­˜ç½‘ç»œä¸º$G_f=(V,E_f)$ï¼Œå…¶ä¸­$E_f={(u,v)\\in V\\times V: c_f(u,v)&gt;0}$ï¼Œæœ‰$|E_f|\\le 2|E|$ é€’å¢ï¼šå¦‚æœ$f$æ˜¯$G$çš„ä¸€ä¸ªæµï¼Œ$fâ€™$æ˜¯å¯¹åº”çš„æ®‹å­˜ç½‘ç»œ$G_f$çš„ä¸­çš„ä¸€ä¸ªæµï¼Œå®šä¹‰f'\\uparrow f':V\\times V\\to\\mathbb{R}ä¸ºæµ$fâ€™$å¯¹æµ$f$çš„é€’å¢ æŠµæ¶ˆæ“ä½œï¼šåœ¨æ®‹å­˜ç½‘ç»œä¸­å°†æµé‡æ¨é€å›å» å¼•ç†26.1ï¼š|f\\uparrow f'|=|f|+|f'| å¢å¹¿è·¯å¾„å¢å¹¿è·¯å¾„$p$ï¼šæ®‹å­˜ç½‘ç»œ$G_f$ä¸­ä¸€æ¡ä»æºç»“ç‚¹$s$åˆ°æ±‡ç‚¹$t$çš„ç®€å•è·¯å¾„ æ®‹å­˜å®¹é‡ï¼šåœ¨ä¸€æ¡å¢å¹¿è·¯å¾„$p$ä¸Šèƒ½å¤Ÿä¸ºæ¯æ¡è¾¹å¢åŠ çš„æµé‡çš„æœ€å¤§å€¼c_f(p)=\\min\\{c_f(u,v): (u,v)\\in p\\} æµç½‘ç»œçš„åˆ‡å‰²æµç½‘ç»œçš„åˆ‡å‰²ï¼šå°†ç»“ç‚¹é›†åˆ$V$åˆ’åˆ†ä¸º$S$å’Œ$T=V-S$ä¸¤ä¸ªé›†åˆï¼Œä½¿å¾—$s\\in S, t\\in T$ æ¨ªè·¨åˆ‡å‰²çš„$(S,T)$çš„å‡€æµé‡$f(S,T)$ï¼šf(S,T)=\\sum\\limits_{u\\in S}\\sum\\limits_{v\\in T}f(u,v)-\\sum\\limits_{u\\in S}\\sum\\limits_{v\\in T}f(v,u) åˆ‡å‰²$(S,T)$çš„å®¹é‡ï¼šc(S,T)=\\sum\\limits_{v\\in S}\\sum\\limits_{v\\in T}c(u,v)æœ€å°åˆ‡å‰²ï¼šæ•´ä¸ªç½‘ç»œä¸­å®¹é‡æœ€å°çš„åˆ‡å‰² å¯¹äºå®¹é‡ï¼Œåªè®¡ç®—ä»é›†åˆ$S$å‘å‡ºè¿›å…¥é›†åˆ$T$çš„è¾¹çš„å®¹é‡ï¼Œè€Œå¿½ç•¥åæ–¹å‘è¾¹ä¸Šçš„å®¹é‡ å¯¹äºæµï¼Œè€ƒè™‘ä»$S$åˆ°$T$çš„æµé‡å‡å»ä»$T$åˆ°$S$çš„åæ–¹å‘çš„æµé‡ å¼•ç†26.4ï¼šæ•´ä¸ªæµç½‘ç»œçš„æµé‡ä¸æ¨ªè·¨æŸä¸€ä¸ªåˆ‡å‰²çš„æµé‡ç›¸ç­‰f(S,T)=|f| æ¨è®º26.5ï¼š$|f|\\ge c(S,T)$ å®šç†26.6(æœ€å¤§æµæœ€å°å‰²å®šç†) åŸºæœ¬çš„Ford-Fulkersonç®—æ³• ç²—ç³™çš„æ—¶é—´å¤æ‚åº¦ä¸Šç•Œï¼š$O(E|f|)$ï¼ˆ$f$ä¸ºå°†æœ‰ç†æ•°æµç½‘ç»œè½¬æ¢æˆæ•´æ•°æµç½‘ç»œåï¼Œç½‘ç»œä¸­çš„ä¸€ä¸ªæœ€å¤§æµï¼‰ Edmonds-Karpç®—æ³•åœ¨Ford-Fulkersonç®—æ³•çš„ç¬¬ä¸‰è¡Œä½¿ç”¨å¹¿åº¦ä¼˜å…ˆæœç´¢æ¥å¯»æ‰¾å¢å¹¿è·¯å¾„ã€‚æ¯æ¬¡åœ¨æ®‹å­˜ç½‘ç»œä¸­é€‰æ‹©çš„å¢å¹¿è·¯å¾„æ˜¯ä¸€æ¡ä»æºç»“ç‚¹$s$åˆ°æ±‡ç‚¹$t$çš„æœ€çŸ­è·¯å¾„ï¼Œå…¶ä¸­æ¯æ¡è¾¹çš„æƒé‡ä¸ºå•ä½è·ç¦»ã€‚ æ—¶é—´å¤æ‚åº¦ï¼š$O(VE^2)$ å¼•ç†26.7ï¼šä½¿ç”¨Edmonds-Karpç®—æ³•ï¼Œå¯¹äºé™¤æºç»“ç‚¹å’Œæ±‡ç‚¹å¤–çš„æ‰€æœ‰ç»“ç‚¹$v$ï¼Œæ®‹å­˜ç½‘ç»œ$G_f$ä¸­çš„æœ€çŸ­è·¯å¾„è·ç¦»$\\delta_f(s,v)$éšç€æ¯æ¬¡æµé‡çš„é€’å¢è€Œå•è°ƒé€’å¢ã€‚ å®šç†26.8ï¼šEdmonds-Karpç®—æ³•æ‰€æ‰§è¡Œçš„æµé‡é€’å¢æ“ä½œçš„æ€»æ¬¡æ•°ä¸º$O(VE)$ å…³é”®è¾¹ï¼šåœ¨æ®‹å­˜ç½‘ç»œä¸­ï¼Œä¸€æ¡è·¯å¾„$p$çš„æ®‹å­˜å®¹é‡æ˜¯è¯¥æ¡è·¯å¾„ä¸Šè¾¹$(u,v)$çš„æ®‹å­˜å®¹é‡ï¼Œå³$c_f(p)=c_f(u,v)$å¯¹äº$E$çš„æ¯æ¡è¾¹æ¥è¯´ï¼Œå…¶æˆä¸ºå…³é”®è¾¹çš„æ¬¡æ•°æœ€å¤šä¸º$|V|/2$æ¬¡ã€‚ æœ€å¤§äºŒåˆ†åŒ¹é…åœ¨ä¸€ä¸ªäºŒåˆ†å›¾ä¸­ï¼Œç»“ç‚¹é›†åˆå¯ä»¥åˆ’åˆ†ä¸º$V=L\\cup R$ï¼Œå…¶ä¸­$L$å’Œ$R$æ˜¯ä¸ç›¸äº¤çš„ï¼Œå¹¶ä¸”è¾¹é›†åˆ$E$ä¸­æ‰€æœ‰çš„è¾¹éƒ½æ¨ªè·¨$L$å’Œ$R$ã€‚ æ„é€ ä¸€ä¸ªæµç½‘ç»œ$G=(Vâ€™,Eâ€™)$ï¼Œå…¶ä¸­V'=V\\cup\\{s,t\\}$$$$E=\\{(s,u):u\\in L, u\\in L\\}\\cup \\{(u,v):(u,v)\\in E\\}\\cup \\{(v,t):v\\in\\mathbb{R}\\}ç»™$Eâ€™$ä¸­çš„æ¯æ¡è¾¹èµ‹å•ä½å®¹é‡ æµ$f$æ˜¯æ•´æ•°å€¼çš„ï¼šå¯¹äºæ‰€æœ‰çš„è¾¹$(u,v)\\in V\\times V$ï¼Œ$f(u,v)$éƒ½æ˜¯æ•´æ•°å€¼ã€‚ å®šç†26.10ï¼ˆå®Œæ•´æ€§å®šç†Integrality theoremï¼‰ï¼šå¦‚æœå®¹é‡å‡½æ•°$c$åªèƒ½å–æ•´æ•°å€¼ï¼Œåˆ™$Ford-Fulkerson$æ–¹æ³•æ‰€ç”Ÿæˆçš„æœ€å¤§æµ$f$æ»¡è¶³$|f|$æ˜¯æ•´æ•°å€¼çš„æ€§è´¨ã€‚è€Œä¸”ï¼Œå¯¹äºæ‰€æœ‰çš„ç»“ç‚¹$u$å’Œ$v$ï¼Œ$f(u,v)$éƒ½æ˜¯æ•´æ•°ã€‚ æ¨è®º26.11ï¼šäºŒåˆ†å›¾$G$ä¸­çš„ä¸€ä¸ªæœ€å¤§åŒ¹é…$M$çš„åŸºæ•°ç­‰äºå…¶å¯¹åº”çš„æµç½‘ç»œ$Gâ€™$ä¸­æŸä¸€æœ€å¤§æµ$f$çš„å€¼ã€‚ æ—¶é—´å¤æ‚åº¦ï¼š$O(VE)$","categories":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/categories/Notes/"}],"tags":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/tags/Notes/"},{"name":"Problem Solving","slug":"Problem-Solving","permalink":"https://mengzelev.github.io/tags/Problem-Solving/"},{"name":"CLRS","slug":"CLRS","permalink":"https://mengzelev.github.io/tags/CLRS/"},{"name":"Graph Algorithms","slug":"Graph-Algorithms","permalink":"https://mengzelev.github.io/tags/Graph-Algorithms/"}]},{"title":"å›¾è®ºå­¦ä¹ ç¬”è®°-å›¾ä¸­çš„åŒ¹é…ä¸è¦†ç›–","slug":"matchings","date":"2018-11-28T06:59:39.000Z","updated":"2018-12-01T02:14:22.945Z","comments":true,"path":"2018/11/28/matchings/","link":"","permalink":"https://mengzelev.github.io/2018/11/28/matchings/","excerpt":"","text":"åŒ¹é…åŒ¹é…çš„å®šä¹‰ç‹¬ç«‹ï¼šè‹¥å›¾çš„è¾¹é›†ä¸­ä»»æ„ä¸¤æ¡è¾¹ä¸é‚»æ¥ï¼Œåˆ™ç§°è¯¥é›†åˆæ˜¯ç‹¬ç«‹çš„ åŒ¹é…ï¼šå›¾$G$ä¸­çš„è¾¹çš„ä¸€ä¸ªç‹¬ç«‹é›†$G$çš„åŒ¹é…æ˜¯ä¸€ä¸ªè¾¹çš„é›†åˆ$M={e_1,e_2,â€¦,e_k}$ï¼Œå…¶ä¸­$e_i=u_iw_i(1\\le i\\le k)$ï¼Œä½¿å¾—$u_1,u_2,â€¦,u_k$æ˜¯$U$ä¸­$k$ä¸ªä¸åŒçš„é¡¶ç‚¹ï¼Œ$w_1,w_2,â€¦,w_k$æ˜¯$W$ä¸­$k$ä¸ªä¸åŒçš„é¡¶ç‚¹ã€‚ åŒ¹é…å­˜åœ¨çš„æ¡ä»¶é‚»åŸŸ(neighbourhood)$N(X)$ï¼šè®¾$G$ä¸ºäºŒéƒ¨å›¾ï¼Œå…¶éƒ¨é›†ä¸º$U$å’Œ$W$ï¼Œä¸”$|U|\\le |W|$ï¼Œå¯¹äº$U$çš„éç©ºå­é›†$X$ï¼Œ$X$ä¸­æ‰€æœ‰é¡¶ç‚¹çš„é‚»åŸŸçš„å¹¶ã€‚ Hallâ€™s condition/å‹å¥½çš„(neighborly)ï¼šå¯¹äº$U$çš„ä»»æ„éç©ºå­é›†$X$ï¼Œå‡æœ‰$|N(X)|\\ge |X|$ã€‚ å®šç†8.3ï¼šè®¾$G$ä¸ºäºŒéƒ¨å›¾ï¼Œå…¶éƒ¨é›†ä¸º$U$å’Œ$W$ï¼Œä¸”$r=|U|\\le |W|$ã€‚åˆ™$G$åŒ…å«ä¸€ä¸ªåŸºæ•°ä¸º$r$çš„åŒ¹é…å½“ä¸”ä»…å½“$U$æ˜¯å‹å¥½çš„ã€‚ å®šç†8.4ï¼šéç©ºæœ‰é™é›†æ—${S_1,S_2,â€¦,S_n}$æœ‰ä¸€ä¸ªäº’å¼‚ä»£è¡¨å…ƒç³»(system of distinct representative) å½“ä¸”ä»…å½“ å¯¹äºä»»ä¸€æ•´æ•°$k(1\\le k\\le n)$ï¼Œé›†æ—ä¸­ä»»æ„$k$ä¸ªé›†åˆçš„å¹¶è‡³å°‘åŒ…å«$k$ä¸ªå…ƒç´ ã€‚ å®šç†8.5(å©šå§»å®šç†):åœ¨ä¸€ä¸ªç”±$r$ä¸ªå¥³äººå’Œ$s$ä¸ªç”·äººæ„æˆçš„äººç¾¤ä¸­ï¼Œ$1\\le r\\le s$ï¼Œåœ¨ç†Ÿè¯†çš„ç”·å¥³ä¹‹é—´å¯èƒ½å‡ºç°$r$å¯¹å©šå§»å½“ä¸”ä»…å½“å¯¹æ¯ä¸ªæ•´æ•°$k(1\\le k\\le r)$ï¼Œä»»æ„$k$ä¸ªå¥³äººå…±è®¤è¯†è‡³å°‘$k$ä¸ªç”·äººã€‚ æœ€å¤§åŒ¹é…(maximum matching)ï¼šå…·æœ‰æœ€å¤§åŸºæ•°çš„åŒ¹é… å®Œç¾åŒ¹é…(perfect matching)ï¼šé˜¶ä¸º$2k$çš„å›¾$G$å­˜åœ¨ä¸€ä¸ªåŸºæ•°ä¸º$k$çš„åŒ¹é…$M$ï¼Œåˆ™ç§°è¯¥åŒ¹é…$M$ä¸ºå®Œç¾åŒ¹é… å®šç†8.6ï¼šä»»æ„$r$æ­£åˆ™äºŒéƒ¨å›¾$(r\\ge 1)$å‡æœ‰ä¸€ä¸ªå®Œç¾åŒ¹é…ã€‚ è¾¹çš„ç‹¬ç«‹æ€§å‚æ•°è¾¹ç‹¬ç«‹æ•°(edge independence number)$\\alpha â€˜(G)$ï¼šæœ€å¤§è¾¹ç‹¬ç«‹é›†çš„åŸºæ•° è¦†ç›–ï¼šä¸€ä¸ªé¡¶ç‚¹å’Œä¸å…¶ç›¸è¿çš„ä¸€æ¡è¾¹ è¾¹è¦†ç›–æ•°(edge covering number)$\\beta â€˜(G)$ï¼š$G$ä¸­æ‰€æœ‰è¾¹è¦†ç›–çš„æœ€å°åŸºæ•° æœ€å°è¾¹è¦†ç›–é›†(minimum edge cover)ï¼šå…·æœ‰æœ€å°åŸºæ•°çš„è¾¹è¦†ç›–é›† å®šç†8.7ï¼šå¯¹äºä»»æ„ä¸åŒ…å«å­¤ç«‹ç‚¹çš„$n$é˜¶å›¾$G$ï¼Œ\\alpha'(G)+\\beta'(G)=n é¡¶ç‚¹çš„ç‹¬ç«‹æ€§å‚æ•°å¦‚æœå›¾ä¸­çš„ä¸€ä¸ªé¡¶ç‚¹é›†åˆä¸­ä»»æ„ä¸¤é¡¶ç‚¹éƒ½ä¸é‚»æ¥ï¼Œåˆ™ç§°è¯¥é¡¶ç‚¹çš„é›†åˆæ˜¯ç‹¬ç«‹çš„ ç‚¹ç‹¬ç«‹æ•°(vertex independence number)$\\alpha(G)$:$G$ä¸­ç‚¹ç‹¬ç«‹é›†çš„æœ€å¤§åŸºæ•°ï¼Œåˆç§°ç‹¬ç«‹æ•° æœ€å¤§ç‹¬ç«‹é›†(maximum independence set)ï¼šå›¾$G$ä¸­åŸºæ•°ä¸º$\\alpha(G)$çš„ç‹¬ç«‹é›† ç‚¹è¦†ç›–(vertex cover)ï¼šå›¾$G$çš„æŸä¸ªé¡¶ç‚¹å­é›†å¯ä»¥è¦†ç›–$G$çš„æ‰€æœ‰è¾¹ ç‚¹è¦†ç›–æ•°(vertex covering number)$\\beta(G)$ï¼š$G$çš„æ‰€æœ‰ç‚¹è¦†ç›–çš„æœ€å°åŸºæ•° æœ€å°ç‚¹è¦†ç›–(minimum vertex cover)ï¼šåŸºæ•°ä¸º$\\beta(G)$çš„ç‚¹è¦†ç›– å®šç†8.8:å¯¹äºä»»æ„ä¸åŒ…å«å­¤ç«‹ç‚¹çš„$n$é˜¶å›¾ï¼Œ\\alpha(G)+\\beta(G)=n å®šç†8.7ä¸å®šç†8.8åˆç§°ä¸ºGallaiæ’ç­‰å¼ ä¸€èˆ¬ç‹¬ç«‹é›†æ¯”è¦†ç›–é›†å¥½æ±‚ å› å­åˆ†è§£1å› å­1å› å­(1-factor)ï¼šå›¾$G$çš„1æ­£åˆ™ç”Ÿæˆå­å›¾ã€‚$n$é˜¶å›¾$G$çš„å®Œç¾åŒ¹é…$M$çš„è¯±å¯¼çš„å­å›¾$F[M]$æ˜¯$G$çš„1å› å­ã€‚å›¾$G$æœ‰1å› å­å½“ä¸”ä»…å½“$G$æœ‰å®Œç¾åŒ¹é…ã€‚ è¿é€šåˆ†æ”¯çš„å¥‡å¶æ€§å°±æ˜¯è¯¥è¿é€šåˆ†æ”¯çš„é˜¶çš„å¥‡å¶æ€§ã€‚$k_O(G)$è¡¨ç¤ºå›¾$G$çš„å¥‡è¿é€šåˆ†æ”¯çš„ä¸ªæ•°ã€‚ å®šç†8.10ï¼šå›¾$G$åŒ…å«1å› å­å½“ä¸”ä»…å½“å¯¹äº$V(G)$çš„ä»»æ„çœŸå­é›†$S$ï¼Œ$k_O(G-S)\\le |S|$ã€‚ å®šç†8.11(Petersenå®šç†)ï¼šæ‰€æœ‰æ— å‰²è¾¹çš„3æ­£åˆ™å›¾åŒ…å«1å› å­ã€‚ å®šç†8.12ï¼šä»»ä¸€è‡³å¤šå«æœ‰ä¸¤æ¡å‰²è¾¹çš„3æ­£åˆ™å›¾åŒ…å«1å› å­ã€‚ åˆ†è§£å¯å› å­åˆ†è§£çš„(1-factorable)ï¼šè‹¥$G$æœ‰1å› å­$F_1,F_2,â€¦,F_r$ï¼Œä½¿å¾—${E(F_1),E(F_2),â€¦,E(F_r)}$æ˜¯$E(G)$çš„ä¸€ä¸ªåˆ’åˆ†ï¼Œæ­¤æ—¶æˆ‘ä»¬ç§°$G$è¢«å› å­åˆ†è§£(factored)æˆ1å› å­$F_1,F_2,â€¦,F_r$ï¼›è¿™äº›1å› å­æ„æˆäº†$G$çš„1å› å­åˆ†è§£(1-factorization) ä»»ä¸€å¯1å› å­åˆ†è§£çš„å›¾æ˜¯æ­£åˆ™çš„ï¼Œåä¹‹ä¸çœŸï¼Œåä¾‹ï¼šPetersonå›¾ å®šç†8.13ï¼šPetersenå›¾æ˜¯ä¸å¯1å› å­åˆ†è§£çš„ã€‚ å®šç†8.14ï¼šå¯¹äºä»»æ„æ­£æ•´æ•°$k$ï¼Œå®Œå…¨å›¾$K_{2k}$æ˜¯å¯1å› å­åˆ†è§£çš„ã€‚ å¾ªç¯å› å­åˆ†è§£(cyclic factorization)ï¼šå¦‚å›¾æ‰€ç¤ºï¼Œæ‰€æœ‰å› å­åˆ†è§£å¯ä»¥ç”±æŸä¸€ä¸ªå› å­åˆ†è§£æ—‹è½¬ä¸€å®šè§’åº¦å¾—åˆ° å®šç†8.15ï¼šä»»æ„$r$æ­£åˆ™çš„äºŒéƒ¨å›¾$(r\\ge 1)$æ˜¯å¯1å› å­åˆ†è§£çš„ã€‚ 2å› å­2å› å­(2-factor)ï¼šå›¾$G$çš„äºŒæ­£åˆ™ç”Ÿæˆå­å›¾ 2å› å­çš„ä»»ä¸€è¿é€šåˆ†æ”¯æ˜¯ä¸€ä¸ªåœˆã€‚ å¯2å› å­åˆ†è§£çš„(2-factorable)ï¼šå®šä¹‰ç±»ä¼¼1å› å­ å®šç†8.16ï¼šå›¾$G$æ˜¯å¯2å› å­åˆ†è§£çš„å½“ä¸”ä»…å½“å­˜åœ¨æŸä¸ªæ­£å¶æ•°$r$ï¼Œæ˜¯çš„$G$æ˜¯$r$æ­£åˆ™çš„ã€‚ *Hamiltonå› å­åˆ†è§£(Hamilton factorization)ï¼š$G$çš„ä¸€ä¸ª2å› å­åˆ†è§£ï¼Œæ»¡è¶³è¯¥åˆ†è§£ä¸­æ‰€æœ‰2å› å­å‡æ˜¯Hamiltonåœˆ å®šç†8.17ï¼šå¯¹äºä»»ä¸€æ•´æ•°$k\\ge 1$ï¼Œå®Œå…¨å›¾$K_{2k+1}$æ˜¯å¯Hamiltonåˆ†è§£çš„ã€‚è¯æ˜ï¼šæ„é€ æ³•ï¼ˆå¦‚å›¾ï¼‰ å› å­å› å­(factor)ï¼šå›¾$G$ä¸å«æœ‰å­¤ç«‹ç‚¹çš„ç”Ÿæˆå­å›¾ å¯å› å­åˆ†è§£(factorable)ï¼šå› å­$F_1,F_2,â€¦,F_r$ï¼Œæ»¡è¶³${E(F_1),E(F_2),â€¦,E(F_r)}$æ˜¯$E(G)$çš„ä¸€ä¸ªåˆ’åˆ†ã€‚ å¯F-å› å­åˆ†è§£çš„(F-factorable)ï¼šè‹¥å­˜åœ¨æŸä¸ªå›¾$F$ï¼Œæ˜¯çš„æ¯ä¸ªå› å­$F_i\\cong F$ Kirkmanä¸‰å…ƒç³»né˜¶çš„Kirkmanä¸‰å…ƒç³»(Kirkman triple system)ï¼šæœ‰ä¸€ä¸ªåŸºæ•°ä¸º$n$çš„é›†åˆ$S$ï¼Œå’Œ$S$çš„ä¸‰å…ƒå­é›†ï¼ˆç§°ä¸ºä¸‰å…ƒç»„(triple)ï¼‰æ—$T$ï¼Œä»¥åŠ$T$çš„ä¸€ä¸ªåˆ’åˆ†$\\mathcal{P}$æ„æˆï¼Œä¸”æ»¡è¶³å¦‚ä¸‹æ€§è´¨ï¼š $S$ä¸­ä»»æ„ä¸¤ä¸ªä¸åŒçš„å…ƒç´ å±äº$T$ä¸­å”¯ä¸€çš„ä¸‰å…ƒç»„ $S$ä¸­ä»»ä¸€å…ƒç´ å±äºåˆ’åˆ†$\\mathcal{P}$çš„æ¯ä¸€å…ƒç´ çš„å”¯ä¸€çš„ä¸‰å…ƒç»„ å­˜åœ¨ä¸€ä¸ª$6k+3$é˜¶Kirkmanä¸‰å…ƒç³»å½“ä¸”ä»…å½“å­˜åœ¨ä¸€ä¸ª$K_{6k+3}$çš„$(2k+1)K_3$å› å­åˆ†è§£ å®šç†8.19ï¼š$n(n\\ge 3)$é˜¶çš„Kirkmanä¸‰å…ƒç³»å­˜åœ¨å½“ä¸”ä»…å½“$n\\equiv 3(mod 6)$ï¼Œå³$n=6k+3$ å®šç†8.20ï¼šå¯¹äºæ¯ä¸ªæ•´æ•°$k\\ge 1$ï¼Œå®Œå…¨å›¾$K_{2k}$å¯å› å­åˆ†è§£ä¸º$k-1$ä¸ªHamiltonåœˆå’Œä¸€ä¸ª1å› å­ã€‚","categories":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/categories/Notes/"}],"tags":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/tags/Notes/"},{"name":"Problem Solving","slug":"Problem-Solving","permalink":"https://mengzelev.github.io/tags/Problem-Solving/"},{"name":"Graph Theory","slug":"Graph-Theory","permalink":"https://mengzelev.github.io/tags/Graph-Theory/"},{"name":"Matchings","slug":"Matchings","permalink":"https://mengzelev.github.io/tags/Matchings/"},{"name":"Factorization","slug":"Factorization","permalink":"https://mengzelev.github.io/tags/Factorization/"}]},{"title":"Lab3ï¼šé“¾æ¥ä¸åŠ è½½ï¼ˆ2ï¼‰å®éªŒæŠ¥å‘Š","slug":"lab3-report","date":"2018-11-24T09:17:47.000Z","updated":"2018-11-30T14:18:07.067Z","comments":true,"path":"2018/11/24/lab3-report/","link":"","permalink":"https://mengzelev.github.io/2018/11/24/lab3-report/","excerpt":"","text":"å®ç°æè¿°å¯»æ‰¾æ­£ç¡®çš„å…¥å£åœ°å€åœ¨æ¡†æ¶ä»£ç æŠ½å–å‡ºçš„symtabä¸­ä¸»é¡¹å¯»æ‰¾ï¼Œå¦‚æœè¯¥é¡¹çš„Typeå±æ€§ä¸ºSTT_FUNCï¼Œå°±æ ¹æ®å…¶st_nameå±æ€§å»å­—ç¬¦ä¸²è¡¨strtabé‡Œå¯»æ‰¾è¯¥å‡½æ•°çš„Nameå±æ€§ï¼Œå¹¶ä¸mainè¿›è¡Œå¯¹æ¯”ï¼Œå°±èƒ½æ‰¾åˆ°mainå‡½æ•°å¯¹åº”çš„è¡¨é¡¹ï¼Œæ­¤æ—¶è¯¥è¡¨é¡¹çš„st_valueå±æ€§å³ æˆ‘ä»¬éœ€è¦çš„å…¥å£åœ°å€ã€‚ åŠ è½½ç¨‹åºloader()å‡½æ•°çš„å®ç°éœ€è¦ç¨‹åºå¤´è¡¨ï¼Œæ¨¡ä»¿load_elf_table()å‡½æ•°çš„å†™æ³•å¯å°†ç¨‹åºå¤´è¡¨æŠ½å–åˆ°ç»“æ„ä½“Elf32_phdrä¸­ï¼Œæ‰¾åˆ°p_typeä¸ºPT_LOADçš„è¡¨é¡¹ï¼Œè¯»å–å…¶p_offsetï¼Œp_vaddrï¼Œp_fileszï¼Œp_memszå±æ€§ï¼ŒæŒ‰ç…§è®²ä¹‰çš„æè¿°ï¼Œä½¿ç”¨freadå‡½æ•°å°†å¯æ‰§è¡Œæ–‡ä»¶ä¸­ç›¸å¯¹æ–‡ä»¶åç§»p_offsetçš„å†…å®¹è¯»å–p_filedzåˆ°å†…å­˜åœ°å€ä¸º[p_addr, p_addr + p_fileszçš„åœ°æ–¹ï¼Œå¹¶ç”¨memsetå‡½æ•°å°†[p_vaddr + p_filesz, p_vaddr + p_memsiz)å¯¹åº”çš„ç‰©ç†åŒºé—´æ¸…é›¶ã€‚ æ‰“å°æ ˆå¸§é“¾ç¬¬ä¸€æ¬¡æ‰“å°eipçš„å€¼ä½œä¸ºå½“å‰åœ°å€ï¼Œä¹‹åæ¯æ¬¡éƒ½å–å†…å­˜ä¸­ebp-4çš„åœ°å€å­˜æ”¾çš„è¿”å›åœ°å€ä½œä¸ºå‡½æ•°è°ƒç”¨çš„åœ°å€ã€‚å‡½æ•°çš„åå­—é€šè¿‡å»symtabä¸­å¯»æ‰¾å¯¹åº”è¡¨é¡¹å¹¶ä»strtabä¸­æå–è€Œå¾—ã€‚ä»¿ç…§gdbçš„btå‘½ä»¤è¾“å‡ºæ‰“å°å‡ºæ¥ã€‚å¯¹ebpçš„å€¼è§£å¼•ç”¨èƒ½å¾—åˆ°ä¸Šä¸€ä¸ªå‡½æ•°çš„ebpçš„å€¼ã€‚å¦‚æ­¤å¾ªç¯ç›´åˆ°ebpçš„ä¿¡æ¯ä¸º0ä¸ºæ­¢ã€‚ å®éªŒè¿‡ç¨‹ç•™ç€ä»¥åå½“ç¬‘è¯çœ‹çš„ç¢ç¢å¿µ å¯»æ‰¾æ­£ç¡®çš„å…¥å£åœ°å€æˆ‘æœ¬æ¥ä»¥ä¸ºè¿™ä¸ªåªè¦åšå¥½RTFSCå°±ä¸ä¼šèŠ±å¤ªå¤šæ—¶é—´çš„ï¼Œman 5 elfä¹‹åç†æ‰€å½“ç„¶åœ°å†™äº†å¦‚ä¸‹ä»£ç ï¼š if(symtab[i].st_info == STT_FUNC) å‘ç°æ€ä¹ˆéƒ½æ‰¾ä¸åˆ°mainï¼Œå„ç§è°ƒè¯•äº†ä¸€ä¸ªå¤šå°æ—¶ä¹‹åï¼Œé—®äº†åŒå­¦æ‰æ„è¯†åˆ°ï¼Œst_infoä¸æ˜¯ç›´æ¥çš„typeå€¼ï¼Œtypeåªå äº†ä½å››ä½ï¼Œé«˜å››ä½ä¸ºç»‘å®šå±æ€§bindï¼ŒæŠŠFMç»§ç»­å¾€ä¸‹ç¿»å¯ä»¥çœ‹åˆ° ELF32_ST_BIND(info), ELF64_ST_BIND(info) Extract a binding from an st_info value. æ³ªï¼Œå¯ä»¥æµä¸‹æ¥å—è®ºè€å¿ƒRTFMçš„é‡è¦æ€§ åŠ è½½ç¨‹åºè¿™éƒ¨åˆ†åŸºæœ¬æ˜¯ç…§æŠ„æ¡†æ¶ä»£ç æŠ½å–El32_Shdrçš„æ–¹æ³•æŠ½å–äº†Elf32_Phdrï¼Œè®©æˆ‘è‡ªå·±å†™å¤§æ¦‚è¿˜æ˜¯å†™ä¸å‡ºæ¥çš„å§[è‡ªå‘.jpg] æ‰“å°æ ˆå¸§è¿å…ˆç”¨gdbè°ƒè¯•äº†ç»™çš„segmentfault.cï¼Œæ‘¸ç´¢äº†ä¸€ä¸‹btå‘½ä»¤çš„æ‰“å°æ ¼å¼ï¼Œç¡®è®¤äº†æ‰“å°çš„æ ˆå¸§é“¾ä¸­çš„åœ°å€ä¸ºå‡½æ•°è°ƒç”¨æ—¶å‹å…¥æ ˆä¸­çš„è¿”å›åœ°å€ã€‚ æ€è€ƒé¢˜å †å’Œæ ˆåœ¨å“ªé‡Œï¼Ÿç»è¿‡PA3.2çš„è°ƒæ•™ï¼Œå¯ä»¥çŸ¥é“å †æ˜¯ç¨‹åºè¿è¡Œæ—¶è°ƒç”¨mallocåŠ¨æ€å‘é«˜åœ°å€ç”³è¯·ç©ºé—´ç»´æŠ¤çš„ã€‚å †åŒºçš„å¼€å§‹ä½ç½®å°±æ˜¯æ•°æ®æ®µçš„ç»“æŸä½ç½®ã€‚å½“è°ƒç”¨mallocå‡½æ•°æ—¶ï¼Œä¼šè§¦å‘ç³»ç»Ÿè°ƒç”¨sbrkæŸ¥è¯¢å¹¶è°ƒæ•´å †åŒºçš„ç»“æŸä½ç½®ï¼Œå³program breakï¼Œä»¥è°ƒæ•´å †åŒºçš„å¤§å°ã€‚æ ˆåŒºæ˜¯ä»å†…æ ¸è™šå­˜åŒºå¼€å§‹å‘ä½åœ°å€æ–¹å‘ç”Ÿé•¿çš„ï¼Œæ ˆé¡¶çš„åœ°å€ä¿å­˜åœ¨å¯„å­˜å™¨espä¸­ã€‚é€šè¿‡pushå’Œpopç­‰æŒ‡ä»¤æ¥è°ƒæ•´æ ˆåŒºå¤§å°ã€‚å †å’Œæ ˆçš„å†…å®¹ä¸æ”¾å…¥å¯æ‰§è¡Œæ–‡ä»¶ï¼Œæˆ‘çŒœæƒ³ä¸€æ–¹é¢å› ä¸ºè¿™äº›éƒ¨åˆ†æ˜¯åŠ¨æ€ç”Ÿæˆçš„ï¼Œç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­å®ƒä»¬çš„å¤§å°æ—¶åˆ»å˜åŒ–ç€ï¼Œå› æ­¤ä¸èƒ½æ”¾å…¥é™æ€çš„å¯æ‰§è¡Œæ–‡ä»¶ä¸­ã€‚å¦ä¸€æ–¹é¢ï¼Œæ ˆåŒºä¼šæœ‰ä¸€ä¸ªéšæœºåŒ–æ“ä½œæ¥é˜²æ­¢æ¶æ„æ”»å‡»ï¼Œä¸ä¾¿äºæ”¾å…¥å¯è¯»çš„å¯æ‰§è¡Œæ–‡ä»¶ä¸­ã€‚ å¦‚ä½•è¯†åˆ«ä¸åŒæ ¼å¼çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼ŸELFå¯æ‰§è¡Œç›®æ ‡æ–‡ä»¶æœ‰ELFå¤´ï¼Œæ ¹æ®ELFå¯æ‰§è¡Œæ–‡ä»¶çš„å„ç§è§„èŒƒä¹¦å†™ã€‚Windowsç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶åº”è¯¥ä¹Ÿæœ‰è‡ªå·±çš„æ–‡ä»¶å¤´çš„æ ¼å¼ï¼Œåœ¨GNU/Linuxä¸‹æ‰§è¡Œæ—¶ï¼Œç³»ç»ŸæŒ‰ç…§ELFå¤´çš„æ ¼å¼è§£æè¯¥æ–‡ä»¶çš„æ–‡ä»¶å¤´å‡ºç°äº†é”™è¯¯ï¼Œä¾‹å¦‚æ²¡æœ‰è¯»åˆ°â€œé­”æ•°â€ï¼Œå°±ä¼šæŠ¥å‘Šâ€œæ ¼å¼é”™è¯¯â€ã€‚ æ¶ˆå¤±çš„ç¬¦å·å› ä¸ºè¿™äº›ç¬¦å·åªåœ¨æœ¬æ¨¡å—å†…è¢«ä½¿ç”¨ï¼Œå…¶è¢«åŠ¨æ€åˆ†é…åœ¨æ ˆä¸­ï¼Œé“¾æ¥å™¨å¹¶ä¸éœ€è¦è¿™äº›ç¬¦å·çš„ä¿¡æ¯ï¼Œå› æ­¤ä¸ä¼šå‡ºç°åœ¨ç¬¦å·è¡¨ä¸­ã€‚ç¬¦å·æ˜¯æŒ‡å‚ä¸é“¾æ¥çš„å˜é‡åå’Œå‡½æ•°åã€‚ å¯»æ‰¾â€Hello World!â€ç”¨ä¸Šè¿°æ–¹æ³•æ‰¾åˆ°helloç¨‹åºçš„å­—ç¬¦ä¸²è¡¨ï¼Œä¼šå‘ç°â€œHello World!â€å­—ç¬¦ä¸²â€¦å®ƒâ€¦æ ¹æœ¬ä¸åœ¨å­—ç¬¦ä¸²è¡¨ä¸­ï¼Œè€Œæ˜¯åœ¨.rodataèŠ‚ä¸­ã€‚ å› ä¸ºprintfä¸­çš„æ ¼å¼åŒ–å­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªåªè¯»çš„å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥ç¼–è¯‘æ—¶ä¼šè¢«æ”¾å…¥åªè¯»æ•°æ®èŠ‚.rodataèŠ‚ä¸­ã€‚ å†—ä½™çš„ç¬¦å·è¡¨ç¼–è¯‘å•ç‹¬çš„helloç¨‹åºæ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯å°è¯•å¯¹hello.oè¿›è¡Œé“¾æ¥æ—¶å°±ä¼šé“¾æ¥æŠ¥é”™ï¼ˆå¿˜äº†æˆªå›¾äº†ï¼‰ã€‚å› ä¸ºç¬¦å·è¡¨ç”¨äºé“¾æ¥ä¸­çš„ç¬¦å·è§£æï¼Œå•ç‹¬è¿è¡Œç¨‹åºæ—¶æ²¡æœ‰ç¬¦å·è¡¨ï¼Œå•æœ‰æŒ‡ä»¤å°±ä¹Ÿæ²¡æœ‰é—®é¢˜ã€‚ å†—ä½™çš„å±æ€§ï¼Ÿèµ·åˆæˆ‘çŒœæµ‹æ˜¯.bssèŠ‚çš„æ•°æ®æ²¡æœ‰åœ¨Fileszä¸­è¢«è®¡ç®—ï¼Œè€Œæ˜¯è®¡ç®—åœ¨äº†Memszä¸­ã€‚ä½†æ˜¯æˆ‘æŠŠ.bssèŠ‚çš„å¤§å°åŠ ä¸ŠFileszåè¿˜æ˜¯æ¯”Memszå°ä¸€äº›ï¼ŒSTFWå‘ç°stackoverflowä¸Šæœ‰äººé—®äº†ç±»ä¼¼çš„é—®é¢˜ï¼Œæ¬£å–œåœ°ç‚¹è¿›å»å‘ç°å¹¶æ²¡æœ‰äººå›ç­”â€¦.æˆ‘å†æ€è€ƒä¸€ä¸‹è¯´ä¸å®šå°±æœ‰stackoverflowé¦–ç­”äº†â€¦ ä¸ºä»€ä¹ˆè¦æ¸…é›¶ï¼Ÿæ•°ç”µå’Œé—®æ±‚è¿˜æ²¡å†™å®Œï¼Œæºœäº†â€¦â€¦.","categories":[],"tags":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/tags/Notes/"},{"name":"Lab","slug":"Lab","permalink":"https://mengzelev.github.io/tags/Lab/"},{"name":"Ics","slug":"Ics","permalink":"https://mengzelev.github.io/tags/Ics/"}]},{"title":"å›¾è®ºå­¦ä¹ ç¬”è®°-æ—…è¡Œé—®é¢˜","slug":"traversability","date":"2018-11-21T13:05:50.000Z","updated":"2018-11-30T14:19:40.503Z","comments":true,"path":"2018/11/21/traversability/","link":"","permalink":"https://mengzelev.github.io/2018/11/21/traversability/","excerpt":"","text":"Eulerå›¾Eulerå›è·¯(Euler cycle)ï¼šå›¾$G$çš„ä¸€æ¡åŒ…å«$G$çš„æ¯ä¸€æ¡è¾¹çš„å›è·¯$C$ Eulerå›¾(Euler graph):å«æœ‰Eulerå›è·¯çš„è¿é€šå›¾ Eulerè¿¹(Euler trial)å«æœ‰è¿é€šå›¾$G$çš„æ¯æ¡è¾¹çš„å¼€è¿¹ å½“è®¨è®ºå›¾çš„Euleræ€§è´¨æ—¶ï¼Œ å®šç†6.1ï¼šä¸€ä¸ªéå¹³å‡¡è¿é€šå›¾$G$æ˜¯Eulerçš„ å½“ä¸”ä»…å½“ $G$çš„æ¯ä¸ªé¡¶ç‚¹çš„åº¦éƒ½ä¸ºå¶æ•° æ¨è®º6.2ï¼šä¸€ä¸ªè¿é€šå›¾$G$å«æœ‰ä¸€æ¡Eulerè¿¹å½“ä¸”ä»…å½“$G$æ°æœ‰ä¸¤ä¸ªåº¦ä¸ºå¥‡æ•°çš„é¡¶ç‚¹ï¼Œè€Œä¸”$G$çš„æ¯ä¸€æ¡Eulerè¿¹å§‹äºä¸€ä¸ªåº¦ä¸ºå¥‡æ•°çš„é¡¶ç‚¹è€Œç»ˆæ­¢äºå¦ä¸€ä¸ªåº¦ä¸ºå¥‡æ•°çš„é¡¶ç‚¹ã€‚ ä¾‹6.3ç»“è®ºï¼šè®¾$G$å’Œ$H$æ˜¯ä¸¤ä¸ªéå¹³å‡¡çš„è¿é€šå›¾ï¼Œåˆ™$G\\times H$æ˜¯Eulerçš„å½“ä¸”ä»…å½“$G$å’Œ$H$éƒ½æ˜¯Eulerçš„æˆ–è€…$G$å’Œ$H$çš„æ¯ä¸ªé¡¶ç‚¹åº¦å‡ä¸ºå¥‡æ•°ã€‚ Hamiltonå›¾Hamiltonåœˆ(Hamiltonian cycle)ï¼šä¸€ä¸ªå«å›¾$G$çš„æ¯ä¸ªé¡¶ç‚¹çš„åœˆ Hamiltonå›¾(Hamiltonian graph)ï¼šä¸€ä¸ªå«æœ‰Hamiltonåœˆçš„å›¾ Hamiltonè·¯(Hamiltonian path)ï¼šä¸€æ¡å«å›¾$G$çš„æ¯ä¸ªé¡¶ç‚¹çš„è·¯ æœ‰Hamiltonåœˆ, ä¸€å®šæœ‰Hamiltonè·¯ï¼›æœ‰Hamiltonè·¯ï¼Œä¸ä¸€å®šæœ‰Hamiltonåœˆ Hamiltonå›¾çš„ç‰¹å¾ $n\\ge 3$é˜¶å›¾çš„ä¸€ä¸ªHamiltonåœˆ$C$æ˜¯$n$é˜¶çš„è¿é€š2æ­£åˆ™å­å›¾ $C$ä¸å«æœ‰é˜¶å°äº$n$çš„åœˆä½œä¸ºå­å›¾ $G$ä¹Ÿä¸å«æœ‰æœ‰åº¦å¤§äºç­‰äº3çš„å­å›¾ å¦‚æœ$G$å«æœ‰åº¦ä¸º2çš„é¡¶ç‚¹ï¼Œåˆ™ä¸$v$å…³è”çš„ä¸¤æ¡è¾¹ä¸€å®šä½äº$C$ä¸Š å®šç†6.4ï¼šPetersonå›¾ä¸æ˜¯Hamiltonçš„ Hamiltonå›¾çš„æ€§è´¨$k(G)$ï¼šå›¾çš„è¿é€šåˆ†æ”¯æ•° å®šç†6.5ï¼šå¦‚æœ$G$æ˜¯ä¸€ä¸ªHamiltonå›¾ï¼Œåˆ™å¯¹$G$é¡¶ç‚¹çš„ä»»ä¸€éç©ºçœŸå­é›†$S$ï¼Œéƒ½æœ‰$k(G-S)\\ge |S|$ï¼ˆä¸€ä¸ªå›¾æ˜¯Hamiltonå›¾çš„å¿…è¦æ¡ä»¶ï¼‰é€†å¦å‘½é¢˜ï¼šè®¾$G$ä¸ºä¸€ä¸ªå›¾ã€‚å¦‚æœå¯¹$V(G)$çš„æŸä¸ªéç©ºçœŸå­é›†$S$,æœ‰$k(G-S)&gt;|S|$ï¼Œåˆ™$G$ä¸æ˜¯Hamiltonçš„ï¼ˆä¸€ä¸ªå›¾ä¸ºéHamiltonçš„å……åˆ†æ¡ä»¶ï¼‰å¦‚æœå›¾$G$å«æœ‰ä¸€ä¸ªå‰²ç‚¹$v$ï¼Œåˆ™$G$ä¸æ˜¯Hamiltonçš„ Hamiltonå›¾çš„å……åˆ†æ¡ä»¶å®šç†6.6(Ore å®šç†)ï¼šè®¾$G$ä¸ºä¸€ä¸ª$n(n\\ge 3)$é˜¶çš„å›¾ï¼Œå¦‚æœå¯¹äº$G$çš„æ¯å¯¹ä¸é‚»æ¥çš„é¡¶ç‚¹$u,v$ï¼Œæœ‰$deg u +deg v\\ge n$,åˆ™$G$æ˜¯Hamiltonçš„ã€‚è¯¥å®šç†ç»™å‡ºçš„ç•Œæ˜¯ç´§çš„ æ¨è®º6.7ï¼šè®¾$G$ä¸ºä¸€ä¸ª$n\\ge 3$çš„å›¾ï¼Œå¦‚æœå¯¹äº$G$çš„æ¯ä¸ªé¡¶ç‚¹$v$ï¼Œå‡æœ‰$deg v\\ge n/2$ï¼Œåˆ™$G$æ˜¯Hamiltonçš„ã€‚ å®šç†6.8ï¼šè®¾$u$å’Œ$v$æ˜¯ä¸€ä¸ª$n$é˜¶å›¾$G$çš„ä¸¤ä¸ªä¸é‚»æ¥çš„é¡¶ç‚¹ï¼Œå¹¶ä¸”$deg u + deg v\\ge n$ï¼Œåˆ™$G+uv$æ˜¯Hamiltonçš„å½“ä¸”ä»…å½“$G$æ˜¯Hamiltonçš„ã€‚ é—­åŒ…(closure)ï¼šç”±$G$å‡ºå‘é€’å½’åœ°è¿æ¥åº¦æ•°ä¹‹å’Œè‡³å°‘ä¸º$n$çš„ä¸é‚»æ¥é¡¶ç‚¹å¯¹ï¼Œè®°ä¸º$C(G)$ å®šç†6.9ï¼šä¸€ä¸ªå›¾æ˜¯Hamiltonçš„å½“ä¸”ä»…å½“å®ƒçš„é—­åŒ…æ˜¯Hamiltonçš„ã€‚ æ¨è®º6.10ï¼šå¦‚æœ$G$æ˜¯ä¸€ä¸ªé˜¶è‡³å°‘ä¸º3çš„å›¾ï¼Œä¸”å®ƒçš„é—­åŒ…$C(G)$æ˜¯ä¸€ä¸ªå®Œå…¨å›¾ï¼Œåˆ™$G$æ˜¯ä¸€ä¸ªHamiltonå›¾ å®šç† 6.11ï¼šè®¾$G$æ˜¯ä¸€ä¸ª$n(n\\ge 3)$é˜¶çš„å›¾ã€‚å¦‚æœå¯¹äºæ¯ä¸ªæ•´æ•°$j(1\\le j&lt;\\frac{n}{2})$ï¼Œ$G$ä¸­åº¦è‡³å¤šä¸º$j$çš„é¡¶ç‚¹æ•°å°äº$j$ï¼Œåˆ™$G$æ˜¯Hamiltonçš„ã€‚","categories":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/categories/Notes/"}],"tags":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/tags/Notes/"},{"name":"Problem Solving","slug":"Problem-Solving","permalink":"https://mengzelev.github.io/tags/Problem-Solving/"},{"name":"Graph Theory","slug":"Graph-Theory","permalink":"https://mengzelev.github.io/tags/Graph-Theory/"},{"name":"Traversibility","slug":"Traversibility","permalink":"https://mengzelev.github.io/tags/Traversibility/"}]},{"title":"å›¾è®ºå­¦ä¹ ç¬”è®°-å›¾ä¸­çš„è¿é€šæ€§ä¸è·ç¦»","slug":"connectivity","date":"2018-11-14T08:19:10.000Z","updated":"2018-11-30T14:19:28.693Z","comments":true,"path":"2018/11/14/connectivity/","link":"","permalink":"https://mengzelev.github.io/2018/11/14/connectivity/","excerpt":"","text":"å‰²ç‚¹å‰²ç‚¹çš„å®šä¹‰ï¼šå»æ‰è¿™ä¸ªç‚¹åï¼ŒåŸå›¾ä¸å†è¿é€š å®šç†5.1ï¼šè®¾$v$æ˜¯è¿é€šå›¾$G$ä¸­ä¸bridgeç›¸è¿çš„ä¸€ä¸ªç»“ç‚¹ï¼Œåˆ™$v$æ˜¯å‰²ç‚¹å½“ä¸”ä»…å½“$deg v\\ge 2$éç®€å•æ ‘ = ç«¯ç‚¹ + å‰²ç‚¹ æ¨è®º5.2ï¼šè®¾$G$æ˜¯ä¸€ä¸ªè‡³å°‘æœ‰3ä¸ªé¡¶ç‚¹çš„è¿é€šå›¾ï¼Œè‹¥$G$æœ‰bridgeï¼Œåˆ™$G$ä¸€å®šæœ‰å‰²ç‚¹ å®šç†5.3ï¼šè®¾$v$æ˜¯è¿é€šå›¾$G$çš„ä¸€ä¸ªå‰²ç‚¹ï¼Œ$u$å’Œ$w$æ˜¯$G-v$ä¸åŒcomponentsä¸­çš„ä¸¤ä¸ªé¡¶ç‚¹ï¼Œåˆ™$v$ä½äº$G$çš„ä»»æ„ä¸€æ¡$u-w$è·¯å¾„ä¸Šã€‚ å›é¡¾å®šç†4.1ï¼šè¾¹$e$æ˜¯bridgeå½“ä¸”ä»…å½“$e$ä¸å­˜åœ¨äºä»»ä½•ä¸€ä¸ªcycleä¸Š æ¨è®º5.4ï¼š$v$æ˜¯è¿é€šå›¾$G$çš„ä¸€ä¸ªå‰²ç‚¹ å½“ä¸”ä»…å½“ å­˜åœ¨ä¸$v$ä¸åŒçš„ä¸¤ä¸ªé¡¶ç‚¹$u$å’Œ$w$ï¼Œä½¿å¾—$v$ä½äº$G$çš„ä»»æ„ä¸€æ¡$u-w$è·¯ä¸Š å®šç†5.5ï¼šè®¾$G$æ˜¯éå¹³å‡¡è¿é€šå›¾ï¼Œ$u\\in V(G)$ã€‚è‹¥$v$æ˜¯$G$ä¸­è·ç¦»$u$æœ€è¿œçš„é¡¶ç‚¹ï¼Œåˆ™$v$ä¸æ˜¯$G$çš„å‰²ç‚¹ã€‚ æ¨è®º5.6ï¼šä»»æ„éå¹³å‡¡çš„è¿é€šå›¾è‡³å°‘åŒ…å«ä¸¤ä¸ªéå‰²ç‚¹çš„é¡¶ç‚¹ã€‚ å—(Blocks)ä¸å¯åˆ†å›¾(nonseparable graph)ï¼šæ²¡æœ‰å‰²ç‚¹çš„éå¹³å‡¡è¿é€šå›¾ å®šç†5.7ï¼šç»“ç‚¹æ•°ä¸å°‘äº3çš„å›¾æ˜¯ä¸å¯åˆ†çš„ å½“ä¸”ä»…å½“ ä»»æ„ä¸¤ä¸ªé¡¶ç‚¹éƒ½ä½äºæŸä¸ªåœˆä¸Š å—(block):å›¾$G$çš„ä¸€ä¸ªæœ€å¤§çš„ä¸å¯åˆ†å­å›¾ å®šç†5.8ï¼š$R$æ˜¯å®šä¹‰åœ¨éå¹³å‡¡è¿é€šå›¾$G$çš„è¾¹é›†ä¸Šçš„å…³ç³»ï¼šå¯¹äº$e,f\\in E(G)$ï¼Œè‹¥$e=f$æˆ–$e,f$ä½äº$G$çš„åŒä¸€ä¸ªåœˆä¸Šï¼Œåˆ™$e,f$æœ‰å…³ç³»$R$ï¼Œå³ä¸º$eRf$ä¸”$R$æ˜¯ç­‰ä»·å…³ç³»ã€‚è¯¥å®šç†å°†å›¾$G$çš„è¾¹ç”»åˆ’åˆ†ä¸ºäº†è‹¥å¹²ç­‰ä»·ç±»ã€‚ æ¨è®º5.9ï¼šéå¹³å‡¡è¿é€šå›¾$G$çš„ä»»æ„ä¸¤ä¸ªä¸åŒçš„å—$B_1$å’Œ$B_2$å…·æœ‰ä¸‹é¢æ€§è´¨ï¼š $B_1$å’Œ$B_2$æ˜¯ä¸ç›¸äº¤çš„ $B_1$å’Œ$B_2$è‡³å¤šæœ‰ä¸€ä¸ªå…¬å…±ç»“ç‚¹ è‹¥$B_1$å’Œ$B_2$æœ‰ä¸€ä¸ªå…¬å…±ç»“ç‚¹$v$ï¼Œåˆ™$v$æ˜¯$G$çš„å‰²ç‚¹ è¿é€šåº¦é¡¶ç‚¹å‰²é¡¶ç‚¹å‰²(vertex-cut)ï¼šé¡¶ç‚¹é›†$U$ï¼Œ$G-U$æ˜¯ä¸è¿é€šçš„ æœ€å°é¡¶ç‚¹å‰²ï¼šè‡ªè¡Œæ„Ÿå—ä¸€ä¸‹ åªæœ‰éå®Œå…¨å›¾æ‰æœ‰é¡¶ç‚¹å‰²ï¼Œä¸”æ‰€æœ‰éå®Œå…¨å›¾éƒ½æœ‰é¡¶ç‚¹å‰² (ç‚¹)è¿é€šåº¦(vertex-connectivity):$\\kappa(G)$=æœ€å°é¡¶ç‚¹å‰²çš„åŸºæ•° 0\\le \\kappa(G)\\le n-1å›¾$G$æ˜¯k-è¿é€šçš„(k-connected)ï¼Œå³$\\kappa(G)\\ge k$ï¼Œéšä¾¿å»æ‰$k$ä¸ªç‚¹ä¹‹åä¾ç„¶æ˜¯è¿é€šçš„ è¾¹å‰²(edge-cut)è¾¹å‰²(edge-cut)ï¼šè¾¹é›†$X$ï¼Œ$G-X$æ˜¯ä¸è¿é€šçš„ æœ€å°è¾¹å‰²å’Œæå°è¾¹å‰²æ˜¯ä¸åŒçš„æ¦‚å¿µ è¾¹è¿é€šåº¦(edge-connectivity):$\\lambda(G)$=æœ€å°è¾¹å‰²çš„åŸºæ•° 0\\le \\lambda(G)\\le n-1å®Œå…¨å›¾çš„è¾¹è¿é€šåº¦$\\lambda(K_n)=n-1$ ç‚¹ã€è¾¹è¿é€šåº¦é—´çš„å…³ç³»å®šç†5.11ï¼šå¯¹äºä»»æ„å›¾$G$ï¼Œ\\kappa(G)\\le \\lambda(G)\\le \\delta(G)ç‚¹è¿é€šåº¦$\\le$è¾¹è¿é€šåº¦$\\le$æœ€å°åº¦æ•° å®šç†5.12ï¼šç«‹æ–¹å›¾$\\kappa(G)=\\lambda(G)$ å®šç†5.13ï¼š$G$é¡¶ç‚¹æ•°ä¸º$n$ï¼Œè¾¹æ•°ä¸º$m$ï¼Œåˆ™$\\kappa(G)\\le \\lfloor\\frac{2m}{n}\\rfloor$ Hararyå›¾å®šç†5.14ï¼šå¦‚æœ$G$æ˜¯è‡³å°‘æœ‰3ä¸ªç»“ç‚¹çš„è¿é€šå›¾ï¼Œåˆ™$G^2$æ—¶å€™2-è¿é€šçš„ã€‚ å®šç†5.15ï¼šå¯¹äºä»»æ„æ•´æ•°$r,n$æ»¡è¶³$2\\le r&lt;n$ï¼Œæœ‰$$\\kappa(H_{r,n})=r$ Mengerå®šç†åˆ†ç¦»é›†(separating set)ï¼š$S$æ˜¯å›¾$G$çš„é¡¶ç‚¹é›†çš„ä¸€ä¸ªå­é›†ï¼Œ$u$å’Œ$v$æ˜¯$G$çš„ä¸¤ä¸ªé¡¶ç‚¹ã€‚è‹¥$G-S$æ˜¯ä¸è¿é€šçš„ä¸”$u$å’Œ$v$å±äº$G-S$ä¸åŒçš„è¿é€šåˆ†æ”¯ï¼Œåˆ™ç§°$S$åˆ†ç¦»$u$å’Œ$v$ï¼Œ$S$æ˜¯ä¸€ä¸ª$u-v$åˆ†ç¦»é›† å†…ç‚¹(internal vertex):ä¸€æ¡$u-v$è·¯å¾„ä¸Šé™¤å»$u,v$çš„ç‚¹å†…éƒ¨ä¸ç›¸äº¤(internally disjoint)ï¼šä¸¤æ¡è·¯å¾„é™¤ç«¯ç‚¹å¤–æ²¡æœ‰å…¬å…±ç‚¹ å®šç†5.16(Mengerå®šç†)ï¼šè®¾$u$å’Œ$v$æ˜¯å›¾$G$çš„ä¸é‚»æ¥çš„ä¸¤ä¸ªé¡¶ç‚¹ï¼Œåˆ™$u-v$åˆ†ç¦»é›†ä¸­é¡¶ç‚¹çš„æœ€å°ä¸ªæ•°ç­‰äº$G$ä¸­å†…éƒ¨ä¸ç›¸äº¤$u-v$è·¯çš„æœ€å¤§ä¸ªæ•°ã€‚è¯æ˜ä½¿ç”¨äº†æ•°å­¦å½’çº³æ³•ï¼Œå½’çº³æ­¥æ—¶åˆ†äº†3ç§æƒ…å†µè®¨è®º å®šç†5.17ï¼šä¸€ä¸ªéå¹³å‡¡å›¾$G$æ˜¯$k$è¿é€šçš„($k\\ge 2$) å½“ä¸”ä»…å½“ å¯¹äº$G$çš„ä»»æ„ä¸¤ä¸ªé¡¶ç‚¹$u,v$ï¼Œ$G$è‡³å°‘æœ‰$k$æ¡å†…éƒ¨å†…éƒ¨ä¸ç›¸äº¤çš„$u-v$è·¯ã€‚ æ¨è®º5.18ï¼šè®¾$G$ä¸º$k$è¿é€šå›¾ï¼Œ$S$æ˜¯ç”±$G$ä¸­ä»»æ„$k$ä¸ªé¡¶ç‚¹æ„æˆçš„é›†åˆã€‚è‹¥å›¾$H$æ˜¯ç”±$G$é€šè¿‡æ·»åŠ ä¸€ä¸ªæ–°çš„é¡¶ç‚¹$w$ä»¥åŠè¿æ¥$w$åˆ°$S$ä¸­æ‰€æœ‰çš„é¡¶ç‚¹æ‰€å¾—ï¼Œåˆ™$H$ä¹Ÿæ˜¯$k$è¿é€šçš„ã€‚ æ¨è®º5.19ï¼šè‹¥$G$ä¸º$k$è¿é€šå›¾ï¼Œ$u,v_1,v_2,â€¦,v_k$ä¸º$G$ä¸­$k+1$ä¸ªä¸åŒçš„é¡¶ç‚¹ï¼Œåˆ™$G$æœ‰å†…éƒ¨ä¸ç›¸äº¤çš„$u-v_i$è·¯($1\\le i\\le k$) å®šç†5.20ï¼šè‹¥$G$ä¸º$k$è¿é€šå›¾($k\\ge 2$)ï¼Œåˆ™$G$ä¸­ä»»æ„$k$ä¸ªé¡¶ç‚¹å‡ä½äºæŸä¸€ä¸ªåœˆä¸Šã€‚ å®šç†5.21ï¼šå¯¹äºå›¾$G$ä¸¤ä¸ªä¸åŒçš„é¡¶ç‚¹$u$å’Œ$v$ï¼Œ$G$ä¸­åˆ†ç¦»$u,v$çš„è¾¹çš„æœ€å°ä¸ªé¢æ•°ç­‰äº$G$ä¸­è¾¹ä¸ç›¸äº¤$u-v$è·¯çš„æœ€å¤§ä¸ªæ•° å®šç†5.22ï¼šä¸€ä¸ªéå¹³å‡¡å›¾$G$æ˜¯$k$è¾¹è¿é€šçš„å½“ä¸”ä»…å½“å¯¹äº$G$ä¸­ä»»æ„ä¸¤ä¸ªä¸åŒçš„é¡¶ç‚¹$u,v$ï¼Œ$G$åŒ…å«$k$æ¡è¾¹ä¸ç›¸äº¤çš„$u-v$è·¯","categories":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/categories/Notes/"}],"tags":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/tags/Notes/"},{"name":"Problem Solving","slug":"Problem-Solving","permalink":"https://mengzelev.github.io/tags/Problem-Solving/"},{"name":"Graph Theory","slug":"Graph-Theory","permalink":"https://mengzelev.github.io/tags/Graph-Theory/"},{"name":"Connectivity","slug":"Connectivity","permalink":"https://mengzelev.github.io/tags/Connectivity/"}]},{"title":"ç®—æ³•å¯¼è®ºå­¦ä¹ ç¬”è®°-æ‰€æœ‰ç»“ç‚¹å¯¹çš„æœ€çŸ­è·¯å¾„é—®é¢˜","slug":"clrs-25All-Pairs-Shortest-Paths","date":"2018-11-07T08:17:34.000Z","updated":"2019-01-07T11:15:54.734Z","comments":true,"path":"2018/11/07/clrs-25All-Pairs-Shortest-Paths/","link":"","permalink":"https://mengzelev.github.io/2018/11/07/clrs-25All-Pairs-Shortest-Paths/","excerpt":"","text":"çŸ©é˜µä¹˜æ³•æœ€ä¼˜å­ç»“æ„$l_{ij}^(m)}$:ä»ç»“ç‚¹$i$åˆ°ç»“ç‚¹$j$çš„è‡³å¤šåŒ…å«$m$æ¡è¾¹çš„ä»»æ„è·¯å¾„ä¸­çš„æœ€å°æƒé‡ã€‚ l_{ij}^{(m)} = \\min\\limits_{1\\lek\\le n}\\{l_{ik}^{(m1)}+w_{kj}\\}è‡ªåº•å‘ä¸Šè®¡ç®—æœ€çŸ­è·¯å¾„æƒé‡ ä¸‰é‡å¾ªç¯ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º$\\Theta(n^3)$ å½¢å¼ä¸Šä¸çŸ©é˜µä¹˜æ³•çš„è®¡ç®—éå¸¸ç±»ä¼¼ è®¡ç®—$L^{(n-1)}=W^{n-1}$ è¿™ä¸ªç®—æ³•æœ¬è´¨ä¸Šå°±æ˜¯å¯¹$n$ä¸ªç‚¹æ¯ä¸ªè·‘äº†ä¸€éBellman-Ford æ”¹è¿›è¿è¡Œæ—¶é—´é‡å¤å¹³æ–¹æŠ€æœ¯äºŒåˆ†è®¡ç®—çŸ©é˜µçš„å¹‚ ä¼˜åŒ–åæ—¶é—´å¤æ‚åº¦ä¸º$\\Theta(n^3\\lgn n)$ Floyd-Warshallç®—æ³•æšä¸¾æœ€çŸ­è·¯å¾„ä¸Šçš„ä¸­é—´ç»“ç‚¹æ¥è¿›è¡Œé€’å½’çš„è®¡ç®— ä¸å…è®¸æœ‰è´Ÿæƒé‡ç¯ ä½†æ˜¯å¯ä»¥åšåˆ°åœ¨æœ‰è´Ÿæƒé‡ç¯çš„æƒ…å†µä¸‹æŠ¥å‘Šï¼ˆçœ‹å¯¹è§’å…ƒæ˜¯å¦æœ‰è´Ÿæ•°ï¼‰ $d_{ij}^{(k)}$ï¼šä»$i$åˆ°$j$ç»è¿‡çš„ä¸­é—´ç»“ç‚¹ä¸º${1,â€¦k}$çš„å­é›†çš„æœ€çŸ­è·¯å¾„é•¿åº¦ ä¼ªä»£ç  æ—¶é—´å¤æ‚åº¦$\\Theta(n^3)$ ç©ºé—´å¤æ‚åº¦çœ‹ä¼¼éœ€è¦$\\Theta(n^3)$ï¼Œä½†æ˜¯ä½œä¸šé¢˜ä¸­è¯æ˜äº†åªéœ€è¦ä¸€ä¸ªçŸ©é˜µæ¥å­˜å‚¨ï¼Œä¸º$\\Theta(n^2)$ æ„å»ºæœ€çŸ­è·¯å¾„é‡‡ç”¨åŠ¨æ€è§„åˆ’çš„æ€æƒ³ï¼Œé€’æ¨å¼å¦‚ä¸‹ ç”¨äºç¨€ç–å›¾çš„Johnsonç®—æ³•ç”¨ä¸€ç§ç¥å¥‡çš„æ–¹å¼å¯¹å›¾ä¸­æ¯æ¡è¾¹çš„æƒé‡è¿›è¡Œé‡æ–°èµ‹å€¼ï¼Œä½¿æ–°çš„å›¾æ»¡è¶³ æ‰€æœ‰æƒé‡éƒ½ä¸ºéè´Ÿå€¼ æ–°å›¾ä¸­çš„æœ€çŸ­è·¯å¾„å°±æ˜¯æ—§å›¾ä¸­çš„æœ€çŸ­è·¯å¾„ ä¼ªä»£ç  å…ˆå¢åŠ ä¸€ä¸ªæ–°ç»“ç‚¹$s$ï¼Œè¯¥ç‚¹åˆ°åŸå…ˆå„ç»“ç‚¹éƒ½æœ‰è¾¹ç›¸è¿ï¼Œæƒé‡ä¸º0å¯¹æ–°å›¾è¿›è¡Œä¸€æ¬¡Bellman-Fordç®—æ³•ï¼Œå¯»æ‰¾æ˜¯å¦æœ‰è´Ÿæƒé‡ç¯è·¯æ²¡æœ‰è´Ÿæƒé‡ç¯ï¼Œå°±ç”¨ç¥å¥‡çš„é•¿å¾—åƒé¡¶ç‚¹çš„åŠ¿èƒ½å‡½æ•°ä¸€æ ·çš„å‡½æ•°ç»™æ¯æ¡è¾¹é‡æ–°èµ‹å€¼ \\hat{w}(u,v)=w(u,v)+h(u)-h(v)h(u)=\\delta(s,u)ç„¶åå¯¹æ¯ä¸ªç‚¹è¿›è¡ŒDijkstraæœ€åè®°å¾—å°†æœ€çŸ­è·¯å¾„çš„æƒé‡æ¢å¤ï¼Œå¹¶å­˜å…¥çŸ©é˜µ$D$ä¸­è¿”å› æ—¶é—´å¤æ‚åº¦äºŒå‰æœ€å°ä¼˜å…ˆé˜Ÿåˆ—å®ç°Dijkstraï¼š$O(VE\\lg V)$æ–æ³¢é‚£å¥‘å †å®ç°ï¼š$O(V^2\\lgV+VE)$åœ¨ç¨€ç–å›¾çš„æƒ…å†µä¸‹ï¼Œè¡¨ç°æ¯”Floyd-Warshallå¥½","categories":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/categories/Notes/"}],"tags":[{"name":"Problem Solving","slug":"Problem-Solving","permalink":"https://mengzelev.github.io/tags/Problem-Solving/"},{"name":"CLRS","slug":"CLRS","permalink":"https://mengzelev.github.io/tags/CLRS/"},{"name":"Graph Algorithms","slug":"Graph-Algorithms","permalink":"https://mengzelev.github.io/tags/Graph-Algorithms/"}]},{"title":"Lab2:é“¾æ¥ä¸åŠ è½½ å®éªŒæŠ¥å‘Š","slug":"lab2-report","date":"2018-11-06T09:17:47.000Z","updated":"2018-11-30T14:17:54.141Z","comments":true,"path":"2018/11/06/lab2-report/","link":"","permalink":"https://mengzelev.github.io/2018/11/06/lab2-report/","excerpt":"","text":"å®éªŒè¿‡ç¨‹æŒ‰ç…§å®éªŒè®²ä¹‰çš„æç¤ºï¼Œé¦–å…ˆæ‰¾åˆ°äº†libcåº“æ‰€åœ¨çš„ä½ç½®ï¼Œè¾“å‡ºåŸºæœ¬ä¸è®²ä¹‰ä¸­ç»™å‡ºçš„ä¸€è‡´ï¼Œä¸ä½œèµ˜è¿°ã€‚ ç¼–å†™çš„æµ‹è¯•æ–‡ä»¶a.cçš„ä»£ç ä¸º #include &lt;stdio.h&gt; #include &lt;stdlib.h&gt; int main ()&#123; int a = rand(); printf(&quot;%d\\n&quot;,a); return 0; &#125; åªéœ€è¦æœ‰å¯¹randçš„è°ƒç”¨ä¸”ä¿è¯ä¸ä¼šè¢«ç¼–è¯‘å™¨ä¼˜åŒ–æ‰å°±å¯ä»¥äº†ã€‚ æ‰¾åˆ°åŠ¨æ€åº“æ–‡ä»¶ä¹‹åï¼Œå¯¹è¯¥äºŒè¿›åˆ¶æ–‡ä»¶è¿›è¡Œåæ±‡ç¼– $ objdump -d /lib/x86_64-linux-gnu/libc.so.6 &gt; libc64 ç„¶åå¯¹åæ±‡ç¼–åçš„æ–‡ä»¶è¿›è¡ŒæŸ¥çœ‹ï¼Œå¯ä»¥çœ‹åˆ°ä¸€å †åº“å‡½æ•°çš„åæ±‡ç¼–ä»£ç ã€‚æ­¤æ—¶æˆ‘çœ‹åˆ°äº†è®²ä¹‰ä¸­çš„è¿™å¥è¯ï¼š ç„¶åä½ ä¼šå‘ç°è¿™ä¸ªæ–‡ä»¶å¯¹ä½ å¹¶æ²¡æœ‰ä»€ä¹ˆåµç”¨ï¼Œå¥½å§ï¼Œå…¶å®ä¸€ä¼šå„¿æ˜¯ä¼šç”¨åˆ°çš„ã€‚ å¯¼è‡´æˆ‘çœŸçš„ä»¥ä¸ºç°åœ¨ç”¨ä¸åˆ°è¿™ä¸ªæ–‡ä»¶ï¼Œäºæ˜¯ï¼Œæˆ‘å‚»fufuåœ°æŒ‰ç…§è®²ä¹‰çš„æŒ‡ç¤ºå»æ‰¾randå‡½æ•°çš„åœ°å€äº†ã€‚gdbï¼Œå¯åŠ¨ï¼çœ‹åˆ°äº†ä¸€å †è·³è½¬è¯­å¥ï¼Œæ„Ÿå—åˆ°äº†è‡ªå·±å¯¹è¯¾æœ¬å†…å®¹æŒæ¡ä¸è¶³ï¼›è¯¾æœ¬ï¼Œæ‰“å¼€ï¼å¤ä¹ äº†ä¸€ä¸‹åŠ¨æ€é“¾æ¥ç›¸å…³çš„çŸ¥è¯†ç‚¹ï¼›gdbï¼Œå¼€å§‹ï¼å•æ­¥æ‰§è¡Œåˆ°&lt;rand@plt&gt;å¤„æ—¶ï¼Œå‘ç°äº†randå¯¹åº”çš„GOTè¡¨é¡¹çš„åœ°å€ï¼Œä¸º0x55555575020 ç„¶åç–¯ç‹‚siï¼Œä¼šçœ‹ä¸€å †dl_å¼€å¤´çš„ï¼Œå…«æˆæ˜¯å’ŒåŠ¨æ€é“¾æ¥æœ‰å…³çš„å‡½æ•°ã€‚ä¸€ä¸å°å¿ƒå›è½¦è¿‡å¤´ï¼Œæœ€ååœ¨mainé‡Œåœä¸‹æ¥ï¼Œæ€»ä¹‹åŠ¨æ€é“¾æ¥è¿‡ç¨‹å·²ç»å®Œæˆäº†ï¼Œè¿™æ—¶å€™å¯ä»¥æŸ¥çœ‹å†…å­˜åœ°å€ä¸º0x55555575020å¤„çš„å†…å®¹ä¸º0x7ffff7a70820ï¼ˆå¿˜äº†æˆªå›¾äº†ï¼‰ æ‰“å°0x7ffff7a70820çš„å†…å®¹ï¼Œç¡®è®¤äº†ç¡®å®ä¸ºrandå‡½æ•°çš„åœ°å€ åšåˆ°è¿™é‡Œï¼Œæ„Ÿè§‰åƒæ˜¯å®Œæˆäº†ä»€ä¹ˆï¼Œå¼€å§‹æ€è€ƒä¸‹ä¸€æ­¥è¦åšä»€ä¹ˆã€‚ç­‰ä¸€ä¸‹ï¼Œæˆ‘ä»¬çš„æœ€ç»ˆç›®æ ‡ä¸æ˜¯åªè¦å¾—åˆ°systemåˆ°randçš„åç§»é‡å—ï¼Œé‚£æˆ‘è´¹å°½åƒè¾›ä¸‡è‹¦æåˆ°randçš„åœ°å€å¹²ä»€ä¹ˆâ€¦â€¦ç®—äº†ï¼Œå°±å½“å¤ä¹ äº†ä¸€ä¸‹åŠ¨æ€é“¾æ¥çš„ç›¸å…³çŸ¥è¯†ç‚¹å’Œå›å¿†äº†ä¸€ä¸‹gdbçš„ä½¿ç”¨æ–¹æ³•å§ ä¸ç®¡äº†ï¼Œæ€»ä¹‹å…ˆæ‰“å¼€ä¹‹å‰åæ±‡ç¼–çš„åŠ¨æ€åº“çœ‹ä¸€ä¸‹ï¼Œåˆ†åˆ«æ‰¾åˆ°randå’Œsystemçš„åœ°å€ åç§»é‡ä¸º0x3f480-0x36820=0x8c60 ä¸ºäº†éªŒè¯ä¸€ä¸‹æ­£ç¡®æ€§ï¼Œä½¿ç”¨gdbæ‰“å°äº†å’Œrandå…·æœ‰ç›¸åº”åç§»é‡ï¼ˆå…¶å®å°±æ˜¯å3ä½ä¸åŒï¼‰å‡ºçš„å†…å­˜å†…å®¹ è¿™ä¸‹å‡†æ²¡é”™äº†ï¼Œäºæ˜¯å¼€å§‹ç¼–å†™oj_killerå‡½æ•° ä»£ç è§£é‡Šæœ€åˆä»…è€ƒè™‘64ä½æƒ…å†µçš„oj_killerå‡½æ•°ä»£ç å¦‚ä¸‹ #include &lt;stdlib.h&gt; void* oj_killer()&#123; void* randptr = (void *)rand; //è·å¾—randå‡½æ•°çš„åœ°å€ return (void*)(randptr + 0x8c60); //åŠ ä¸Šlibcä¸­randåˆ°systemçš„åç§»é‡ï¼Œè¿”å›systemå‡½æ•°çš„åœ°å€ &#125; ç¼–è¯‘è¿è¡Œåèƒ½å¤ŸæˆåŠŸè¾“å‡ºHello World å…¼å®¹32ä½æ¥ä¸‹æ¥è€ƒè™‘32ä½çš„æƒ…å†µ å¦‚æœå°†ä¸Šè¿°ç¨‹åºç›´æ¥ç¼–è¯‘ä¸º32ä½ï¼Œä¼šå¾—åˆ°Illegal instructionçš„é”™è¯¯ å¯¹a.cåŠ ä¸Š-m32é€‰é¡¹è¿›è¡Œç¼–è¯‘åæŸ¥çœ‹å…¶è°ƒç”¨çš„åŠ¨æ€é“¾æ¥åº“ï¼Œå¯ä»¥å‘ç°è°ƒç”¨çš„æ˜¯32ä½çš„åº“ï¼Œå’Œ64ä½çš„åº“æ˜¯ä¸ä¸€æ ·çš„ï¼ˆå½“ç„¶äº† $gcc a.c -m32 -o a32.out $file a32.out a32.out: ELF 32-bit LSB shared object, Intel 80386, version 1 (SYSV), dynamically linkâ”‚ ed, interpreter /lib/ld-linux.so.2, for GNU/Linux 2.6.32, BuildID[sha1]=b3e591a0858f18â”‚ 2549e63239c338f5fd30496ce2, not stripped $ldd a32.out linux-gate.so.1 (0xf77ac000) libc.so.6 =&gt; /lib32/libc.so.6 (0xf75d1000) /lib/ld-linux.so.2 (0xf77ae000) $file -L /lib32/libc.so.6 /lib32/libc.so.6: ELF 32-bit LSB shared object, Intel 80386, version 1 (GNU/Linux), dynamically linked, interpreter /lib/ld-linux.so.2, BuildID[sha1]=84bb53910470c7ceb2a0963044117fdf8a2bb975, for GNU/Linux 2.6.32, stripped ä½¿ç”¨åŒæ ·çš„æ–¹æ³•è¿›è¡Œåæ±‡ç¼–å $objdump -d /lib32/libc.so.6 &gt; libc32 åˆ†åˆ«å¾—åˆ°randå’Œsystemåœ¨libcå†…çš„åœ°å€ äºæ˜¯å¯ä»¥æŒ‰ç…§åŒæ ·çš„æ€è·¯ç¼–å†™ä»£ç  çœŸÂ·ä»£ç è§£é‡Švoid* oj_killer()&#123; int type = sizeof(void*); void* randptr = (void *)rand; //è·å¾—randå‡½æ•°çš„åœ°å€ if(type == 8) //åˆ¤æ–­å½“å‰ç¯å¢ƒæ˜¯å¦ä¸º64-bit return (void*)(randptr + 0x8c60); //åŠ ä¸Š64ä½æ—¶libcä¸­çš„åç§»é‡ else return (void*)(randptr - 0x2f6f0 + 0x3a850); //åŠ ä¸Š32ä½æ—¶libcçš„åç§»é‡ &#125; ä¸ºäº†ä¿è¯ä»£ç çš„å¯ç§»æ¤æ€§ï¼Œç‰¹æ„å°†å˜é‡randptrå£°æ˜ä¸ºvoid*ç±»å‹ï¼Œè€Œéintæˆ–long longã€‚åˆ¤æ–­å½“å‰ç¯å¢ƒä¸º32/64ä½åˆ™ä¾é å¯¹void*é•¿åº¦çš„åˆ¤æ–­ã€‚ æš´éœ²äº†ä¸å¤ªä¼šç”¨#ifé¢„ç¼–è¯‘æŒ‡ä»¤çš„äº‹å® åˆ†åˆ«æŒ‰32ä½å’Œ64ä½ç¼–è¯‘åï¼Œå¯ä»¥å¾—åˆ°Hello Worldçš„è¾“å‡ºï¼š","categories":[],"tags":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/tags/Notes/"},{"name":"Lab","slug":"Lab","permalink":"https://mengzelev.github.io/tags/Lab/"},{"name":"Ics","slug":"Ics","permalink":"https://mengzelev.github.io/tags/Ics/"}]},{"title":"PA2å®éªŒæŠ¥å‘Š","slug":"PA2-report","date":"2018-11-06T01:33:26.000Z","updated":"2018-11-06T01:34:50.453Z","comments":true,"path":"2018/11/06/PA2-report/","link":"","permalink":"https://mengzelev.github.io/2018/11/06/PA2-report/","excerpt":"","text":"å®éªŒè¿›åº¦æè¿°2018/10/04RTFå®éªŒè®²ä¹‰ï¼ŒRTFSCï¼Œæˆ‘æ˜¯è°ï¼Œæˆ‘åœ¨å“ªå„¿ï¼Œæˆ‘è¦å¹²ä»€ä¹ˆ 2018/10/05ç»å†äº†ä¸¤å¤©çš„RTFSCåç»ˆäºçœ‹æ‡‚äº†æ¡†æ¶ä»£ç æ˜¯å¹²å˜›çš„ï¼ŒRTFMå®ç°äº†sub,push,ret,callç­‰æŒ‡ä»¤ï¼Œåœ¨nemuä¸­è¿è¡Œäº†ç¬¬ä¸€ä¸ªç¨‹åºdummy 2018/10/21å¬äº†åŒå­¦ä»¬çš„å»ºè®®ï¼Œå…ˆå®ç°äº†diff-testï¼Œç»“æœå‘ç°PA2.1çš„æŒ‡ä»¤å®ç°æœ‰bugã€‚ä¿®å¤äº†è¿™äº›bugå¹¶æ¸©æ•…æ¡†æ¶ä»£ç çš„æ„æˆ 2018/10/22èŠ±äº†ä¸€æ•´å¤©å¯¹ç…§ç€FMå®ç°äº†execç›®å½•ä¸‹å¤§éƒ¨åˆ†æŒ‡ä»¤ï¼Œå¡«å†™opcode_tableå·¨è¡¨ï¼Œç„¶è€Œæœ‰æµ·é‡bugç­‰å¾…å‘ç° 2018/10/27å¼€diff-testè·‘å®Œäº†cputestä¸­æ‰€æœ‰çš„æµ‹è¯•ï¼Œä¿®å¤äº†èƒ½å‘ç°çš„PA2.2ä¸­çš„bugã€‚bash runallåçœ‹åˆ°äº†ç»¿æ²¹æ²¹çš„full-comboï¼Œå¿ƒæƒ…èˆ’ç•…ã€‚ç„¶è€Œå¹¶ä¸çŸ¥é“2.3çš„æ—¶å€™è¿˜æœ‰æµ·é‡bugç­‰ç€è‡ªå·± 2018/10/28å®ç°äº†string.cä¸­æ‰€æœ‰çš„åº“å‡½æ•°å’Œsprintfï¼Œå…ˆåœ¨nemuå¤–å•ç‹¬æ‰‹åŠ¨æµ‹è¯•ï¼Œç„¶åæ”¾å…¥klibä¸­ï¼ŒæˆåŠŸè¿è¡Œstring.cå’Œhell-str.cï¼ŒPA2.2åŸºæœ¬å®Œæˆï¼Œmake submit 2018/11/2å®ç°äº†in/outæŒ‡ä»¤ï¼ŒæˆåŠŸè¿è¡Œhelloã€‚ä¸åŒå­¦å‡ºå»åƒç«é”…ï¼Œè®¨è®ºå‘ç°è‡ªå·±çš„diff-testæ­ªæ‰“æ­£ç€å¯ä»¥æ­£å¸¸è¿è¡Œã€‚ 2018/11/3å®ç°äº†printfï¼Œæµ‹è¯•æ—¶é’Ÿæ—¶é™·å…¥è«åå…¶å¦™çš„Segmentation Faultï¼Œåœ¨æŒ‡ä»¤ä¸­åŠ å…¥å¤§é‡Logæµ‹è¯•ï¼Œæ— æœï¼›æ‰¾åˆ°å¤§è…¿è¿›è¡Œæ–‡ä»¶æ›¿æ¢ï¼Œæ— æœï¼›æŠŠæŒ‡ä»¤å®ç°å’Œåº“å‡½æ•°åˆç»™äº†å¤§è…¿äºŒå·è¿›è¡Œæ›¿æ¢ï¼Œå‘ç°ä¸€åˆ‡è¿è¡Œæ­£å¸¸ã€‚å¿ƒæ€çˆ†ç‚¸ï¼Œæ€€ç–‘äººç”Ÿï¼Œgitæ»šå›åˆ°2.2å®Œæˆçš„çŠ¶æ€ï¼Œä»2å¼€å§‹çš„PA2.3ã€‚ä¿®ä»™å®ç°äº†æ—¶é’Ÿã€é”®ç›˜å’Œvgaï¼Œå¹¶é€šè¿‡äº†ç›¸å…³æµ‹è¯•ï¼ŒæˆåŠŸè¿è¡Œæ‰“å­—æ¸¸æˆï¼ˆè™½ç„¶æ…¢çš„ä¸€ç¬”ï¼‰ã€‚è·‘åˆ†æµ‹è¯•æ—¶è¿˜æ˜¯å‡ºç°äº†bugï¼Œé‚å¼€å¯diff-teståæ»šå»ç¡è§‰ 2018/11/4èµ·æ¥çœ‹åˆ°ç»“æœå‘ç°æ˜¯negæŒ‡ä»¤å†™é”™äº†ï¼Œä¿®å¤bugåæˆåŠŸè¿è¡Œäº†ä¸‰ä¸ªè·‘åˆ†æµ‹è¯•ã€‚çœ‹åˆ°è¶…çº§æ— æ•Œæ…¢åŠ¨ä½œé©¬é‡Œå¥¥ï¼Œå·®ç‚¹ç¬‘æ­»ï¼Œå½•æˆè§†é¢‘å‘åˆ°qqç©ºé—´è¢«jyyç‚¹èµäº†ã€‚å¤ä¹ é“¾æ¥ç›¸å…³çŸ¥è¯†ï¼Œè‡ªå­¦Makefileè¯­æ³•ï¼Œç¼–å†™ç¡¬æ ¸å®éªŒæŠ¥å‘Šã€‚ å¿…ç­”é¢˜ åªæœ‰èªæ˜çš„äººæ‰çœ‹å¾—è§ æˆ‘é‡åˆ°çš„é‚£äº›bugä»¥åå®éªŒæŠ¥å‘Šæ–°å¢è¿™ä¸€ç¯èŠ‚ï¼Œå¸Œæœ›å¯ä»¥å¸®åˆ°å…¶ä»–äºº æœ‰äº›æŒ‡ä»¤ä¸æ˜¯RTLå®Œäº†å°±å®Œäº‹çš„ï¼Œè¿˜éœ€è¦operand_writeå†™å…¥åˆ°ç›¸åº”ä½ç½® testæŒ‡ä»¤æ‰‹å†Œè¡¨æ„ä¸æ¸…ï¼Œè™½ç„¶å†™äº†DEST := LeftSRC AND RightSRCï¼Œä½†æ˜¯ä¸¤ä¸ªæ“ä½œæ•°å¹¶ä¸éœ€è¦æ”¹å˜ï¼Œä¸éœ€è¦è¿›è¡Œoperand_write æ¡†æ¶é‡Œå·²ç»ä¸ºä½ å‡†å¤‡äº†ä¸°å¯Œå¤šå½©çš„è¯‘ç å‡½æ•°ï¼Œæœ‰äº›æŒ‡ä»¤æœ‰è‡ªå·±ç‰¹æ®Šçš„è¯‘ç å‡½æ•°ï¼Œèµ¶ç´§åˆ°decode.hé‡Œå»åº·åº·å§ï¼ retæŒ‡ä»¤éœ€è¦è·³è½¬åˆ°è¿”å›åœ°å€çš„ï¼Œæ²¡æœ‰å¥½å¥½RTFMçš„åæœ saræ˜¯éœ€è¦ç¬¦å·æ‰©å±•çš„ è¯‘ç å‡½æ•°çš„ç«‹å³æ•°è¯»å…¥ä¹Ÿæ˜¯éœ€è¦ç¬¦å·æ‰©å±•çš„ ç¼–è¯‘timetestçš„æ—¶å€™é“¾æ¥å‡ºé”™ï¼šundefined reference toï¼Œå…¶å®æ˜¯å› ä¸ºstdio.cæ²¡æœ‰åŠ ä¸Šé‡è¦çš„å¤´æ–‡ä»¶ è¿è¡Œè·‘åˆ†æµ‹è¯•coremarkæ—¶å‡ºç°å†…å­˜åœ°å€è¶Šç•Œï¼Œå‘ç°æ˜¯opcode_tableä¸­çš„imulæŒ‡ä»¤çš„è¯‘ç å‡½æ•°å†™é”™äº† negæŒ‡ä»¤åªéœ€è¦ç›´æ¥å–ååŠ ä¸€ ä¸çŸ¥é“æ—¶é’Ÿæ€ä¹ˆå†™ï¼Œå¯ä»¥å‚è€ƒä¸€ä¸‹_putcçš„ä»£ç ï¼Œé‡Œé¢æœ‰æç¤º nativeçš„è¾“å…¥è¾“å‡ºå®ç°é‡Œæœ‰ä¸å°‘æç¤ºå¯ä¾›å‚è€ƒ æ¡†æ¶ä»£ç ä¸­æ²¡æœ‰rolæŒ‡ä»¤ï¼Œä¸çŸ¥é“æ˜¯å¯çˆ±PAä½œè€…çš„ç–å¿½è¿˜æ˜¯æ•…æ„è®©æˆ‘ä»¬ç»ƒæ‰‹çš„ è“æ¡†æ€è€ƒé¢˜ä¸´è¿‘æœŸä¸­è€ƒè¯•ï¼Œæ—¶é—´ä¸æ˜¯å¾ˆå……è£•ï¼Œå†™å¾—å¾ˆå°‘ï¼Œä½†æ„¿ä»Šåæœ‰æœºä¼šäºŒå‘¨ç›®æ€è€ƒå§ Q:AT&amp;Tæ ¼å¼åæ±‡ç¼–ç»“æœä¸­çš„å°‘é‡æŒ‡ä»¤, ä¸i386æ‰‹å†Œä¸­åˆ—å‡ºçš„æŒ‡ä»¤åç§°ä¸ç¬¦, å¦‚cltd. é™¤äº†STFWä¹‹å¤–, ä½ æœ‰åŠæ³•åœ¨æ‰‹å†Œä¸­æ‰¾åˆ°å¯¹åº”çš„æŒ‡ä»¤å—? å¦‚æœæœ‰çš„è¯, ä¸ºä»€ä¹ˆè¿™ä¸ªåŠæ³•æ˜¯æœ‰æ•ˆçš„å‘¢?A:å…ˆSTFWè¯•å›¾ææ¸…æ¥šè¿™ä¸ªæŒ‡ä»¤æ˜¯å¹²ä»€ä¹ˆçš„ï¼Œç„¶åç¿»æ‰‹å†Œçš„ç›®å½•å¯»æ‰¾æè¿°å·®ä¸å¤šçš„æŒ‡ä»¤ã€‚æ¯”å¦‚cltdæ˜¯Convert longword to doublewordçš„æ„æ€ï¼Œç¿»æ‰‹å†Œçš„ç›®å½•èƒ½æ‰¾åˆ°æ„æ€å·®ä¸å¤šçš„Convert word to double wordã€‚è¿æ°”å¥½çš„è¯å¯èƒ½åœ¨STFWçš„æ—¶å€™å°±èƒ½æ‰¾åˆ°å¯¹åº”çš„i386çš„æŒ‡ä»¤åç§°äº†ã€‚ Qï¼šä½ æˆ–è®¸ä¼šæ„Ÿåˆ°ç–‘æƒ‘, ä»£ç ä¼˜åŒ–ä¸æ˜¯ä¸€ä»¶å¥½äº‹æƒ…å—? ä¸ºä»€ä¹ˆä¼šæœ‰volatileè¿™ç§å¥‡è‘©çš„å­˜åœ¨? æ€è€ƒä¸€ä¸‹, å¦‚æœä»£ç ä¸­pæŒ‡å‘çš„åœ°å€æœ€ç»ˆè¢«æ˜ å°„åˆ°ä¸€ä¸ªè®¾å¤‡å¯„å­˜å™¨, å»æ‰volatileå¯èƒ½ä¼šå¸¦æ¥ä»€ä¹ˆé—®é¢˜? Aï¼šå› ä¸ºç¼–è¯‘å™¨åŸºæœ¬æ˜¯æ ¹æ®è¾“å…¥è¾“å‡ºçŠ¶æ€è¿›è¡Œçš„ä»£ç ä¼˜åŒ–ï¼Œè€Œæˆ‘ä»¬æœ‰äº›æ—¶å€™æ˜¯careä¸­é—´è¿‡ç¨‹çš„ï¼Œä¾‹å¦‚lab01ä¸­çš„æ€§èƒ½æµ‹è¯•ã€‚å¦‚æœä»£ç ä¸­pæŒ‡å‘çš„åœ°å€æœ€ç»ˆè¢«æ˜ å°„åˆ°ä¸€ä¸ªè®¾å¤‡å¯„å­˜å™¨ï¼Œå¯èƒ½ä¼šå‘ç”Ÿè®¾å¤‡çŠ¶æ€çš„è·³å˜ï¼Œæ¯”å¦‚æ˜¾ç¤ºå™¨æŸå—åœ°æ–¹åº”è¯¥æ˜¯ç”±è“å˜ç»¿å†å˜çº¢ï¼Œä¼šç›´æ¥ä»è“è‰²å˜æˆçº¢è‰²ã€‚ å®éªŒå¿ƒå¾— æœªæµ‹è¯•çš„ä»£ç æ°¸è¿œæ˜¯é”™çš„ï¼Œæµ‹è¯•è¿‡çš„ä»£ç ä¹Ÿä¸ä¼šæ˜¯å¯¹çš„ï¼éšè—bugæ— å¤„ä¸åœ¨ã€‚ã€PA2.2full-comboçš„å¤§å®¶å‡ ä¹éƒ½åœ¨2.3é‡Œå‘ç°äº†cputestsæ²¡èƒ½æš´éœ²çš„bugï¼Œä»¥æ­¤ç±»æ¨PA3çš„æ—¶å€™å¯èƒ½è¿˜ä¼šå‘ç°PA2çš„bug è¦åŠæ—¶åšå®šæ»šå›å»ä»å¤´å†æ¥çš„å†³å¿ƒï¼Œè¯•è¿‡äº†åŠ›æ‰€èƒ½åŠçš„æ‰€æœ‰æ–¹æ³•éƒ½æ‰¾ä¸å‡ºæ¥çš„bugå°±ä¸è¦æ‰¾äº†ï¼Œè‚¯å®šæ˜¯åœ¨ä¸€äº›ç„å­¦çš„åœ°æ–¹çŠ¯äº†ç„å­¦çš„é”™è¯¯ï¼Œå¹²è„†ä»å¤´é‡æ–°å†™ä¸€é amç›¸å…³çš„æ¦‚å¿µè¿˜ä¸æ˜¯éå¸¸æ¸…æ¥šï¼Œç›®å‰è¿˜ä¸å½±å“åšå®éªŒï¼Œä½†è¿˜æ˜¯æƒ³è¿›ä¸€æ­¥äº†è§£ Copy-pasteæ˜¯åæ–‡æ˜ github privateè¿œç¨‹åº“ä¿å‘½æ˜¯çœŸçš„å¾ˆé‡è¦ï¼Œå®‰å¿ƒå¤šäº† è·‘åˆ†ç»“æœå ªå¿§ï¼Œä½†æ˜¯æœ¬ç€å…ˆå†™å¯¹ï¼Œå†å®Œç¾çš„å®—æ—¨ï¼Œä¸ç®¡äº†è¿˜æ˜¯å€¼å¾—å¼€å¿ƒä¸€ä¸‹çš„ bugæ­»æ´»æ‰¾ä¸å‡ºçš„æ—¶å€™å®¹æ˜“å¿ƒæ€è¡€å´©ï¼Œä½†æ˜¯è¿™æ—¶å€™åªè¦å®ç°ä¸€ä¸ªå°çš„åŠŸèƒ½å°±èƒ½ç¬é—´é«˜å…´å›æ¥ æ•²ä»£ç çœŸ**å¼€å¿ƒ Appreciation æ„Ÿè°¢â€œâ„¢å†™â„¢PAçœŸâ„¢å¼€å¿ƒâ€ç¾¤çš„ç¾¤å‹ä»¬ï¼Œä¸€èµ·ä¿®ä»™ï¼Œä¸€èµ·å†™bugï¼Œä¸€èµ·äº¤æµbugï¼Œå¸®å¿™debugï¼Œè¿˜åœ¨å¿ƒæ€å¿«å´©çš„æ—¶å€™ä¸€èµ·å‡ºå»çº¦äº†é¡¿ç«é”… æ„Ÿè°¢xyåŒå­¦ï¼Œæä¾›äº†å¯ä¾›æ›¿æ¢çš„å¤§è…¿ï¼Œåšå¾—å¤ªå¿«äº†ï¼Œè¿˜ç»™æˆ‘å‰§é€äº†ä¸å°‘ï¼Œè®©æˆ‘å°‘è¸©äº†ä¸å°‘å‘ æ„Ÿè°¢ldwåŒå­¦ï¼Œç”¨æˆ‘çš„ä»£ç æ›¿æ¢åˆ°äº†ä»–çš„ä»£ç ä¸Šè¯æ˜æˆ‘çš„æŒ‡ä»¤é›†å’Œåº“å‡½æ•°å¹¶æ²¡æœ‰å¤§é—®é¢˜ï¼Œç»™äº†æˆ‘æ»šå›å»é‡åšçš„å†³å¿ƒï¼ˆ æ„Ÿè°¢æŸä½è¿˜æ˜¯ä¸æ„¿æ„é€éœ²å§“åçš„nbå­¦é•¿ï¼Œé€šè¿‡åƒé‡Œçœ¼ï¼Œå¸®å¿™å‘ç°äº†ä¸å°‘bug æœ¬å®éªŒæŠ¥å‘ŠåŒæ ·ä¼šå°†å»æ‰å¿…ç­”é¢˜çš„ç‰ˆæœ¬åŒæ­¥ä¸Šä¼ è‡³ä¸ªäººblog","categories":[],"tags":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/tags/Notes/"},{"name":"pa","slug":"pa","permalink":"https://mengzelev.github.io/tags/pa/"}]},{"title":"ç®—æ³•å¯¼è®ºå­¦ä¹ ç¬”è®°-å•æºæœ€çŸ­è·¯å¾„","slug":"clrs-24Single-Source-Shortest-Path","date":"2018-10-30T14:29:50.000Z","updated":"2018-11-07T08:18:49.729Z","comments":true,"path":"2018/10/30/clrs-24Single-Source-Shortest-Path/","link":"","permalink":"https://mengzelev.github.io/2018/10/30/clrs-24Single-Source-Shortest-Path/","excerpt":"","text":"å‰å¤‡æ¦‚å¿µç¯è·¯å¦‚æœæœ‰è´Ÿæƒé‡ç¯è·¯ï¼Œé—®é¢˜æ¯”è¾ƒå¤§ï¼Œå› ä¸ºä½ åœ¨ç¯è·¯é‡Œå¾€æ­»é‡Œè½¬è·¯å¾„è¦å¤šçŸ­æœ‰å¤šçŸ­ï¼Œè¿™æ—¶å€™å®šä¹‰æœ€çŸ­è·¯å¾„é•¿åº¦ä¸ºè´Ÿæ— ç©·ã€‚$\\delta(u,v)=-\\infty$ å¦‚æœæœ‰æ­£æƒé‡ç¯è·¯ï¼Œé‚£æœ€çŸ­è·¯å¾„è‚¯å®šä¸ä¼šèµ°è¿™ä¸ªç¯è·¯ï¼Œæ‰€ä»¥ä¸å½±å“ å¦‚æœæœ‰0æƒé‡ç¯è·¯ï¼Œé‚£è¿™ä¸ªç¯è·¯ç­‰äºæ²¡æœ‰ï¼Œä¹Ÿä¸å½±å“ åˆå§‹åŒ–$v.d$ï¼šæœ€çŸ­è·¯å¾„ä¼°è®¡ ä½¿ç”¨ä¸‹é¢è¿è¡Œæ—¶é—´ä¸º$\\Theta(V)$çš„ç®—æ³•æ¥å¯¹æœ€çŸ­è·¯å¾„ä¼°è®¡å’Œå‰é©±ç»“ç‚¹è¿›è¡Œåˆå§‹åŒ–ï¼š åˆå§‹åŒ–æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¸º$\\Theta(V)$ æ¾å¼›æ“ä½œæ¾å¼›è¿‡ç¨‹ï¼šè¯•å›¾æ”¹å–„ä»$s$åˆ°$v$çš„æœ€çŸ­è·¯å¾„ã€‚å¯èƒ½é™ä½æœ€çŸ­è·¯å¾„çš„ä¼°è®¡å€¼$v.d$å¹¶æ›´æ–°$v$çš„å‰é©±å±æ€§$v.\\pi$ æ¾å¼›æ˜¯å”¯ä¸€å¯¼è‡´æœ€çŸ­è·¯å¾„ä¼°è®¡å’Œå‰é©±ç»“ç‚¹å‘ç”Ÿå˜åŒ–çš„æ“ä½œ æœ¬ç« è®¨è®ºçš„æ‰€æœ‰ç®—æ³•ä¹‹é—´çš„ä¸åŒä¹‹å¤„æ˜¯å¯¹æ¯æ¡è¾¹è¿›è¡Œæ¾å¼›çš„æ¬¡æ•°å’Œæ¾å¼›è¾¹çš„æ¬¡åºæœ‰æ‰€ä¸åŒ æœ€çŸ­è·¯å¾„å’Œæ¾å¼›æ“ä½œçš„æ€§è´¨è¿™å‡ æ¡æœ€å¥½è¦èƒŒä¸‹æ¥çš„ï¼Œæˆ‘è§‰å¾—è€ƒè¯•å¾ˆå®¹æ˜“è€ƒ ä¸ºäº†æ–¹ä¾¿è®°å¿†ï¼Œpoä¸»å°è¯•ç€ç”¨äººè¯å¤è¿°ä¸€éï¼š ä¸‰è§’ä¸ç­‰å¼æ€§è´¨ï¼šå›¾é‡Œä»»æ„ä¸¤ä¸ªç‚¹å’Œæºç‚¹$s$æ„æˆä¸€ä¸ªä¸‰è§’å½¢ï¼ˆå¯ä»¥é€€åŒ–ä¸ºç›´çº¿ï¼‰ï¼Œæœ‰ä¸¤è¾¹ä¹‹å’Œå¤§äºç­‰äºç¬¬ä¸‰è¾¹ ä¸Šç•Œæ€§è´¨ï¼š$v.d$æ’‘æ­»å°±æ˜¯$\\delta(s,v)$ï¼Œä¸èƒ½å†å°äº† éè·¯å¾„æ€§è´¨ï¼šåŸè¯å·²ç»å¾ˆäººè¯äº† æ”¶æ•›æ€§è´¨ï¼šæ¾å¼›å‰è¾¹çš„èµ·ç‚¹å·²æ±‚å¾—æœ€çŸ­è·¯å¾„ï¼Œæ¾å¼›åè¾¹çš„ç»ˆç‚¹ä¹Ÿå°†è·å¾—æœ€çŸ­è·¯å¾„buff è·¯å¾„æ¾å¼›æ€§è´¨ï¼šåªè¦ä¸€æ¡æœ€çŸ­è·¯å¾„ä¸Šçš„ç‚¹æ˜¯æŒ‰æ¾å¼›çš„ï¼Œé‚£ä¹ˆä¼°è®¡å€¼å°±ç­‰äºæœ€çŸ­è·¯å¾„ å‰é©±å­å›¾æ€§è´¨ï¼šæœ€çŸ­è·¯å¾„ç®—å®Œäº†ï¼Œå‰é©±å­å›¾æ˜¯ä¸€é¢—æ ¹ç»“ç‚¹ä¸º$s$çš„æœ€çŸ­è·¯å¾„æ ‘ Bellman-Fordç®—æ³•æè¿° å…ˆå°†ç»“ç‚¹è¿›è¡Œåˆå§‹åŒ– å¯¹æ¯æ¡è¾¹è¿›è¡Œ$|V|-1$æ¬¡æ¾å¼›æ“ä½œ å½“å­˜åœ¨è´Ÿæƒé‡ç¯è·¯æ—¶ä¼šè¿”å›FALSE å¦‚æœä¸å­˜åœ¨è´Ÿæƒé‡ç¯è·¯ï¼Œåˆ™è¿”å›TRUEï¼Œæ¯ä¸ªç»“ç‚¹çš„$v.d$å³ä¸ºæºç‚¹$s$åˆ°è¯¥ç‚¹çš„æœ€çŸ­è·¯å¾„é•¿åº¦ ä¼ªä»£ç  æ—¶é—´å¤æ‚åº¦$O(VE)$ æ­£ç¡®æ€§è¯æ˜ç”¨åˆ°äº†ä¸‰è§’ä¸ç­‰å¼ + éè·¯å¾„æ€§è´¨ + å‰é©±å­å›¾æ€§è´¨ æœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰ä¸­çš„å•æºæœ€çŸ­è·¯å¾„é—®é¢˜æ— ç¯ï¼Œå› æ­¤æ²¡æœ‰è´Ÿæƒé‡çš„ç¯ï¼Œå¯¹äºä»»ä½•ç»“ç‚¹ï¼Œæœ€çŸ­è·¯å¾„éƒ½æ˜¯å­˜åœ¨çš„ ç®—æ³•æè¿°å…ˆå¯¹DAGè¿›è¡Œæ‹“æ‰‘æ’åºï¼ŒæŒ‰ç…§æ‹“æ‰‘æ’åºçš„é¡ºåºå¯¹æ¯ä¸ªç»“ç‚¹è¿›è¡Œæ¾å¼›æ“ä½œ ä¼ªä»£ç  æ—¶é—´å¤æ‚åº¦ æ‹“æ‰‘æ’åº(1)ï¼š $\\Theta(V+E)$ åˆå§‹åŒ–(2)ï¼š$\\Theta(V)$ 3~5è¡Œçš„å¾ªç¯ï¼ˆèšåˆåˆ†æï¼‰ï¼š$\\Theta(V)$æ€»æ—¶é—´å¤æ‚åº¦ï¼š$\\Theta(V+E)$ æ­£ç¡®æ€§è¯æ˜ç²¾é«“è¿˜æ˜¯åœ¨äºç¥å¥‡çš„è·¯å¾„æ¾å¼›æ€§è´¨ï¼Œåªè¦ä¿è¯æ¯æ¡æœ€çŸ­è·¯å¾„ä¸Šè¾¹çš„æ¾å¼›æ¬¡åºï¼Œå°±èƒ½å¾—å‡ºç®—æ³•ç»ˆæ­¢æ—¶$v_i.d=\\delta(s,v_i)$ åº”ç”¨PERTå›¾ Dijkstraç®—æ³•æè¿° è§£å†³å¸¦æƒé‡çš„æœ‰å‘å›¾ä¸Šçš„å•æºæœ€çŸ­è·¯å¾„é—®é¢˜ è¦æ±‚æ‰€æœ‰è¾¹çš„æƒé‡éƒ½ä¸ºéè´Ÿå€¼ ç»´æŠ¤ä¸€ç»„ç»“ç‚¹ç»“åˆ$S$ï¼Œä»æºç‚¹$s$åˆ°è¯¥é›†åˆä¸­æ¯ä¸ªç»“ç‚¹ä¹‹é—´çš„æœ€çŸ­è·¯å¾„å·²ç»è¢«æ‰¾åˆ° ä½¿ç”¨è´ªå¿ƒç­–ç•¥ï¼Œæ¯æ¬¡éƒ½ä»ç»“ç‚¹é›†$V-S$ä¸­é€‰æ‹©æœ€çŸ­è·¯å¾„ä¼°è®¡æœ€å°çš„ç»“ç‚¹$u$ï¼Œç„¶åæ›´æ–°ä¸$u$ç›¸è¿çš„ç»“ç‚¹çš„æœ€çŸ­è·¯å¾„ä¼°è®¡å€¼ ä¼ªä»£ç  æ­£ç¡®æ€§è¯æ˜å¾ªç¯ä¸å˜å¼ï¼šåœ¨ç®—æ³•ç¬¬4~8è¡Œçš„whileè¯­å¥çš„æ¯æ¬¡å¾ªç¯å¼€å§‹å‰ï¼Œå¯¹äºæ¯ä¸ªç»“ç‚¹$v\\in S$ï¼Œæœ‰$v.d=\\delta(s,v)$ è¯æ˜ä½¿ç”¨äº†åè¯æ³•+æœ€å°æ•°åŸç†å…³é”®æ­¥ç”¨åˆ°äº†æ”¶æ•›æ€§è´¨å’Œæƒé‡éè´Ÿçš„å‡è®¾ æ—¶é—´å¤æ‚åº¦ä¾èµ–äºæœ€å°ä¼˜å…ˆé˜Ÿåˆ—çš„å®ç° æ•°ç»„éå†ï¼š $O(V^2)$ äºŒå‰å †ï¼š$O(E\\lg V)$ æ–æ³¢é‚£å¥‘å †:$O(V\\lg V+E)$ æœ€çŸ­è·¯å¾„æ€§è´¨çš„è¯æ˜ä¸‰è§’ä¸ç­‰å¼æ ¹æ®æœ€çŸ­è·¯å¾„çš„å®šä¹‰å³å¯å¾—è¯ æœ€çŸ­è·¯å¾„æ ‘æ€§è´¨æœ€çŸ­è·¯å¾„æ ‘çš„ä¸‰æ¡æ€§è´¨ï¼š $vâ€™$æ˜¯å›¾$G$ä¸­ä»æºç»“ç‚¹$s$å¯ä»¥åˆ°è¾¾çš„æ‰€æœ‰ç»“ç‚¹çš„é›†åˆ $Gâ€™$å½¢æˆä¸€æ£µæ ¹ç»“ç‚¹ä¸º$s$çš„æ ‘ å¯¹äºæ‰€æœ‰çš„ç»“ç‚¹$v\\in Vâ€™$ï¼Œå›¾$Gâ€™$ä¸­ä»ç»“ç‚¹$s$åˆ°ç»“ç‚¹$v$çš„å”¯ä¸€ç®€å•è·¯å¾„æ˜¯å›¾$G$ä¸­ä»ç»“ç‚¹$s$åˆ°ç»“ç‚¹$v$çš„ä¸€æ¡æœ€çŸ­è·¯å¾„ æœªå®Œå¾…ä¸ä¼šç»­","categories":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/categories/Notes/"}],"tags":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/tags/Notes/"},{"name":"Problem Solving","slug":"Problem-Solving","permalink":"https://mengzelev.github.io/tags/Problem-Solving/"},{"name":"CLRS","slug":"CLRS","permalink":"https://mengzelev.github.io/tags/CLRS/"},{"name":"Single Source Shortest Path","slug":"Single-Source-Shortest-Path","permalink":"https://mengzelev.github.io/tags/Single-Source-Shortest-Path/"},{"name":"Bellman-Ford","slug":"Bellman-Ford","permalink":"https://mengzelev.github.io/tags/Bellman-Ford/"},{"name":"Dijkstra","slug":"Dijkstra","permalink":"https://mengzelev.github.io/tags/Dijkstra/"},{"name":"Graph Algorithms","slug":"Graph-Algorithms","permalink":"https://mengzelev.github.io/tags/Graph-Algorithms/"}]},{"title":"ç®—æ³•å¯¼è®ºå­¦ä¹ ç¬”è®°-åŸºæœ¬å›¾è®ºç®—æ³•","slug":"clrs-22graphic-algs","date":"2018-10-24T06:20:35.000Z","updated":"2018-10-30T15:04:07.416Z","comments":true,"path":"2018/10/24/clrs-22graphic-algs/","link":"","permalink":"https://mengzelev.github.io/2018/10/24/clrs-22graphic-algs/","excerpt":"","text":"è¾£é¸¡poä¸»åªæŒ–å‘ä¸å¡«å‘å› ä¸ºä½œä¸šå®åœ¨å¤ªå¤šäº†ï¼ï¼ï¼ è¯•ä¸€ä¸‹Mathjaxæœ‰æ²¡æœ‰é…ç½®æˆåŠŸï¼ å›¾çš„è¡¨ç¤ºé‚»æ¥é“¾è¡¨(Adjacency-list) ç”±ä¸€ä¸ªåŒ…å«$|V|$æ¡é“¾è¡¨çš„æ•°ç»„Adjæ‰€æ„æˆï¼ŒAdj[u]åŒ…å«æ‰€æœ‰ä¸ç»“ç‚¹uä¹‹é—´æœ‰å³è¾¹ç›¸è¿çš„ç»“ç‚¹v å­˜å‚¨ç©ºé—´éœ€æ±‚ï¼š$\\Theta(V+E)$ é²æ£’æ€§é«˜ï¼Œç¨åŠ ä¿®æ”¹å¯ä»¥æ”¯æŒè®¸å¤šå›¾çš„å˜ç§ï¼ˆå¦‚ï¼šæœ‰æƒå›¾ï¼‰ ç¼ºé™·ï¼šæ— æ³•å¿«é€Ÿåˆ¤æ–­ä¸€æ¡è¾¹æ˜¯å¦åœ¨å›¾ä¸­ é‚»æ¥çŸ©é˜µ(Adjacency-matrix) ç”¨çŸ©é˜µæ¥å­˜å‚¨è¿é€šä¿¡æ¯ å­˜å‚¨ç©ºé—´éœ€æ±‚ï¼š\\Theta(V^2) ä¸è¾¹æ•°|E|æ— å…³ ç®€å•ï¼Œå›¾è§„æ¨¡è¾ƒå°æ—¶ä¼˜å…ˆä½¿ç”¨ å¹¿åº¦ä¼˜å…ˆæœç´¢BFSç®—æ³•æè¿° ä»ä¸€ä¸ªæºç»“ç‚¹så¼€å§‹ï¼Œæ¯æ¬¡ä»å·²å‘ç°çš„ç»“ç‚¹å‘æœªå‘ç°çš„ç»“ç‚¹æ‰©å±• ç®—æ³•éœ€è¦åœ¨å‘ç°æ‰€æœ‰è·ç¦»æºç»“ç‚¹sä¸ºkçš„æ‰€æœ‰ç»“ç‚¹ä¹‹åï¼Œæ‰ä¼šå‘ç°è·ç¦»æºç»“ç‚¹sä¸ºk+1çš„å…¶ä»–ç»“ç‚¹ ç”¨ä¸‰ç§é¢œè‰²æ ‡è®°ç»“ç‚¹çš„è®¿é—®çŠ¶æ€ï¼š ç™½è‰²ï¼šæœªè¢«å‘ç° é»‘è‰²ï¼šæœ¬èº«è¢«å‘ç°ä¸”æ‰€æœ‰ä¸ä¹‹ç›¸è¿çš„ç»“ç‚¹éƒ½å·²ç»è¢«å‘ç° ç°è‰²ï¼šæœ¬èº«è¢«å‘ç°ä¸”ä¸ä¹‹ç›¸è¿çš„ç»“ç‚¹ä¸­å­˜åœ¨æœªè¢«å‘ç°çš„ ç»“æœå¯èƒ½ä»¥æ¥ ä¼ªä»£ç  ä½¿ç”¨é˜Ÿåˆ—å­˜å‚¨æ‰€æœ‰ç°è‰²ç»“ç‚¹ whileå¾ªç¯çš„å¾ªç¯ä¸å˜å¼ï¼šé˜Ÿåˆ—Qä¸­åŒ…å«çš„æ˜¯ç°è‰²ç»“ç‚¹çš„é›†åˆ åˆ†æ ç»“ç‚¹ä¿¡æ¯åˆå§‹åŒ–ï¼š O(V) é˜Ÿåˆ—æ“ä½œæ€»æ—¶é—´ï¼š O(V) ï¼ˆæ¯ä¸ªç»“ç‚¹éƒ½è¦è¿›å‡ºå„ä¸€æ¬¡ï¼‰ æ‰«æé‚»æ¥é“¾è¡¨ï¼š O(E) æ€»æ—¶é—´å¤æ‚åº¦ï¼š O(V+E)æ˜¯å›¾Gçš„é‚»æ¥é“¾è¡¨å¤§å°çš„ä¸€ä¸ªçº¿æ€§å‡½æ•° æœ€çŸ­è·¯å¾„æ­£ç¡®æ€§è¯æ˜ä¸€å †å®šç†å’Œè¯æ˜ å¹¿åº¦ä¼˜å…ˆæ ‘æ·±åº¦ä¼˜å…ˆæœç´¢DFSç®—æ³•æè¿° å¤§èƒ†åœ°å¾€å‰èµ°ï¼Œèµ°åˆ°åº•å†å›å¤´ï¼ˆé›¾ æ·±åº¦ä¼˜å…ˆæœç´¢çš„å‰é©±å­å›¾å¯èƒ½æœ‰å¤šæ£µæ ‘ç»„æˆï¼Œå³æ·±åº¦ä¼˜å…ˆæ£®æ—å› ä¸ºæœç´¢å¯èƒ½ä»å¤šä¸ªæºç»“ç‚¹é‡å¤è¿›è¡Œ å¯¹ç»“ç‚¹è¿›è¡Œé»‘ç™½ç°æŸ“è‰²ï¼Œå¯ä»¥ä¿è¯æ¯ä¸ªç»“ç‚¹ä»…åœ¨ä¸€æ£µæ·±åº¦ä¼˜å…ˆæ ‘ä¸­å‡ºç°ï¼Œä¿è¯æ‰€æœ‰çš„æ·±åº¦ä¼˜å…ˆæ ‘æ˜¯ä¸ç›¸äº¤çš„ æ—¶é—´æˆ³ï¼š æ¯ä¸ªç»“ç‚¹væœ‰ä¸¤ä¸ªæ—¶é—´æˆ³ ç¬¬ä¸€ä¸ªæ—¶é—´æˆ³v.dè®°å½•ç»“ç‚¹vç¬¬ä¸€æ¬¡è¢«å‘ç°çš„æ—¶é—´ï¼ˆæŸ“ä¸Šç°è‰²çš„æ—¶å€™ï¼‰ ç¬¬äºŒä¸ªæ—¶é—´æˆ³v.fè®°å½•æœç´¢å®Œæˆå¯¹vçš„é‚»æ¥é“¾è¡¨æ‰«æçš„æ—¶é—´ï¼ˆå›¾ä¸Šé»‘è‰²çš„æ—¶å€™ï¼‰ æ—¶é—´æˆ³éƒ½æ˜¯å¤„äº1å’Œ2|V|ä¹‹é—´çš„æ•´æ•° u.d &lt; u.f éæ ‘è¾¹ï¼š å‰å‘è¾¹Fï¼šä»ç¥–å…ˆæŒ‡å‘åä»£ åå‘è¾¹Bï¼šä»åä»£æŒ‡å‘ç¥–å…ˆï¼ˆåŒ…æ‹¬æœ‰å‘å›¾ä¸­çš„è‡ªå¾ªç¯ï¼‰ æ¨ªå‘è¾¹Cï¼šä¸¤ç«¯ç‚¹æ— è¡€ç¼˜å…³ç³» ä¼ªä»£ç  æ—¶é—´å¤æ‚åº¦ ç»“ç‚¹ä¿¡æ¯åˆå§‹åŒ–ï¼š O(V) DFS-VISITï¼š O(E) æ€»è¿è¡Œæ—¶é—´ï¼š O(V+E) æ€§è´¨èƒ½æä¾›å…³äºå›¾ç»“æ„çš„ä»·å€¼å¾ˆé«˜çš„ä¿¡æ¯ æ‹¬å·åŒ–ç»“æ„","categories":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/categories/Notes/"}],"tags":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/tags/Notes/"},{"name":"Problem Solving","slug":"Problem-Solving","permalink":"https://mengzelev.github.io/tags/Problem-Solving/"},{"name":"CLRS","slug":"CLRS","permalink":"https://mengzelev.github.io/tags/CLRS/"},{"name":"Single Source Shortest Path","slug":"Single-Source-Shortest-Path","permalink":"https://mengzelev.github.io/tags/Single-Source-Shortest-Path/"},{"name":"Bellman-Ford","slug":"Bellman-Ford","permalink":"https://mengzelev.github.io/tags/Bellman-Ford/"},{"name":"Dijkstra","slug":"Dijkstra","permalink":"https://mengzelev.github.io/tags/Dijkstra/"}]},{"title":"å›¾è®ºå­¦ä¹ ç¬”è®°-æ ‘","slug":"tree","date":"2018-10-14T08:00:05.000Z","updated":"2018-10-15T01:17:40.985Z","comments":true,"path":"2018/10/14/tree/","link":"","permalink":"https://mengzelev.github.io/2018/10/14/tree/","excerpt":"","text":"æœ¬ç« å¯ç”¨ç»“è®ºæ•´ç† å®šç†4.1ï¼šeæ˜¯å›¾Gçš„æ¡¥å½“ä¸”ä»…å½“eä¸åœ¨Gçš„ä»»ä½•ä¸€ä¸ªcycleä¸Š å®šç†4.2ï¼šå›¾Gæ˜¯æ ‘å½“ä¸”ä»…å½“Gçš„ä»»æ„ä¸¤ä¸ªé¡¶ç‚¹åªæœ‰å”¯ä¸€çš„pathç›¸è¿ å®šç†4.3ï¼šæ¯ä¸€æ£µéç®€å•æ ‘éƒ½æœ‰è‡³å°‘ä¸¤ä¸ªç«¯ç‚¹(end-vertice) å®šç†4.4ï¼šæ¯æ£µæœ‰nä¸ªé¡¶ç‚¹çš„æ ‘éƒ½æœ‰n-1æ¡è¾¹ æ¨è®º4.6ï¼šæ¯æ£µæœ‰kä¸ªcomponentçš„æ£®æ—éƒ½æœ‰n-kæ¡è¾¹ å®šç†4.7ï¼šæ¯ä¸€ä¸ªæœ‰nä¸ªé¡¶ç‚¹çš„è¿é€šå›¾è‡³å°‘æœ‰n-1æ¡è¾¹ å®šç†4.8ï¼šæœ‰nä¸ªé¡¶ç‚¹ã€mæ¡è¾¹çš„å›¾Gï¼Œè‹¥æ»¡è¶³ä»¥ä¸‹3æ¡æ€§è´¨ä¸­çš„2æ¡ï¼š(1)è¿é€š (2)æ— ç¯ (3)m = n - 1ï¼Œåˆ™Gæ˜¯æ ‘ å®šç†4.9ï¼šè®¾Tæ˜¯ä¸€æ£µæœ‰kä¸ªé¡¶ç‚¹çš„æ ‘ã€‚å¦‚æœå›¾Gä¸­æœ€å°çš„åº¦æ•°ä¸å°äºk-1ï¼Œé‚£ä¹ˆTä¸Gçš„æŸä¸ªå­å›¾åŒæ„ å®šç†4.10ï¼šæ¯ä¸ªè¿é€šå›¾éƒ½åŒ…å«äº†ä¸€æ£µç”Ÿæˆæ ‘ å®šç†4.15(Tree Formula): æœ‰nä¸ªä¸ç›¸åŒçš„é¡¶ç‚¹çš„æ ‘çš„ä¸ªæ•°ä¸º$n^{n-2}$ å®šç†4.16(Matrix Tree Theorem): æ¡¥(Bridges)æ¦‚å¿µå¦‚æœ$e=uv$æ˜¯è¿é€šå›¾$G$çš„ä¸€æ¡è¾¹ï¼Œä¸”$G-e$ä¸è¿é€šï¼Œåˆ™$e$ç§°ä¸ºè¿é€šå›¾$G$çš„æ¡¥. å¦‚æœ$G$æ˜¯éè¿é€šå›¾ï¼Œé‚£ä¹ˆæ¡¥$e$æ˜¯Gä¸€ä¸ªéƒ¨åˆ†(component)çš„æ¡¥ã€‚ è€ƒè™‘componnetçš„æ•°ç›®ï¼Œè¾¹$e$æ˜¯å›¾$G$çš„æ¡¥å½“ä¸”ä»…å½“$k(G-e)=k(G)+1$ å®šç†4.1$e$æ˜¯å›¾$G$çš„æ¡¥å½“ä¸”ä»…å½“$e$ä¸åœ¨$G$çš„ä»»ä½•ä¸€ä¸ªcycleä¸Šã€‚ æ ‘æ ‘å³æ— ç¯çš„è¿é€šå›¾ã€‚æ ‘æ‰€æœ‰çš„è¾¹éƒ½æ˜¯æ¡¥ã€‚æ ‘ä¹Ÿæ˜¯æ‰€æœ‰è¾¹éƒ½æ˜¯æ¡¥çš„è¿é€šå›¾ã€‚ åŒæ˜Ÿ(double star):åŒ…å«äº†æ°å¥½ä¸¤ä¸ªéç«¯ç‚¹çš„æ ‘ï¼ˆè¿™ä¸¤ä¸ªç«¯ç‚¹å¿…ç„¶ç›¸é‚»ï¼‰ æ¯›è™«æ ‘(caterpillar):å®šç‚¹æ•°å¤§äºç­‰äº3ã€é™¤å»ç«¯ç‚¹åå¾—åˆ°çš„æ˜¯pathçš„æ ‘ã€‚é™¤å»ç«¯ç‚¹åå¾—åˆ°çš„pathå«ä½œæ¯›è™«æ ‘çš„è„Šæ¤(spine)ï¼›é¡¶ç‚¹æ•°ä¸å°äº3çš„pathï¼Œstarï¼Œdouble staréƒ½æ˜¯æ¯›è™«æ ‘ç«¯ç‚¹å…¶å®å°±æ˜¯æ¯›æ¯›è™«çš„è„šè„š æ£®æ—(Forests):æ— ç¯å›¾ã€‚æ£®æ—çš„æ¯ä¸ªcomponentçš„éƒ½æ˜¯æ ‘ã€‚(è¿‡äºå½¢è±¡æ£®æ—ä¸ä¸€å®šè¦æ˜¯è¿é€šçš„ï¼Œä½†æ˜¯æ ‘å¿…é¡»æ˜¯ã€‚ å®šç†4.2å›¾$G$æ˜¯æ ‘å½“ä¸”ä»…å½“$G$çš„ä»»æ„ä¸¤ä¸ªé¡¶ç‚¹åªæœ‰å”¯ä¸€çš„pathç›¸è¿ è¿™ä¸ªè¯æ˜å˜›ï¼Œåªæœ‰å”¯ä¸€çš„pathä¸æ˜¯å’Œæ— ç¯æ˜¯ç­‰ä»·çš„å—(æµæ±—.jpg å®šç†4.3æ¯ä¸€æ£µéç®€å•æ ‘éƒ½æœ‰è‡³å°‘ä¸¤ä¸ªç«¯ç‚¹(end-vertice) è¯æ˜å–äº†æœ€é•¿è·¯å¾„çš„ä¸¤ä¸ªç«¯ç‚¹ï¼Œåˆ©ç”¨äº†æœ€é•¿è·¯å¾„ä¸Šçš„ç«¯ç‚¹éƒ½ä¸ä¸éè·¯å¾„ä¸Šç‚¹ç›¸é‚»çš„æ€§è´¨ï¼Œè¯å¾—æœ€é•¿è·¯å¾„çš„ä¸¤ä¸ªç«¯ç‚¹éƒ½æ˜¯end-vertice è¿™æ¡æ€§è´¨éå¸¸æœ‰ç”¨ï¼Œå¯ä»¥æˆä¸ºå¯¹æ ‘ç»“æ„ä½¿ç”¨æ•°å­¦å½’çº³æ³•çš„ä¾æ®ï¼Œåˆ’æ‰ä¸€ä¸ªç«¯ç‚¹å°±ä¼šä½¿order-1ä½¿ç”¨æ•°å­¦å½’çº³æ³•è¯æ˜å›¾ç›¸å…³ç»“è®ºçš„å…³é”®åœ¨äºæ‰¾åˆ°ä¸€ä¸ªend-vertice å®šç†4.4æ¯æ£µæœ‰nä¸ªé¡¶ç‚¹çš„æ ‘éƒ½æœ‰n-1æ¡è¾¹ è¯æ˜ä½¿ç”¨äº†åŸºäºå®šç†4.3çš„æ•°å­¦å½’çº³æ³•ï¼Œå¾ˆç›´è§‚ æ¨è®º4.6æ¯æ£µæœ‰kä¸ªcomponentçš„æ£®æ—éƒ½æœ‰n-kæ¡è¾¹ ç®€å•çš„è¾¹æ•°è®¡ç®—å°±èƒ½è¯æ˜ å®šç†4.7æ¯ä¸€ä¸ªæœ‰nä¸ªé¡¶ç‚¹çš„è¿é€šå›¾è‡³å°‘æœ‰n-1æ¡è¾¹ã€‚ è¯æ˜ç”¨åˆ°äº†æœ€å°æ•°åŸç†ï¼Œå‡è®¾å­˜åœ¨ä¸€ä¸ªé¡¶ç‚¹æœ€å°‘çš„å›¾å°‘äºn-1æ¡è¾¹ï¼Œç„¶åè¯æ˜æ­¤æ—¶è‡³å°‘ä¼šæœ‰ä¸€ä¸ªç«¯ç‚¹(end vertex)ï¼Œè¿™æ—¶å°±å¯ä»¥æŠŠé‚£ä¸€ä¸ªç«¯ç‚¹å»æ‰å¾—åˆ°ä¸€ä¸ªæ›´å°çš„æ»¡è¶³æ¡ä»¶çš„å›¾ï¼Œä»è€Œä¸å‡è®¾çŸ›ç›¾ã€‚ å®šç†4.8æœ‰nä¸ªé¡¶ç‚¹ã€mæ¡è¾¹çš„å›¾Gï¼Œè‹¥æ»¡è¶³ä»¥ä¸‹3æ¡æ€§è´¨ä¸­çš„2æ¡ï¼š è¿é€š æ— ç¯ m = n - 1åˆ™Gæ˜¯æ ‘ è¯æ˜éå¸¸ç›´è§‚ï¼Œæ´»ç”¨äº†ä¸Šé¢çš„å®šç† å®šç†4.9è®¾Tæ˜¯ä¸€æ£µæœ‰kä¸ªé¡¶ç‚¹çš„æ ‘ã€‚å¦‚æœå›¾Gä¸­æœ€å°çš„åº¦æ•°ä¸å°äºk-1ï¼Œé‚£ä¹ˆTä¸Gçš„æŸä¸ªå­å›¾åŒæ„ æœ€å°ç”Ÿæˆæ ‘é—®é¢˜å®é™…ä¸­å­˜åœ¨æ‘åº„é€ è·¯çš„é—®é¢˜ï¼Œå³é€ ä¸€äº›è·¯ä½¿å¾—æ‰€æœ‰æ‘åº„éƒ½è¿é€šï¼Œå¹¶ä¿è¯é€ è¿™äº›è·¯çš„å¼€é”€æœ€å°è¿™æ ·çš„é—®é¢˜å¯ä»¥å½’ç»“ä¸ºæœ€å°ç”Ÿæˆæ ‘é—®é¢˜ï¼Œæ±‚è§£ä¸€ä¸ªæœ‰æƒå›¾ä¸­æƒå€¼æœ€å°çš„ç”Ÿæˆæ ‘ Kruskalâ€™s Algorithmç®—æ³•æè¿°ï¼šå…ˆå–æƒæœ€å°çš„ä¸¤æ¡è¾¹ï¼Œä»ç¬¬ä¸‰æ¬¡å¼€å§‹ï¼Œæ¯æ¬¡éƒ½å–ä¸ä¸å–è¿‡çš„è¾¹æ„æˆcycleçš„ã€æƒæœ€å°çš„è¾¹ï¼Œç›´åˆ°å–æ»¡n-1æ¡è¾¹ä¸ºæ­¢ã€‚ç±»ä¼¼äºè´ªå¿ƒç®—æ³•ã€‚ æ­£ç¡®æ€§è¯æ˜ä¹Ÿç±»ä¼¼äºè¯æ˜è´ªå¿ƒç”¨åˆ°çš„æ›¿æ¢æ³•ï¼Œå–æœ€ä¼˜è§£ä¸­ä¸ç®—æ³•è§£é‡å æœ€å¤§çš„è§£ï¼Œè¿›è¡Œæ›¿æ¢ï¼Œå¯¼å‡ºçŸ›ç›¾ã€‚ Primâ€™s Algorithmç®—æ³•æè¿°ï¼šå…ˆå–æƒæœ€å°çš„ä¸€æ¡è¾¹ï¼Œä¹‹åæ¯æ¬¡éƒ½é€‰æ‹©è¿æ¥äº†æœªè¿æ¥çš„ç‚¹å’Œå·²è¿æ¥çš„ç‚¹çš„è¾¹ä¸­æƒæœ€å°çš„ä¸€æ¡ï¼ŒçŸ¥é“é€‰æ‹©äº†n-1æ¡è¾¹ä¸ºæ­¢ã€‚ç±»ä¼¼äºåŠ¨æ€è§„åˆ’ã€‚ è¯æ˜æ€è·¯ç±»ä¼¼äºå‰ªåˆ‡-ç²˜è´´æ³•ã€‚éš¾ä»¥æ¦‚æ‹¬â€¦â€¦ ç”Ÿæˆæ ‘çš„ä¸ªæ•°ä¹¦ä¸Šè¿™éƒ¨åˆ†å®Œå…¨å°±æ˜¯åœ¨è®²æ•…äº‹å•Š(â•¯Â°Ğ”Â°)â•¯ï¸µâ”»â”â”» å›¾è®ºè¯æ˜ç‰¹ç‚¹è‡ªå·±xjbæ€»ç»“çš„ï¼Œä»…ä¾›å‚è€ƒ å¤šç”¨åè¯æ³• â€¦â€¦.æˆ‘å†æƒ³æƒ³","categories":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/categories/Notes/"}],"tags":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/tags/Notes/"},{"name":"Problem Solving","slug":"Problem-Solving","permalink":"https://mengzelev.github.io/tags/Problem-Solving/"},{"name":"Graph","slug":"Graph","permalink":"https://mengzelev.github.io/tags/Graph/"},{"name":"Tree","slug":"Tree","permalink":"https://mengzelev.github.io/tags/Tree/"}]},{"title":"Lab1-ä¹˜æ³• å®éªŒæŠ¥å‘Š","slug":"lab1-report","date":"2018-10-12T09:17:47.000Z","updated":"2018-10-15T01:25:08.817Z","comments":true,"path":"2018/10/12/lab1-report/","link":"","permalink":"https://mengzelev.github.io/2018/10/12/lab1-report/","excerpt":"","text":"ä»»åŠ¡1ï¼šå®ç°multimodä½¿ç”¨äº†é«˜ç²¾åº¦æ•°ä¹˜æ³•è®¡ç®—a*bï¼Œç„¶åæ¨¡æ‹Ÿæ‰‹ç®—é™¤æ³•çš„å½¢å¼å†™äº†é«˜ç²¾åº¦é™¤æ³•ï¼ˆå–æ¨¡ï¼‰ã€‚ä»£ç è§æ–‡ä»¶p1.c. æ­£ç¡®æ€§(ä¼ª)è¯æ˜ä½¿ç”¨pythonéšæœºç”Ÿæˆç”Ÿæˆäº†1000000ç»„aã€bã€mï¼Œ0~9223372036854775807(int64_tçš„æœ€å¤§å€¼)å¹¶è®¡ç®—å¯¹åº”ç­”æ¡ˆï¼Œä¸p1.cçš„è®¡ç®—ç»“æœè¿›è¡Œå¯¹æ¯”ã€‚ pythonéšæœºæ•°ç”Ÿæˆä»£ç å¦‚ä¸‹ï¼š import random MAX = 9223372036854775807 for i in range(1,1000000)ï¼š a = random.randint(0,MAX) b = random.randint(0,MAX) m = random.randint(1,MAX) ans = (a * b) % m print (a,b,m,ans) æµ‹è¯•ç»“æœä¸€ç™¾ä¸‡ç»„å…¨å¯¹ï¼ˆä»é›¶å¼€å§‹è®¡æ•°çš„ï¼‰ ä»»åŠ¡2ï¼šæ€§èƒ½ä¼˜åŒ–ç”±äºæ˜¯å…ˆå¬çš„è¯¾å†åšçš„labï¼Œå‡ºäºæƒ°æ€§ç›´æ¥æŒ‰ç…§jyyè¯¾ä¸Šè®²çš„æ–¹æ³•åšäº†ï¼ˆæˆ‘å»é¢å£ï¼‰å°±ä¸å¤šè§£é‡Šäº†ï¼Œä»£ç è§p2.c æ—¶é—´æµ‹è¯•æ€è·¯STFWæ‰¾åˆ°äº†è®¡ç®—ä½¿ç”¨time.håº“å‡½æ•°è®¡ç®—è¿è¡Œæ—¶é—´çš„æ–¹æ³•ï¼Œä¹Ÿæœ‰è®¡ç®—æ—¶é’Ÿå‘¨æœŸçš„æ–¹æ³•ï¼Œä½†æ˜¯åè€…ä½¿ç”¨äº†æ±‡ç¼–ä»£ç ï¼Œåœ¨å¯¹æœªçŸ¥äº‹ç‰©çš„ææƒ§(è¿™æ ·çœŸçš„ä¸å¥½)çš„é©±ä½¿ä¸‹è¿˜æ˜¯é€‰æ‹©äº†æ¯”è¾ƒå¥½ç†è§£ã€æ¯”è¾ƒå¥½æ§åˆ¶çš„å‰è€…ã€‚ä¸ºäº†é˜²æ­¢è®¡ç®—æ­¥éª¤è¢«ä¼˜åŒ–ï¼Œåˆä¸èƒ½è®©å¤šäºçš„æ“ä½œå ç”¨è¿‡å¤šçš„æ—¶é—´ï¼Œå°±ä½¿ç¨‹åºè®¡ç®—äº†æ­£ç¡®çš„caseçš„ä¸ªæ•°å¹¶è¾“å‡ºã€‚æ‰€ä»¥å¾—åˆ°çš„æ—¶é—´åº”è¯¥æ¯”å®é™…è¿è¡Œæ—¶é—´é•¿ä¸€äº›ã€‚ è¿è¡Œæ—¶é—´æ³¨ï¼šå…¶ä¸­p1.cä¸ºä»»åŠ¡ä¸€ä¸­çš„é«˜ç²¾åº¦å®ç°ï¼Œp2.cä¸ºä»»åŠ¡äºŒä¸­çš„ä¼˜åŒ–ç®—æ³•ï¼Œp3.cä¸ºä»»åŠ¡ä¸‰ä¸­çš„ç¥å¥‡ä»£ç  è¿è¡Œæ—¶é—´åˆ†æè®°a,b,mçš„ä½æ•°ä¸ºné«˜ç²¾åº¦é™¤æ³•éœ€è¦åšO(n)æ¬¡å‡æ³•å’Œæ¯”è¾ƒï¼Œæ¯æ¬¡å‡æ³•å’Œæ¯”è¾ƒçš„æ—¶é—´å¤æ‚åº¦ä¹Ÿéƒ½ä¸ºO(n)ï¼Œå› æ­¤æ€»æ—¶é—´å¤æ‚åº¦æ˜¯O(n^2)ä»»åŠ¡äºŒä¸­ä¼˜åŒ–è¿‡çš„æ—¶é—´éœ€è¦å¾ªç¯æ¬¡æ•°æ˜¯O(n)çš„ï¼Œæ¯æ¬¡å¾ªç¯çš„æ“ä½œéƒ½èƒ½åœ¨å¸¸æ•°æ—¶é—´O(1)å†…å®Œæˆï¼Œå› æ­¤æ€»æ—¶é—´å¤æ‚åº¦ä¸ºO(n)è€Œç¥å¥‡ä»£ç å¯¹ä»»ä½•è¾“å…¥æ¶ˆè€—çš„æ—¶é—´éƒ½æ˜¯ç›¸åŒçš„ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(1)ä»è¿è¡Œæ—¶é—´ä¸Šæ¥çœ‹çš„ç¡®æ˜¯t(p1)&gt;t(p2)&gt;t(p3)ï¼Œç¬¦åˆé¢„æœŸä¸€ä¸ªç¥å¥‡çš„ç°è±¡æ˜¯ï¼Œéšç€ä¼˜åŒ–ç­‰çº§çš„å‡é«˜ï¼Œè¿è¡Œæ—¶é—´ä¸ä¸€å®šç¼©çŸ­ã€‚å°¤å…¶æ˜¯p2.cçš„è¿è¡Œæƒ…å†µï¼ŒO1å’ŒO2åè€Œä¸å¦‚O0ï¼ˆè™½ç„¶ä¹Ÿåªå·®äº†0.001msï¼‰ï¼Œäºæ˜¯æˆ‘åæ±‡ç¼–å¯¹æ¯”äº†ä¸€ä¸‹ï¼Œå‘ç°multimodã€testcaseså’Œmainå‡ ä¸ªå‡½æ•°çš„æ±‡ç¼–ä»£ç å‡ ä¹ä¸€æ¨¡ä¸€æ ·ï¼Œä½†å¯¹åº”è¡Œçš„è¡Œæ•°ä¸åŒï¼Œå¯èƒ½æ˜¯è°ƒç”¨äº†ä¸åŒçš„ç³»ç»Ÿåº“å‡½æ•°ã€‚å¯¹ä¼˜åŒ–çš„åŸç†ä¸å¤ªäº†è§£ï¼Œæš‚æ—¶æ— æ³•æƒ³åˆ°åˆç†çš„è§£é‡Šã€‚å¯èƒ½æ˜¯å› ä¸ºè¿™ä¸ªç¨‹åºçš„ä¼˜åŒ–ç©ºé—´ä¸æ˜¯å¤ªå¤§ï¼Ÿä½†æ˜¯ç¼–è¯‘å™¨è‚¯å®šæ¯”æˆ‘æ™ºèƒ½å¤šäº†ï¼Œæˆ‘æƒ³ä¸åˆ°ä¼˜åŒ–æ–¹æ³•ä¸èƒ½çœ‹ä¸èµ·ç¼–è¯‘å™¨å•Šã€‚ ä»»åŠ¡3ï¼šè§£æç¥ç§˜ä»£ç ç»“è®ºï¼šabä¹˜ç§¯ä¸è¶…è¿‡2^53æ¬¡æ–¹ï¼Œmåœ¨int64_tèŒƒå›´å†…ä»»æ„å–å€¼ï¼Œå¯ä»¥ä¿è¯multimod_fastæ€»æ˜¯èƒ½è¿”å›æ­£ç¡®çš„æ•°å€¼ è¿‡ç¨‹éå¸¸æ›²æŠ˜ï¼Œä»¥ä¸‹éƒ½æ˜¯æµæ°´è´¦ç¢ç¢å¿µï¼Œè€å¸ˆå«Œé•¿å¯ä»¥ä¸çœ‹ï¼Œè‡ªå·±å†™ç€å¥½ç©ï¼Œå›å¤´ä¸Šä¼ ä¸ªäººBlog åˆšæ‹¿åˆ°æ‰‹å…ˆè¯•äº†ä¸€å¤§å †éšæœºæ•°æ®ï¼Œå‘ç°ä¸€ç™¾ä¸‡ç»„æµ‹è¯•æ ·ä¾‹æ€»åªèƒ½è¿‡1w+ç»„ï¼Œæ­£ç¡®ç‡éå¸¸ä½ã€‚åæ¥å’ŒåŒå­¦è®¨è®ºäº†ä¸€ä¸‹ï¼Œå¬è¯´mæ¯”è¾ƒå°çš„æ—¶å€™ç»“æœæœ€å®¹æ˜“å‡ºé”™ï¼Œæˆ‘å°±æŠŠmçš„éšæœºèŒƒå›´æ”¹æˆäº†1~3ï¼Œæœç„¶é”™è¯¯ç‡é«˜äº†å¾ˆå¤šã€‚å¤§æ¦‚æ˜¯å› ä¸ºç¥ç§˜ä»£ç ä¸­(int64_t)((double)a * b / m + 1e-8)å¼ºåˆ¶ç±»å‹è½¬æ¢åè¦é™¤ä»¥mï¼Œå¦‚æœmåå°ï¼Œé‚£ä¹ˆa*bçš„è¯¯å·®å°±å¾ˆå®¹æ˜“ä¿å­˜ä¸‹æ¥ï¼Œå¼•èµ·ç­”æ¡ˆå‡ºé”™ã€‚ ä¿æŒm1~3çš„èŒƒå›´ï¼Œæˆ‘åˆè¯•äº†å‡ ç»„å¤§æ•°ã€‚å‘ç°æ˜¯åœ¨abä¹˜ç§¯ä¸º10^19å·¦å³çš„æ—¶å€™ï¼ˆaå’Œbåœ¨ç®—æ³•æ‰¾ä¸­åœ°ä½æ˜¯ç­‰ä»·çš„ï¼Œæ‰€ä»¥åªéœ€è¦å…³æ³¨abçš„ä¹˜ç§¯çš„èŒƒå›´ï¼‰ä¼šå‡ºç°è®¡ç®—é”™è¯¯ï¼Œäºæ˜¯åœ¨è¿™ä¸ªèŒƒå›´é™„è¿‘å–äº†ä¸€äº›æ•°ï¼Œç»äº†ï¼Œè¿™ä¸ªä½¿ç»“æœæ­£ç¡®çš„åŒºé—´å¹¶ä¸æ˜¯è¿ç»­çš„ï¼ç„¶åç†æ™ºçƒ§å´çæµ‹äº†å‡ ç»„æ•°æ®ï¼Œä¸å¤ªèƒ½å‘ç°è§„å¾‹ï¼Œå†³å®šå…ˆå†·é™ä¸‹æ¥ï¼Œä»ç†è®ºä¸Šæ€è€ƒä¸€ä¸‹ç®—æ³•ã€‚æ¯•ç«Ÿè¿™æ¬¡æ˜¯å…³äºæ•°æ®è¡¨ç¤ºå½¢å¼çš„Labå˜› è¿™ä¸ªç¥å¥‡ä»£ç å¤§æ¦‚æ˜¯æŠŠabä¹˜ç§¯è½¬æ¢ä¸ºdoubleç±»å‹ã€‚doubleç±»å‹èƒ½è¡¨ç¤ºçš„èŒƒå›´æ˜¯å¤§äºint64_tçš„ï¼Œä½†æ˜¯ç²¾åº¦ä¸å¤Ÿï¼Œå°¾æ•°éƒ¨åˆ†åªæœ‰52ä½çš„ç²¾åº¦ï¼ˆåŠ ä¸Šå‰é¢çš„1ä¸€å…±æ˜¯53ä½ï¼‰ï¼Œæ‰€ä»¥åº”è¯¥æ˜¯åªèƒ½ä¿è¯è¿™53ä½çš„ç²¾åº¦ï¼Œäºæ˜¯æˆ‘æ‰“å¼€pythonè®¡ç®—å™¨è®¡ç®—äº†ä¸€ä¸‹2^26.5 =ï¼Œå¤§æ¦‚æ˜¯94900000ï¼Œäºæ˜¯æˆ‘æŠŠä»»åŠ¡ä¸€ä¸­éšæœºæ•°çš„ç”ŸæˆèŒƒå›´æ”¹ä¸ºäº†(0,94900000)ï¼Œæµ‹è¯•äº†5æ¬¡ï¼Œæ¯æ¬¡ä¸€ç™¾ä¸‡ç»„ï¼Œéƒ½æ˜¯å…¨å¯¹çš„ã€‚ åˆ°è¿™é‡Œæˆ‘å°±å¾ˆæƒ³åæ§½äº†ï¼Œè¿™èŒƒå›´æ€ä¹ˆè¿˜èƒ½ç®—int64_tçš„ï¼Œä¿è¯ç»“æœæ­£ç¡®çš„aå’Œbçš„èŒƒå›´intéƒ½è¾¾ä¸åˆ°ï¼Œå¦‚æœèƒ½ä¿è¯è¾“å…¥åœ¨è¿™ä¸ªèŒƒå›´ä¹‹å†…ï¼Œè¿˜ä¸å¦‚ç›´æ¥ç”¨int64_tç®—å‘¢ï¼Œabç›¸ä¹˜è‚¯å®šä¸ä¼šæº¢å‡ºçš„ã€‚ä½†æ˜¯å¦‚æœaå’Œbä¹˜ç§¯ä½è¡¨ç¤ºä¸‹æœ«å°¾é›¶æ¯”è¾ƒå¤šï¼Œè¿˜æ˜¯æœ‰å¯èƒ½æ­£ç¡®çš„ã€‚æ‰€ä»¥è¿™æ ¹æœ¬å°±æ˜¯ä¸€ä»½æ‹¼äººå“çš„ç¥å¥‡ä»£ç å—â€¦.. ç›®å‰å°šæœªæƒ³é€šçš„é—®é¢˜ï¼š ä¸ºä»€ä¹ˆè¦+1e-8ï¼Ÿ ä¸ºä»€ä¹ˆè¿”å›æ—¶éœ€è¦åˆ¤æ–­tçš„æ­£è´Ÿå¹¶åšç›¸åº”ä¿®æ­£ï¼Ÿ æœ€åï¼Œè¿™ä¸ªç¥å¥‡ä»£ç æ¯•ç«Ÿæ˜¯O(1)çš„ï¼Œå‡­æˆ‘çš„ç®—æ³•åŠŸåº•å®åœ¨æ²¡åŠæ³•ä¼˜åŒ–åˆ°O(n)ä»¥ä¸‹ï¼Œæ‰€ä»¥ç¥å¥‡ä»£ç è™½ç„¶æ­£ç¡®ç‡ä¸é«˜ï¼Œä½†æ˜¯æ•ˆç‡è¿˜æ˜¯å¾ˆæ„Ÿäººçš„","categories":[],"tags":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/tags/Notes/"},{"name":"Lab","slug":"Lab","permalink":"https://mengzelev.github.io/tags/Lab/"},{"name":"Ics","slug":"Ics","permalink":"https://mengzelev.github.io/tags/Ics/"}]},{"title":"ç®—æ³•å¯¼è®ºå­¦ä¹ ç¬”è®°-ç”¨äºä¸ç›¸äº¤é›†åˆçš„æ•°æ®ç»“æ„","slug":"clrs-21DisjointSets","date":"2018-10-06T08:05:58.000Z","updated":"2018-10-07T07:33:25.694Z","comments":true,"path":"2018/10/06/clrs-21DisjointSets/","link":"","permalink":"https://mengzelev.github.io/2018/10/06/clrs-21DisjointSets/","excerpt":"","text":"ä¸ç›¸äº¤é›†åˆçš„æ“ä½œä¸€ä¸ªä¸ç›¸äº¤é›†åˆæ•°æ®ç»“æ„ç»´æŠ¤äº†ä¸€ä¸ªä¸ç›¸äº¤åŠ¨æ€é›†çš„é›†åˆæ¯ä¸ªé›†åˆéƒ½æœ‰ä¸€ä¸ªä»£è¡¨æ ‡è¯†ï¼Œå®ƒæ˜¯è¯¥é›†åˆçš„æŸä¸ªæˆå‘˜ æˆ‘ä»¬å¸Œæœ›é›†åˆæ”¯æŒä»¥ä¸‹ä¸‰ä¸ªæ“ä½œï¼š åº”ç”¨ï¼šç¡®å®šæ— å‘å›¾çš„è¿é€šåˆ†é‡ ç®—æ³•å°±æ˜¯å°†è¿é€šçš„é¡¶ç‚¹å…¨éƒ¨åˆå¹¶åˆ°åŒä¸€ä¸ªé›†åˆä¸­ã€‚ ä¸ç›¸äº¤é›†åˆçš„é“¾è¡¨è¡¨ç¤ºæ¯ä¸ªé›†åˆå¯ä»¥ç”¨ä¸€ä¸ªè‡ªå·±çš„é“¾è¡¨æ¥è¡¨ç¤ºé“¾è¡¨ä¸­å¯¹è±¡å¯ä»¥ä»¥ä»»æ„æ¬¡åºå‡ºç° æ¯ä¸ªé“¾è¡¨ç»„æˆä¸ºï¼š headâ€” æŒ‡å‘è¡¨çš„ç¬¬ä¸€ä¸ªå¯¹è±¡ï¼ˆä»£è¡¨å…ƒï¼‰ tailâ€” æŒ‡å‘è¡¨çš„æœ€åä¸€ä¸ªå¯¹è±¡ é“¾è¡¨ä¸­æ¯ä¸ªå¯¹è±¡çš„ç»„æˆä¸ºï¼š å…³é”®å­—key æŒ‡å‘headçš„æŒ‡é’ˆprev æŒ‡å‘åä¸€ä¸ªå¯¹è±¡çš„æŒ‡é’ˆnext æ—¶é—´å¤æ‚åº¦ï¼šMAKE-SET O(1)FIND-SET O(1)UNIONï¼ˆç®€å•å®ç°ï¼‰ $\\Theta(n^2)$ ã€æ‘Šè¿˜åˆ†æã€‘ ç®€å•åŠ æƒåˆå¹¶å¯å‘å¼ç­–ç•¥ç­–ç•¥æ˜¯ï¼Œæ¯æ¬¡åˆå¹¶æ—¶éƒ½å°†è¾ƒå°çš„é“¾è¡¨æŒ‚åˆ°è¾ƒå¤§çš„é“¾è¡¨ä¸Šï¼Œéœ€è¦å¤šç»´æŠ¤ä¸€ä¸ªé“¾è¡¨é•¿åº¦çš„å±æ€§ã€‚ è¯æ˜çš„æ ¸å¿ƒåœ¨äºæ¯ä¸ªå¯¹è±¡çš„æŒ‡é’ˆåœ¨æ‰€æœ‰çš„UNIONæ“ä½œä¸­æœ€å¤šè¢«æ›´æ–°$\\lceil\\lg n\\rceil$æ¬¡ï¼Œå› æ­¤æ‰€æœ‰UNIONæ“ä½œä¸­è¢«æ›´æ–°çš„å¯¹è±¡çš„æŒ‡é’ˆæ€»æ•°ä¸º$O(n\\lg n)$ã€‚åŠ ä¸ŠMAKE-SETå’ŒFIND-SEtçš„O(m)ã€‚ ä¸ç›¸äº¤é›†åˆæ£®æ—ä½¿ç”¨æœ‰æ ¹æ ‘æ¥è¡¨ç¤ºé›†åˆã€‚æ¯æ£µæ ‘è¡¨ç¤ºä¸€ä¸ªé›†åˆï¼Œæ ‘çš„æ ¹ç»“ç‚¹æ˜¯è¯¥é›†åˆçš„ä»£è¡¨å…ƒã€‚æ‰§è¡ŒUNIONæ“ä½œæ—¶å°†ä¸¤æ£µæ ‘çš„æ ‘æ ¹åˆå¹¶ã€‚å®ç°æ—¶å¯ä»¥ç”¨åˆ°ä¸¤ç§æ”¹è¿›è¿è¡Œæ—¶é—´çš„å¯å‘å¼ç­–ç•¥ã€‚ æŒ‰ç§©åˆå¹¶ç±»ä¼¼é“¾è¡¨çš„åŠ æƒåˆå¹¶å¯å‘å¼ç­–ç•¥ä¸ºäº†æ˜“äºåˆ†æï¼Œå¯¹äºæ¯ä¸ªç»“ç‚¹ï¼Œç»´æŠ¤ä¸€ä¸ªç§©ï¼Œè¡¨ç¤ºè¯¥ç»“ç‚¹é«˜åº¦çš„ä¸€ä¸ªä¸Šç•Œã€‚ç§©x.rankä»£è¡¨xçš„é«˜åº¦çš„ä¸€ä¸ªä¸Šç•Œï¼Œé«˜åº¦å³ä»xåˆ°æŸä¸€åä»£å¶ç»“ç‚¹çš„æœ€é•¿ç®€å•è·¯å¾„ä¸Šè¾¹çš„æ•°ç›®ã€‚UNIONæ“ä½œä¸­ å¦‚æœæ ¹çš„ç§©ä¸åŒï¼Œåˆ™è®©è¾ƒå¤§ç§©çš„æ ¹æˆä¸ºè¾ƒå°ç§©çš„æ ¹çš„çˆ¶ç»“ç‚¹ï¼Œä½†ç§©æœ¬èº«ä¿æŒä¸å˜ å¦‚æœæ ¹çš„ç§©ç›¸åŒï¼Œåˆ™ä»»æ„é€‰æ‹©ä¸¤ä¸ªä¸­çš„ä¸€ä¸ªä½œä¸ºçˆ¶ç»“ç‚¹ï¼Œå¹¶ä½¿å®ƒçš„ç§©+1 è·¯å¾„å‹ç¼©åœ¨FIND-SETæ“ä½œä¸­æ˜¯æŸ¥æ‰¾è·¯å¾„ä¸­çš„æ¯ä¸ªç»“ç‚¹ç›´æ¥æŒ‡å‘æ ¹ï¼Œä¸æ”¹å˜ä»»ä½•ç»“ç‚¹çš„ç§©ã€‚ ä¼ªä»£ç ","categories":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/categories/Notes/"}],"tags":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/tags/Notes/"},{"name":"Problem Solving","slug":"Problem-Solving","permalink":"https://mengzelev.github.io/tags/Problem-Solving/"},{"name":"CLRS","slug":"CLRS","permalink":"https://mengzelev.github.io/tags/CLRS/"},{"name":"Disjoint Sets","slug":"Disjoint-Sets","permalink":"https://mengzelev.github.io/tags/Disjoint-Sets/"},{"name":"Data Structure","slug":"Data-Structure","permalink":"https://mengzelev.github.io/tags/Data-Structure/"}]},{"title":"åšpaçš„æ—¶å€™å¯èƒ½ä¼šç”¨åˆ°çš„æ“ä½œ","slug":"pa-inspirations","date":"2018-10-04T09:18:29.000Z","updated":"2018-10-04T09:21:25.581Z","comments":true,"path":"2018/10/04/pa-inspirations/","link":"","permalink":"https://mengzelev.github.io/2018/10/04/pa-inspirations/","excerpt":"","text":"å½“åšç¬”è®°éšä¾¿å†™å†™çš„ï¼Œå¸Œæœ›èƒ½å¸®åˆ°ä¸€äº›äººå§ã€‚æ¯•ç«Ÿä½œä¸ºä¸€åä¼˜ç§€çš„bug makerï¼Œåˆ«äººé‡åˆ°çš„é—®é¢˜æˆ‘åŸºæœ¬éƒ½èƒ½é‡åˆ°çš„ã€‚ vimå’Œtmuxå¦å¤–å†™äº†æ•™ç¨‹ï¼š vimåˆæ¢ ä½¿ç”¨tmuxå˜èº«ç‚«é…·ç¨‹åºçŒ¿(x æŒç»­æ›´æ–°ä¸­æœ€åæ›´æ–°: 2018/10/04 17:18:29 æ–°å¢PA2æ—¶è¿è¡Œdummyå‡ºé”™çš„è§£å†³æ–¹å¼ è¯­è¨€è§„èŒƒ è¿™åå­—å¾ˆä¸­äºŒâ€¦ä½†å…¶å®å°±æ˜¯ä¸ªäººå†™æ–‡ç« çš„æ—¶å€™ä¸€ç‚¹ä¹ æƒ¯ç”¨çš„è¡¨ç¤ºï¼Œå’Œåˆ«äººçš„å¯èƒ½ä¸ä¸€æ ·ï¼Œå¾ˆå¯èƒ½éå¸¸ä¸æ ‡å‡†ï¼Œæ³¨æ„åŒºåˆ†å°±å¥½ []æ–¹æ‹¬å·è¡¨ç¤ºéœ€è¦è‡ªå®šä¹‰çš„å†…å®¹ï¼Œæ‹¬èµ·æ¥çš„åªæ˜¯ä½ åº”è¯¥è¾“å…¥çš„ä¸œè¥¿çš„åå­— $å¼€å¤´çš„è¡¨ç¤ºåœ¨å‘½ä»¤è¡Œä¸­é”®å…¥çš„ä»£ç ï¼Œå¦åˆ™ä¸ºæ–‡ä»¶ä¸­çš„ä»£ç  åœ¨æ•´ä¸ªç›®å½•ä¸‹æŸ¥æ‰¾ä»£ç  åœ¨æŸä¸ªæ–‡ä»¶é‡Œçœ‹åˆ°æŸä¸ªå‡½æ•°æˆ–è€…å®æˆ–è€…å˜é‡çš„å®šä¹‰çš„æ—¶å€™ç»å¸¸ä¼šå¥½å¥‡åœ¨å“ªé‡Œã€æ€ä¹ˆä½¿ç”¨è¿‡ï¼Œé™¤äº†ç”¨/+(æœç´¢å†…å®¹)é vimçš„åŠŸèƒ½åœ¨æ–‡ä»¶å†…æœç´¢å¤–ï¼Œè¿˜å¯ä»¥ $ grep &quot;æœç´¢å†…å®¹&quot; -r &lt;ç›®å½•&gt; e.g. $ grep &quot;CPU_state&quot; -r . å…¶ä¸­-rè¡¨ç¤ºé€’å½’æœç´¢ï¼Œå¯ä»¥æœç´¢æ•´ä¸ªç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶ ä¸€é”®è·³è½¬å®šä¹‰å¤„ åˆ›å»ºæ¥å£çš„æ—¶å€™ç»å¸¸éœ€è¦æŸ¥çœ‹æŸäº›å‡½æ•°ã€å®ã€ç»“æ„ä½“çš„å®šä¹‰ï¼Œäºæ˜¯è¢«æŸä½nbçš„å­¦é•¿å®‰åˆ©äº†ctagsç¥å™¨ï¼Œå¯ä»¥ä¸€é”®è·³è½¬è‡³å®šä¹‰å¤„å¹¶ä¸€é”®è°ƒå›ï¼Œå…ˆè´´ä¸Šè‡ªå·±æŸ¥åˆ°çš„æ•™ç¨‹ é¦–å…ˆéœ€è¦å®‰è£…ctagsï¼Œä¸€èˆ¬æ¥è¯´ç›´æ¥aptå°±å¥½äº†ï¼Œä½†æ˜¯è«åä¸è¡Œï¼Œå¯èƒ½æ˜¯é•œåƒæºçš„é—®é¢˜ $ sudo apt install ctags äºæ˜¯æˆ‘é€‰æ‹©äº†ä»ctagså®˜ç½‘æ‰‹åŠ¨ä¸‹è½½ctags-5.8.tar.gz å¦‚æœæ˜¯åœ¨hosté‡Œä¸‹è½½çš„ï¼Œä¸‹è½½åé€šè¿‡è‡ªå·±çš„å…±äº«æ–¹å¼æ‰”åˆ°è™šæ‹Ÿæœºé‡Œé¢ï¼Œè¿›è¡Œè§£å‹ç¼© $ cd [å‹ç¼©åŒ…æ‰€åœ¨ç›®å½•] $ tar jxvf [æ–‡ä»¶å].tar.bz è§£å‹åæ‰‹åŠ¨å®‰è£… $ cd ctags-5.8 $ ./configure $ make $ make install å®‰è£…å®Œæˆåæµ‹è¯•ä¸€ä¸‹æ˜¯å¦å®‰è£…æˆåŠŸ $ whereis ctags ä½ åº”è¯¥èƒ½çœ‹åˆ°è®©ä½ è§‰å¾—æˆåŠŸçš„æç¤ºä¿¡æ¯ã€‚ å®‰è£…æˆåŠŸåï¼Œä¸ºæºç ç”Ÿæˆtagsæ–‡ä»¶ï¼Œåœ¨éœ€è¦ä½¿ç”¨ctagsçš„ç›®å½•ä¸‹(æ‰€æœ‰å­ç›®å½•éƒ½å¯ä»¥äº«å—åˆ°)è¿è¡Œ $ ctags -R ä¸ºäº†ä½¿å¾—å­—æ®µè¡¥å…¨æœ‰æ•ˆï¼Œåœ¨ç”Ÿæˆtagsæ—¶éœ€è¦ä¸€äº›é¢å¤–çš„å‚æ•°ï¼Œæ¨èçš„cè¯­è¨€ï¼ˆcå¤„å¯ä»¥æ›¿æ¢æˆå…¶ä»–è¯­è¨€ï¼‰å‚æ•°ä¸»è¦æ˜¯ï¼š $ ctags -R --c-kinds=+px --fields=+iaS --extra=+q å…¶ä¸­ï¼Œfileds ç”¨äºæŒ‡å®šæ¯æ¡æ ‡è®°çš„æ‰©å±•å­—æ®µåŸŸï¼Œextra é€‰é¡¹ç”¨äºå¢åŠ é¢å¤–çš„æ¡ç›®ï¼Œfè¡¨ç¤ºæ¯ä¸ªæ–‡ä»¶å¢åŠ ä¸€ä¸ªæ¡ç›®ï¼Œqä¸ºæ¯ä¸ªç±»å¢åŠ ä¸€ä¸ªæ¡ç›® ä¹‹åé…ç½®vimï¼Œå°±ä¸ç”¨æ¯æ¬¡éƒ½æ‰‹åŠ¨è®¾ç½® $ vim ~/.vimrc åœ¨.vimrc ä¸­åŠ å…¥å¦‚ä¸‹å†…å®¹ set tags=[path]/tags set tags=./tags,tags;$HOME ç¬¬äºŒè¡Œæˆ‘æš‚æ—¶ä¹Ÿä¸çŸ¥é“æ˜¯å¹²ä»€ä¹ˆçš„ï¼Œä½†æ˜¯ä¸åŠ ä¸Šå»å¥½åƒç”¨ä¸èµ·æ¥ï¼ˆå°å£° ç„¶åç”¨vimç¼–è¾‘ä½ éœ€è¦çš„ä»£ç æ–‡ä»¶ï¼Œå½“å…‰æ ‡è½åˆ°ä½ æƒ³æŸ¥è¯¢å®šä¹‰çš„å‡½æ•°ä¸Šæ—¶ä½¿ç”¨Ctrl + ]è·³è½¬åˆ°å®šä¹‰å¤„ï¼ˆå…¶å®æ˜æ˜æ˜¯ä¸¤é”®è·³è½¬å¯¹ä¸å¯¹ï¼‰ï¼Œç„¶åCtrl + oæˆ–è€…Ctrl + tè¿”å›è·³è½¬å‰çš„ä½ç½®ã€‚ å‚è€ƒæ•™ç¨‹åŸåœ°å€ ç¼–è¯‘dummyæ—¶å‡ºé”™è¿›è¡Œåˆ°PA2å¼€å§‹æ—¶ï¼Œè¯•å›¾ç¼–è¯‘dummyä¼šäº§ç”Ÿå¦‚ä¸‹çš„æŠ¥é”™ï¼š è¿™æ—¶å€™å¦‚æœSTFWå¾—åˆ°çš„ç­”æ¡ˆåº”è¯¥æ˜¯å®‰è£…libc6-dev-i386 $ sudo apt-get install libc6-dev-i386 ç„¶è€Œæˆ‘è£…äº†ä¹‹åè¿˜æ˜¯æŠ¥é”™ï¼Œåˆ°stackoverflowä¸Šç¨å¾®åˆ¨äº†ä¸€ä¸‹å‘ç°å¯èƒ½è¿˜éœ€è¦å®‰è£…gcc-multilib $ sudo apt-get install gcc-multilib ç„¶åå¯ä»¥å¼€å§‹æ„‰å¿«çš„PA2äº† stackoverflowåŸå›ç­”åœ°å€","categories":[],"tags":[{"name":"pa","slug":"pa","permalink":"https://mengzelev.github.io/tags/pa/"},{"name":"Linux","slug":"Linux","permalink":"https://mengzelev.github.io/tags/Linux/"},{"name":"vim","slug":"vim","permalink":"https://mengzelev.github.io/tags/vim/"}]},{"title":"PA1å®éªŒæŠ¥å‘Š","slug":"PA1-report","date":"2018-10-04T09:17:47.000Z","updated":"2018-10-04T09:18:35.194Z","comments":true,"path":"2018/10/04/PA1-report/","link":"","permalink":"https://mengzelev.github.io/2018/10/04/PA1-report/","excerpt":"","text":"å®éªŒè¿›åº¦2018/9/15ï¼šå®Œæˆé˜¶æ®µä¸€ï¼Œå®ç°äº†å•æ­¥æ‰§è¡Œã€æ‰“å°å¯„å­˜å™¨å’Œæ‰«æå†…å­˜ï¼ˆç®€æ˜“ç‰ˆï¼‰å¼€å§‹åšä¹‹å‰å¿˜äº†git checkout pa1å¯¼è‡´å·¥ä½œéƒ½åœ¨pa0åˆ†æ”¯é‡Œå®Œæˆäº†ï¼Œåæ¥åœ¨pa1åˆ†æ”¯ä¸‹è¿”å·¥äº†ä¸€éï¼Œä¸¤è¾¹çš„git logé‡Œéƒ½å¯ä»¥æŸ¥åˆ°è®°å½•æ‰€ä»¥æ±‚æ±‚è€å¸ˆä¸è¦æ‰£æˆ‘çš„åˆ†qwqæˆ‘ä¸‹æ¬¡ç¡®å®šä¸€å®šè‚¯å®šç¡®è®¤åˆ†æ”¯åå†å¼€å§‹å·¥ä½œ 2018/9/23:å®Œæˆé˜¶æ®µäºŒï¼Œå®ç°äº†åŒ…å«(ã€)ã€+ã€-ã€*ã€/å’Œåè¿›åˆ¶æ•°å­—çš„è¡¨è¾¾å¼è®¡ç®—ã€‚ä¸ºäº†å¤„ç†è´Ÿæ•°å°†ç±»å‹éƒ½å®ç°ä¸ºäº†long longè€Œä¸æ˜¯uint32_tï¼Œéœ€è¦æŒ‰uint32_tç±»å‹ä½¿ç”¨æ—¶è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚å®ç°äº†è¡¨è¾¾å¼ç”Ÿæˆå™¨å¹¶æµ‹è¯•ã€‚ 2018/9/29:å®Œæˆé˜¶æ®µä¸‰ï¼Œæ‰©å±•äº†è¡¨è¾¾å¼è®¡ç®—ä¸­çš„==ã€!=ã€&gt;=ã€&lt;=ã€&gt;ã€&lt;ã€è§£é™¤å¼•ç”¨å’Œå¯„å­˜å™¨è®¡ç®—ã€‚å®ç°äº†ç›‘è§†ç‚¹æ·»åŠ ã€åˆ é™¤å’Œæ‰“å°ä¿¡æ¯åŠŸèƒ½ã€‚ç”¨è‡ªå¸¦çš„ç”¨æˆ·é•œåƒåˆæ­¥æµ‹è¯•æ— é—®é¢˜ã€‚ 2018/9/30:æ—©ä¸Šèµ·æ¥å’ŒåŒå­¦èŠå¤©å‘ç°äº†è‡ªå·±ç›‘è§†ç‚¹å®ç°çš„éšè—bugï¼Œä¸€å¼€å§‹çœ‹äº†åŠå¤©æ²¡ç†è§£åˆ°åº•æ€ä¹ˆå›äº‹ï¼Œç„¶ååŠ¨æ‰‹åŠ äº†ä¸€å †printfè¯­å¥ç¼©å°èŒƒå›´ç»ˆäºæ‰¾åˆ°äº†å‡ºé”™çš„åŒºé—´ï¼Œè™½ç„¶å…·ä½“çš„åŸç†è¿˜æ²¡ç†è§£é€å½»ï¼Œä½†æ˜¯é ç€ä¸€çŸ¥åŠè§£æˆåŠŸä¿®å¤äº†éšè—bugã€‚ å¿…ç­”é¢˜ä¸æ•¢poä¸Šæ¥çš„ï¼ éƒ¨åˆ†è“æ¡†æ€è€ƒé¢˜Qï¼šå‡è®¾ä½ åœ¨Windowsä¸­ä½¿ç”¨Dockerå®‰è£…äº†ä¸€ä¸ªGNU/Linux container, ç„¶ååœ¨containerä¸­å®ŒæˆPA, é€šè¿‡NEMUè¿è¡ŒHello Worldç¨‹åº. åœ¨è¿™æ ·çš„æƒ…å†µä¸‹, å°è¯•ç”»å‡ºç›¸åº”çš„å±‚æ¬¡å›¾.Aï¼šå‚è€ƒäº†dockerå®˜ç½‘ä¸Šçš„æ¶æ„å›¾ æ¶æ„ â€œHello Worldâ€ program simulated x86 hardware NEMU bins/libs Docker host os (windows) Hardware Qï¼šå¦‚æœæ²¡æœ‰å¯„å­˜å™¨, è®¡ç®—æœºè¿˜å¯ä»¥å·¥ä½œå—? å¦‚æœå¯ä»¥, è¿™ä¼šå¯¹ç¡¬ä»¶æä¾›çš„ç¼–ç¨‹æ¨¡å‹æœ‰ä»€ä¹ˆå½±å“å‘¢?Aï¼šæˆ‘è®¤ä¸ºæ²¡æœ‰å¯„å­˜å™¨è®¡ç®—æœºæ˜¯å¯ä»¥å·¥ä½œçš„ï¼Œä½†æ˜¯æ•ˆç‡ä¼šéå¸¸ä½ï¼Œå› ä¸ºæ•°æ®çš„è¯»å†™åªèƒ½ä»å†…å­˜ä¸­è¿›è¡Œï¼Œè€Œå†…å­˜çš„è¯»å†™é€Ÿåº¦æ˜¯æ…¢äºå¯„å­˜å™¨çš„ã€‚è€Œä¸”ç°åœ¨æˆ‘ä»¬å­¦çš„IA-32æ¶æ„æ˜¯ä¸å…è®¸åœ¨ä¸¤ä¸ªå†…å­˜å•å…ƒä¹‹é—´è¿›è¡Œæ•°æ®æ“ä½œçš„ï¼Œå¿…é¡»ç”¨å¯„å­˜å™¨ä½œä¸ºä¸­é—´åª’ä»‹ã€‚ç¼–ç¨‹æ¨¡å‹ä¸€å‘¨ç›®çš„æˆ‘æŸ¥äº†ä¸€ä¸‹æ²¡æœ‰çœ‹æ‡‚ï¼Œä½†æ„¿äºŒå‘¨ç›®çš„æˆ‘èƒ½çœ‹æ‡‚å§ã€‚ Qï¼šæˆ‘ä»¬çŸ¥é“, æ—¶åºé€»è¾‘ç”µè·¯é‡Œé¢æœ‰â€çŠ¶æ€â€çš„æ¦‚å¿µ. é‚£ä¹ˆ, å¯¹äºTRMæ¥è¯´, æ˜¯ä¸æ˜¯ä¹Ÿæœ‰è¿™æ ·çš„æ¦‚å¿µå‘¢? å…·ä½“åœ°, ä»€ä¹ˆä¸œè¥¿è¡¨å¾äº†TRMçš„çŠ¶æ€? åœ¨çŠ¶æ€æ¨¡å‹ä¸­, æ‰§è¡ŒæŒ‡ä»¤å’Œæ‰§è¡Œç¨‹åº, å…¶æœ¬è´¨åˆ†åˆ«æ˜¯ä»€ä¹ˆ?Aï¼šTRMä¸­å­˜åœ¨ä¸€ä¸ªå«åšçŠ¶æ€å¯„å­˜å™¨çš„ç»„æˆéƒ¨åˆ†ï¼Œä¼šå­˜å‚¨å›¾çµæœºå½“å‰çš„çŠ¶æ€ã€‚ï¼ˆçŠ¶æ€æ¨¡å‹åˆæ˜¯ä»€ä¹ˆï¼‰æ‰§è¡ŒæŒ‡ä»¤å’Œæ‰§è¡Œç¨‹åºçš„æœ¬è´¨åŒºåˆ«æ˜¯ç¨‹åºæ˜¯ä¸€å¤§å †æŒ‡ä»¤çš„é›†åˆã€‚ï¼ˆä¸ªäººç†è§£ï¼‰ Qï¼šå—¯â€¦ å¦‚æœä½ è§‰å¾—æç¤ºè¿˜ä¸å¤Ÿ, é‚£å°±æ¥ä¸€ä¸ªåŠ²çˆ†çš„: å›å¿†ç¨‹åºè®¾è®¡è¯¾çš„å†…å®¹, ä¸€ä¸ªç¨‹åºä»å“ªé‡Œå¼€å§‹æ‰§è¡Œå‘¢?å¦‚æœä½ ä¸å±‘äºå›ç­”è¿™ä¸ªé—®é¢˜, ä¸å¦¨å…ˆå†·é™ä¸‹æ¥. å…¶å®è¿™æ˜¯ä¸€ä¸ªå€¼å¾—æ¢ç©¶çš„é—®é¢˜, ä½ ä¼šåœ¨å°†æ¥é‡æ–°å®¡è§†å®ƒ.Aï¼šæˆ‘æ­£åœ¨å°è¯•å†·é™ä¸‹æ¥â€¦. Qï¼šé˜…è¯»reg_test()çš„ä»£ç , æ€è€ƒä»£ç ä¸­çš„assert()æ¡ä»¶æ˜¯æ ¹æ®ä»€ä¹ˆå†™å‡ºæ¥çš„Aï¼šæˆ‘ä¸å¤ªç†è§£â€œæ ¹æ®ä»€ä¹ˆå†™å‡ºæ¥â€æ˜¯ä»€ä¹ˆæ„æ€â€¦â€¦åæ­£æ²¡æœ‰å¯¹é”™æˆ‘å°±è¯´ä¸€ä¸‹ä¸ªäººç†è§£å§ã€‚reg_testé‡Œçš„assertä»¬åº”è¯¥æ˜¯checkäº†ä¸€ä¸‹æ‰€æœ‰å¯„å­˜å™¨çš„å­˜å‚¨çŠ¶æ€ï¼ŒåŒ…æ‹¬æ•´ä¸ª32ä½ã€ä½16ä½å’Œä¸¤ä¸ªä½8ä½ï¼Œä»è€Œæ¥æ£€æŸ¥CPU_stateçš„ç»“æ„æ˜¯å¦æ­£ç¡®ã€‚æ ¹æ®â€¦æ ¹æ®CPU_stateåº”æœ‰çš„ç»“æ„å†™å‡ºæ¥çš„ï¼Ÿ Qï¼šåœ¨cmd_c()å‡½æ•°ä¸­, è°ƒç”¨cpu_exec()çš„æ—¶å€™ä¼ å…¥äº†å‚æ•°-1, ä½ çŸ¥é“è¿™æ˜¯ä»€ä¹ˆæ„æ€å—?Aï¼šè¿™æ ·å°±ä¸ä¼šåšcpu_exec()ä¸­çš„forå¾ªç¯è€Œç›´æ¥æ‰§è¡Œif(nemu_state == NEMU_RUNNING) nemu_state = NEMU_STOPè¯­å¥å®ç°å•æ­¥æ‰§è¡Œã€‚ Qï¼šopcode_tableåˆ°åº•æ˜¯ä¸ªä»€ä¹ˆç±»å‹çš„æ•°ç»„?Aï¼šæ˜¯ä¸€ä¸ªopcode_entryç»“æ„ä½“ç±»å‹çš„æ•°ç»„ï¼Œé€šè¿‡RTFSCæ¨æµ‹åº”è¯¥æ˜¯æ¨¡æ‹ŸæŒ‡ä»¤ç çš„ç»“æ„ä½“ã€‚ Qï¼šä½ å¯èƒ½ä¼šæŠ‘åˆ¶ä¸ä½ç¼–ç çš„å†²åŠ¨: ä¸å…¶RTFM, è¿˜ä¸å¦‚è‡ªå·±å†™. å¦‚æœçœŸæ˜¯è¿™æ ·, ä½ å¯ä»¥è€ƒè™‘ä¸€ä¸‹, ä½ ä¼šå¦‚ä½•æµ‹è¯•è‡ªå·±ç¼–å†™çš„å­—ç¬¦ä¸²å¤„ç†å‡½æ•°?Aï¼šå…¶å®æˆ‘æ›´æ„¿æ„RTFMï¼Œæœ‰ç°æˆçš„ä¸ºä»€ä¹ˆè¦é€ è½®å­å†™ä¸ªéšæœºç”Ÿæˆå­—ç¬¦ä¸²çš„ç¨‹åºäº§ç”Ÿè¾“å…¥ï¼Œç„¶åå°†è¾“å…¥å’Œè¾“å‡ºå…¨éƒ¨éƒ½è¾“å‡ºè‚‰çœ¼æ¯”å¯¹ä¸€ä¸‹ï¼Œå¤§æ¦‚æµ‹è¯•ä¸ª20ç»„æ²¡é—®é¢˜å°±å½“è¿‡äº†å§ã€‚ï¼ˆåšojçš„åé—ç—‡ï¼‰ Qï¼šæ¡†æ¶ä»£ç ä¸­å®šä¹‰wp_poolç­‰å˜é‡çš„æ—¶å€™ä½¿ç”¨äº†å…³é”®å­—static, staticåœ¨æ­¤å¤„çš„å«ä¹‰æ˜¯ä»€ä¹ˆ? ä¸ºä»€ä¹ˆè¦åœ¨æ­¤å¤„ä½¿ç”¨å®ƒ?Aï¼šstaticæ˜¯Internal Linkageçš„æ„æ€ï¼Œæ˜¯æŒ‡ç¼–è¯‘è¿‡ç¨‹ä¸­è¿›è¡Œé“¾æ¥æ—¶ç”±staticä¿®é¥°çš„å˜é‡ä¸å‚ä¸ä¸å¤–éƒ¨æ–‡ä»¶çš„é“¾æ¥ã€‚è¿™æ ·å°±ä½¿å¤–éƒ¨çš„å‡½æ•°ä¸€æ—¦ä½¿ç”¨äº†è¿™å‡ ä¸ªå˜é‡ï¼Œç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™ï¼Œä¿è¯äº†ä¸WPç›¸å…³çš„æ“ä½œéƒ½åªèƒ½å®šä¹‰åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ã€‚ï¼ˆå¦‚æœçœŸæ˜¯è¿™æ ·å°±æœ‰ç‚¹OOPçš„æ„Ÿè§‰ï¼Ÿå¯¹å¤–åªæä¾›æ¥å£ï¼Œå®ç°éƒ½åœ¨å†…éƒ¨ï¼Œä¿è¯äº†æ•°æ®å’Œæ“ä½œçš„å®‰å…¨æ€§ï¼‰ å‰©ä¸‹ä¸€äº›æ€è€ƒé¢˜è¦ä¹ˆæ˜¯èƒ½åŠ›ä¸å¤ŸSTFWæ‰¾ä¸åˆ°æ»¡æ„çš„ç­”æ¡ˆï¼Œè¦ä¹ˆæ˜¯æ‰¾åˆ°äº†çœ‹ä¸Šå»æ»¡æ„çš„ç­”æ¡ˆç„¶è€Œçœ‹ä¸æ‡‚â€¦. é‡åˆ°çš„é—®é¢˜ä»¥åŠå¯¹é—®é¢˜çš„æ€è€ƒ git mergeçš„æ—¶å€™å‘ç”Ÿäº†conflictSTFWä¹‹åå‘ç°éœ€è¦å…ˆgit reset â€“mergeç„¶åcatå†²çªæ–‡ä»¶æŸ¥çœ‹æ˜¯å“ªé‡Œå†²çªï¼Œä¿®æ”¹ç›¸åº”åœ°æ–¹ä¹‹åå†git merge å…¨éƒ¨å†™å®Œä¹‹åæ‰å‘ç°å†™é”™åˆ†æ”¯äº†æœ¬æ¥ä»¥ä¸ºgit mergeä¹‹åå†ç»™åˆ†æ”¯é‡å‘½åå°±å¯ä»¥äº†ï¼Œä½†æ˜¯å„ç§å†²çªå®åœ¨å¤ªå¤šäº†ï¼Œæ‰€ä»¥é‡æ–°å†™äº†ä¸€éï¼Œè¡€çš„æ•™è®­å‘Šè¯‰æˆ‘ä»¬ä»¥åä¸€å®šè¦åœ¨å†™ä¹‹å‰åå¤æ£€æŸ¥git branchã€‚å› ä¸ºéš¾ä»¥æ‰¾åˆ°ä¸€æ®µå®Œæ•´çš„æ—¶é—´ä¸€æ¬¡æ€§å†™å®Œï¼Œæ‰€ä»¥æ¯æ¬¡å¼€å§‹å·¥ä½œä¹‹å‰éƒ½éœ€è¦git branchã€‚ vimå¿½ç„¶â€œæ­»æœºâ€å†™å®Œä¸€æ®µä¹‹åä¸‹æ„è¯†Ctrl+Sï¼Œä¹‹åå‘ç°å…¶å®æ˜¯æŠŠvimé”å®šäº†ï¼ŒCtrl+Qè§£é” viméæ­£å¸¸é€€å‡ºåå†æ¬¡æ‰“å¼€ä¸.swpæ–‡ä»¶å‘ç”Ÿå†²çªæŒ‰Ræ£€æŸ¥æ˜¯å¦æ˜¯è‡ªå·±éœ€è¦çš„çŠ¶æ€ï¼Œç„¶årm .[filename].c.swpå°†äº¤æ¢æ–‡ä»¶åˆ é™¤ï¼ˆåˆ ä¹‹å‰ä¸€å®šè¦è°¨æ…ä¸ç„¶å°±æ˜¯ä½œæ­»ï¼‰ é‡å­æ€æ›´æ–°ä¸ªäººblogä¸­ï¼Œæ¬¢è¿è€å¸ˆè§†å¥¸ååŠ åˆ† å®éªŒå¿ƒå¾— PAè™½ç„¶æ˜¯ä¸ªæ—¶é—´é»‘æ´ä½†æ˜¯çœŸçš„å¾ˆå¥½ç©ï¼ å¼€å§‹åŠ¨æ‰‹ä¹‹å‰ä¸€å®šè¦è®¤çœŸRTFSC çœ‹ä¸æ‡‚ä»£ç çš„æ—¶å€™æ‰‹åŠ¨åŠ ç‚¹æµ‹è¯•å¯ä»¥å¸®åŠ©ç†è§£ äººçœŸæ˜¯è¶Šå­¦è¶ŠæŒ‘å‰”ï¼Œæ›¾ç»æˆ‘å¯ä»¥çœ‹ç€å…¨é»˜è®¤çš„uiæ‰‹åŠ¨ç¼©è¿›ä»£ç ï¼Œç°åœ¨ç¼–è¾‘å™¨è¦æ˜¯æ²¡æœ‰ï¼ˆé…ç½®ï¼‰å–œæ¬¢çš„å­—ä½“ã€è‡ªåŠ¨ç¼©è¿›ã€æ‹¬å·åŒ¹é…ã€ç”šè‡³ä¸€é”®å‡½æ•°è·³è½¬ï¼Œæˆ‘å¯èƒ½éƒ½ä¼šå½“åœºç–¯æ‰æŸç§æ„ä¹‰ä¸Šè¶ŠæŒ‘å‰”ä¹Ÿå°±è¶Šæœ‰å­¦ä¹ çš„æ¬²æœ›å¾ˆå¤šå¤§ä½¬çš„æ•…äº‹éƒ½å‘Šè¯‰æˆ‘ä»¬ï¼Œå·¥å…·çš„æ”¹è¿›æºäºå¯¹ç°æœ‰å·¥å…·çš„æå¤§ä¸çˆ½ PA1å®Œå…¨æ˜¯å†™ç»™è‡ªå·±ç”¨çš„ç¨‹åºè€Œä¸æ˜¯OJé‚£æ ·çš„äº†ï¼Œä¸€å®šè¦æ‰ªå¿ƒè‡ªé—®ï¼šä½ å†™çš„ä»£ç å¯¹å¾—èµ·ä½ è‡ªå·±å—ï¼Ÿ Acknowledegments æ„Ÿè°¢ MassimoåŒå­¦ åœ¨æˆ‘vimå‡ºç°å¼‚å¸¸çš„æ—¶å€™å‘Šè¯‰æˆ‘æ˜¯Ctrl+sæŠŠå±å¹•ç»™é”æ­»äº†å¹¶æˆåŠŸæ•™æˆ‘â€œæ€¥æ•‘â€æ–¹æ³• æ„Ÿè°¢ æŸä¸æ„¿é€éœ²å§“åçš„nbå­¦é•¿ å¸®å¿™çœ‹äº†ä¸€ä¸‹è¡¨è¾¾å¼ç”Ÿæˆå™¨çš„bugï¼Œè¿˜è§£å†³äº†æˆ‘çš„ä¸€å †ç–‘é—®ï¼Œå¹¶ä¸”æä¾›æ·±å¤œdebugé™ªèŠæœåŠ¡ï¼Œå¹¶ç»™æˆ‘è´Ÿç½ªæ„Ÿä½¿æˆ‘ä»¥åç‰¢è®°ä¼˜å…ˆSTFW æ„Ÿè°¢ xyåŒå­¦ æä¾›è½»åº¦å‰§é€ï¼Œä½¿æˆ‘é¿å…äº†ä¸€äº›bugï¼Œè¿˜å‘Šè¯‰äº†æˆ‘ä¸€ä¸ªéšè—bugçš„å­˜åœ¨ æ„Ÿè°¢ ä¸å­¦ä¹ çš„æ­£ç»æ°´ç¾¤ äº¤æµpaå¿ƒå¾—ä¸€èµ·å¿«ä¹ç¼–ç¨‹ å®éªŒæŠ¥å‘Šè™½ç„¶å†™äº†å¾ˆå¤šè¿˜æ˜¯æ„çŠ¹æœªå°½å•Šï¼Œä¸ºäº†èµ¶ddlå¹¶å°½å¿«æ„‰å¿«åœ°å¼€å§‹PA2å…ˆäº¤äº†ï¼Œç­‰ddlè¿‡äº†ä¹‹åä¼šä¸Šä¼ åˆ æ‰äº†å¿…åšé¢˜çš„ç‰ˆæœ¬åˆ°ä¸ªäººblogï¼Œä¸å®šæ—¶æ›´æ–°","categories":[],"tags":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/tags/Notes/"},{"name":"pa","slug":"pa","permalink":"https://mengzelev.github.io/tags/pa/"}]},{"title":"å…³äºâ€œè¿‡ç¨‹è°ƒç”¨â€çš„è®¨è®º","slug":"ics-process-calling","date":"2018-09-27T01:59:13.000Z","updated":"2018-10-04T09:15:16.428Z","comments":true,"path":"2018/09/27/ics-process-calling/","link":"","permalink":"https://mengzelev.github.io/2018/09/27/ics-process-calling/","excerpt":"","text":"è¿™æ˜¯è®¡ç®—æœºç³»ç»ŸåŸºç¡€è¯¾ä¸Šçš„å¼€æ”¾è¯¾é¢˜ï¼Œåœ¨ä¸åŒç¯å¢ƒä¸‹æµ‹è¯•ä¸€äº›UBçš„ç»“æœï¼Œç…§ç†è¯´æ­¤å¤„åº”è¯¥æœ‰åˆ†æä½†æ˜¯èŒæ·åˆ—å¤«æ‡’äº†ï¼Œç­‰ddlå¤„ç†æ‰äº†å†æ¥å†™ã€‚ å®éªŒä¸€ä»£ç #include &lt;stdio.h&gt; int main(int argc, char* argv[])&#123; int a = 10; double *p = (double*)&amp;a; printf(&quot;%f\\n&quot;, *p); printf(&quot;%f\\n&quot;, ((double)(a))); return 0; &#125; windows10ç¯å¢ƒï¼šdev-cpp/TDM-GCC 4.9.2 64bit Release Debian-64bit Ubuntu-32bit å®éªŒäºŒä»£ç #include&lt;stdio.h&gt; int main()&#123; double a = 10; printf(&quot;a = %d\\n&quot;, a); return 0; &#125; windows10 Debian Ubuntu-32bit","categories":[],"tags":[{"name":"ics","slug":"ics","permalink":"https://mengzelev.github.io/tags/ics/"},{"name":"process calling","slug":"process-calling","permalink":"https://mengzelev.github.io/tags/process-calling/"}]},{"title":"æ­£åˆ™è¡¨è¾¾å¼å­¦ä¹ ç¬”è®°","slug":"regex","date":"2018-09-21T14:04:40.000Z","updated":"2018-09-21T14:38:21.936Z","comments":true,"path":"2018/09/21/regex/","link":"","permalink":"https://mengzelev.github.io/2018/09/21/regex/","excerpt":"","text":"åºŸè¯ä¸å¤šè¯´ï¼Œè´´4å¼ æˆªå›¾å°±è·‘è·¯ï¼ˆã€‚ æœ‰ç©ºè¿˜æ˜¯ä¼šå›æ¥å†™çš„ï¼Œå®¹æˆ‘å…ˆæŠŠddlè‚å®Œï¼ˆç˜«ï¼‰ã€‚ PAè®²ä¹‰ä¸­çš„Linux-Cæ•™ç¨‹","categories":[],"tags":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/tags/Notes/"},{"name":"pa","slug":"pa","permalink":"https://mengzelev.github.io/tags/pa/"},{"name":"regular expressions","slug":"regular-expressions","permalink":"https://mengzelev.github.io/tags/regular-expressions/"},{"name":"linux","slug":"linux","permalink":"https://mengzelev.github.io/tags/linux/"}]},{"title":"ç®—æ³•å¯¼è®ºå­¦ä¹ ç¬”è®°-æ‘Šè¿˜åˆ†æ","slug":"clrs-17amortized","date":"2018-09-17T15:47:29.000Z","updated":"2018-09-20T15:58:45.393Z","comments":true,"path":"2018/09/17/clrs-17amortized/","link":"","permalink":"https://mengzelev.github.io/2018/09/17/clrs-17amortized/","excerpt":"","text":"èšåˆåˆ†æèšåˆåˆ†ææŒ‡ï¼Œè¯æ˜å¯¹æ‰€æœ‰nï¼Œä¸€ä¸ªnä¸ªæ“ä½œçš„åºåˆ—çš„æœ€åæƒ…å†µä¸‹èŠ±è´¹çš„æ€»æ—¶é—´ä¸ºT(n)ã€‚å› æ­¤åœ¨æœ€åæƒ…å†µä¸‹ï¼Œæ¯ä¸ªæ“ä½œçš„å¹³å‡ä»£ä»·ï¼Œæˆ–æ‘Šè¿˜ä»£ä»·ä¸ºT(n)/nã€‚ æ‘Šè¿˜æ“ä½œå¯ä»¥çœ‹ä½œæ˜¯ä¸å¸¦æ¦‚ç‡è®¡ç®—çš„å¹³å‡æƒ…å†µåˆ†æã€‚å› ä¸ºæ¦‚ç‡ä¸å¥½è®¡ç®—ã€‚æ¦‚ç‡ä»€ä¹ˆæ—¶å€™å¥½è®¡ç®—è¿‡äº† æ­¤æ‘Šè¿˜ä»£ä»·é€‚ç”¨äºæ¯ä¸ªæ“ä½œï¼Œå³ä½¿åºåˆ—ä¸­æœ‰å¤šç§ç±»å‹çš„æ“ä½œä¹Ÿæ˜¯å¦‚æ­¤ã€‚ ç®—æ³•å¯¼è®ºä¸Šç»™å‡ºçš„ç¤ºä¾‹ä¸ºå¢åŠ äº†MULTIPOPçš„æ ˆæ“ä½œå’ŒäºŒè¿›åˆ¶è®¡æ•°å™¨é€’å¢é—®é¢˜ï¼Œç®€å•æ¦‚æ‹¬ä¸€ä¸‹äºŒè€…çš„å…±åŒç‚¹ï¼š éœ€è¦åˆ†æå¤æ‚åº¦çš„æ“ä½œç”±è¿ç»­çš„nä¸ªæ“ä½œæ„æˆ æ¯ä¸ªå•æ­¥æ“ä½œçš„æ—¶é—´å¤æ‚åº¦éš¾ä»¥ç¡®å®šä¸ºä¸næœ‰å…³çš„è¡¨è¾¾å¼ï¼Œä¸å½“å‰çŠ¶æ€å¯†åˆ‡ç›¸å…³ å¯¹æ¯ä¸ªå•æ­¥æ“ä½œå–æœ€åæƒ…å†µå¾—å‡ºçš„ä¸Šç•Œè¿‡äºå®½æ¾ï¼Œæµªè´¹æ—¶é—´ nä¸ªè¿ç»­æ“ä½œçš„æ€»æ—¶é—´å¤æ‚åº¦æ¯”è¾ƒå®¹æ˜“æ±‚å¾— å¤§è‡´æ„Ÿè§‰å°±æ˜¯ï¼Œä½¿ç”¨æ‘Šè¿˜åˆ†æå¯ä»¥ç»™è¿™äº›æ“ä½œä¸€ä¸ªæ¸…ç™½ï¼Œå®ƒä»¬äº‹å®ä¸Šæ²¡æœ‰é‚£ä¹ˆæ…¢ã€‚ æ ¸ç®—æ³•æ ¸ç®—æ³•å°±æ˜¯å¯¹ä¸åŒçš„æ“ä½œèµ‹äºˆä¸åŒçš„ä¿¡ç”¨ï¼Œè¿™ä¸ªä¿¡ç”¨å€¼å¯èƒ½ä¼šå¤šäºæˆ–å°‘äºå®é™…æ¶ˆè€—çš„ä»£ä»·ã€‚å®é™…æ“ä½œæ—¶é‡‡ç”¨å¤šé€€å°‘è¡¥çš„åŸåˆ™ï¼Œä¿è¯æ€»ä¿¡ç”¨ï¼ˆæ”¯ä»˜çš„ä»£ä»·-å®é™…çš„ä»£ä»·ï¼‰å§‹ç»ˆéè´Ÿå³å¯ã€‚ ä¸€èˆ¬ç”¨äºè§£å†³ä¸åŒæ“ä½œé—´å…·æœ‰ä¾èµ–å…³ç³»çš„é—®é¢˜ï¼Œä¾‹å¦‚èšåˆåˆ†æä¸­æåˆ°çš„æ ˆæ“ä½œé—®é¢˜ï¼ˆå‡ºæ ˆæ“ä½œæ¬¡æ•°ä¸Šç•Œå³ä¸ºè¿›æ ˆæ“ä½œæ¬¡æ•°ï¼‰å’ŒäºŒè¿›åˆ¶è®¡æ•°å™¨é€’å¢é—®é¢˜ï¼ˆå¤ä½æ“ä½œæ¬¡æ•°ä¾èµ–äºç½®ä½æ“ä½œæ¬¡æ•°ï¼‰ã€‚ åŠ¿èƒ½åˆ†æåŠ¿èƒ½åˆ†æçœ‹ä¸Šå»æ›´åŠ æ•°(wu)å­¦(li)ä¸€ç‚¹ï¼Œä¸æ ¸ç®—æ³•æœ‰ç‚¹ç±»ä¼¼ï¼Œä¸åŒä¹‹å¤„åŠ¿èƒ½åˆ†æä¸ºæ¯ä¸€ä¸ªçŠ¶æ€éƒ½è®¾ç½®äº†ä¸€ä¸ªå¯¹åº”çš„åŠ¿èƒ½ï¼Œå³åŠ¿èƒ½å‡½æ•°ã€‚è™½ç„¶åœ¨æ“ä½œè¿‡ç¨‹ä¸­åŠ¿èƒ½å¯èƒ½æœ‰å‡æœ‰é™ï¼Œä½†åªè¦æœ€ç»ˆåŠ¿èƒ½æ˜¯å¢åŠ çš„ï¼Œå°±å¯ä»¥è¯æ˜ä»£ä»·çš„ä¸Šç•Œã€‚ é€‰æ‹©åŠ¿èƒ½å‡½æ•°åº”è¯¥æ˜¯æ¯”è¾ƒå›°éš¾çš„ã€‚äº§ç”Ÿçš„æ‘Šè¿˜ä»£ä»·ä¾èµ–äºé€‰æ‹©çš„åŠ¿èƒ½å‡½æ•°ã€‚å…·ä½“æ ¹æ®éœ€è¦è¯æ˜çš„ä¸Šç•Œæ¥é€‰æ‹©é€‚åº¦çš„åŠ¿èƒ½å‡½æ•°ï¼Œæ¯•ç«Ÿæœ€ä¼˜åŠ¿èƒ½å‡½æ•°ä¸æ˜¯é‚£ä¹ˆå¥½æ‰¾çš„ã€‚ åŠ¨æ€è¡¨è¿™ä¸ªæœ‰ä¸¶ç„å­¦ï¼Œæ˜¯åŠ¿èƒ½åˆ†æçš„ç»¼åˆåº”ç”¨ï¼Œå»ºè®®çœ‹ä¹¦ã€‚ ç¡è§‰äº†ï¼Œå…ˆæ›´åˆ°è¿™é‡Œï¼Œæ˜å¤©ç»§ç»­æ›´","categories":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/categories/Notes/"}],"tags":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/tags/Notes/"},{"name":"Problem Solving","slug":"Problem-Solving","permalink":"https://mengzelev.github.io/tags/Problem-Solving/"},{"name":"CLRS","slug":"CLRS","permalink":"https://mengzelev.github.io/tags/CLRS/"},{"name":"amortized analysis","slug":"amortized-analysis","permalink":"https://mengzelev.github.io/tags/amortized-analysis/"}]},{"title":"ç®—æ³•å¯¼è®ºå­¦ä¹ ç¬”è®°-è´ªå¿ƒç®—æ³•","slug":"clrs-16greedy","date":"2018-09-17T02:53:05.000Z","updated":"2018-09-18T03:10:20.626Z","comments":true,"path":"2018/09/17/clrs-16greedy/","link":"","permalink":"https://mengzelev.github.io/2018/09/17/clrs-16greedy/","excerpt":"","text":"å‰ä¸€ç¯‡dpå†™å¾—åˆä¹±åˆçƒ‚ç®€ç›´ä¸æƒ³çœ‹ã€‚ä½†æ„¿è‡ªå·±èƒ½åšæŒä¸‹å»å§ã€‚å¯æ˜¯è¿™ä¾ç„¶æ”¹å˜ä¸äº†æ¬è¿å’Œæˆªå›¾å¤šäºå®é™…å†…å®¹çš„äº‹å® åŸºç¡€ç†è®ºè´ªå¿ƒç®—æ³•å¯ä»¥çœ‹åšæ˜¯åŠ¨æ€è§„åˆ’çš„å¼±åŒ–ç‰ˆï¼Œå¤„ç†æŸä¸€ç±»ç‰¹æ®Šçš„å…·æœ‰æœ€ä¼˜å­ç»“æ„çš„é—®é¢˜ã€‚ åœ¨æ¯ä¸ªè´ªå¿ƒç®—æ³•ä¹‹ä¸‹ï¼Œå‡ ä¹æ€»æœ‰ä¸€ä¸ªæ›´ç¹ççš„åŠ¨æ€è§„åˆ’ç®—æ³•ã€‚ ç®—æ³•è®¾è®¡æ­¥éª¤ å°†æœ€ä¼˜åŒ–é—®é¢˜è½¬åŒ–ä¸ºè¿™æ ·çš„å½¢å¼ï¼šå¯¹å…¶ä½œå‡ºä¸€æ¬¡é€‰æ‹©åï¼Œåªå‰©ä¸‹ä¸€ä¸ªå­é—®é¢˜éœ€è¦æ±‚è§£ã€å­é—®é¢˜å‰Šå‡ã€‘ è¯æ˜ä½œå‡ºè´ªå¿ƒé€‰æ‹©åï¼ŒåŸé—®é¢˜æ€»æ˜¯å­˜åœ¨æœ€ä¼˜è§£ï¼Œå³è´ªå¿ƒé€‰æ‹©æ€»æ˜¯å®‰å…¨çš„ã€å®‰å…¨æ€§è¯æ˜ï¼šæ›¿æ¢æ³•ã€‘ è¯æ˜ä½œå‡ºè´ªå¿ƒé€‰æ‹©åï¼Œå‰©ä½™çš„å­é—®é¢˜æ»¡è¶³æ€§è´¨ï¼šå…¶æœ€ä¼˜è§£ä¸è´ªå¿ƒé€‰æ‹©ç»„åˆå³å¯å¾—åˆ°åŸé—®é¢˜çš„æœ€ä¼˜è§£ï¼Œè¿™æ ·å°±å¾—åˆ°äº†æœ€ä¼˜å­ç»“æ„ã€ç¡®è®¤æœ€ä¼˜å­ç»“æ„ã€‘ è´ªå¿ƒé€‰æ‹©æ€§è´¨è´ªå¿ƒé€‰æ‹©æ€§è´¨æ˜¯æŒ‡ï¼Œå½“è¿›è¡Œé€‰æ‹©æ—¶ï¼Œæˆ‘ä»¬ç›´æ¥ä½œå‡ºåœ¨å½“å‰é—®é¢˜ä¸­çœ‹æ¥æœ€ä¼˜çš„é€‰æ‹©ï¼Œè€Œä¸å¿…è€ƒè™‘å­é—®é¢˜çš„è§£ã€é¼ ç›®å¯¸å…‰ã€‘ è´ªå¿ƒèµ·æ¥ä¸å¤ªæ–¹ä¾¿çš„æ—¶å€™ï¼Œå¯ä»¥æ”¹è¿›è´ªå¿ƒé€‰æ‹©ï¼Œä¾‹å¦‚åšä¸€äº›é¢„å¤„ç†ï¼ˆæ´»åŠ¨é€‰æ‹©é—®é¢˜ä¸­æŒ‰ç…§ç»“æŸæ—¶é—´å¯¹æ´»åŠ¨è¿›è¡Œæ’åºï¼‰ æœ€ä¼˜å­ç»“æ„è¯æ˜ï¼šå­é—®é¢˜æœ€ä¼˜è§£ + è´ªå¿ƒé€‰æ‹© = åŸé—®é¢˜æœ€ä¼˜è§£éšå«åœ°ä½¿ç”¨äº†æ•°å­¦å½’çº³æ³• ä¸¤ç§èƒŒåŒ…é—®é¢˜ 0-1èƒŒåŒ…é—®é¢˜ åˆ†æ•°èƒŒåŒ…é—®é¢˜ å…±åŒçš„æ¡ä»¶æ˜¯æœ‰ä¸€å †ä¸åŒä»·å€¼ã€é‡é‡çš„ä¸œè¥¿ï¼Œç”¨ä¸€ä¸ªæœ‰ä¸€å®šæ‰¿é‡é‡çš„èƒŒåŒ…å»è£…ï¼Œæ±‚è£…å¾—çš„æœ€å¤§ä»·å€¼ã€‚ä¸åŒåœ¨äºï¼Œ0-1èƒŒåŒ…é—®é¢˜ä¸­æ¯ä¸ªä¸œè¥¿è¦ä¹ˆæ‹¿è¦ä¹ˆä¸æ‹¿ï¼Œè€Œåˆ†æ•°èƒŒåŒ…é—®é¢˜ä¸­å¯ä»¥æ‹¿åˆ†æ•°ä¸ªä¸œè¥¿ã€‚ å‰è€…æ— æ³•ç”¨è´ªå¿ƒç®—æ³•æ±‚è§£ï¼Œä½†åè€…å¯ä»¥ï¼Œä¸»è¦åŒºåˆ«åœ¨äºè€ƒè™‘0-1èƒŒåŒ…é—®é¢˜ä¸­æ˜¯å¦å°†ä¸€ä¸ªå•†å“è£…å…¥èƒŒåŒ…æ—¶ï¼Œå¿…é¡»æ¯”è¾ƒåŒ…å«æ­¤å•†å“çš„å­é—®é¢˜çš„è§£å’Œä¸åŒ…å«æ­¤å•†å“çš„å­é—®é¢˜çš„è§£ã€‚ç®€å•æ¥è¯´å°±æ˜¯ï¼Œç©ºé—²ç©ºé—´çš„å­˜åœ¨éå¸¸è®¨åŒã€‚åªèƒ½ä½¿ç”¨åŠ¨æ€è§„åˆ’æ¥æ±‚è§£ æ´»åŠ¨é€‰æ‹©é—®é¢˜é—®é¢˜æè¿° æœ€ä¼˜å­ç»“æ„é€šä¿—åœ°è¯´ï¼Œå¯¹äºæŸä¸€ä¸ªæ´»åŠ¨$a_k$ï¼Œåœ¨å®ƒå¼€å§‹ä¹‹å‰ç»“æŸçš„æ‰€æœ‰æ´»åŠ¨ï¼Œå’Œåœ¨å®ƒç»“æŸä¹‹åå¼€å§‹çš„æ‰€æœ‰æ´»åŠ¨ï¼Œè¿™ä¸¤ä¸ªé›†åˆéƒ½åº”è¯¥å–åˆ°æœ€ä¼˜è§£ï¼Œå¯ä»¥ä½¿ç”¨å‰ªåˆ‡-ç²˜è´´å‘å¾—åˆ°è¯æ˜ã€‚å› ä¸ºå¦‚æœå­é—®é¢˜å­˜åœ¨æ›´ä¼˜è§£ï¼Œåªéœ€æ›¿æ¢å³å¯å¾—åˆ°åŸé—®é¢˜çš„æœ€ä¼˜è§£ï¼Œä¸åŸé—®é¢˜å·²ç»æ˜¯æœ€ä¼˜è§£çŸ›ç›¾ã€‚ ä¸¥è°¨åŒ–è¡¨è¿°å¯ä»¥æè¿°ä¸ºï¼š å…¶ä¸­ï¼Œ$S{ij}$è¡¨ç¤ºåœ¨$ai$ç»“æŸåå¼€å§‹ã€åœ¨$aj$å¼€å§‹å‰ç»“æŸçš„æ´»åŠ¨çš„é›†åˆï¼› c[i,j]è¡¨ç¤ºé›†åˆ$S{ij}$çš„æœ€ä¼˜è§£ã€‚ è´ªå¿ƒé€‰æ‹© --------------------------------- æŠ›å¼€å„ç§åˆ†æç›´æ¥æ¥çœ‹è¿™ä¸ªé—®é¢˜ï¼Œæˆ–è€…è¯´å’Œä¸€ä¸ªä¸çŸ¥é“åŠ¨æ€è§„åˆ’çš„äººè°ˆèµ·è¿™ä¸ªé—®é¢˜ï¼Œå¾ˆå®¹æ˜“ï¼ˆå¤§æ¦‚ï¼‰æœ‰è¿™æ ·ä¸€ç§æƒ³æ³•ï¼š å¯¹äºæ¯ä¸€æ¬¡é€‰æ‹©ï¼Œéƒ½å–ä¸å†²çªçš„ã€æœ€æ—©ç»“æŸçš„æ´»åŠ¨ï¼Œæ„Ÿè§‰åº”è¯¥èƒ½å¤Ÿå¾—åˆ°æœ€ä¼˜è§£ã€‚ äº‹å®ä¸Šè¿™ä¸ªæƒ³æ³•æ˜¯å¯¹çš„ï¼Œå¯ä»¥ä½¿ç”¨[æ›¿æ¢æ³•](#replace)è¿›è¡Œè¯æ˜ã€‚ è¿™æ ·æ¯æ¬¡åšé€‰æ‹©çš„æ—¶å€™å°±åªå‰©ä¸‹äº†ä¸€ä¸ªå­é—®é¢˜ã€‚ é€’å½’å®ç°è´ªå¿ƒç®—æ³•å¯ä»¥è‡ªé¡¶å‘ä¸‹å®ç°ã€‚ è¿­ä»£å®ç° å…¶ä¸­Qæ˜¯ä¸€ä¸ªå•è°ƒé˜Ÿåˆ—ã€‚å¦‚æœç”¨æœ€å°å †å®ç°ï¼Œåˆ™è¯¥ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(nlgn)ã€‚ æ—¶é—´å¤æ‚åº¦å¦‚æœç›´æ¥ä½¿ç”¨dpï¼ŒçŠ¶æ€è½¬ç§»æ˜¯O(n)çš„ï¼Œå­é—®é¢˜æ€»æ•°ä¸ºO(n^2)ï¼Œå› æ­¤æ€»æ—¶é—´å¤æ‚åº¦ä¸ºO(n^3)ã€‚ è€Œå¦‚æœä½¿ç”¨è´ªå¿ƒç­–ç•¥ï¼Œå‹ç¼©äº†è§£ç©ºé—´ï¼Œé™åˆ¶äº†è§£çš„èŒƒå›´ï¼Œä»ä¼ªä»£ç å¯ä»¥çœ‹å‡ºæ¯ä¸ª$a_{i}$éƒ½è¢«æ£€æŸ¥ä¸”åªè¢«æ£€æŸ¥äº†ä¸€æ¬¡ï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦æ˜¯O(n)çš„ã€‚ å¦‚æœè¾“å…¥æ•°æ®æ˜¯æ— åºçš„é‚£ä¹ˆè¿˜éœ€è¦ä¸€ä¸ªO(nlgn)çš„æ’åºæ—¶é—´ï¼Œæ€»ä½“çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(nlgn)ã€‚ èµ«å¤«æ›¼ç¼–ç é—®é¢˜æè¿°è§£é‡Šèµ·æ¥æœ‰ç‚¹éº»çƒ¦ï¼Œæä¾›STFWå¿«æ·å…¥å£ ç™¾åº¦ç™¾ç§‘-å“ˆå¤«æ›¼ç¼–ç  wikipedia-Huffman coding ç®€å•æ¦‚æ‹¬ä¸€ä¸‹ï¼š ç”¨å˜é•¿ç¼–ç å‹ç¼©ç¼–ç é•¿åº¦ Huffmanæ ‘çš„å¶ç»“ç‚¹ä¸ç å­—çš„ç¼–ç ä¸€ä¸€å¯¹åº” å­—ç¬¦çš„äºŒè¿›åˆ¶ç å­—ç”¨ä»æ ¹ç»“ç‚¹åˆ°è¯¥å­—ç¬¦å¯¹åº”çš„å¶ç»“ç‚¹çš„ç®€å•è·¯å¾„è¡¨ç¤º ä»£ä»·çš„å®šä¹‰ï¼š ä¼ªä»£ç  æ­£ç¡®æ€§è¯æ˜è¿™ä¸€å—è®¾è®¡å¾ˆå¤šæ•°å­¦æ¨å¯¼ï¼Œéš¾åº¦æ¯”è¾ƒå¤§ï¼Œæ­¤å¤„æŒ‡æ¦‚æ‹¬å¤§è‡´æ€è·¯ï¼Œé…åˆç®—æ³•å¯¼è®ºåŸä¹¦é£Ÿç”¨é£å‘³æ›´ä½³ ä¸»è¦æ˜¯éœ€è¦è¯æ˜ä¸¤ä¸ªå¼•ç†ã€‚ å¼•ç†2æ—¨åœ¨è¯´æ˜åœ¨å•æ­¥é€‰æ‹©ä¸‹ï¼Œè´ªå¿ƒèƒ½å¾—åˆ°æ˜¯æœ€ä¼˜è§£ã€‚ç”¨çš„æ˜¯æ›¿æ¢æ³•ã€‚ä»å‡æƒ³å‡ºä¸€ä¸ªæŠ½è±¡çš„æœ€ä¼˜è§£Tï¼Œç»è¿‡æŸäº›å˜æ¢å¾—åˆ°æ ¹æ®è´ªå¿ƒé€‰æ‹©æ„é€ å‡ºçš„è§£Tâ€™â€™ï¼Œè¿ç”¨æ•°å­¦æ‰‹æ®µè¯æ˜è¿™ä¸¤ä¸ªè§£å…·æœ‰ç›¸ç­‰çš„ä»£ä»·ã€‚æ­¤å¤„é‡‡ç”¨çš„æ˜¯ç›¸å‡å¾—åˆ°å¤§äºç­‰äºå…³ç³»ï¼Œä¸æœ€ä¼˜è§£å¤©ç„¶å…·æœ‰çš„å°äºç­‰äºæ„é€ è§£ç›¸ç»“åˆï¼Œè¯æ˜ç­‰ä»·ã€‚ å¼•ç†3æ—¨åœ¨è¯æ˜è¯¥é—®é¢˜çš„æœ€ä¼˜å­ç»“æ„ã€‚é‡‡ç”¨äº†å–œé—»ä¹è§çš„çš„å‰ªåˆ‡-ç²˜è´´æ³•ï¼Œä¹Ÿä½¿ç”¨äº†ä¸€å®šçš„æ•°å­¦æ‰‹æ®µå¯¼å‡ºäº†çŸ›ç›¾ã€‚ å¼•ç†2+å¼•ç†3èƒ½è¯æ˜ä¸Šæ–‡çš„è´ªå¿ƒç®—æ³•å¯ä»¥ç”Ÿæˆä¸€ä¸ªæœ€ä¼˜å‰ç¼€ç ã€‚ è¯¾ç¨‹è¦æ±‚æš‚æ—¶åªéœ€è¦çœ‹å‰ä¸‰ç« ","categories":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/categories/Notes/"}],"tags":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/tags/Notes/"},{"name":"Problem Solving","slug":"Problem-Solving","permalink":"https://mengzelev.github.io/tags/Problem-Solving/"},{"name":"CLRS","slug":"CLRS","permalink":"https://mengzelev.github.io/tags/CLRS/"},{"name":"greedy algorithm","slug":"greedy-algorithm","permalink":"https://mengzelev.github.io/tags/greedy-algorithm/"}]},{"title":"é¢å‘OJçš„Javaå­¦ä¹ ","slug":"startjava","date":"2018-09-16T05:34:22.000Z","updated":"2018-09-17T15:49:24.661Z","comments":true,"path":"2018/09/16/startjava/","link":"","permalink":"https://mengzelev.github.io/2018/09/16/startjava/","excerpt":"","text":"å„è·¯ddlåŸå› æœ¬æ–‡ç›®å‰è¿˜å¤„äºæ··ä¹±çŠ¶æ€ï¼Œååˆ†ä¸¢äººï¼Œè°¨æ…é˜…è¯»æºä»£ç ä¸ºäº†é˜²æ­¢æŸ¥é‡ï¼Œåœ¨OJæˆªæ­¢åä¼šé™„ä¸Šï¼Œä¹Ÿååˆ†ä¸¢äºº å‡†å¤‡å·¥ä½œä¸‹è½½å®‰è£…IDEæœ¬UIè­¦å¯Ÿä½¿ç”¨çš„æ˜¯JetBrainsçš„IntelliJ IDEAï¼Œå¯ä»¥ç›´æ¥ä»å®˜ç½‘ä¸‹è½½ï¼Œç”¨å­¦ç”Ÿé‚®ç®±æ³¨å†Œå¯ä»¥å…è´¹è·å¾—Utilmateç‰ˆï¼Œä¸‹è½½åå®‰è£…å³å¯ã€‚å®‰è£…æ—¶ä¼šå®‰åˆ©ä¸€äº›æ’ä»¶ï¼Œæ ¹æ®ä¸ªäººéœ€è¦é€‰æ‹©å®‰è£…ã€‚ ä¸‹è½½åæ‰“å¼€IJï¼Œé€‰æ‹©æ–°å»ºä¸€ä¸ªå·¥ç¨‹ï¼Œè¿™æ—¶å€™ä¼šæé†’ä½ é€‰æ‹©JDKï¼Œåªéœ€è¦ç‚¹å‡»Download JDKç›´æ¥åœ¨å®˜ç½‘ä¸Šä¸‹è½½å³å¯ã€‚ï¼ˆè¿™ä¸€æ­¥å¿˜è®°æˆªå›¾äº†ï¼‰ ä¸‹è½½å¹¶å®‰è£…å®ŒJDKä¹‹åï¼Œå¯ä»¥å…ˆå¯¹ç¼–è¾‘å™¨è¿›è¡Œè®¾ç½®(File -&gt; Settings æˆ– Ctrl + Alt +S)ï¼Œé€‰æ‹©è‡ªå·±å–œæ¬¢çš„å­—ä½“å’Œé…è‰²é£æ ¼ã€‚æˆ‘ä½¿ç”¨çš„æ˜¯é»˜è®¤çš„Darculaé…è‰²å’ŒMonacoå­—ä½“ã€‚ å¤§è‡´æ•ˆæœå¦‚ä¸‹ï¼ˆæˆ‘jioå¾—éå¸¸å¥½çœ‹ï¼ˆè¯·æ— è§†xjbä¹±å†™çš„ç¬¬ä¸€ä¸ªjavaç¨‹åº åˆ›å»ºæ–°é¡¹ç›®ç”±äºæš‚æ—¶ç”¨äºåº”ä»˜ojï¼Œä»¥ä¸‹æ­¥éª¤éå¸¸ä¸ä¸¥è°¨ï¼Œä¸é€‚åˆå¼€å‘ç›¸å…³ï¼Œåªç¡®ä¿èƒ½æ­£å¸¸å®Œæˆojä½œä¸šï¼Œæ¬¢è¿éšæ—¶æŒ‡å‡ºä¸ä¸¥è°¨ä¹‹å¤„ ç‚¹å‡»File -&gt; New -&gt; Projectï¼Œæ–°å»ºä¸€ä¸ªé¡¹ç›®ï¼Œå…¶ä»–ä¸œè¥¿å¯ä»¥æš‚æ—¶ä¸ç”¨ç®¡ï¼Œåœ¨æ–°çš„é¡¹ç›®ä¸­æ‰¾åˆ°srcæ–‡ä»¶å¤¹ï¼Œå³é”®é€‰æ‹©New -&gt; Java classï¼Œæ³¨æ„å‘½åè§„èŒƒ ä¹‹åä¼šå¾—åˆ°ä¸€ä¸ªæœ‰æ¨¡æ¿çš„.javaä»£ç æ–‡ä»¶ï¼ˆçƒçƒæ— è§†ä¸€åˆ‡xjbå‘½åï¼‰ ç§»åŠ¨å…‰æ ‡å°±å¯ä»¥å¼€å§‹æ•²ä»£ç å•¦ï¼è£…äº†IdeaVimæ’ä»¶çš„ç«¥é‹åˆ«å¿˜äº†ç”¨vimçš„ç›¸å…³å¿«æ·é”®å•Š~æŸæ·åˆ—å‚»ç›´æ¥Ctrl-C+Ctrl-VåŠå¤©æ²¡æœ‰ååº” ç¼–è¯‘è¿è¡Œæ‹·è´äº†ä¸€ä¸‹pojä¸Ša + bé—®é¢˜çš„æºä»£ç ï¼Œä¹‹åå°±è¦æ¥å°è¯•ç¼–è¯‘è¿è¡Œäº†ã€‚IJå¹¶æ²¡æœ‰åƒdevä¸€æ ·çš„ä¸€é”®è¿è¡Œï¼Œä½†æ˜¯å¦‚æœåšojé¢˜çš„è¯è¿˜æ˜¯æ¯”è¾ƒæ–¹ä¾¿çš„ï¼Œç›´æ¥å³å‡»å·¦è¾¹é¡¹ç›®åˆ—è¡¨çš„è¯¥.javaæ–‡ä»¶é€‰æ‹©Run &#39;Main.main()&#39;(å¿«æ·é”®Ctrl + Shift +F10)å°±å¯ä»¥åœ¨å±å¹•ä¸‹æ–¹çš„è¿è¡Œçª—å£é‡Œå¾—åˆ°è¿è¡Œç»“æœå¹¶è¾“å…¥æ•°æ®è¿›è¡ŒéªŒè¯ã€‚ æŸæ·åˆ—å‚»å¯æ˜¯ç­‰äº†åŠå¤©çš„é»‘æ¡†æ¡†çš„ å¼€å§‹ç¼–ç¨‹åŸºæœ¬å·¥ä½œéƒ½åšå¥½äº†ä»¥åå¯ä»¥å¼€å§‹å­¦ä¹ ä¸€ç‚¹åŸºç¡€çš„è¯­æ³•åº”ä»˜ojäº†ï¼Œå¤§ä½¬ä»¬æ¨èäº†Thinking in Javaè¿™æœ¬ä¹¦ï¼ˆå¯ä»¥ä¸‹è½½åˆ°pdfï¼‰ï¼Œæ¯”è¾ƒé€‚åˆç³»ç»Ÿå­¦ä¹ Javaï¼Œä½†æ˜¯èŒæ·åˆ—å¤«çš„ddlè¿«åœ¨çœ‰ç«ï¼Œæ‰€ä»¥åªèƒ½é‡‡ç”¨ç®€æ˜“ä¸€ç‚¹çš„èœé¸Ÿæ•™ç¨‹ Javaçš„è¯­æ³•æ€»ä½“ä¸Cè¯­è¨€æ˜¯æ¯”è¾ƒç›¸ä¼¼çš„ï¼Œè€Œä¸”é»˜è®¤æœ¬æ•™ç¨‹è¯»è€…å·²æœ‰ä¸€å®šçš„C/C++ç¼–ç¨‹åŸºç¡€ï¼ŒèŒæ·åˆ—å¤«åœ¨å­¦çš„æ—¶å€™å¤§è‡´æŒ‰ç…§å’ŒCä¸€æ ·æ”¾å¿ƒä½¿ç”¨å’Œå’ŒCä¸ä¸€æ ·äº†ä¸¤å¤§ç±»è¿›è¡Œäº†æ•´ç†ï¼Œä»¥ä¾›å‚è€ƒ æ—¶é—´åŸå› æš‚æ—¶ä¸èƒ½è´´å‡ºæ¯”è¾ƒç®€æ´æ˜“æ‡‚çš„ç¤ºä¾‹ä»£ç ï¼Œå¯ä»¥å‚è€ƒä¸Šæ–‡çš„èœé¸Ÿæ•™ç¨‹ä¸­çš„ä»£ç ï¼Œæœ¬æ–‡æœ€åä¹Ÿä¼šè´´å‡ºæœ¬æ¬¡OJæ‰€æœ‰é¢˜çš„é¢˜è§£ä»£ç ä»¥ä¾›å‚è€ƒã€‚ å¤´æ–‡ä»¶å†™Cç¨‹åºçš„æ—¶å€™ï¼Œç¬¬ä¸€ä»¶äº‹è‚¯å®šæ˜¯#inlcude&lt;xxxx&gt;ï¼Œåœ¨Javaé‡Œä¹Ÿéœ€è¦å¤´æ–‡ä»¶ï¼Œä½†ç¨æœ‰åŒºåˆ«ã€‚ Javaä¸­çš„å¤´æ–‡ä»¶åˆ†ä¸ºpackageå’Œimportä¸¤ç±»ã€‚packageè¯­å¥ç”¨äºè¡¨ç¤ºä¸€ä¸ªç±»å®šä¹‰åœ¨æŸä¸ªåŒ…ä¸­ï¼ŒåŒ…ä¸»è¦ç”¨æ¥å¯¹ç±»å’Œæ¥å£è¿›è¡Œåˆ†ç±»ã€‚å½“å¼€å‘Javaç¨‹åºæ—¶ï¼Œå¯èƒ½ç¼–å†™æˆç™¾ä¸Šåƒçš„ç±»ï¼Œå› æ­¤å¾ˆæœ‰å¿…è¦å¯¹ç±»å’Œæ¥å£è¿›è¡Œåˆ†ç±»ã€‚è¿™ä¸ªæˆ‘ä»¬å†™ojæš‚æ—¶ç”¨ä¸åˆ°æˆ‘å°±å…ˆæ™¾è¿™å„¿äº†ã€‚ importè¯­å¥çš„ä½œç”¨ç±»ä¼¼äºCçš„inlcudeï¼Œç”¨æ¥æä¾›ä¸€ä¸ªåˆç†çš„è·¯å¾„ï¼Œä½¿ç¼–è¯‘å™¨å¯ä»¥æ‰¾åˆ°æŸä¸ªç±»ã€‚pojçš„a+bç¨‹åºæºç ä¸­æœ‰ import java.io.*; å°±æ˜¯ç”¨äºè®©å‘½ä»¤ç¼–è¯‘å™¨è½½å…¥java_installation/java/ioè·¯å¾„ä¸‹çš„æ‰€æœ‰ç±»ï¼Œä»åç§°å¯ä»¥çœ‹å‡ºè¿™äº›ç±»ä¸è¾“å…¥è¾“å‡ºæœ‰å…³ã€‚ç‰¹åˆ«åœ°ï¼ŒIJæä¾›è‡ªåŠ¨è¡¥å…¨importè¯­å¥çš„åŠŸèƒ½ï¼ŒèŒæ·åˆ—å¤«åœ¨æ‰‹åŠ¨èµ‹å€¼a+bæºç çš„æ—¶å€™IJè‡ªåŠ¨å°†POJä¸Šçš„importæ›¿æ¢ä¸ºäº† import java.util.Scanner; ä¸€æ ·å¯ä»¥æ­£å¸¸è¿è¡Œã€‚ å¤´æ–‡ä»¶å‘½åè¦éµå¾ªçš„è§„èŒƒï¼š å¦‚æœä¸€ä¸ªç±»å®šä¹‰åœ¨æŸä¸ªåŒ…ä¸­ï¼Œé‚£ä¹ˆpackageè¯­å¥åº”è¯¥åœ¨æºæ–‡ä»¶çš„é¦–è¡Œ å¦‚æœæºæ–‡ä»¶åŒ…å«importè¯­å¥ï¼Œé‚£ä¹ˆåº”è¯¥æ”¾åœ¨packageè¯­å¥å’Œç±»å®šä¹‰ä¹‹é—´ã€‚å¦‚æœæ²¡æœ‰packageè¯­å¥ï¼Œé‚£ä¹ˆimportè¯­å¥åº”è¯¥åœ¨æºæ–‡ä»¶ä¸­æœ€å‰é¢ importè¯­å¥å’Œpackageè¯­å¥å¯¹æºæ–‡ä»¶ä¸­å®šä¹‰çš„æ‰€æœ‰ç±»éƒ½æœ‰æ•ˆã€‚åœ¨åŒä¸€æºæ–‡ä»¶ä¸­ï¼Œä¸èƒ½ç»™ä¸åŒçš„ç±»ä¸åŒçš„åŒ…å£°æ˜ å„ç§å£°æ˜å†™Cçš„æ—¶å€™æ•²å®Œæ‰€æœ‰å¤´æ–‡ä»¶ï¼Œå·®ä¸å¤šå°±è¯¥int main()äº†ï¼Œï¼ˆå½“ç„¶è¿˜æœ‰å…¨å±€å˜é‡å’Œå‡½æ•°å£°æ˜ï¼‰ï¼ŒJavaä¹Ÿæœ‰ç±»ä¼¼çš„ä¸»æ–¹æ³•å…¥å£ï¼š public static void main(String []args) æ‰€æœ‰Javaç¨‹åºéƒ½æ˜¯ä»è¿™ä¸ªå…¥å£å¼€å§‹æ‰§è¡Œçš„ã€‚ Javaé‡Œä¹Ÿæœ‰å˜é‡çš„æ¦‚å¿µï¼Œä½†å£°æ˜ä¸æ˜¯ä»å˜é‡å¼€å§‹çš„ï¼Œè€Œæ˜¯ä»ç±»å¼€å§‹çš„ï¼Œå……åˆ†è´¯å½»äº†OOPçš„æ€æƒ³ã€‚ç±»å£°æ˜ç±»ä¼¼äºç”¨C++è¿›è¡ŒOOPç¼–ç¨‹ï¼Œæœ‰publicå’Œprivateä¹‹åˆ«ï¼Œè¿˜æœ‰å…¶ä»–ä¸€äº›ç‰¹æ®Šçš„ç±»ï¼Œå†™ojæš‚æ—¶ç”¨ä¸åˆ°ã€‚ç±»ä¸­å¯ä»¥å®šä¹‰å˜é‡å’Œæ–¹æ³•ã€‚ ç±»ä¸å¯¹è±¡ç±»çš„å£°æ˜éµå¾ªä»¥ä¸‹è§„èŒƒï¼š ä¸€ä¸ªæºæ–‡ä»¶ä¸­åªèƒ½æœ‰ä¸€ä¸ªpublicç±» ä¸€ä¸ªæºæ–‡ä»¶å¯ä»¥æœ‰å¤šä¸ªépublicç±» æºæ–‡ä»¶çš„åç§°åº”è¯¥å’Œpublicç±»çš„ç±»åä¿æŒä¸€è‡´ã€‚ä¾‹å¦‚ï¼šæºæ–‡ä»¶ä¸­publicç±»çš„ç±»åæ˜¯Employeeï¼Œé‚£ä¹ˆæºæ–‡ä»¶åº”è¯¥å‘½åä¸ºEmployee.java åŒC++ä¸€æ ·ï¼Œç±»ä¹Ÿå¯ä»¥æ·»åŠ ä¸åŒçš„è®¿é—®ä¿®é¥°è¯ public:è¡¨ç¤ºå…¬å¼€çš„ç±»å’Œå˜é‡ï¼Œæ—¢æ‰€æœ‰çš„ç±»éƒ½å¯ä»¥å¼•å…¥ä½¿ç”¨çš„ protectedï¼šè¡¨ç¤ºå—ä¿æŠ¤çš„ç±»ï¼Œåªæœ‰å­å­™ç±»å’Œæœ¬ç±»å¯ä»¥å¼•å…¥ä½¿ç”¨ privateï¼šè¡¨ç¤ºç§äººçš„ï¼Œåªæœ‰åœ¨æœ¬ç±»ä¸­å¯ä»¥å¼•å…¥ä½¿ç”¨ å•¥éƒ½ä¸åŠ ï¼ˆé»˜è®¤ï¼‰ï¼šè¡¨ç¤ºåŒåŒ…ä¸­å’Œæœ¬ç±»ä¸­å¯ä»¥å¼•å…¥ä½¿ç”¨ã€‚ å®šä¹‰äº†ç±»ä¹‹åå¯ä»¥ä½¿ç”¨newå…³é”®å­—åˆ›å»ºå±äºè¿™ä¸ªç±»çš„å¯¹è±¡ã€‚å¯¹è±¡æ˜¯ç±»çš„å®ä¾‹åŒ–ï¼Œå¤§è‡´éœ€è¦ä»¥ä¸‹ä¸‰æ­¥ï¼š å£°æ˜ï¼šå£°æ˜ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…æ‹¬å¯¹è±¡åç§°å’Œå¯¹è±¡ç±»å‹ã€‚ å®ä¾‹åŒ–ï¼šä½¿ç”¨å…³é”®å­—newæ¥åˆ›å»ºä¸€ä¸ªå¯¹è±¡ã€‚ åˆå§‹åŒ–ï¼šä½¿ç”¨newåˆ›å»ºå¯¹è±¡æ—¶ï¼Œä¼šè°ƒç”¨æ„é€ æ–¹æ³•åˆå§‹åŒ–å¯¹è±¡ã€‚ å˜é‡Javaä¸­çš„å˜é‡æœ‰ä¸‰ç§ï¼š å±€éƒ¨å˜é‡ï¼š å®šä¹‰åœ¨æ–¹æ³•ã€æ„é€ æ–¹æ³•æˆ–è€…è¯­å¥å—ä¹‹ä¸­ï¼Œå˜é‡å£°æ˜å’Œåˆå§‹åŒ–éƒ½æ˜¯åœ¨æ–¹æ³•ä¸­ï¼Œæ–¹æ³•ç»“æŸåï¼Œå˜é‡å°±ä¼šè‡ªåŠ¨é”€æ¯ã€‚ä¾‹å¦‚å¾ªç¯å˜é‡i æˆå‘˜å˜é‡ï¼š å®šä¹‰åœ¨ç±»ä¸­ã€æ–¹æ³•ä½“ä¹‹å¤–ï¼Œè¡¨ç¤ºç±»çš„æŸç§å±æ€§ï¼Œåœ¨åˆ›å»ºå¯¹è±¡çš„æ—¶å€™å®ä¾‹åŒ–ã€‚æˆå‘˜å˜é‡å¯ä»¥è¢«ç±»ä¸­æ–¹æ³•ã€æ„é€ æ–¹æ³•å’Œç‰¹å®šç±»çš„è¯­å¥å—è®¿é—®ï¼Œä¾‹å¦‚äººçš„èº«é«˜ã€ä½“é‡æ•°æ® ç±»å˜é‡ï¼šå£°æ˜åœ¨ç±»ä¸­ã€æ–¹æ³•ä½“ä¹‹å¤–ï¼Œä½†å¿…é¡»å£°æ˜ä¸ºstaticç±»å‹ï¼Œä¸ºå±äºè¯¥ç±»çš„æ‰€æœ‰å¯¹è±¡æ‰€å…±æœ‰ï¼Œä¸ä¼šå› ä¸ºå¯¹è±¡çš„ä¸ªä½“å·®å¼‚è€Œæ”¹å˜ã€‚ä¾‹å¦‚Studentç±»ä¸­å¯ä»¥å®šä¹‰ä¸€ä¸ªç±»å˜é‡næ¥ç»Ÿè®¡å­¦ç”Ÿçš„æ€»äººæ•°ï¼Œä¸ä¼šå› ä¸ºæ˜¯ä¸åŒçš„å­¦ç”Ÿè€Œä¸åŒã€‚ æ•°æ®ç±»å‹Javaçš„å†…ç½®æ•°æ®ç±»å‹åŸºæœ¬åŒCï¼Œchar,short,int,long,float,double,booleanéƒ½å¯ä»¥æ”¾å¿ƒä½¿ç”¨ï¼Œé»˜è®¤å€¼éƒ½æ˜¯ç›¸åº”ç±»å‹ä¸‹çš„0ã€‚ç›¸æ¯”äºCå¤šå‡ºæ¥ä¸€ä¸ªbyteï¼Œè¡¨ç¤º8ä½ã€æœ‰ç¬¦å·çš„ï¼Œä»¥äºŒè¿›åˆ¶è¡¥ç è¡¨ç¤ºçš„æ•´æ•°ã€‚ Javaè¿˜æœ‰ä¸€ç±»å¼•ç”¨æ•°æ®ç±»å‹å˜é‡ï¼Œç±»ä¼¼äºCçš„æŒ‡é’ˆï¼Œå¼•ç”¨ç±»å‹æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼ŒæŒ‡å‘å¯¹è±¡çš„å˜é‡æ˜¯å¼•ç”¨å˜é‡ã€‚è¿™äº›å˜é‡åœ¨å£°æ˜æ—¶è¢«æŒ‡å®šä¸ºä¸€ä¸ªç‰¹å®šçš„ç±»å‹ï¼Œæ¯”å¦‚ Employeeã€Puppy ç­‰ã€‚å˜é‡ä¸€æ—¦å£°æ˜åï¼Œç±»å‹å°±ä¸èƒ½è¢«æ”¹å˜äº†ã€‚å¯¹è±¡ã€æ•°ç»„éƒ½æ˜¯å¼•ç”¨æ•°æ®ç±»å‹ï¼Œæ‰€æœ‰å¼•ç”¨ç±»å‹çš„é»˜è®¤å€¼éƒ½æ˜¯nullã€‚ä¸€ä¸ªå¼•ç”¨å˜é‡å¯ä»¥ç”¨æ¥å¼•ç”¨ä»»ä½•ä¸ä¹‹å…¼å®¹çš„ç±»å‹ã€‚e.g.Site site = new Site(&quot;Runoob&quot;) æ–¹æ³•æ„é€ æ–¹æ³•ï¼šæ¯ä¸ªç±»éƒ½éœ€è¦ä¸€ä¸ªæ„é€ æ–¹æ³•ã€‚å¦‚æœæ²¡æœ‰æ˜¾ç¤ºå®šä¹‰ï¼Œç¼–è¯‘å™¨ä¼šæä¾›ä¸€ä¸ªé»˜è®¤æ„é€ æ–¹æ³•ï¼ˆè¿™ç‚¹åŒCï¼‰ã€‚åœ¨åˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œè‡³å°‘è¦è°ƒç”¨ä¸€ä¸ªæ„é€ æ–¹æ³•ã€‚æ„é€ æ–¹æ³•çš„åç§°å¿…é¡»ä¸ç±»åŒåï¼Œä¸€ä¸ªç±»å¯ä»¥æœ‰å¤šä¸ªæ„é€ æ–¹æ³• è¾“å…¥å£°æ˜å®Œä¹±ä¸ƒå…«ç³Ÿä¸€å †ä¸œè¥¿ä¹‹åï¼Œä¸€èˆ¬ä¼šä»è¾“å…¥å…¥æ‰‹ã€‚Javaè¾“å…¥éœ€è¦è°ƒç”¨Scannerè¿™ä¸ªç±»ï¼ŒåŒ…å«åœ¨â€œå¤´æ–‡ä»¶â€import java.util.Scannerä¸­ã€‚ å…ˆè¦åˆ›å»ºScannerå¯¹è±¡ Scanner cin = new Scanner(System.in) è¯»å…¥æ•´æ•°ï¼Œå…¶ä¸­nextInt()æ˜¯æŒ‡è¾“å…¥ä¸­çš„ä¸‹ä¸€ä¸ªæ•´æ•°ï¼Œç±»ä¼¼çš„ä¹Ÿå¯ä»¥æœ‰ç©ºç™½çš„next() int a = cin.nextInt(); Javaå‘½åè§„èŒƒé¦–å…ˆï¼Œåˆ‡è®°ï¼šJavaæ˜¯å¤§å°å†™æ•æ„Ÿçš„ ç±»åï¼šå¯¹äºæ‰€æœ‰çš„ç±»æ¥è¯´ï¼Œç±»åçš„é¦–å­—æ¯åº”è¯¥å¤§å†™ã€‚å¦‚æœç±»åç”±è‹¥å¹²å•è¯ç»„æˆï¼Œé‚£ä¹ˆæ¯ä¸ªå•è¯çš„é¦–å­—æ¯åº”è¯¥å¤§å†™ï¼Œä¾‹å¦‚ MyFirstJavaClass æ–¹æ³•åï¼šæ‰€æœ‰çš„æ–¹æ³•åéƒ½åº”è¯¥ä»¥å°å†™å­—æ¯å¼€å¤´ã€‚å¦‚æœæ–¹æ³•åå«æœ‰è‹¥å¹²å•è¯ï¼Œåˆ™åé¢çš„æ¯ä¸ªå•è¯é¦–å­—æ¯å¤§å†™ï¼Œä¾‹å¦‚myFirstJavaMethod æºæ–‡ä»¶åï¼šæºæ–‡ä»¶åå¿…é¡»å’Œç±»åç›¸åŒã€‚å½“ä¿å­˜æ–‡ä»¶çš„æ—¶å€™ï¼Œä½ åº”è¯¥ä½¿ç”¨ç±»åä½œä¸ºæ–‡ä»¶åä¿å­˜ï¼ˆåˆ‡è®°Javaæ˜¯å¤§å°å†™æ•æ„Ÿçš„ï¼‰ï¼Œæ–‡ä»¶åçš„åç¼€ä¸º.javaï¼ˆå¦‚æœæ–‡ä»¶åå’Œç±»åä¸ç›¸åŒåˆ™ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ï¼‰ Javaæ‰€æœ‰çš„ç»„æˆéƒ¨åˆ†éƒ½éœ€è¦åå­—ï¼Œç±»åã€å˜é‡åä»¥åŠæ–¹æ³•åéƒ½è¢«ç§°ä¸ºæ ‡è¯†ç¬¦ã€‚æ ‡è¯†ç¬¦çš„å‘½åè§„èŒƒä¸C/C++åŸºæœ¬ç›¸åŒï¼ˆä¸åŒä¹‹å¤„å·²æ ‡å‡ºï¼‰ï¼š æ‰€æœ‰çš„æ ‡è¯†ç¬¦éƒ½åº”è¯¥ä»¥å­—æ¯ï¼ˆA-Zæˆ–è€…a-zï¼‰,ç¾å…ƒç¬¦ï¼ˆ$ï¼‰ã€æˆ–è€…ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰å¼€å§‹ é¦–å­—ç¬¦ä¹‹åå¯ä»¥æ˜¯å­—æ¯ï¼ˆA-Zæˆ–è€…a-zï¼‰,ç¾å…ƒç¬¦ï¼ˆ$ï¼‰ã€ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰æˆ–æ•°å­—çš„ä»»ä½•å­—ç¬¦ç»„åˆ å…³é”®å­—ä¸èƒ½ç”¨ä½œæ ‡è¯†ç¬¦ æ ‡è¯†ç¬¦æ˜¯å¤§å°å†™æ•æ„Ÿçš„ åˆæ³•æ ‡è¯†ç¬¦ä¸¾ä¾‹ï¼šageã€$salaryã€_valueã€__1_value éæ³•æ ‡è¯†ç¬¦ä¸¾ä¾‹ï¼š123abcã€-salary ç›¸å…³æ•´ç†å’ŒCä¸€æ ·æ”¾å¿ƒä½¿ç”¨ æ³¨é‡Šè¯­æ³• æšä¸¾è¯­æ³•enum å˜é‡ç±»å‹ï¼Œå¦‚int,string,voidç­‰ å’ŒCä¸ä¸€æ ·äº† æ²¡æœ‰æŒ‡é’ˆå¤§å¿«äººå¿ƒå“ˆå“ˆå“ˆå“ˆ","categories":[],"tags":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/tags/Notes/"},{"name":"Java","slug":"Java","permalink":"https://mengzelev.github.io/tags/Java/"},{"name":"programming","slug":"programming","permalink":"https://mengzelev.github.io/tags/programming/"}]},{"title":"ä½¿ç”¨tmuxå˜èº«ç‚«é…·ç¨‹åºçŒ¿(x","slug":"tmux","date":"2018-09-12T01:59:29.000Z","updated":"2018-09-15T09:46:34.113Z","comments":true,"path":"2018/09/12/tmux/","link":"","permalink":"https://mengzelev.github.io/2018/09/12/tmux/","excerpt":"","text":"ä»¥å‰çœ‹ç”µå½±é‡Œé¢çš„ç¨‹åºçŒ¿éƒ½æ˜¯å±å¹•ä¸ŠèŠ±èŠ±ç»¿ç»¿é”®ç›˜å™¼é‡Œå•ªå•¦æ ¹æœ¬ä¸ç”¨é¼ æ ‡çš„è§‰å¾—å¤ªç‚«é…·äº†ï¼Œå­¦äº†csä»¥åä»¥ä¸ºå¸Œæœ›ç ´ç­äº†ï¼Œç›´åˆ°è¢«paè®²ä¹‰å®‰åˆ©äº†tmuxâ€¦â€¦ æœ¬æ–‡åªæ˜¯ä¸€ä¸ªå¤‡å¿˜ç¬”è®°ï¼Œæ–¹ä¾¿æ—¥åæŸ¥é˜… æ›´æ–°ä¸­æœªå®Œå¾…ç»­ æŒ‰é”®å‰ç¼€é»˜è®¤æ˜¯Ctrl-bï¼Œå¤§éƒ¨åˆ†è¯æ•™ç¨‹ä¼šä¿®æ”¹æˆç¦»å¾—æ¯”è¾ƒè¿‘çš„Ctrl-a ä¿®æ”¹æ–¹æ³•ï¼šæ‰“å¼€tmuxé…ç½®æ–‡ä»¶ $ vim ~/.tmux.conf æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š unbind C-b set -g prefix C-a åˆ†å‰²çª—å£å› ä¸ºæ˜¯é’ˆå¯¹paæ‰å­¦çš„tmuxï¼Œæ‰€ä»¥è¦ç”¨çš„æ“ä½œéƒ½éå¸¸åŸºæœ¬ ä»terminalè¿›å…¥tmuxï¼Œç›´æ¥åœ¨å‘½ä»¤è¡Œé‡Œè¾“å…¥tmuxå³å¯ $ tmux ç„¶åè¿›è¡Œåˆ†å± æ°´å¹³åˆ†å±: prefix + % å‚ç›´åˆ†å±ï¼šprefix + &quot; æˆ‘ä¸€èˆ¬éƒ½ä½¿ç”¨å·¦1+å³2çš„å½¢å¼ã€æš‚æ—¶å¿˜äº†æˆªå›¾ä¸‹æ¬¡è´´ã€‘ å…³é—­è¯¥çª—å£ï¼šprefix + &amp; ä¼šè¯¢é—®æ˜¯å¦ç¡®å®šå…³é—­ï¼ŒæŒ‰yå³å¯ åˆ‡æ¢çª—å£ï¼šprefix +æ–¹å‘é”® ä½¿ç”¨tmuxæ“ä½œæ—¶ï¼Œå…ˆæŒ‰ä½Ctrlå†æŒ‰å‰ç¼€é”®ï¼Œç„¶åå¯ä»¥ç¨å¾®åœä¸€ä¸‹å†æŒ‰ä¸‹ä¸€ä¸ªåŠŸèƒ½é”® ä»¥ä¸Šæ“ä½œç›®å‰åšpaå·²ç»å¤Ÿç”¨äº†ï¼Œä»¥åé‡åˆ°æ–°çš„é—®é¢˜å†å¦å¯»è§£å†³æ–¹æ³•å¹¶æ›´æ–°è¯¥æ–‡ ä»–å±±ä¹‹ç‰å¿™ç€èµ¶ä½œä¸šæ¥ä¸åŠå†™å®Œæ‰€ä»¥å…ˆè´´ç¯‡åˆ«äººæ•´ç†çš„ tmuxå¤šçª—å£æ“ä½œ","categories":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/categories/Notes/"}],"tags":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/tags/Notes/"},{"name":"linux","slug":"linux","permalink":"https://mengzelev.github.io/tags/linux/"},{"name":"tmux","slug":"tmux","permalink":"https://mengzelev.github.io/tags/tmux/"}]},{"title":"vimåˆæ¢","slug":"vim","date":"2018-09-06T15:06:23.000Z","updated":"2018-10-01T14:59:18.004Z","comments":true,"path":"2018/09/06/vim/","link":"","permalink":"https://mengzelev.github.io/2018/09/06/vim/","excerpt":"","text":"ç½‘ä¸Šç±»ä¼¼çš„æ•™ç¨‹å·²ç»æœ‰å¾ˆå¤šäº†ï¼Œåªæ˜¯åœ¨ç©è€vimtutorè¿‡ç¨‹ä¸­çš„ä¸€ç‚¹ç¬”è®°ã€‚ åŒæ—¶å¼€markdownPadå’Œvimè¾“å…¥çš„åæœå°±æ˜¯åœ¨ç²¾ç¥åˆ†è£‚çš„è¾¹ç¼˜è¯•æ¢.jpg ç„¶è€Œå…³é”®è¿˜æ˜¯å¤šç”¨ï¼Œè¿™äº›ç ´æ•´ç†å¹¶æ²¡æœ‰åµç”¨ã€‚ï¼ˆä¸çŸ¥é“æˆ‘èƒ½åšæŒç”¨vimåˆ°ä»€ä¹ˆæ—¶å€™ åœ¨å­¦çš„è¿‡ç¨‹ä¸­ä¸æ–­å‡ºç°çš„æç¤ºï¼š å…‰æ ‡ç§»åŠ¨æ–¹å‘é”®ï¼šjâ†“ kâ†“ hâ† lâ†’ ï¼ˆä¸¤è¾¹å·¦å³ï¼Œä¸­é—´ä¸‹ä¸Šï¼‰ æ‰€ä»¥hè¿™ç¯‡æ–‡lç« é‡Œjçªç„¶å‡ºç°ä¸€äº›hjklä¹Ÿä¸å¥‡æ€ªäº†å‘¢ å…‰æ ‡å‘å‰ç§»åŠ¨nä¸ªå•è¯:1w,2w,3w... å…‰æ ‡å‘å‰ç§»åŠ¨è‡³ç¬¬nä¸ªå•è¯çš„æœ«å°¾ï¼š1e,2e,3e... ç§»åŠ¨è‡³è¡Œé¦–ï¼š0 ç§»åŠ¨è‡³æ–‡æœ«ï¼šG ç§»åŠ¨è‡³æ–‡ç« å¼€å§‹ï¼šgg Ctrl-Gé…åˆGä½¿ç”¨é£å‘³æ›´ä½³ï¼ˆè·³è½¬åˆ°æŸä¸€è¡Œï¼‰ é€‰ä¸­ï¼šv+å…‰æ ‡ç§»åŠ¨ æ¨¡å¼åˆ‡æ¢Normal mode: ESC è¿›å…¥è¾“å…¥æ¨¡å¼:iï¼ˆè¦æ“ä½œæ—¶è®°å¾—æŒ‰escé€€å‡ºï¼‰ ä¿å­˜é€€å‡ºä¸ä¿å­˜å¹¶é€€å‡ºï¼š:q! ä¿å­˜å¹¶é€€å‡ºï¼š:wq å¦å­˜ä¸ºï¼š:w [filename] åˆ é™¤åˆ é™¤å­—ç¬¦ï¼šx åˆ é™¤å•è¯ï¼šdw(å…‰æ ‡éœ€ç§»åŠ¨åˆ°å•è¯çš„å¼€å¤´ åˆ é™¤è‡³è¡Œæœ«ï¼šd$ åˆ é™¤è‡³è¯æœ«:dw ç”¨countè¿›è¡Œåˆ é™¤ï¼šd2w,d1e... åˆ é™¤æ•´è¡Œï¼šddï¼Œ2dd,... ä»æ­¤ddå…·æœ‰äº†å…¨æ–°çš„æ„æ€ ç”¨ddåˆ é™¤çš„è¡Œè¢«æ”¾å…¥äº†å¯„å­˜å™¨ä¸­ï¼Œpå¯åœ¨ä¸Šæ–¹æ¢å¤ æ’¤é”€æ’¤é”€æœ€åä¸€æ­¥æ“ä½œ:u æ’¤é”€æ•´è¡Œæ‰€æœ‰çš„æ“ä½œï¼šU æ¢å¤æ’¤é”€ï¼šCtrl+R ä¿®æ”¹æ”¹å†™å•ä¸ªå­—ç¬¦ï¼ˆrewriteï¼‰ï¼šr+(the right character) æ”¹å†™å¤šä¸ªå­—ç¬¦ï¼šR+(right characters) æ”¹å†™è‡³è¯å°¾ï¼šceï¼ˆè®°å¾—escé€€å‡ºè¾“å…¥æ¨¡å¼ï¼‰ æ”¹å†™è‡³è¡Œå°¾ï¼šc$ æ•´è¯æ›¿æ¢ï¼š :s/old/new //æ›¿æ¢ç¬¬ä¸€ä¸ª :s/old/new/g //åœ¨å…‰æ ‡æ‰€åœ¨å•è¡Œå†…å°†&quot;old&quot;å…¨éƒ¨æ›¿æ¢ä¸º&quot;new&quot; \\#,#old/new/g //åœ¨\\#æ ‡è®°å‡ºçš„è¡Œæ•°èŒƒå›´å†…è¿›è¡Œæ›¿æ¢ :%s/old/new/g //åœ¨å…¨æ–‡èŒƒå›´å†…è¿›è¡Œæ›¿æ¢ :%s/old/new/gc //åœ¨å…¨æ–‡èŒƒå›´å†…æŸ¥æ‰¾å¹¶è¯¢é—®æ˜¯å¦éœ€è¦æ›¿æ¢ æ’å…¥æ’å…¥æŸä¸ªæ–‡ä»¶çš„å†…å®¹ï¼š:r+[filename] æ’å…¥æŸä¸ªå‘½ä»¤è¡Œå‡½æ•°çš„è¿”å›å€¼:e.g.:r !dir åœ¨å…‰æ ‡ä¸Šæ–¹æ–°å»ºä¸€è¡Œï¼šO åœ¨å…‰æ ‡ä¸‹æ–¹æ–°å»ºä¸€è¡Œï¼šo ä»è¯æœ«å¼€å§‹è¾“å…¥ï¼ša ä»è¡Œæœ«å¼€å§‹è¾“å…¥ï¼šAï¼ˆAppendï¼‰ å¤åˆ¶ï¼šy(yank) ywå¯ä»¥å¤åˆ¶ä¸€æ•´ä¸ªå•è¯ ç²˜è´´ï¼šp(paste) æŸ¥æ‰¾æŸ¥æ‰¾å†…å®¹ï¼š/+ï¼ˆæŸ¥æ‰¾å†…å®¹ï¼‰ æ­£å‘æŸ¥æ‰¾ï¼šn åå‘æŸ¥æ‰¾ï¼šN ä»æ–‡æœ«å¼€å§‹æŸ¥æ‰¾ï¼š?+(æŸ¥æ‰¾å†…å®¹) è¿”å›æŸ¥æ‰¾å‰çš„åœ°æ–¹ï¼šctrl-o æ˜¯å­—æ¯Oä¸æ˜¯æ•°å­—0 æ‹¬å·åŒ¹é…ï¼š% å¿½ç•¥å¤§å°å†™ï¼š:set ic(ignore case) å…³é—­å¿½ç•¥å¤§å°å†™::set noic æŸ¥æ‰¾å†…å®¹é«˜äº®ï¼š:set hls/hlsearch å…³é—­é«˜äº®ï¼š:nohlsearch éƒ¨åˆ†æŸ¥æ‰¾ï¼š:set is/incsearch (incsearch) åˆ†å±çœ‹åˆ°ä¸€ç¯‡ä¸é”™çš„æ•™ç¨‹ï¼Œå°±ä¸å¤è¿°äº† vimåˆ†å±åŠŸèƒ½æ€»ç»“ æš‚æ—¶æ— æ³•åˆ†ç»„æŒ‡ä»¤è¾“å…¥å‘½ä»¤è¡ŒæŒ‡ä»¤::!+(å‘½ä»¤è¡ŒæŒ‡ä»¤) å¸®åŠ©ï¼šF1 or help æŒ‡ä»¤è¡¥å…¨ï¼šCtrl-Dé…åˆTab","categories":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/categories/Notes/"}],"tags":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/tags/Notes/"},{"name":"vim","slug":"vim","permalink":"https://mengzelev.github.io/tags/vim/"}]},{"title":"ç®—æ³•å¯¼è®ºå­¦ä¹ ç¬”è®°-åŠ¨æ€è§„åˆ’","slug":"clrs-15dp","date":"2018-08-31T08:37:42.000Z","updated":"2018-09-05T02:12:40.869Z","comments":true,"path":"2018/08/31/clrs-15dp/","link":"","permalink":"https://mengzelev.github.io/2018/08/31/clrs-15dp/","excerpt":"","text":"åŸºæœ¬åŸç†ä»¥ä¸‹æ˜¯å¤§æ®µç®—æ³•å¯¼è®ºåŸå¥æ¬è¿ã€‚ åªæœ‰å¸¦ä¸‹åˆ’çº¿çš„å¥å­æ‰æ˜¯è‡ªå·±æ€»ç»“çš„ã€‚ æœ€ä¼˜åŒ–é—®é¢˜ åŠ¨æ€è§„åˆ’æ–¹æ³•é€šå¸¸ç”¨æ¥æ±‚è§£æœ€ä¼˜åŒ–é—®é¢˜ã€‚è¿™ç±»é—®é¢˜å¯ä»¥æœ‰å¾ˆå¤šå¯è¡Œè§£ï¼Œæ¯ä¸ªè§£éƒ½æœ‰ä¸€ä¸ªå€¼ï¼Œæˆ‘ä»¬å¸Œæœ›å¯»æ‰¾å…·æœ‰æœ€ä¼˜å€¼ï¼ˆæœ€å°å€¼æˆ–æœ€å¤§å€¼ï¼‰çš„è§£ã€‚æˆ‘ä»¬æˆè¿™æ ·çš„è§£ä¸ºé—®é¢˜çš„ä¸€ä¸ªæœ€ä¼˜è§£ï¼Œè€Œä¸æ˜¯æœ€ä¼˜è§£ã€‚ ç®—æ³•è®¾è®¡æ­¥éª¤ åˆ»ç”»ä¸€ä¸ªæœ€ä¼˜è§£çš„ç»“æ„ç‰¹å¾ é€’å½’åœ°å®šä¹‰æœ€ä¼˜è§£çš„å€¼ è®¡ç®—æœ€ä¼˜è§£çš„å€¼ï¼Œé€šå¸¸é‡‡ç”¨è‡ªåº•å‘ä¸Šçš„æ–¹æ³• åˆ©ç”¨è®¡ç®—å‡ºçš„ä¿¡æ¯æ„é€ ä¸€ä¸ªæœ€ä¼˜è§£ï¼ˆæœ‰æ—¶ä¸éœ€è¦ï¼‰ åŠ¨æ€è§„åˆ’æ±‚è§£æœ€ä¼˜åŒ–é—®é¢˜åº”è¯¥å…·å¤‡çš„ä¸¤ä¸ªè¦ç´ ï¼šæœ€ä¼˜å­ç»“æ„å’Œå­é—®é¢˜é‡å ã€‚ ç®€å•æ¥è¯´å°±æ˜¯ï¼Œèƒ½æ ¹æ®åŸé—®é¢˜å¾—åˆ°ä¸€ä¸ªé€’æ¨å¼ï¼ˆæœ€ä¼˜å­ç»“æ„ï¼‰ï¼Œä½†æ˜¯åœ¨è¿™ä¸ªé€’æ¨å¼çš„è®¡ç®—è¿‡ç¨‹ä¸­ä¼šå‡ºç°å¤§é‡é‡å¤è®¡ç®—çš„æ—¶å€™ï¼ˆå­é—®é¢˜é‡å ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨åŠ¨æ€è§„åˆ’ã€‚ æœ€ä¼˜å­ç»“æ„æ€§è´¨ é—®é¢˜çš„æœ€ä¼˜è§£ç”±ç›¸å…³å­é—®é¢˜çš„æœ€ä¼˜è§£ç»„åˆè€Œæˆï¼Œè€Œè¿™äº›å­é—®é¢˜å¯ä»¥ç‹¬ç«‹æ±‚è§£ã€‚ åœ¨å‘è§‰æœ€ä¼˜å­ç»“æ„æ€§è´¨çš„è¿‡ç¨‹ä¸­ï¼Œå®é™…ä¸Šéµå¾ªäº†å¦‚ä¸‹çš„é€šç”¨æ¨¡å¼ï¼š1.è¯æ˜é—®é¢˜æœ€ä¼˜è§£çš„ç¬¬ä¸€ä¸ªç»„æˆéƒ¨åˆ†æ˜¯åšå‡ºä¸€ä¸ªé€‰æ‹©ï¼›2.å¯¹äºä¸€ä¸ªç»™å®šé—®é¢˜ï¼Œåœ¨å…¶å¯èƒ½çš„ç¬¬ä¸€æ­¥é€‰æ‹©ä¸­ï¼Œä½ å‡å®šå·²ç»çŸ¥é“å“ªç§é€‰æ‹©æ‰ä¼šå¾—åˆ°æœ€ä¼˜è§£ã€‚3.ç»™å®šå¯è·å¾—çš„æœ€ä¼˜è§£çš„é€‰æ‹©åï¼Œä½ ç¡®å®šè¿™æ¬¡é€‰æ‹©ä¼šäº§ç”Ÿå“ªäº›å­é—®é¢˜ï¼Œä»¥åŠå¦‚ä½•æœ€å¥½åœ°åˆ»ç”»å­é—®é¢˜ç©ºé—´ï¼›4.åˆ©ç”¨â€œå‰ªåˆ‡-ç²˜è´´â€æŠ€æœ¯è¯æ˜ï¼šä½œä¸ºæ„æˆåŸé—®é¢˜æœ€ä¼˜è§£çš„ç»„æˆéƒ¨åˆ†ï¼Œæ¯ä¸ªå­é—®é¢˜çš„è§£å°±æ˜¯å®ƒæœ¬èº«çš„æœ€ä¼˜è§£ï¼ˆåè¯æ³•ï¼‰ï¼šå‡è®¾å­é—®é¢˜å­˜åœ¨æ›´ä¼˜è§£ï¼Œå°†å­ç»“æ„ä»æ•´ä½“ä¸­åˆ é™¤æ›¿æ¢ä¸ºæ›´ä¼˜è§£ï¼Œä¸æœ€ä¼˜å‡è®¾çŸ›ç›¾ã€‚ ä¿æŒå­é—®é¢˜ç©ºé—´å°½å¯èƒ½ç®€å•ï¼Œåªåœ¨å¿…è¦æ—¶æ‰æ‰©å±•å®ƒã€‚ï¼ˆe.g.çŸ©é˜µé“¾ä¹˜æ³•é—®é¢˜å¿…é¡»å…è®¸å­é—®é¢˜åœ¨â€œä¸¤ç«¯â€éƒ½å¯å˜ï¼‰ å¯ä»¥ç”¨å­é—®é¢˜çš„æ€»æ•°å’Œæ¯ä¸ªé—®é¢˜éœ€è¦è€ƒå¯Ÿå¤šå°‘ç§é€‰æ‹©è¿™ä¸¤ä¸ªå› ç´ çš„ä¹˜ç§¯æ¥ç²—ç•¥è‚¥è¥¿åŠ¨æ€è§„åˆ’ç®—æ³•çš„è¿è¡Œæ—¶é—´ã€‚ å…·æœ‰æœ€ä¼˜å­ç»“æ„çš„é—®é¢˜å­é—®é¢˜ä¹‹é—´æ˜¯æ— å…³ï¼ŒåŒä¸€ä¸ªåŸé—®é¢˜çš„ä¸€ä¸ªå­é—®é¢˜çš„è§£ä¸å½±å“å¦ä¸€ä¸ªå­é—®é¢˜çš„è§£ã€‚e.g.æ— æƒæœ€çŸ­è·¯å¾„vsæ— æƒæœ€é•¿è·¯å¾„ å­é—®é¢˜é‡å å¦‚æœé€’å½’æ–¹æ³•åå¤æ±‚è§£ç›¸åŒçš„å­é—®é¢˜ï¼Œæˆ‘ä»¬å°±ç§°æœ€ä¼˜åŒ–é—®é¢˜å…·æœ‰é‡å å­é—®é¢˜æ€§è´¨ã€‚ä¸ä¹‹ç›¸å¯¹çš„ï¼Œåˆ©ç”¨åˆ†æ²»æ–¹æ³•æ±‚è§£çš„é—®é¢˜é€šå¸¸åœ¨é€’å½’çš„æ¯ä¸€æ­¥éƒ½ç”Ÿæˆå…¨æ–°çš„å­é—®é¢˜ã€‚ é‡æ„æœ€ä¼˜è§£ï¼šç”¨å¦ä¸€ä¸ªæ•°ç»„æ¥è®°å½•æœ€ä¼˜è§£ å®ç° è‡ªé¡¶å‘ä¸‹çš„å¤‡å¿˜ç®—æ³• è‡ªåº•å‘ä¸Šçš„åŠ¨æ€è§„åˆ’ç®—æ³•ä¸€èˆ¬è‡ªåº•å‘ä¸Šçš„åŠ¨æ€è§„åˆ’ç®—æ³•ä¼šæ¯”è¾ƒå¿«ï¼ˆæ²¡æœ‰é€’å½’è°ƒç”¨å¼€é”€ï¼Œè¡¨çš„ç»´æŠ¤å¼€é”€ä¹Ÿæ›´å°ï¼‰ å¦‚æœå­é—®é¢˜ç©ºé—´ä¸­çš„æŸäº›å­é—®é¢˜å®Œå…¨ä¸å¿…æ±‚è§£ï¼Œå¤‡å¿˜æ–¹æ³•å°±ä¼šä½“ç°å‡ºä¼˜åŠ¿ é’¢æ¡åˆ‡å‰²é—®é¢˜é—®é¢˜æè¿°æŸå…¬å¸å‡ºå”®ä¸€æ®µé•¿åº¦ä¸ºiè‹±å¯¸çš„é’¢æ¡çš„ä»·æ ¼ä¸º$p_i(i=1,2,â€¦,$å•ä½ä¸ºç¾å…ƒï¼‰ã€‚ç»™å®šä¸€æ®µé•¿åº¦ä¸ºnè‹±å¯¸çš„é’¢æ¡å’Œä¸€ä¸ªä»·æ ¼è¡¨$p_i(i=1,2,â€¦,n)$ï¼Œæ±‚åˆ‡å‰²é’¢æ¡æ–¹æ¡ˆï¼Œä½¿å¾—é”€å”®æ”¶ç›Š$r_n$æœ€å¤§ã€‚ åˆ†æé•¿åº¦ä¸ºnè‹±å¯¸çš„é’¢æ¡å…±æœ‰$2^{n-1}$ä¸­ä¸åŒçš„åˆ‡å‰²æ–¹æ¡ˆã€‚ å¦‚æœä¸€ä¸ªæœ€ä¼˜è§£å°†é’¢æ¡åˆ‡å‰²ä¸ºkæ®µ$(1\\le k\\le n$)ï¼Œé‚£ä¹ˆæœ€ä¼˜åˆ‡å‰²æ–¹æ¡ˆ n=i_1+i_2+...+i_kå°†é’¢æ¡åˆ‡å‰²ä¸ºé•¿åº¦åˆ†åˆ«ä¸º$i_1,i_2,â€¦,i_k$çš„å°æ®µï¼Œå¾—åˆ°æœ€å¤§æ”¶ç›Š r_n=p_{i_1}+p_{i_2}+...+p_{i_k}å¯¹äº$r_n\\ge 1$ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨æ›´çŸ­çš„é’¢æ¡çš„æœ€ä¼˜åˆ‡å‰²æ”¶ç›Šæ¥æè¿°ï¼š r_n=max(p_n,r_1+r_{n-1},r_2+r_{n-2},...,r_{n-1}+r_1)æ›´ç®€å•çš„ï¼Œæˆ‘ä»¬å°†é’¢æ¡ä»å·¦è¾¹åˆ‡å‰²ä¸‹é•¿åº¦ä¸º$i$çš„ä¸€æ®µï¼Œåªå¯¹å³è¾¹å‰©ä¸‹çš„é•¿åº¦ä¸º$n-i$çš„ä¸€æ®µç»§ç»­è¿›è¡Œåˆ‡å‰²ï¼ˆé€’å½’æ±‚è§£ï¼‰ï¼Œå¯¹å·¦è¾¹çš„ä¸€æ®µåˆ™ä¸å†è¿›è¡Œåˆ‡å‰²ã€‚å¯ä»¥å¾—åˆ°r_n=max\\limits_{1\\le i\\le n}(p_i+r_{n-i})è¿™æ ·åŸé—®é¢˜åªåŒ…å«ä¸€ä¸ªç›¸å…³å­é—®é¢˜çš„è§£è€Œä¸æ˜¯ä¸¤ä¸ªã€‚ å¤æ‚åº¦æ—¶é—´å¤æ‚åº¦ï¼š$\\Theta(n^2)$ å­é—®é¢˜å›¾ çŸ©é˜µé“¾ä¹˜æ³•æ‡’å¾—å†™äº†ã€‚ æœ€ä¼˜å­ç»“æ„ å¯¹å­é—®é¢˜çš„åˆ†æå‘ç°å¿…é¡»æ˜¯å­é—®é¢˜å¿…é¡»æ˜¯ä¸¤å¤´å¯åŠ¨çš„ï¼ˆi.e.ä¸€ç»´æ•°ç»„æ˜¯ä¸å¤Ÿçš„ï¼‰ ä¼ªä»£ç ä¸ºä»€ä¹ˆåŸä¹¦æ˜¯åˆ†é¡µçš„æˆ‘è¿˜å¾—æ‰‹æ•²ä¸€éä¸èƒ½å¿ MATRIX-CHAIN-ORDER(p) //è‡ªåº•å‘ä¸Šçš„åŠ¨æ€è§„åˆ’å®ç° n=p.length-1 let m[1..n,1..n] and s[1..n-1,2..n] be new tables for i=1 to n m[i,i]=0 for l=2 to n for i=1 to n-l+1 j=i+l-1 m[i,j]=\\infty for k=i to j-1 q=m[i,k]+m[k+1,j]+p[i-1]*p[k]*p[j] if q&lt;m[i,j] m[i,j]=q s[i,j]=k return m and s æœ€é•¿å…¬å…±å­åºåˆ—ï¼ˆLCSï¼‰é—®é¢˜å®šä¹‰å…ˆç•¥ æœ€ä¼˜å­ç»“æ„ ä¼ªä»£ç  æœ€ä¼˜äºŒå‰æœç´¢æ ‘å’ŒçŸ©é˜µé“¾ä¹˜æ³•ç±»ä¼¼ ä¹Ÿæ‡’å¾—æŠ„äº† ä¸€ä»½æ¯«æ— è¥å…»çš„å­¦ä¹ ç¬”è®°å°±å®Œæˆäº†","categories":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/categories/Notes/"}],"tags":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/tags/Notes/"},{"name":"Problem Solving","slug":"Problem-Solving","permalink":"https://mengzelev.github.io/tags/Problem-Solving/"},{"name":"CLRS","slug":"CLRS","permalink":"https://mengzelev.github.io/tags/CLRS/"},{"name":"dynamic programming","slug":"dynamic-programming","permalink":"https://mengzelev.github.io/tags/dynamic-programming/"}]},{"title":"æ±‡ç¼–è¯­è¨€å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰","slug":"asm2","date":"2018-08-30T08:37:42.000Z","updated":"2018-08-30T08:42:36.625Z","comments":true,"path":"2018/08/30/asm2/","link":"","permalink":"https://mengzelev.github.io/2018/08/30/asm2/","excerpt":"","text":"æ•°æ®ä¼ é€æ•°æ®ä¼ é€æŒ‡ä»¤æ ¼å¼ï¼š mov S(æºæ“ä½œæ•°), D(ç›®æ ‡æ“ä½œæ•°) mov &nbsp;&nbsp; ä¸€èˆ¬ä¼ é€æŒ‡ä»¤ movs &nbsp;&nbsp; ç¬¦å·æ‰©å±•ä¼ é€ movz &nbsp;&nbsp; é›¶æ‰©å±•ä¼ é€ push &nbsp;&nbsp; å‹æ ˆï¼Œç­‰ä»·äºsub+mov pop &nbsp;&nbsp; é€€æ ˆï¼Œç­‰ä»·äºmov+add æŒ‰æºæ“ä½œæ•°çš„é•¿åº¦åŠ ä¸Šb,w,låç¼€ï¼Œåˆ†åˆ«è¡¨ç¤º1ã€2ã€4å­—èŠ‚ã€‚(movz,movséœ€è¦åŒåç¼€) è§lealä¸movlçš„åŒºåˆ« æŒ‡ä»¤åç¼€ã€æ“ä½œæ•°é•¿åº¦ã€ç›®æ ‡å¯„å­˜å™¨å®½åº¦å¿…é¡»è¦ä¸€è‡´ï¼ï¼ æ“ä½œæ•°ç±»å‹ ç«‹å³æ•° Imm &nbsp;&nbsp; æ•´å‹å¸¸é‡ï¼ŒåŠ $å‰ç¼€ï¼Œe.g.$233, $0x66FFCC å¯„å­˜å™¨ Reg &nbsp;&nbsp; åŠ %å‰ç¼€ï¼Œe.g.%eax,%ebx,%esp å­˜å‚¨å™¨ Mem &nbsp;&nbsp; å¯»å€æ“ä½œ ä¸èƒ½åœ¨ä¸€æ¡æŒ‡ä»¤é‡Œå®ç°å­˜å‚¨å™¨åˆ°å­˜å‚¨å™¨çš„ä¼ é€ï¼ï¼è¦å®ç°å­˜å‚¨å™¨é—´çš„ä¼ é€å¿…é¡»ç»è¿‡å¯„å­˜å™¨ã€‚ å¯„å­˜å™¨ æ‰€æœ‰å¯„å­˜å™¨éƒ½å¯ä»¥å•ç‹¬è¯»å–ä½16ä½ åªæœ‰%eax,%ecx,%edx,%ebxå¯ä»¥è¯»å–ä½8ä½ï¼ˆxå­—è¾ˆï¼‰ åœ°å€è¿ç®—æŒ‡ä»¤æ ¼å¼: leal S,D Sæ˜¯å¤æ‚å¯»å€åœ°å€å½¢å¼çš„è¡¨è¾¾å¼ï¼Œå°†è¡¨è¾¾å¼è¡¨ç¤ºçš„å€¼å†™å…¥Dï¼Œå…¶ä¸­Dä¸€å®šæ˜¯å¯„å­˜å™¨ ç”¨é€”ï¼š ç›´æ¥è®¡ç®—åœ°å€çš„å€¼ e.g.p=&amp;x æ‰§è¡Œç®€å•çš„ç®—æ•°è¿ç®— lealä¸movæ“ä½œçš„åŒºåˆ«ï¼š lealä¸ä¼šå¯¹å¯»å€è¡¨è¾¾å¼è§£å¼•ç”¨ e.g. //R[%edx]=x movl 7(%edx,%edx,4),%eax //R[%eax]=M[5x+7] leal 7(%edx,%edx,4),%eax //R[%eax]=5x+7 ç®—æœ¯å’Œé€»è¾‘æ“ä½œçœ‹è¡¨ â€»ä½¿ç”¨æ—¶ä¹Ÿéœ€è¦æ ¹æ®æ“ä½œæ•°é•¿åº¦æ·»åŠ åç¼€ ç‰¹æ®Šæ“ä½œimull &nbsp;&nbsp; å¸¦ç¬¦å·ä¹˜æ³•æŒ‡ä»¤ï¼Œåªæœ‰ä¸€ä¸ªæ“ä½œæ•°æ—¶ï¼Œå¦ä¸€ä¸ªä¹˜æ•°éšå«åœ¨%eaxä¸­ï¼Œä¹˜ç§¯çš„é«˜32ä½æ”¾å…¥%edx,ä½32ä½å­˜å…¥%eax idivl &nbsp;&nbsp; å¸¦ç¬¦å·é™¤æ³•æŒ‡ä»¤ï¼Œåªæœ‰ä¸€ä¸ªæ“ä½œæ•°æ—¶ï¼Œ%edx-%eaxä¸ºè¢«é™¤æ•°ï¼Œæ“ä½œæ•°ä¸ºé™¤æ•°ï¼Œå•†å­˜å…¥%eax,ä½™æ•°å­˜å…¥%edx è¿˜æœ‰æ— ç¬¦å·ç‰ˆæœ¬mullå’Œdivl cltd ç¬¦å·æ‰©å±•æŒ‡ä»¤ï¼Œå°†%eaxä¸­çš„æ•°ç¬¦å·æ‰©å±•è‡³%edxæˆä¸º64ä½,ç»å¸¸ç”¨äºidivlçš„å‡†å¤‡å·¥ä½œ å…³äºimul æ“ä½œæ•°ä¸ªæ•° æ ¼å¼ æ“ä½œ ç»“æœå­˜æ”¾ 1 imul src src*R[%eax]ï¼Œå®Œå…¨ä¹˜æ³•ï¼ˆè‡ªå·±å–çš„åå­—ï¼‰ %edx-%eax 2 imul src dst src*dst,é«˜ä½æˆªæ–­ï¼Œåªä¿ç•™ä½ä½ dst 3 imul reg src imm R[reg]=src*immï¼Œåªä¿ç•™ä½ä½ reg å…·ä½“è¿˜æ˜¯çœ‹è€å¸ˆpptæˆªå›¾å§ï¼ˆä¾µæƒåˆ ï¼‰ æ¡ä»¶æ§åˆ¶æŒ‡ä»¤æ¯”è¾ƒä¸æµ‹è¯• cmpå’ŒtestæŒ‡ä»¤å®é™…ä¸Šæ˜¯ç”¨å‡æ³•å’ŒæŒ‰ä½ä¸æ“ä½œå®ç°çš„ã€‚ æ³¨æ„ä¸¤ä¸ªæ“ä½œæ•°çš„å…ˆåé¡ºåºä¸å®é™…æ˜¯ç›¸åçš„ æ¡ä»¶ç½®ä½æŒ‡ä»¤setXsetXæŒ‡ä»¤æ ¹æ®ç›¸åº”çš„æ¡ä»¶æ ‡å¿—ä½å°†æŸä¸€ä½ç½®0æˆ–ç½®1ã€‚ æœ‰ç¬¦å·æ•°çš„å¤§å°å…³ç³»ç”¨greater/lessè¡¨ç¤ºï¼Œæ— ç¬¦å·æ•°çš„ç”¨above/belowè¡¨ç¤ºã€‚ æ¡ä»¶è·³è½¬æŒ‡ä»¤jmpXåŸºæœ¬åŒsetX é—´æ¥è·³è½¬ï¼šè·³è½¬çš„ç›®æ ‡æ˜¯ä»å¯„å­˜å™¨æˆ–å­˜å‚¨å™¨ä¸­è¯»å–çš„ï¼Œe.g.jmp *%eaxè¡¨ç¤ºè·³è½¬è‡³R[%eax]å­˜å‚¨çš„åœ°å€ä½ç½® è·³è½¬åœ°å€åˆ†ä¸ºç»å¯¹åœ°å€å’Œç›¸å¯¹åœ°å€(PC-relative addressing)ã€‚ ç»å¯¹åœ°å€å³4ä¸ªå­—èŠ‚ç›´æ¥æŒ‡å®šçš„ç›®æ ‡åœ°å€ã€‚ PC-relative addressingç¨‹åºè®¡æ•°å™¨çš„å€¼æ˜¯è·³è½¬æŒ‡ä»¤åçš„é‚£æ¡æŒ‡ä»¤çš„åœ°å€ï¼Œè€Œéè·³è½¬æŒ‡ä»¤æœ¬èº«çš„åœ°å€ å®é™…è·³è½¬åˆ°çš„åœ°å€=ä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€+å³è¾¹çš„æ“ä½œæ•°ï¼ˆå°ç«¯è¡¥ç è¡¨ç¤ºï¼‰ e.g. 804828f: 74 05 je XXXXXXX 8048291: e8 1e 00 00 00 call 80482b4 XXXXXXX=0x8048291+0x05=0x8048296 æ¡ä»¶ä¼ é€æŒ‡ä»¤cmovXæ»¡è¶³æŸä¸ªæ¡ä»¶æ—¶æ‰§è¡Œmovæ“ä½œ â€»å¿…é¡»ä¸cmpæ“ä½œè¿ç”¨ï¼Œæ¯”è¾ƒçš„ä¸æ˜¯cmovæŒ‡ä»¤çš„ä¸¤ä¸ªæ“ä½œæ•°è€Œæ˜¯cmpçš„ä¸¤ä¸ªæ“ä½œæ•° æ¡ä»¶åˆ†æ”¯è¯­å¥çš„ç¼–è¯‘if-elseè¯­å¥é€šå¸¸æŒ‰gotoæ–¹å¼æ‰§è¡Œ ä¸€èˆ¬ç¿»è¯‘æ€è·¯ä¸º: if (test-expr) then-statement else else-statement ä¼šè¢«ç¿»è¯‘ä¸º if(!test-expr) goto false then-statement goto done false:else-statement done: å¯ä»¥å‚è€ƒä¸‹å›¾ä¸­ç¤ºä¾‹ï¼š å¾ªç¯æ§åˆ¶è¯­å¥do-whileå¾ªç¯ä¸€èˆ¬å¾ªç¯è¯­å¥éƒ½æœ€ç»ˆç¿»è¯‘æˆdo-whileçš„å½¢å¼ do body-statement while(test-expr) ä¼šè¢«ç¿»è¯‘ä¸º loop: body-statement if(test-expr) goto loop; whileå¾ªç¯while(test-expr) body-statement ä¼šè¢«ç¿»è¯‘ä¸º if(!test-expr) goto done; loop: body-statement if(test-expr) goto loop; done: forå¾ªç¯for(init-expr; test-expr; update-expr) body-statement ä¼šè¢«ç¿»è¯‘ä¸º init-expr; if(!test-expr) goto done; loop: body-statement update-expr if(test-expr) goto loop; done: switchè¯­å¥è·³è·ƒè¡¨è·³è·ƒè¡¨æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸ªä¸‹æ ‡iå¯¹åº”ä¸€ä¸ªä»£ç æ®µçš„åœ°å€ å¥½å¤„ï¼šæ‰§è¡Œä¸€ä¸ªswitchè¯­å¥çš„æ—¶é—´å’Œcaseçš„æ•°é‡æ— å…³è·³è·ƒè¡¨ä¸€èˆ¬è¢«å­˜æ”¾åœ¨å†…å­˜çš„æŸä¸ªä½ç½®ï¼Œå¯ä»¥è°ƒç”¨gdbæŸ¥çœ‹ ä¸€å¤§æ³¢æˆªå›¾é¢„è­¦ ä½œä¸šäºŒçš„æ•™è®­ 1.å‡ ä¸ªæŒ‡ä»¤çš„åç§°å¯¹åº”åŠŸèƒ½è¦èƒŒç†Ÿ 2.ç¡®å®šæ•°æ®ç±»å‹ï¼šç¡®å®šé•¿åº¦+æœ‰æ— ç¬¦å· 3.åˆ«å¿˜äº†æŒ‡é’ˆä¹Ÿæ˜¯ä¸€ç§æ•°æ®ç±»å‹ 4.jmpæŒ‡ä»¤çš„ç¬¬äºŒä¸ªæ“ä½œæ•°æ˜¯å°ç«¯è¡¥ç è¡¨ç¤º 5.æ¨¡æ‹Ÿæ±‡ç¼–æ§åˆ¶æµå°±æ˜¯è¦æŠŠä»£ç æ‹†åˆ†æˆç®€å•è¯­å¥ï¼ˆæ³¨æ„è¿ç®—ä¼˜å…ˆçº§ï¼‰ 6.åˆ†æ¸…andlå’Œaddl 7.è¡¥å……Cä»£ç çš„æ—¶å€™å°±ä¸è¦å†å†™8xè¿™æ ·æ„ä¹‰ä¸æ˜çš„ä¸œè¥¿äº†ï¼Œæ˜¯8*xå•Šè€å…„","categories":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/categories/Notes/"}],"tags":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/tags/Notes/"},{"name":"Assembly Language","slug":"Assembly-Language","permalink":"https://mengzelev.github.io/tags/Assembly-Language/"}]},{"title":"æ±‡ç¼–è¯­è¨€å¤ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰","slug":"asm-notes","date":"2018-08-29T05:11:42.000Z","updated":"2018-08-30T03:32:00.252Z","comments":true,"path":"2018/08/29/asm-notes/","link":"","permalink":"https://mengzelev.github.io/2018/08/29/asm-notes/","excerpt":"","text":"å‰è¨€æœ¬æ–‡ä¸ºå­¦æ ¡è¯¾ç¨‹é¢å‘è€ƒè¯•å¤ä¹ ç¬”è®°ï¼Œå‚è€ƒå†…å®¹ä¸ºè€å¸ˆçš„è¯¾å ‚è®²ä¹‰&amp;æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿï¼Œä¾æ®è¿™ä¸¤è€…åšäº†ä¸€äº›ä¸ªäººçš„æ•´ç†ä¾¿äºå¤ä¹ ã€‚ç„¶è€Œæµªäº†ä¸€ä¸ªå‡æœŸåœ¨é€€è¯¾çš„è¾¹ç¼˜è¯•æ¢ ä¿¡æ¯çš„è¡¨ç¤ºæ•°å€¼çš„è¡¨ç¤º åŸç ï¼šè¿™ä¸ªå¾ˆç›´è§‚çš„ åç ï¼šè¿™ä¸ªå‡ ä¹ä¸ç”¨çš„ è¡¥ç ï¼š$Dâ€™=R^n-D$ / æŒ‰ä½å–ååŠ 1ï¼› ç§»ç ï¼šè§æµ®ç‚¹æ•° è¡¥ç  ç›¸å½“äºå–æ¨¡æ“ä½œ ç€é‡åŒºåˆ†åŸºæ•°çš„å€¼(R)å’Œè¡¥ç ä½è¡¨ç¤ºçš„å®é™…çš„å€¼(D) Rä¸Dçš„ç›¸å¯¹å¤§å°ä¸€è‡´ $R=D+D_{w-1}\\cdot 2^w$ Cè¯­è¨€ä¸­çš„æ•´æ•° æ— ç¬¦å·æ•°ï¼šåœ¨æ•°ååŠ Uæˆ–u åŒæ—¶æœ‰æ— ç¬¦å·æ•°å’Œå¸¦ç¬¦å·æ•°ï¼Œç¼–è¯‘å™¨å°†å¸¦ç¬¦å·æ•°å¼ºåˆ¶è½¬æ¢ä¸ºæ— ç¬¦å·æ•° intçš„æœ€å¤§æ­£å€¼ä¸º2147483647ï¼Œæœ€å¤§è´Ÿå€¼ä¸º-2147483648 æ¯”è¾ƒæ—¶è¦ç‰¹åˆ«æ³¨æ„æ˜¯æŒ‰ä»€ä¹ˆè§„åˆ™è¿›è¡Œçš„ æ•°æ®çš„å­˜æ”¾ å°ç«¯ï¼šæœ€ä½æœ‰æ•ˆå­—èŠ‚å­˜æ”¾åœ¨æœ€å°åœ°å€ å¤§ç«¯ï¼šæœ€ä½æœ‰æ•ˆå­—èŠ‚å­˜æ”¾åœ¨æœ€å¤§åœ°å€ æµ®ç‚¹æ•°ç¼–ç è¡¨ç¤ºåˆ†3ä¸ªå­—æ®µ ç¬¦å·s &nbsp; 0æ­£1è´Ÿ é˜¶ç E &nbsp; kä½é˜¶ç å­—æ®µexp å°¾æ•°M &nbsp; nä½å°æ•°å­—æ®µfrac &nbsp; è¡¨ç¤ºçš„æ˜¯a/2^n float &nbsp; k=8,n=23 double &nbsp; k=11,n=52 ä¸‰ç§è¡¨ç¤ºæƒ…å†µ 1.è§„æ ¼åŒ– &nbsp;&nbsp;é˜¶ç éƒ¨åˆ†æ—¢ä¸å…¨0ä¹Ÿä¸å…¨1 é‡‡ç”¨åç½®å½¢å¼ï¼šE=e-Bias å…¶ä¸­ï¼ŒEä¸ºé˜¶ç å®é™…çš„å€¼ï¼Œeä¸ºä½æ¨¡å¼ä¸‹çš„æ— ç¬¦å·æ•°ï¼Œåç½®Bias= $2^{k-1}-1$ float:127, double:1023 æŒ‡æ•°èŒƒå›´ï¼š float: -126~+127; double -1022~1023 å°¾æ•° M=f+1 &nbsp; å…¶ä¸­ 0&lt;=f&lt;1; 1&lt;=M&lt;2 éè§„æ ¼åŒ– &nbsp;&nbsp;é˜¶ç å…¨0 é˜¶ç E=1-Bias å°¾æ•°M=f å­˜åœ¨æ„ä¹‰ï¼šæä¾›äº†0çš„è¡¨ç¤ºæ–¹æ³•ï¼Œé€æ¸æº¢å‡º &nbsp; ï¼ˆå¦åˆ™[0,$2^{-n})èŒƒå›´å†…çš„æ•°éƒ½æ— æ³•è¡¨ç¤ºï¼‰ ç‰¹æ®Šå€¼ &nbsp;&nbsp;é˜¶ç å…¨1 å°¾æ•°å…¨0ï¼šæ­£è´Ÿæ— ç©·å¤§ å°¾æ•°éå…¨0ï¼š NaN æµ®ç‚¹æ•°åŠ å‡è¿ç®—æ­¥éª¤ï¼šå¯¹é˜¶â†’åŠ å‡â†’è§„æ ¼åŒ–ï¼ˆâ†’èˆå…¥ï¼‰ å¯¹é˜¶ï¼šå°é˜¶å‘å¤§é˜¶çœ‹é½ï¼Œå°é˜¶å°¾æ•°å³ç§»ï¼ˆå¸¦ä¸Šéšå«çš„1ï¼‰ æ•´æ•°è¿ç®—ä½è¿ç®—æ²¡ä»€ä¹ˆå¥½è¯´çš„ã€‚ ç§»ä½è¿ç®— å·¦ç§»x&lt;&lt;k ä¸¢å¼ƒæœ€é«˜kä½ï¼Œåœ¨å³ç«¯è¡¥kä¸ª0 å³ç§»x&gt;&gt;k ä¸¢å¼ƒæœ€ä½kä¸ºï¼Œåœ¨å³ç«¯è¡¥kä¸ª0/ç¬¦å·ä½ ç§»ä½è¿ç®—æ˜¯å‘ä¸‹å–æ•´ æ•´æ•°åŠ å‡æ³•å‘ç”Ÿåœ¨nä½å¸¦æ ‡å¿—åŠ æ³•å™¨ä¸­ æ¡ä»¶æ ‡å¿—ä½è®¡ç®—t=a+b eflag ä¸­æ–‡åç§° æœ‰æ•ˆæ¡ä»¶ OF æº¢å‡ºæ ‡å¿— a,båŒå·ä½†tä¸a,bå¼‚å· SF ç¬¦å·æ ‡å¿— t&lt;0 ZF é›¶æ ‡å¿— t==0 CF è¿›ä½æ ‡å¿— (unsigned)t&lt;(unsigned)a æ¯”è¾ƒå¤§å°ç›¸å½“äºåšå‡æ³• æ— ç¬¦å·æ•°ï¼š CF==0 $\\Leftrightarrow$ a&gt;b æœ‰ç¬¦å·æ•°ï¼š OF==SF $\\Leftrightarrow$ a&gt;b æ•´æ•°ä¹˜æ³•ä¹˜æ•°ä¸­æœ‰å¸¸æ•°æ—¶ï¼šé‡‡ç”¨ç§»ä½(å·¦ç§»)+åŠ å‡æ³•ç›¸ç»“åˆçš„å½¢å¼ æ•´æ•°é™¤æ³•é»˜è®¤æœ0æ–¹å‘èˆå…¥ï¼šï¼Œå³æ­£æ•°å•†å–æ¯”è‡ªèº«å°çš„æœ€æ¥è¿‘æ•´æ•°ï¼Œè´Ÿæ•°å•†å–æ¯”è‡ªèº«å¤§çš„æœ€æ¥è¿‘æ•´æ•° ç”¨ç§»ä½ä»£æ›¿é™¤æ³•æ—¶éœ€è¦è´Ÿæ•°éœ€è¦åŠ ä¸Šä¸€ä¸ªåç§»é‡ é™¤æ•°ä¸º2çš„å¹‚æ¬¡æ—¶ï¼Œé‡‡ç”¨å³ç§»è¿ç®—ï¼Œå¾—åˆ°æœ0æ–¹å‘èˆå…¥çš„ç»“æœ æ— ç¬¦å·æ•°ã€æœ‰ç¬¦å·æ­£æ•´æ•°ï¼š ç§»å‡ºçš„åœ°ä½ç›´æ¥ä¸¢å¼ƒ æœ‰ç¬¦å·è´Ÿæ•´æ•°ï¼š ï¼šåŠ åç§»é‡ (2^k-1) ï¼Œç„¶åå†å³ç§»kä½ï¼Œä½ä½æˆªæ–­ ä½œä¸šä¸€çš„æ•™è®­1.~æŒ‰ä½å–å å’Œ ï¼å…¨éƒ¨å–åè¦åŒºåˆ†æ¸…æ¥š 2.éæŒ‰ä½è¿ç®—æ“ä½œç¬¦é0çš„éƒ½è§†ä¸ºtrue 3.æµ®ç‚¹æ•°çš„è½¬åŒ–è¦å¥½å¥½çœ‹ä¸€ä¸‹ï¼ŒæŠŠè½¬åŒ–å…¬å¼å†™å¥½ 4.ç§»ä½æ˜¯å‘ä¸‹å–æ•´","categories":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/categories/Notes/"}],"tags":[{"name":"Notes","slug":"Notes","permalink":"https://mengzelev.github.io/tags/Notes/"},{"name":"Assembly Language","slug":"Assembly-Language","permalink":"https://mengzelev.github.io/tags/Assembly-Language/"}]},{"title":"èƒ¡è¨€ä¹±è¯­çš„å¤§ä¸€æ€»ç»“","slug":"freshman","date":"2018-08-18T13:27:02.000Z","updated":"2018-08-18T15:46:17.255Z","comments":true,"path":"2018/08/18/freshman/","link":"","permalink":"https://mengzelev.github.io/2018/08/18/freshman/","excerpt":"","text":"&emsp;&emsp;ç”Ÿæ—¥å…¼ä¸ƒå¤•çªåœ¨å®¶é‡Œæ— èŠäºæ˜¯å¼€äº†è¿™æ ·ä¸€ç¯‡æ–‡ç« å†™äº†æ•´æ•´ä¸¤å¤©ï¼Œéƒ½æ˜¯äº›ç¢ç¢å¿µã€‚æœ¬æ¥å¹¶æ²¡æœ‰å†™è¿™ç§ä¸œè¥¿çš„ä¹ æƒ¯çš„(:Ğ·ã€âˆ )ä½†æ˜¯æ—¢ç„¶å¼€äº†ä¸ªäººblogæ€»è¦å†™ç‚¹ä»€ä¹ˆçš„äºæ˜¯å°±å†™å§ï¼è¯•å›¾æ©ç›–å†™ä¸å‡ºæ•™ç¨‹çš„äº‹å®å°†æ¥è¿‡å¥½å‡ å¹´æ¥çœ‹å¯èƒ½ä¼šå¾ˆæœ‰å›å¿†çš„æ„Ÿè§‰ã€‚ å­¦ä¹ ç¯‡åˆšè¿›å¤§å­¦çš„æ—¶å€™ï¼Œå†›è®­æœŸé—´é—²å¾—è›‹ç–¼å»è€ƒäº†è®¡æ‹”å±…ç„¶è¿˜è¢«å½•å–äº†ï¼Œtxpä»–è€äººå®¶çœ¼å…‰çœŸçš„æ²¡é—®é¢˜å—ï¼Œäºæ˜¯å°±å¼€å§‹äº†è´¼èˆ¹ä¹‹æ—…ã€‚å¤§ä¸€ä¸Šç¬¬ä¸€ä¸ªå›½åº†é•¿å‡å°±åªèƒ½çªåœ¨å®¶é‡Œå†™ä½œä¸šå†™äº†å¥½ä¹…å ªç§°å¿ƒç†é˜´å½±ï¼Œå¤§ä¸€ä¸Šè¢«é—®æ±‚è¿™é—¨ç¥å¥‡çš„è¯¾ç»™å“å°¿äº†ï¼ŒåŠ¨ä¸åŠ¨å°±ä¸ºäº†èµ¶ä½œä¸šä¿®ä»™åˆ°ä¸¤ç‚¹ã€‚å…¶å®è¿˜æ˜¯æœ‰åœ¨ç–¯ç‹‚è¡¥å°æ’çƒçš„ åˆ°äº†å¤§ä¸€ä¸‹è§‰å¾—å¤§ä¸€ä¸Šè¿˜æ˜¯å¾ˆç©ºé—²çš„ï¼Œèµ·ç ä¸ç”¨æ­é¢åŒ…æ¿ï¼Œä¹Ÿä¸ç”¨æŠ„å¤§ç‰©ä½œä¸šã€‚å¤§äºŒä¸Šå¯èƒ½ä¼šè§‰å¾—å¤§ä¸€ä¸‹å¾ˆè½»æ¾å§ï¼Œç¬‘ç€æ´»ä¸‹å».jpg å¤§ä¸€ä¸Šè¯¾è¡¨ å¤§ä¸€ä¸‹è¯¾è¡¨ éšä¾¿è¯´è¯´å‡ é—¨è¯¾ç»™æˆ‘çš„æ„Ÿå—ã€‚ å¾®ç§¯åˆ†æ—©æœ‰è€³é—»ï¼Œå­¦èµ·æ¥æ²¡æœ‰è§‰å¾—å¾ˆéš¾ï¼Œå¯èƒ½ä¹Ÿæ˜¯æ‰˜äº†qlzçš„ç¦ï¼Œè¿™æ ·æœ‰ä¸»è§æœ‰åŸåˆ™çš„è€å¸ˆæˆ‘è¶…çº§èµèµçš„ï¼Œä¸Šè¯¾è¿˜ä¼šè®²æ•…äº‹ï¼Œæœ€é‡è¦çš„æ˜¯ä»–ç»™åˆ†é«˜å•Šï¼ æœ¬æ¥å’Œå®³æ€•æ•°å­¦çš„æˆ‘æ¸æ¸ä¹Ÿèƒ½æ„Ÿå—åˆ°æ•°å­¦çš„ç¾äº†å§ï¼Œå¤§æ¦‚ã€‚ å¾®ç”µå­ï¼Œæµªè´¹ç”Ÿå‘½çš„æ°´è¯¾ï¼Œè¯¾å¬äº†ï¼Œä½œä¸šåšäº†ï¼Œè€ƒè¯•è€ƒäº†ä½†æ˜¯æ„Ÿè§‰æ¯«æ— æ”¶è·ã€‚ å¤§ç‰©å®éªŒï¼Œæ°´è¯¾ï¼Œæ±‚æ±‚æ¥ä¸ªäººå‘Šè¯‰æˆ‘å®éªŒæŠ¥å‘Šæ€æ ·æ‰èƒ½æ‹¿åˆ°ä¼˜ã€‚ å¤§ç‰©ï¼Œä¸æ˜è§‰å‰ï¼Œå­¦å­¦ç‰©ç†å…¶å®æŒºå¥½ç©çš„ï¼Œä½†æ˜¯ldxè¿™æœ¬ä¹¦ä¸ºä»€ä¹ˆè¿™ä¹ˆâ€¦ã€æ— fuckè¯´.jpgã€‘æœç„¶xmwè¿™ç§è€å¸ˆè¿˜æ˜¯æ—©ç‚¹è¾é€€æ¯”è¾ƒå¥½ xwæ˜¯çœŸçš„å¾ˆå–åŠ›å•Šä½†æ˜¯ä¸ºä»€ä¹ˆæˆ‘è¿˜æ˜¯å¬ä¸æ‡‚ï¼Œå¯¹ä¸èµ·ä»–ã€‚è™½ç„¶ç‰©ç†è¯¾æ¯èŠ‚éƒ½æœ‰åœ¨å¬ä½†æ˜¯ç»å¸¸å¿ä¸ä½æ°´ç¾¤å¯¼è‡´é”™è¿‡äº†å¥½å¤šï¼Œä¸‹å­¦æœŸè¯·åŠ¡å¿…å…¨ç¥è´¯æ³¨ï¼Œä¸ç„¶ç”µç£å­¦è¦GGäº†ã€‚ æ€ä¿®ï¼Œ å†›ç†ï¼Œ é©¬åŸï¼Œ æ°´è¯¾ä¸‰è¿ï¼Œé©¬åŸè€å¸ˆè®²çš„å“²å­¦è¿˜æœ‰é‚£ä¹ˆç‚¹æ„æ€ï¼Œå¯æƒœå…¨åœ¨å†™ojäº†æ²¡è®¤çœŸå¬ã€‚å†›ç†éƒ¨åˆ†è€å¸ˆå¤ªsbäº†è¯·ç«‹åˆ»è¾é€€ æ•°ç”µ å˜›ï¼Œè¿˜æŒºæœ‰æ„æ€çš„ï¼Œæ­é¢åŒ…æ¿æœ‰ç‚¹æŠ“ç‹‚ä½†æ˜¯æ¯”æ¯”å¤§ç­å°±æœ‰å¿ƒé‡Œå®‰æ…°äº†ã€‚è¿˜æœ‰wgsçœŸçš„å¥½å¸…å•Šï¼ï¼ï¼ è‹±è¯­ï¼Œ æˆ‘å–œæ¬¢ï¼Œå¤§ä¸€ä¸Šçš„è§†å¬è¯´æ‹è§†é¢‘å¾ˆå¼€å¿ƒï¼Œè™½ç„¶æˆ‘åªæ˜¯ä¸ªå‹æ¦¨ç»„å‘˜çš„ä¸»å‚¬ã€‚å¤§ä¸€ä¸‹çš„é…éŸ³å’Œæ¼”è®²è¶…æœ‰æ„æ€çš„ï¼Œæ¼”è®²åšäº†å•Šä½ å¦¹ç›¸å…³çš„è™½ç„¶å¾ˆèŠ±æ—¶é—´ä½†è¿˜æ˜¯è¶…å¼€å¿ƒçš„ã€‚Ruthçš„è¯»å†™è¯¾å¤©ä¸‹ç¬¬ä¸€å¥½ï¼Œæˆ‘å¹çˆ†å¥¹ï¼ç¬¬ä¸€å­¦æœŸçš„æ—¶å€™å°±çŒœå¯¹äº†ä¸€ä¸ªè°œè¯­è€Œå·²å¥¹å±…ç„¶è§‰å¾—æˆ‘å¾ˆå‰å®³è¿˜é€äº†æˆ‘ä¸€ä¸ªå²è¿ªä»”æœŸæœ«è¿˜ç»™äº†æˆ‘æ»¡åˆ†ï¼ŒçœŸçš„åªæ˜¯éæ´²äººçªç„¶å·æ¸¡å…¥æ¬§è€Œå·²â€¦æ€»ä¹‹è¶…çº§æ„Ÿè°¢çš„â€¦ç¬¬äºŒå­¦æœŸç»“è¯¾çš„æ—¶å€™Ruthè¿˜å“­äº†â€¦èƒ½è·Ÿå­¦ç”Ÿäº¤å¿ƒçš„è€å¸ˆæ˜¯çœŸçš„éš¾å¾—å•Šqwq é—®æ±‚ï¼Œ ç»ˆäºåˆ°äº†è¿™é—¨è®©æˆ‘ç™¾æ„Ÿäº¤é›†æ— fuckè¯´çš„è¯¾ã€‚å¤§ä¸€ä¸Š:å§æ§½æˆ‘åœ¨å­¦ä»€ä¹ˆï¼›å¤§ä¸€ä¸‹ï¼šå§æ§½è¿™é¢˜è¯¥æ€ä¹ˆåšã€‚å¤§ä¸€ä¸Šä½œä¸šä¸ç®—éš¾ä½†æ˜¯é‡ç‚’é¸¡å¤§ï¼ŒæœŸæœ«è€ƒè¯•ä¹Ÿè«åå…¶å¦™ã€‚å¤§ä¸€ä¸‹ï¼Œä½œä¸šä¸å¤šä½†æ˜¯å¥½å¤šä¸ä¼šåšçš„ï¼Œå…¶ä»–è¯¾ä½œä¸šåˆæ¯”è¾ƒå¤šåªèƒ½å‡ºå–çµé­‚ä¸ç½‘ç»œä¸Šçš„ç®—æ³•å¯¼è®ºå‚è€ƒç­”æ¡ˆç­¾è®¢å¥‘çº¦æˆä¸ºæœŸæœ«æŒ‚ç§‘çƒ§é…’ï¼ˆé›¾ï¼‰ã€‚OJâ€¦åˆ«æäº†â€¦æˆ‘åªæ˜¯é¢˜è§£çš„æ¬è¿å·¥â€¦æœŸæœ«mjæŸ¥ä»€ä¹ˆé‡å•Šâ€¦æ‚¨å‡ºé¢˜å‡ºè¿™ä¹ˆéš¾ä¸æ‰¾é¢˜è§£è¿˜æ€ä¹ˆåšå•Šâ€¦æŠŠOJå½“acmæ ¡é˜Ÿé€‰æ‹”å—â€¦ æ±‡ç¼–ï¼Œä¸€å®šè¦å‘Šè¯«å­¦å¼Ÿå­¦å¦¹ï¼Œåƒä¸‡åˆ«å¬whjè®²è¯¾ï¼Œçœ‹csappè‡ªå­¦æ•ˆç‡æœ€é«˜ã€‚whjè®²è¯¾å¬ä¸æ‡‚å‚¬çœ æ•ˆæœè¿˜æå¥½ã€‚å®éªŒéƒ¨åˆ†è£…è£…Linuxè°ƒè°ƒgdbè¿˜æ˜¯æŒºå¥½ç©çš„ï¼Œä½œä¸šä¹Ÿè¿˜è¡Œï¼Œåšä¸‹æ¥å¯¹CPUçš„å·¥ä½œæ–¹å¼ç®—æ˜¯æœ‰äº†ä¸ªå…¨æ–°çš„è®¤è¯†ã€‚ã€ç„¶è€Œæ±‡ç¼–ç¬”è®°çš„æ–‡ç« è¿˜æ˜¯æ²¡æœ‰äº§å‡ºæ¥ã€‘æ‹†ç‚¸å¼¹æ˜¯çœŸçš„å¾ˆæœ‰æ„æ€ï¼Œæ¯æ‹†å®Œä¸€ä¸ªphaseéƒ½è¶…æœ‰æˆå°±æ„Ÿï¼Œæˆ‘åº”è¯¥æ˜¯èµ°ç«å…¥é­”äº†ï¼Œè¿ç€3ä¸ªæ™šä¸Šæ²¡ç¡å¥½è§‰ï¼Œé—­çœ¼å°±æ˜¯å¯„å­˜å™¨ï¼Œç„¶åè¢«è‡ªå·±ç‚¸é†’ã€‚æ‹†äº†ä¸‰å¤©ä¹Ÿæ˜¯å¤Ÿæ…¢çš„ï¼Œè‡ªå‘.jpg.é©¬ä¸Šå¼€å­¦è¦è€ƒè¯•äº†å®Œå…¨ä¸æƒ³å¤ä¹ ï¼Œåœ¨é€€è¯¾çš„è¾¹ç¼˜è¯•æ¢ï¼Œï¼Œï¼Œ é€šè¯†, æ„Ÿè§‰è¿™ä¸€å¹´é‡Œè¿˜æ˜¯å¤ªå¿™äºä¸“ä¸šè¯¾çš„å­¦ä¹ äº†ï¼Œé€šè¯†è¯¾ä¸Šä¸‹æ¥å¹¶æ²¡æœ‰å¤ªå¤§çš„æ”¶è·ï¼ŒåŸºæœ¬éƒ½æ˜¯ä¸Šè¯¾ä¸å¬åŸ‹å¤´å†™ä½œä¸šæˆ–è€…æ²‰è¿·æ°´ç¾¤ï¼ŒæœŸæœ«è®ºæ–‡ä¹‹ç±»çš„ä¹Ÿæ˜¯ä¸œæ‹¼è¥¿å‡‘çš„å­¦æœ¯åƒåœ¾ã€‚å’Œè¿›å¤§å­¦ä¹‹å‰æƒ³çš„å®Œå…¨ä¸ä¸€æ ·å”‰â€¦æ‚¦è¯»ç»å…¸emmmmmè®ºç†æƒ³ä¸ç°å®çš„å·®è·ï¼Œç›®å‰ä¸ºæ­¢é€‰çš„ä¸‰æœ¬ä¹¦æ²¡æœ‰å“ªä¸€æœ¬æ˜¯è®¤çœŸçœ‹è¿‡çš„ï¼Œæˆ‘ä»€ä¹ˆæ—¶å€™èƒ½ä¸­ã€Šå‘å–Šã€‹ã€ã€Šå½·å¾¨ã€‹å‘¢ï¼Ÿå³ä½¿ä¸­äº†ï¼Œåœ¨ä¸“ä¸šè¯¾é‡å‹ä¹‹ä¸‹çœŸçš„ä¼šå¥½å¥½çœ‹å—ï¼Ÿ è¯¾å¤–å­¦ä¹ çš„è¯ï¼Œå¹³æ—¶åœ¨æ ¡æ ¹æœ¬æŒ¤ä¸å‡ºæ—¶é—´ï¼Œæ€»æ˜¯å¸¦ç€ä¸åˆ°ddlä¸å†™ä½œä¸šçš„æƒ°æ€§æ€ç»´ï¼Œè¿™ä¸€ç‚¹å¸Œæœ›èƒ½æ”¹å•Šï¼Œå¯æ˜¯æ—¢ç„¶æœ‰æ—¶é—´éš¾é“ä¸åº”è¯¥ä¼˜å…ˆçœ‹ç•ªå—ã€‚æš‘å‡é¾Ÿé€Ÿè‡ªå­¦äº†gitå’Œmarkdownï¼Œå…¶å®éƒ½ä¸æ˜¯å¾ˆæœ‰æŠ€æœ¯å«é‡çš„ä¸œè¥¿ï¼Œæ¥ä¸‹æ¥çš„æ—¶é—´çœ‹çœ‹èƒ½ä¸èƒ½å­¦â€¦ä½ æ•°å­¦å»ºæ¨¡ç›¸å…³è¿˜ä¸€ç‚¹æ²¡çœ‹å‘¢å§â€¦å§â€¦ç¾èµ›è¿˜æ²¡æŠ¥åå‘¢å§â€¦å’•æ‰äº†æ ¡å†…åŸ¹è®­å’Œé€‰æ‹”çš„ä¸¥é‡åæœâ€¦æ€»ä¹‹ï¼ŒåŠ æ²¹å§ã€‚ ä¹Ÿä¸€åº¦å› ä¸ºå‘¨å›´çš„äººéƒ½å»æ‰“acmè¿·èŒ«è¿‡è¦ä¸è¦å»æ‰“ï¼Œä½†æ˜¯é«˜ä¸­ä¸‰å¹´noipä¸‹æ¥å…¶å®ä¹Ÿä¸æ˜¯å¤ªæ„‰å¿«ï¼Œè²Œä¼¼ä¸å¤ªå–œæ¬¢è¿™ç§è¿‡äºç†è®ºã€è¿‡äºæ•°å­¦çš„é¢˜ç›®ï¼Œå¯èƒ½ä¹Ÿæ˜¯ä¸€ç§é€ƒé¿ç°å®çš„å€Ÿå£å§ã€‚å˜›ï¼Œæ—¢ç„¶å†³å®šäº†ä¸æ‰“acmå°±ä¸€å®šè¦è®¤çœŸç§‘ç ”å•Šã€‚ä¸è¿‡ç°åœ¨å­¦å¾—å¤ªå°‘çœŸçš„ä¸æ•¢å¦„ä¸‹å®šè®ºè‡ªå·±å–œæ¬¢ä»€ä¹ˆã€‚è¥¿ç“œä¹¦ï¼Œè¯·ã€‚ è¿˜æœ‰æ—¢ç„¶å†³å®šè¦å‡ºå›½äº†ï¼Œè¯·è®¤çœŸèƒŒå•è¯ã€‚ è¿™ä¸ªäººçœŸçš„ä¸æ˜¯ç²¾ç¥åˆ†è£‚å— ç¤¾å›¢æ´»åŠ¨ç¯‡è¯´åˆ°å¤§å­¦å¿…é¡»å¾—æœ‰ç¤¾å›¢æ´»åŠ¨å“’ï¼ä¸Šå¤§å­¦ä¹‹å‰å¹»æƒ³äº†å¾ˆå¤šçš„ï¼Œè¿›äº†å¤§å­¦ä¸ºç”Ÿæ´»æ‰€è¿«ä¹Ÿå°±æ´»è·ƒäº†å‡ ä¸ªåœ°æ–¹ã€‚ å‰åæ˜¯æ—©å°±æƒ³å»çš„ï¼Œç»“æœå®é™…ä¸Šä¹Ÿå°±å¤§ä¸€ä¸Šå»ä¸Šäº†å¼¹å”±æé«˜ç­ã€‚è€å¸ˆè¿˜æŒºå¥½çš„å§ï¼Œè‡³å°‘æ¯”å®¶è¿™é‡Œçš„å¥½ï¼Œè¿˜ç¨å¾®å…¥é—¨äº†ä¸€ä¸‹æŒ‡å¼¹ã€‚ä¹‹åçš„æ´»åŠ¨å®Œå…¨æ²¡æœ‰å‚åŠ äº†orzä»€ä¹ˆæ—¶å€™æ‰èƒ½æŠŠæ›²å­ç»ƒåˆ°èƒ½ä¸Šå°è¡¨æ¼”çš„æ°´å¹³å‘¢â€¦ è¾©é˜Ÿè¿˜æ˜¯æœ‰å¥½å¥½å¾…çš„ï¼è™½ç„¶æ˜¯è¢«å­¦å§å¿½æ‚ è¿›å»çš„è¿˜åªæ‰“äº†ä¸¤åœºæ­£å¼æ¯”èµ›å…¨æ˜¯è¾“ç»™å† å†›çš„ä¸€è½®æ¸¸ã€‚åœ¨è¾©é˜Ÿä¸€å¹´è¿˜ä»æ¥æ²¡èµ¢è¿‡ä¸€åœºï¼Œå¤ªæƒ¨äº†ã€‚æ¯æ¬¡æ¯”èµ›å‰è®¨è®ºçœŸçš„å¥½èŠ±æ—¶é—´ã€‚ä¸€å¼€å§‹å†™ä¸€è¾©ç¨¿è¿˜å¥½ï¼Œåæ¥å¼€å§‹è¢«é’¦å®šæ‰“ä¸‰è¾©ç¨¿å­éƒ½æ˜¯å¼€åœºå‰30minå†™çš„äº†ç®€ç›´ä¸¢äººã€‚å—äº†ä¿¡ç®¡é‚£è¾¹çš„å­¦é•¿å­¦å§å¥½å¤šç…§é¡¾ï¼ˆåŒ…æ‹¬wrc)ï¼Œé™¤äº†è¾©è®ºæŠ€å·§è¿˜è¢«æ‹–ç€ç©äº†ç‹¼äººæ€ï¼Œæ‰€ä»¥ï¼Œä¼ ç«å§ï¼Œéªšå¹´ï¼ CACéŸ³ä¹éƒ¨æ¯å¤©æ°´æ°´ç¾¤çº¦çº¦é¥­å¾ˆå¼€å¿ƒder!è¿˜è®¤è¯†äº†ä¸€å¸®å®…å‹ï¼å¥½å¤šä¼šç©ä¹å™¨çš„ã€å”±æ­Œè¶…å¥½å¬çš„å°å“¥å“¥å°å§å§ï¼è¿˜æœ‰è±¹è·³å¦‚é›·çš„æµ·è±¹ä»¬ä¸¤ä¸ªæœˆå››å¯¹çš„ä¼ è¯´ï¼è¿˜æœ‰æ¯æ¬¡äº¤ä½œä¸šè¢«33å¤„åˆ‘â€¦å»è¿‡å¤§æ´»æ¥¼æ¢¯é—´çº¦æ­Œï¼ˆä¸€æ¬¡ï¼‰ï¼Œçº¿ä¸Šæ­Œä¼šï¼ˆä¸¤æ¬¡ï¼‰ï¼Œ107ï¼ˆç­‰æœ«å­å§å§æ‹ç…§ä¸€æ¬¡ï¼‰ï¼Œå®Œç¾é”™è¿‡æ‰€æœ‰çº¿ä¸‹çº¦kã€‚ä¹Ÿç®—æ˜¯é—æ†¾æ¯”è¾ƒå¤§çš„ä¸€ä¸ªåœ°æ–¹ï¼Œå½“åˆå¤§ä¸€ä¸Šè§‰å¾—è‡ªå·±ä½œä¸šå¤ªå¤šäº†æ²¡å»Mongeï¼Œä¹é˜Ÿçš„é”…ä¹Ÿæ²¡æ¥ã€‚ç°åœ¨Mongeéƒ½å‡‰äº†ï¼Œå¤§äºŒä¸Šæ›´ä¸å¯èƒ½æœ‰ç©ºäº†ã€‚ä»”ç»†æƒ³æƒ³å¤§ä¸€ä¸Šå…¶å®èƒ½å¥½å¥½å®‰æ’æ—¶é—´çš„è¯å®Œå…¨æ˜¯æœ‰ç©ºçš„ï¼Œä½†æ˜¯åˆšè¿›å¤§å­¦è°èƒ½æƒ³åˆ°å‘¢ï¼Ÿè¿˜æ˜¯å¤ªæ±‚ç¨³äº†ç¼ºå°‘é€¼è‡ªå·±ä¸€æŠŠçš„å‹‡æ°”å§ã€‚ä¸ºæ‰èƒ½ä¸è¶³è€Œè‡ªå‘.jpgã€‚æ¥äº†vocalå›¢çš„é”…å¸Œæœ›è¡¨è¾¾ä¸€ç‚¹æ„§ç–šä¹‹æ„å§ã€‚ä½ ä»¬çš„(å‰¯)å›¢é•¿æ˜¯å…¨å›¢æœ€ä¸ä¼šå”±æ­Œçš„äººã€‚ æµè·¡æ˜¯åœ¨ä½ ç¾¤æ°´ç¾¤èŠéª¨å¤´ç¤¾æ„å¤–è¢«33æ‹‰è¿›å»çš„ã€‚ä¹‹å‰å®Œå…¨æ²¡æƒ³è¿‡è¿˜æœ‰è¿™ä¹ˆç¡¬æ ¸çš„æ¢è®¨å®…è¯é¢˜çš„åœ°æ–¹ã€‚ä¸€å¼€å§‹ä»€ä¹ˆéƒ½çœ‹ä¸æ‡‚ï¼ˆç°åœ¨ä¾ç„¶æ˜¯ï¼‰ï¼Œä½†æ˜¯ä»¥æ­¤ä¸ºå¥‘æœºäº†è§£äº†ä¸å°‘å…¶å®ä¹Ÿä¸å¤šå•Šä½ å¦¹åˆ¶ä½œç›¸å…³çš„çŸ¥è¯†ã€‚åæ¥è¿›æ¥çš„ç„æçˆ·çˆ·è®²äº†å¥½å¤šå™äº‹å­¦çš„ä¸œè¥¿ï¼Œå¾ˆå‰å®³çš„æ ·å­ä½†æ˜¯å®Œå…¨æ²¡å¬æ‡‚è‡ªå‘.jpgã€‚è‡ªä»èƒ½åœ¨æµè·¡å¹æ°´æ–°ç•ªä¹‹åæ„Ÿè§‰è‡ªå·±çš„è¿½ç•ªè¶Šæ¥è¶Šå‹¤å¿«äº†ï¼Œç»å„ä½çš„å®‰åˆ©çœ‹ç•ªé¢ä¹Ÿè¶Šæ¥è¶Šå¹¿äº†ã€‚å’Œå„ä½çš„çº¦é¥­ä¹Ÿéå¸¸æ„‰å¿«ã€‚è‹±è¯­preåšäº†åŠ¨ç”»åˆ¶ä½œæµç¨‹ç›¸å…³çš„å†…å®¹ä»¥åŠç°åœ¨è¡¥ã€Šç™½ç®±ã€‹éƒ½å’Œæµè·¡è„±ä¸äº†å¹²ç³»ï¼Œæƒ³å¿«ç‚¹å˜å¾—proèƒ½å’Œå„ä½èŠèµ·æ¥å•Šqwq æ’é˜Ÿæ˜¯æ¶è¡¥äº†å°æ’çƒä¹‹åæ‰åŠ çš„ï¼Œè™½ç„¶æ²¡æœ‰å°æ’çƒé‡Œé‚£ä¹ˆåˆºæ¿€ä¹Ÿæ²¡æœ‰é‚£ä¹ˆå¤šå¯çˆ±çš„ç”·å­©å­ä½†æ˜¯æ‰“æ’çƒçœŸçš„å¥½å¼€å¿ƒï¼åœ¨åœºè¾¹åŠ æ²¹å¾ˆæ™’åº”è¯¥æ²¡æ™’é»‘å¤šå°‘å§(bushi)å­¦å§ä»¬éƒ½å¥½å‰å®³ï¼ä¸€è·¯æ‰“è¿›äº†é™¢ç³»æ¯å››å¼ºï¼æŠ€æœ¯ä¸è¶³è¿˜ä¸è¶³ä»¥æˆä¸ºæˆ˜åŠ›ä¸‹ä¸ªå­¦æœŸè¦å¥½å¥½åŠ æ²¹äº†ï¼ é™¤æ­¤ä¹‹å¤–å¼€å­¦ä¹±åŠ çš„å‡ ä¸ªæ—©å°±ä¸ºä½œä¸šæ‰€è¿«å’•æ‰äº†ã€‚æ¯”å¦‚æ ¡ä¼šå­¦åˆ›å•Šï¼Œä¿¡ç®¡ä¹’é˜Ÿä»€ä¹ˆçš„ã€‚ï¼ˆä½ çœŸçš„ä¼šæ‰“ä¹’ä¹“å—ï¼‰å¤§äºŒä¸Šä¹Ÿä¸æ•¢å¯¹ç¤¾å›¢æ´»åŠ¨æœ‰æ‰€å¥¢æœ›äº†ï¼Œå¥½å¥½åœ¨è¾©é˜Ÿå¸¦å¸¦å°å­©ã€vocalå›¢çš„å·¥ä½œåšåšå¥½ï¼Œæµè·¡å¿«ç‚¹æŠŠåˆ¶ä½œæµç¨‹äº§å‡ºï¼Œæˆ‘å°±æ»¡è¶³äº†ã€‚ä½ çœ‹åˆå¼€å§‹æ±‚ç¨³æ²¡æœ‰æ‹¼åŠ²äº† ç”Ÿæ´»ç¯‡å¤§å­¦ç”Ÿæ´»çš„ç¬¬ä¸€å¹´å—â€¦æ€»ä½“è¿˜ç®—å¹³ç¨³çš„å§ã€‚ å®¿èˆä¸æ˜¯å¤ªæ„‰å¿«ã€‚çƒ¦å¿ƒäº‹ä¹Ÿå°±ä¸å¤šæäº†ï¼Œå¿˜æ‰æœ€å¥½ã€‚ ä¸€å¹´æ¥åŸºæœ¬éƒ½é é£Ÿå ‚è¿‡æ—¥å­ï¼Œå«å¤–å–çš„æ¬¡æ•°å±ˆæŒ‡å¯æ•°ã€‚å¤§ä¸€ä¸ŠåŸºæœ¬æ²¡å‡ºè¿‡å‡ æ¬¡æ ¡é—¨ï¼Œå¤§ä¸€ä¸‹é€æ¸å¼€å§‹æ”¾æµªå½¢éª¸ã€‚ å¯’å‡é¼“èµ·å‹‡æ°”ä¹°äº†äººç”Ÿç¬¬ä¸€å¥—jkåˆ¶æœï¼Œæœˆé‡å®¶çš„å¥¶æ²¹é»„åŸºç¡€æ¬¾å†¬æœï¼Œåˆ°å¿«å…¥å¤çš„æ—¶å€™æ‰åˆ°çš„ï¼Œä¹Ÿå°±ç©¿äº†ä¸€æ¬¡ã€‚ä¹‹åå…¥äº†ä¼˜é©¬å®¶çš„ç»€é‡‘å’Œçº¢é…’é›ªæ¢¨ï¼Œç‡•å­å®¶çš„ç™½äº”æœ¬ï¼Œä»æ­¤èµ°ä¸Šæ”’é’±ä¹°è¡£æœçš„ä¸å½’è·¯ã€‚ä¼˜é©¬å¤§å°å§çš„å®šé‡‘å·²ç»ä¸‹äº†ï¼Œæœ€è¿‘å‡ºäº†é‚£ä¹ˆå¤šé—®é¢˜â€¦ç­‰æµ…è‰²çš„å‡ºè´§çˆ±å’‹æ»´å’‹åœ°å§ã€‚ä»£ç å®šé‡‘ä¹Ÿä¸‹äº†ï¼Œåç­‰å‡ºè´§ï¼Œæˆ‘ä¹Ÿæƒ³ç©¿ç€ä»£ç æ•²ä»£ç ï¼ eså†›è®­çš„æ—¶å€™è¿˜åœ¨è‚rockï¼Œå¼€å­¦åå°åˆ°äº†ç”Ÿæ´»çš„è‰°è¾›ï¼Œå°¤å…¶æ˜¯åœ¨åšäººæƒ…è‚äº†ä¸€å‘èŠ‚åˆ†å®ˆé—¨ä¸¤å°æ—¶ä½œä¸šä¸€ç¬”æœªåŠ¨ä¿®ä»™å‹‰å¼ºåšå®Œåï¼Œä»æ­¤esè„±å‘ã€‚ç°åœ¨æå…¶æƒ³æŠŠæ‰‹å¤´çš„è°·å­éƒ½å–æ‰ï¼Œå¿˜è®°æˆ‘è¿™ä¸ªå‡ºå‘çš„äººæ¸£å§ã€‚fgoå†›è®­æ— èŠç¨å¾®ç©äº†ä¸€ä¸‹ï¼Œæ€»ä¹‹æ˜¯ä¸æƒ³è¿‡é è‚å’Œæ¬§ç”Ÿæ´»çš„æ—¥å­äº†ï¼Œè¿™æœˆå°±ä¸ç™»äº†ã€‚ å¤§ä¸€ä¸‹å¼€å§‹å­¦è½¦ï¼Œæš‘å‡çš„æ—¶å€™ç•™æ ¡ä¸€ä¸ªå¤šç¤¼æ‹œæŠŠç§‘ä¸‰ç»™è€ƒäº†ï¼Œè¿‡å¾—è¶…æƒŠé™©ã€‚å¤§äºŒä¸Šè¦åœ¨ä¸Šè¯¾å’Œä½œä¸šçš„å¤¹ç¼ä¸­å­¦ç§‘äºŒäº†ã€‚ è¡¥ç•ªç¯‡å°±ä¸ä¸€ä¸€åˆ—ä¸¾äº†è¿™ä¸€å¹´é‡Œè¡¥/è¿½è¿‡çš„ç•ªäº†ï¼Œç±»ä¼¼äºæ¨èçš„å½¢å¼æŒ‘å‡ éƒ¨å°è±¡æ·±åˆ»çš„å†™å§ã€‚ å°æ’çƒ å¼ºæ¨ï¼å¹çˆ†ï¼è¿åŠ¨ç•ªå¤©èŠ±æ¿ï¼å‰§æƒ…ä½œç”»é…ä¹éƒ½å ªç§°ä¸€æµï¼çœ‹åˆ°åœä¸ä¸‹æ¥ï¼ä¸€èˆ¬æ·±å¤œè¡¥ç•ªçš„æˆ‘å¤šæ¬¡å› ä¸ºå°æ’çƒäº¢å¥‹åˆ°ç¡ä¸ç€ã€‚å¥½ä¹…æ²¡çœ‹è¿™ä¹ˆä»å¤´æ­£åˆ°å°¾çš„ç•ªäº†ï¼Œæ—¢æœ‰å¾ˆç°å®çš„è®¾å®šï¼ˆåŠå·å¤§ç‹å’Œå½±å±±ï¼‰ä¹Ÿæœ‰ç†æƒ³çš„å¤„ç†ï¼ˆæ—¥å‘å’Œä¹Œé‡çš„å¤§å®¶ï¼‰ã€‚ä¸ä¼šæ°”æ´»ç‰›é¡¿çš„ç§‘å­¦è¿åŠ¨ç•ªï¼Œå”¯ä¸€ä¸ç°å®çš„åœ°æ–¹æ˜¯ç°å®ä¸­çš„å°ç”·å­©å“ªæœ‰è¿™ä¹ˆå¯çˆ±ã€‚çœ‹å®Œç”šè‡³å¼€å§‹æ‰“æ’çƒçš„æˆ‘ä¸æ˜¯ä¸€ä¸ªäººã€‚å¿ƒæƒ…ä¸å¥½çš„æ—¶å€™çœ‹çœ‹å°æ’çƒå°±èƒ½é©¬ä¸Šå¼€å¿ƒèµ·æ¥ã€‚æœ‰ç”Ÿä¹‹å¹´èƒ½é‡åˆ°è¿™æ ·çš„ç•ªçœŸæ˜¯å¤ªå¥½äº†ã€‚ ä¸‰æœˆçš„ç‹®å­ å¯¹ä¸Šç”µæ³¢çš„æ…¢èŠ‚å¥ç•ªï¼Œå¹çˆ†ç¾½æµ·é‡è€å¸ˆå’Œæ–°æˆ¿ï¼ï¼é›¶é…±è¶…å¯çˆ±ï¼ï¼ï¼ˆæ‘¸æ‘¸ï¼‰å¾ˆå–œæ¬¢è¿™ç§æœ‰å…³äººç”Ÿä¸æˆé•¿çš„é¢˜æï¼Œé›¶é…±å’Œä¸‰å§å¦¹ç»å†çš„å›°éš¾ç‰¹æ®Šè€Œæ™®éï¼Œä»¿ä½›èƒ½çœ‹åˆ°è‡ªå·±çš„è¿‡å»ã€‚èº«ä¸–æ‚²æƒ¨çš„ä»–ä»¬ä¹Ÿæ—¶å¸¸äº«æœ‰å¯»å¸¸çš„å¹¸ç¦ï¼Œè¿™ç§å¼ºçƒˆå¯¹æ¯”å¤§æ¦‚å°±æ˜¯ä¸‰ç‹®çš„åŠ¨äººä¹‹å¤„ã€‚å²›ç”°å¤§å¸ˆå…„ã€å°èƒ–ã€è€å¸ˆç­‰é…è§’åˆ»ç”»å¾—ä¹Ÿå¾ˆå¥½ã€‚è™½ç„¶å°†æ£‹éƒ¨åˆ†çš„å†…å®¹å®Œå…¨çœ‹ä¸æ‡‚ä½†ä¹Ÿä¸å¦¨ç¢å…¶æˆä¸ºä¸€éƒ¨ä½³ä½œã€‚ è¶…è‡ªç„¶ä¹äººç»„ å¿—ä»“åƒä»£ä¸¸çš„ä½œå“ï¼Œå‰§æƒ…ï¼Œå°¤å…¶æ˜¯å¼€å¤´å’Œä¸­é—´å±•å¼€å¾ˆç²¾å½©ï¼ŒèŠ‚å¥é£å¿«ï¼Œæ”¶å°¾ç•¥æ˜¾ä»“ä¿ƒï¼Œä¸å°‘å‘æŒ–äº†æ²¡å¡«ï¼Œå¬è¯´æ¸¸æˆè¡¨ç°å¾—åè€Œæ²¡æœ‰åŠ¨ç”»å¥½æœ‰ç‚¹å¯æƒœã€‚ä½ä»“è¿™å›æ²»å¥½äº†æˆ‘çš„å·¨ä¹³æ§ï¼ å®…ç”·è…å¥³æ‹çˆ±éš¾ å¤ªç”œäº†ï¼ä¸€éƒ¨åˆ·æ–°æˆ‘æ‹çˆ±è§‚çš„ç•ªï¼æˆ‘èŒæ·åˆ—å¤«å°±æ˜¯é¥¿æ­»ï¼Œæ­»å¤–è¾¹ï¼Œä¹Ÿä¸ä¼šçœ‹ç‹—ç²®ç•ªçš„â€”â€”çœŸé¦™ï¼ å…¶ä»–çœ‹è¿‡çš„ç•ªbangumiä¸Šéƒ½æœ‰è®°å½•äº†å°±ä¸ä½œèµ˜è¿°äº†ã€‚é¡ºä¾¿è´´ä¸Šæˆ‘çš„bangumiã€‚ æ‹çˆ±ç¯‡æ‚¨æ˜¯ä¸æ˜¯ä¸€ä¸Šæ¥å°±é€šè¿‡ç›®å½•ç´¢å¼•è·³è¿™å„¿æ¥äº†ï¼Ÿå“ˆå“ˆï¼å¯¹ä¸èµ·ï¼æ¯›éƒ½æ²¡æœ‰ï¼ â€¦â€¦ æ²¡æœ‰å¯¹è±¡ä½†è¿˜æ˜¯æƒ³è¯´è¯´æ‹çˆ±è§‚çš„ï¼Œæ¯•ç«Ÿä¹‹å‰ä¹Ÿæ²¡æœ‰è®¤çœŸæ€è€ƒè¿‡è¿™ä¸ªé—®é¢˜ï¼Œå°±å¤§ä¸€ä¸Šæ‹’äº†ä¿©ç„¶åè¢«å“åˆ°äº†å‘è¡¨äº†ä¸€å †ç‹¬èº«ä¸»ä¹‰å®£è¨€ç°åœ¨æƒ³æƒ³å…¨tmæ˜¯é»‘å†å²å•Šå¥½æƒ³åˆ è¯´è¯´ã€‚å…¶å®ä¹Ÿæ²¡æœ‰é‚£ä¹ˆæŠ—æ‹’äº†å•¦é¦–å…ˆä½ å¾—...åªæ˜¯è‡ªå·±ä¸æ˜¯é‚£ç§æƒ³éšä¾¿ç©ç©çš„äººï¼Œæ‰€ä»¥æƒ³å°½å¯èƒ½æŠ±ç€è®¤çœŸè°¨æ…çš„å¿ƒæ€æ¥å¯¹å¾…è¿™ä¹ˆé‡è¦çš„äº‹æƒ…é¦–å…ˆä½ å¾—...ä¸è¿‡è¯è¯´å›æ¥è¿˜æ˜¯ä½œä¸šå¤ªå¤šäº†ï¼Œå®¢è§‚ä¸Šä¸æƒ³å†å¤šåŠ ä¸€ä»¶éœ€è¦æ“å¿ƒçš„äº‹æƒ…äº†é¦–å…ˆä½ å¾—...æ²¡æœ‰ç©ºé—´é‡Œé‚£äº›å¯¹è±¡æ€ªé‚£ä¹ˆè¿«åˆ‡ï¼Œè¿˜æ˜¯å¾ˆäº«å—å•èº«çš„è‡ªç”±ç”Ÿæ´»çš„ï¼Œåªè¦ç®¡å¥½è‡ªå·±å°±è¡Œäº†ï¼Œæƒ³å–œæ¬¢è°å°±å–œæ¬¢è°åšä¸ªddä¸å¥½å—ï¼Ÿä¹Ÿå°±æ˜¯å‡ºå»ç©æ‰¾ä¸åˆ°å°ä¼™ä¼´çš„æ—¶å€™ä¼šç¨å¾®æœ‰ç‚¹å¯‚å¯ï¼ˆï¼‰ã€‚å„æœ‰å„çš„ç”Ÿæ´»æ–¹å¼å§ã€‚æ€»ä¹‹ï¼Œè¿™ä¹ˆçœ‹ç¼˜åˆ†çš„äº‹æƒ…è¿˜æ˜¯éšç¼˜å§â€¦ å—¯ï¼Ÿæ‚¨é—®æœ‰æ²¡æœ‰å–œæ¬¢çš„äººäº†ï¼Ÿè¿™ç¯‡æ–‡ç« æ²¡åŠ å¯†æˆ‘å½“ç„¶ä¸ä¼šè¯´å•¦ï¼(doge)","categories":[{"name":"Diary","slug":"Diary","permalink":"https://mengzelev.github.io/categories/Diary/"}],"tags":[{"name":"freshman","slug":"freshman","permalink":"https://mengzelev.github.io/tags/freshman/"},{"name":"college life","slug":"college-life","permalink":"https://mengzelev.github.io/tags/college-life/"}]},{"title":"Markdown test","slug":"test-md","date":"2018-08-12T13:27:02.000Z","updated":"2018-08-12T13:35:34.586Z","comments":true,"path":"2018/08/12/test-md/","link":"","permalink":"https://mengzelev.github.io/2018/08/12/test-md/","excerpt":"","text":"è¿™æ˜¯æ ‡é¢˜å›è¿™æ˜¯å‰¯æ ‡é¢˜å›æˆ‘çŸ¥é“è¿™ç¯‡æ–‡ç« çœ‹èµ·æ¥å¾ˆæ²™é›•ï¼Œå› ä¸ºä½œè€…å°±æ˜¯ä¸€ä¸ªæ²™é›• åˆ—è¡¨éå¸¸æœ‰è¶£ è¿™æ˜¯ç¬¬ä¸€é¡¹ è¿™æ˜¯ç¬¬äºŒé¡¹ è¿™æ˜¯ç¬¬ä¸‰é¡¹ æœ‰æ—¶å€™ä¼šæœ‰éœ€è¦å¼ºè°ƒçš„å†…å®¹ã€‚ æ’å…¥ä»£ç æ˜¯ä¸€ä»¶éå¸¸çˆ½çš„äº‹æƒ…ï¼š printf(&quot;%s&quot;,&quot;Hello world!\\n&quot;); çªç„¶å‘ç°è‡ªå·±ä¸ä¼šç”¨printfçœŸæ˜¯å¤ªä¸¢äººäº†ã€‚ æœ‰æ—¶å€™éœ€è¦æ’å…¥é“¾æ¥ï¼Œè¿™é‡Œè´´ä¸€ä¸ªç™¾åº¦ã€‚ æœ‰æ—¶å€™åˆéœ€è¦æ’å…¥å›¾ç‰‡ çœ‹å¼ è¡€å°æ¿å†·é™ä¸€ä¸‹å§ï¼ˆå›¾æºç½‘ç»œï¼‰ å›¾ç‰‡çš„å°ºå¯¸å¯ä»¥ç”¨å‘½ä»¤è¿›è¡Œä¿®æ”¹ æš‚æ—¶å…ˆå†™è¿™ä¹ˆå¤šå§ï¼Œæ•¬è¯·å…³æ³¨åé¢å‡ æœŸï¼Œè®¡åˆ’ä¸­å°†ä¼šæœ‰ æ±‡ç¼–è¯¾ç¨‹ç›¸å…³å­¦ä¹ ç¬”è®° æ—¥æœ¬åŠ¨ç”»åˆ¶ä½œæµç¨‹åŠã€Šç™½ç®±ã€‹è§‚åæ„Ÿæ•´ç† å¤§ä¸€å›é¡¾ä¸æ€»ç»“ ä½†æ„¿åˆ°æ—¶å€™ä¸è¦é¸½ï¼ˆå°å£°ï¼‰è¯„è®ºåŠŸèƒ½ç­‰æˆ‘æ˜å¤©å†æ¥å¼€ä¸è¦é—®æˆ‘è¿™é‡Œä¸ºä»€ä¹ˆæ˜¯å¼•ç”¨æ ¼å¼ï¼Œçœ‹ä¸å‡ºæ¥æˆ‘åªæ˜¯åœ¨è¯•è¯•å—","categories":[{"name":"Diary","slug":"Diary","permalink":"https://mengzelev.github.io/categories/Diary/"}],"tags":[{"name":"markdown","slug":"markdown","permalink":"https://mengzelev.github.io/tags/markdown/"}]}]}